// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function a(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=v[0],J=v[1],M=v[2];v=v[3];h[0]=y*F+E*J;h[1]=A*F+n*J;h[2]=y*M+E*v;h[3]=A*M+n*v;return h}function b(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];return h}function e(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4];n=n[5];var M=v[0],P=v[1],S=v[2],T=v[3],X=v[4];v=v[5];h[0]=y*M+E*P;h[1]=A*M+F*P;h[2]=y*S+E*T;h[3]=A*S+F*T;h[4]=y*X+E*v+J;h[5]=A*X+F*v+n;return h}function c(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-
v[2];h[3]=n[3]-v[3];h[4]=n[4]-v[4];h[5]=n[5]-v[5];return h}function f(){var h=new qa(9);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7];n=n[8];var T=v[0],X=v[1],W=v[2],fa=v[3],da=v[4],aa=v[5],ua=v[6],pa=v[7];v=v[8];h[0]=T*y+X*F+W*P;h[1]=T*A+X*J+W*S;h[2]=T*E+X*M+W*n;h[3]=fa*y+da*F+aa*P;h[4]=fa*A+da*J+aa*S;h[5]=fa*E+da*M+aa*n;h[6]=ua*y+pa*F+v*P;h[7]=ua*A+pa*J+v*S;h[8]=ua*E+pa*M+
v*n;return h}function g(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];h[4]=n[4]-v[4];h[5]=n[5]-v[5];h[6]=n[6]-v[6];h[7]=n[7]-v[7];h[8]=n[8]-v[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function m(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=n[8],X=n[9],W=n[10],fa=n[11],da=n[12],aa=n[13],ua=n[14];n=n[15];var pa=v[0],sa=v[1],ta=v[2],ra=v[3];h[0]=
pa*y+sa*J+ta*T+ra*da;h[1]=pa*A+sa*M+ta*X+ra*aa;h[2]=pa*E+sa*P+ta*W+ra*ua;h[3]=pa*F+sa*S+ta*fa+ra*n;pa=v[4];sa=v[5];ta=v[6];ra=v[7];h[4]=pa*y+sa*J+ta*T+ra*da;h[5]=pa*A+sa*M+ta*X+ra*aa;h[6]=pa*E+sa*P+ta*W+ra*ua;h[7]=pa*F+sa*S+ta*fa+ra*n;pa=v[8];sa=v[9];ta=v[10];ra=v[11];h[8]=pa*y+sa*J+ta*T+ra*da;h[9]=pa*A+sa*M+ta*X+ra*aa;h[10]=pa*E+sa*P+ta*W+ra*ua;h[11]=pa*F+sa*S+ta*fa+ra*n;pa=v[12];sa=v[13];ta=v[14];ra=v[15];h[12]=pa*y+sa*J+ta*T+ra*da;h[13]=pa*A+sa*M+ta*X+ra*aa;h[14]=pa*E+sa*P+ta*W+ra*ua;h[15]=pa*
F+sa*S+ta*fa+ra*n;return h}function q(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=y+y,M=A+A,P=E+E;n=y*J;var S=y*M;y*=P;var T=A*M;A*=P;E*=P;J*=F;M*=F;F*=P;h[0]=1-(T+E);h[1]=S+F;h[2]=y-M;h[3]=0;h[4]=S-F;h[5]=1-(n+E);h[6]=A+J;h[7]=0;h[8]=y+M;h[9]=A-J;h[10]=1-(n+T);h[11]=0;h[12]=v[0];h[13]=v[1];h[14]=v[2];h[15]=1;return h}function r(h,n){h[0]=n[12];h[1]=n[13];h[2]=n[14];return h}function p(h,n){var v=n[4],y=n[5],A=n[6],E=n[8],F=n[9],J=n[10];h[0]=Math.hypot(n[0],n[1],n[2]);h[1]=Math.hypot(v,y,A);h[2]=Math.hypot(E,
F,J);return h}function u(h,n){var v=new qa(3);p(v,n);var y=1/v[0],A=1/v[1],E=1/v[2],F=n[0]*y;v=n[1]*A;var J=n[2]*E,M=n[4]*y,P=n[5]*A,S=n[6]*E;y*=n[8];A*=n[9];n=n[10]*E;E=F+P+n;0<E?(F=2*Math.sqrt(E+1),h[3]=.25*F,h[0]=(S-A)/F,h[1]=(y-J)/F,h[2]=(v-M)/F):F>P&&F>n?(F=2*Math.sqrt(1+F-P-n),h[3]=(S-A)/F,h[0]=.25*F,h[1]=(v+M)/F,h[2]=(y+J)/F):P>n?(F=2*Math.sqrt(1+P-F-n),h[3]=(y-J)/F,h[0]=(v+M)/F,h[1]=.25*F,h[2]=(S+A)/F):(F=2*Math.sqrt(1+n-F-P),h[3]=(v-M)/F,h[0]=(y+J)/F,h[1]=(S+A)/F,h[2]=.25*F);return h}function t(h,
n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];h[4]=n[4]-v[4];h[5]=n[5]-v[5];h[6]=n[6]-v[6];h[7]=n[7]-v[7];h[8]=n[8]-v[8];h[9]=n[9]-v[9];h[10]=n[10]-v[10];h[11]=n[11]-v[11];h[12]=n[12]-v[12];h[13]=n[13]-v[13];h[14]=n[14]-v[14];h[15]=n[15]-v[15];return h}function w(){var h=new qa(3);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,n,v){var y=new qa(3);y[0]=h;y[1]=n;y[2]=v;return y}function D(h,n,v){h[0]=n[0]-v[0];h[1]=
n[1]-v[1];h[2]=n[2]-v[2];return h}function G(h,n,v){h[0]=n[0]*v[0];h[1]=n[1]*v[1];h[2]=n[2]*v[2];return h}function N(h,n,v){h[0]=n[0]/v[0];h[1]=n[1]/v[1];h[2]=n[2]/v[2];return h}function B(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1],n[2]-h[2])}function H(h,n){var v=n[0]-h[0],y=n[1]-h[1];h=n[2]-h[2];return v*v+y*y+h*h}function I(h){var n=h[0],v=h[1];h=h[2];return n*n+v*v+h*h}function K(h,n){var v=n[0],y=n[1],A=n[2];v=v*v+y*y+A*A;0<v&&(v=1/Math.sqrt(v));h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;return h}function Q(h,
n){return h[0]*n[0]+h[1]*n[1]+h[2]*n[2]}function R(h,n,v){var y=n[0],A=n[1];n=n[2];var E=v[0],F=v[1];v=v[2];h[0]=A*v-n*F;h[1]=n*E-y*v;h[2]=y*F-A*E;return h}function U(){var h=new qa(4);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function Z(h){var n=new qa(4);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];return n}function ca(h,n,v,y){var A=new qa(4);A[0]=h;A[1]=n;A[2]=v;A[3]=y;return A}function Y(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];return h}function ha(h,n,v,y,A){h[0]=n;h[1]=v;h[2]=
y;h[3]=A;return h}function ka(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];return h}function za(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];h[2]=n[2]-v[2];h[3]=n[3]-v[3];return h}function Oa(h,n,v){h[0]=n[0]*v[0];h[1]=n[1]*v[1];h[2]=n[2]*v[2];h[3]=n[3]*v[3];return h}function ab(h,n,v){h[0]=n[0]/v[0];h[1]=n[1]/v[1];h[2]=n[2]/v[2];h[3]=n[3]/v[3];return h}function Ua(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;return h}function bb(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1],
n[2]-h[2],n[3]-h[3])}function mb(h,n){var v=n[0]-h[0],y=n[1]-h[1],A=n[2]-h[2];h=n[3]-h[3];return v*v+y*y+A*A+h*h}function Va(h){return Math.hypot(h[0],h[1],h[2],h[3])}function Pa(h){var n=h[0],v=h[1],y=h[2];h=h[3];return n*n+v*v+y*y+h*h}function fb(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v*v+y*y+A*A+n*n;0<E&&(E=1/Math.sqrt(E));h[0]=v*E;h[1]=y*E;h[2]=A*E;h[3]=n*E;return h}function cb(h,n){return h[0]*n[0]+h[1]*n[1]+h[2]*n[2]+h[3]*n[3]}function ub(h,n,v,y){var A=n[0],E=n[1],F=n[2];n=n[3];h[0]=A+
y*(v[0]-A);h[1]=E+y*(v[1]-E);h[2]=F+y*(v[2]-F);h[3]=n+y*(v[3]-n);return h}function vb(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]}function wb(h,n){var v=h[0],y=h[1],A=h[2];h=h[3];var E=n[0],F=n[1],J=n[2];n=n[3];return Math.abs(v-E)<=1E-6*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}function gb(){var h=new qa(4);qa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function xb(h,n,v){v*=.5;var y=Math.sin(v);h[0]=y*n[0];h[1]=y*n[1];h[2]=y*n[2];h[3]=Math.cos(v);return h}function yb(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=v[0],J=v[1],M=v[2];v=v[3];h[0]=y*v+n*F+A*M-E*J;h[1]=A*v+n*J+E*F-y*M;h[2]=E*v+n*M+y*J-A*F;h[3]=n*v-y*F-A*J-E*M;return h}function zb(h,n,v){v*=.5;var y=n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+n*F;h[1]=A*v+E*F;h[2]=E*v-A*F;h[3]=n*v-y*F;return h}function Ab(h,n,v){v*=.5;var y=
n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v-E*F;h[1]=A*v+n*F;h[2]=E*v+y*F;h[3]=n*v-A*F;return h}function Bb(h,n,v){v*=.5;var y=n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+A*F;h[1]=A*v-y*F;h[2]=E*v+n*F;h[3]=n*v-E*F;return h}function Cb(h,n){var v=n[0],y=n[1],A=n[2],E=Math.sqrt(v*v+y*y+A*A);n=Math.exp(n[3]);var F=0<E?n*Math.sin(E)/E:0;h[0]=v*F;h[1]=y*F;h[2]=A*F;h[3]=n*Math.cos(E);return h}function Db(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=Math.sqrt(v*
v+y*y+A*A);E=0<E?Math.atan2(E,n)/E:0;h[0]=v*E;h[1]=y*E;h[2]=A*E;h[3]=.5*Math.log(v*v+y*y+A*A+n*n);return h}function hb(h,n,v,y){var A=n[0],E=n[1],F=n[2];n=n[3];var J=v[0],M=v[1],P=v[2];v=v[3];var S=A*J+E*M+F*P+n*v;0>S&&(S=-S,J=-J,M=-M,P=-P,v=-v);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-y)*T)/X;y=Math.sin(y*T)/X}else S=1-y;h[0]=S*A+y*J;h[1]=S*E+y*M;h[2]=S*F+y*P;h[3]=S*n+y*v;return h}function Eb(h,n){var v=n[0]+n[4]+n[8];if(0<v)v=Math.sqrt(v+1),h[3]=.5*v,v=.5/v,h[0]=(n[5]-n[7])*
v,h[1]=(n[6]-n[2])*v,h[2]=(n[1]-n[3])*v;else{var y=0;n[4]>n[0]&&(y=1);n[8]>n[3*y+y]&&(y=2);var A=(y+1)%3,E=(y+2)%3;v=Math.sqrt(n[3*y+y]-n[3*A+A]-n[3*E+E]+1);h[y]=.5*v;v=.5/v;h[3]=(n[3*A+E]-n[3*E+A])*v;h[A]=(n[3*A+y]+n[3*y+A])*v;h[E]=(n[3*E+y]+n[3*y+E])*v}return h}function Fb(h,n,v){var y=.5*v[0],A=.5*v[1];v=.5*v[2];var E=n[0],F=n[1],J=n[2];n=n[3];h[0]=E;h[1]=F;h[2]=J;h[3]=n;h[4]=y*n+A*J-v*F;h[5]=A*n+v*E-y*J;h[6]=v*n+y*F-A*E;h[7]=-y*E-A*F-v*J;return h}function Gb(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];
h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];return h}function Hb(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=v[4],M=v[5],P=v[6],S=v[7],T=n[4],X=n[5],W=n[6];n=n[7];var fa=v[0],da=v[1],aa=v[2];v=v[3];h[0]=y*v+F*fa+A*aa-E*da;h[1]=A*v+F*da+E*fa-y*aa;h[2]=E*v+F*aa+y*da-A*fa;h[3]=F*v-y*fa-A*da-E*aa;h[4]=y*S+F*J+A*P-E*M+T*v+n*fa+X*aa-W*da;h[5]=A*S+F*M+E*J-y*P+X*v+n*da+W*fa-T*aa;h[6]=E*S+F*P+y*M-A*J+W*v+n*aa+T*da-X*fa;h[7]=F*S-y*J-A*M-E*P+n*v-T*fa-X*da-W*aa;return h}function ib(){var h=new qa(2);qa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Sa(h,n,v){h[0]=n[0]-v[0];h[1]=n[1]-v[1];return h}function jb(h,n,v){h[0]=n[0]*v[0];h[1]=n[1]*v[1];return h}function kb(h,n,v){h[0]=n[0]/v[0];h[1]=n[1]/v[1];return h}function Wa(h,n){return Math.hypot(n[0]-h[0],n[1]-h[1])}function lb(h,n){var v=n[0]-h[0];h=n[1]-h[1];return v*v+h*h}function Ma(h){return Math.hypot(h[0],h[1])}function nb(h){var n=h[0];h=h[1];return n*n+h*h}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,n=arguments.length;n--;)h+=arguments[n]*arguments[n];return Math.sqrt(h)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get gna(){return qa},zta:Ka,nBa:function(h){qa=h},EBa:function(h){return h*Ib},Wc:function(h,n){return Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}}),Pb=Object.freeze({__proto__:null,create:function(){var h=new qa(4);qa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var n=new qa(4);n[0]=h[0];n[1]=h[1];
n[2]=h[2];n[3]=h[3];return n},ua:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];return h},uA:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},xg:function(h,n,v,y){var A=new qa(4);A[0]=h;A[1]=n;A[2]=v;A[3]=y;return A},set:function(h,n,v,y,A){h[0]=n;h[1]=v;h[2]=y;h[3]=A;return h},B0:function(h,n){if(h===n){var v=n[1];h[1]=n[2];h[2]=v}else h[0]=n[0],h[1]=n[2],h[2]=n[1],h[3]=n[3];return h},Av:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v*n-A*y;if(!E)return null;E=1/E;h[0]=n*E;h[1]=-y*
E;h[2]=-A*E;h[3]=v*E;return h},A_:function(h,n){var v=n[0];h[0]=n[3];h[1]=-n[1];h[2]=-n[2];h[3]=v;return h},lP:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:a,rotate:function(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+E*F;h[1]=A*v+n*F;h[2]=y*-F+E*v;h[3]=A*-F+n*v;return h},scale:function(h,n,v){var y=n[1],A=n[2],E=n[3],F=v[0];v=v[1];h[0]=n[0]*F;h[1]=y*F;h[2]=A*v;h[3]=E*v;return h},JG:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=-v;h[3]=n;
return h},pP:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=n[1];return h},Qn:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},oP:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},ora:function(h,n,v,y){h[2]=y[2]/y[0];v[0]=y[0];v[1]=y[1];v[3]=y[3]-h[2]*v[1];return[h,n,v]},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];return h},Rn:b,Qk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]},Wc:function(h,n){var v=h[0],y=h[1],A=h[2];h=
h[3];var E=n[0],F=n[1],J=n[2];n=n[3];return Math.abs(v-E)<=1E-6*Math.max(1,Math.abs(v),Math.abs(E))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},CP:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;return h},DP:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;return h},Sp:a,sub:b}),Qb=Object.freeze({__proto__:null,create:function(){var h=
new qa(6);qa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var n=new qa(6);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];return n},ua:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];return h},uA:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},xg:function(h,n,v,y,A,E){var F=new qa(6);F[0]=h;F[1]=n;F[2]=v;F[3]=y;F[4]=A;F[5]=E;return F},set:function(h,n,v,y,A,E,F){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=
F;return h},Av:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4];n=n[5];var J=v*E-y*A;if(!J)return null;J=1/J;h[0]=E*J;h[1]=-y*J;h[2]=-A*J;h[3]=v*J;h[4]=(A*n-E*F)*J;h[5]=(y*F-v*n)*J;return h},lP:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:e,rotate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4];n=n[5];var M=Math.sin(v);v=Math.cos(v);h[0]=y*v+E*M;h[1]=A*v+F*M;h[2]=y*-M+E*v;h[3]=A*-M+F*v;h[4]=J;h[5]=n;return h},scale:function(h,n,v){var y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=v[0];v=v[1];
h[0]=n[0]*M;h[1]=y*M;h[2]=A*v;h[3]=E*v;h[4]=F;h[5]=J;return h},translate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4];n=n[5];var M=v[0];v=v[1];h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=y*M+E*v+J;h[5]=A*M+F*v+n;return h},JG:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=-v;h[3]=n;h[4]=0;h[5]=0;return h},pP:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=n[1];h[4]=0;h[5]=0;return h},qP:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=n[0];h[5]=n[1];return h},Qn:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},oP:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+v[5];return h},Rn:c,CP:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;return h},DP:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;h[4]=n[4]+v[4]*y;h[5]=n[5]+v[5]*y;return h},Qk:function(h,n){return h[0]===
n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]},Wc:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4];h=h[5];var J=n[0],M=n[1],P=n[2],S=n[3],T=n[4];n=n[5];return Math.abs(v-J)<=1E-6*Math.max(1,Math.abs(v),Math.abs(J))&&Math.abs(y-M)<=1E-6*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(A-P)<=1E-6*Math.max(1,Math.abs(A),Math.abs(P))&&Math.abs(E-S)<=1E-6*Math.max(1,Math.abs(E),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(h-n)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(n))},Sp:e,sub:c}),Rb=Object.freeze({__proto__:null,create:f,Jla:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[4];h[4]=n[5];h[5]=n[6];h[6]=n[8];h[7]=n[9];h[8]=n[10];return h},clone:function(h){var n=new qa(9);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];return n},ua:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];h[8]=n[8];return h},xg:function(h,n,v,y,A,E,F,J,M){var P=new qa(9);P[0]=
h;P[1]=n;P[2]=v;P[3]=y;P[4]=A;P[5]=E;P[6]=F;P[7]=J;P[8]=M;return P},set:function(h,n,v,y,A,E,F,J,M,P){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=F;h[6]=J;h[7]=M;h[8]=P;return h},uA:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},B0:function(h,n){if(h===n){var v=n[1],y=n[2],A=n[5];h[1]=n[3];h[2]=n[6];h[3]=v;h[5]=n[7];h[6]=y;h[7]=A}else h[0]=n[0],h[1]=n[3],h[2]=n[6],h[3]=n[1],h[4]=n[4],h[5]=n[7],h[6]=n[2],h[7]=n[5],h[8]=n[8];return h},Av:function(h,n){var v=n[0],y=
n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7];n=n[8];var S=n*F-J*P,T=-n*E+J*M,X=P*E-F*M,W=v*S+y*T+A*X;if(!W)return null;W=1/W;h[0]=S*W;h[1]=(-n*y+A*P)*W;h[2]=(J*y-A*F)*W;h[3]=T*W;h[4]=(n*v-A*M)*W;h[5]=(-J*v+A*E)*W;h[6]=X*W;h[7]=(-P*v+y*M)*W;h[8]=(F*v-y*E)*W;return h},A_:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7];n=n[8];h[0]=F*n-J*P;h[1]=A*P-y*n;h[2]=y*J-A*F;h[3]=J*M-E*n;h[4]=v*n-A*M;h[5]=A*E-v*J;h[6]=E*P-F*M;h[7]=y*M-v*P;h[8]=v*F-y*E;return h},lP:function(h){var n=
h[3],v=h[4],y=h[5],A=h[6],E=h[7],F=h[8];return h[0]*(F*v-y*E)+h[1]*(-F*n+y*A)+h[2]*(E*n-v*A)},multiply:k,translate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7];n=n[8];var T=v[0];v=v[1];h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=J;h[5]=M;h[6]=T*y+v*F+P;h[7]=T*A+v*J+S;h[8]=T*E+v*M+n;return h},rotate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7];n=n[8];var T=Math.sin(v);v=Math.cos(v);h[0]=v*y+T*F;h[1]=v*A+T*J;h[2]=v*E+T*M;h[3]=v*F-T*y;h[4]=v*J-T*A;h[5]=
v*M-T*E;h[6]=P;h[7]=S;h[8]=n;return h},scale:function(h,n,v){var y=v[0];v=v[1];h[0]=y*n[0];h[1]=y*n[1];h[2]=y*n[2];h[3]=v*n[3];h[4]=v*n[4];h[5]=v*n[5];h[6]=n[6];h[7]=n[7];h[8]=n[8];return h},qP:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=n[0];h[7]=n[1];h[8]=1;return h},JG:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=0;h[3]=-v;h[4]=n;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},pP:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=0;h[4]=n[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
lza:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=0;h[3]=n[2];h[4]=n[3];h[5]=0;h[6]=n[4];h[7]=n[5];h[8]=1;return h},Kla:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v+v,F=y+y,J=A+A;v*=E;var M=y*E;y*=F;var P=A*E,S=A*F;A*=J;E*=n;F*=n;n*=J;h[0]=1-y-A;h[3]=M-n;h[6]=P+F;h[1]=M+n;h[4]=1-v-A;h[7]=S-E;h[2]=P-F;h[5]=S+E;h[8]=1-v-y;return h},wAa:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];var ua=v*J-y*F,pa=v*M-A*
F,sa=v*P-E*F,ta=y*M-A*J,ra=y*P-E*J,Da=A*P-E*M,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*n-W*fa;var Ga=T*aa-X*da;T=T*n-W*da;X=X*n-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;h[0]=(J*X-M*T+P*Ga)*W;h[1]=(M*S-F*X-P*Fa)*W;h[2]=(F*T-J*S+P*Ea)*W;h[3]=(A*T-y*X-E*Ga)*W;h[4]=(v*X-A*S+E*Fa)*W;h[5]=(y*S-v*T-E*Ea)*W;h[6]=(da*Da-aa*ra+n*ta)*W;h[7]=(aa*sa-fa*Da-n*pa)*W;h[8]=(fa*ra-da*sa+n*ua)*W;return h},p0:function(h,n,v){h[0]=2/n;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/v;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},Qn:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},oP:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+v[5];h[6]=n[6]+v[6];h[7]=n[7]+v[7];h[8]=n[8]+v[8];return h},Rn:g,CP:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;h[6]=n[6]*v;h[7]=n[7]*v;h[8]=n[8]*v;return h},DP:function(h,n,v,y){h[0]=
n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;h[4]=n[4]+v[4]*y;h[5]=n[5]+v[5]*y;h[6]=n[6]+v[6]*y;h[7]=n[7]+v[7]*y;h[8]=n[8]+v[8]*y;return h},Qk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]&&h[8]===n[8]},Wc:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4],J=h[5],M=h[6],P=h[7];h=h[8];var S=n[0],T=n[1],X=n[2],W=n[3],fa=n[4],da=n[5],aa=n[6],ua=n[7];n=n[8];return Math.abs(v-S)<=1E-6*Math.max(1,Math.abs(v),
Math.abs(S))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(E-W)<=1E-6*Math.max(1,Math.abs(E),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(J-da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(da))&&Math.abs(M-aa)<=1E-6*Math.max(1,Math.abs(M),Math.abs(aa))&&Math.abs(P-ua)<=1E-6*Math.max(1,Math.abs(P),Math.abs(ua))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},Sp:k,sub:g}),Sb=Object.freeze({__proto__:null,
create:function(){var h=new qa(16);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var n=new qa(16);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];n[8]=h[8];n[9]=h[9];n[10]=h[10];n[11]=h[11];n[12]=h[12];n[13]=h[13];n[14]=h[14];n[15]=h[15];return n},ua:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=n[4];h[5]=n[5];h[6]=n[6];h[7]=n[7];h[8]=
n[8];h[9]=n[9];h[10]=n[10];h[11]=n[11];h[12]=n[12];h[13]=n[13];h[14]=n[14];h[15]=n[15];return h},xg:function(h,n,v,y,A,E,F,J,M,P,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=h;aa[1]=n;aa[2]=v;aa[3]=y;aa[4]=A;aa[5]=E;aa[6]=F;aa[7]=J;aa[8]=M;aa[9]=P;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(h,n,v,y,A,E,F,J,M,P,S,T,X,W,fa,da,aa){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=F;h[6]=J;h[7]=M;h[8]=P;h[9]=S;h[10]=T;h[11]=X;h[12]=W;h[13]=fa;h[14]=da;h[15]=aa;return h},uA:l,B0:function(h,
n){if(h===n){var v=n[1],y=n[2],A=n[3],E=n[6],F=n[7],J=n[11];h[1]=n[4];h[2]=n[8];h[3]=n[12];h[4]=v;h[6]=n[9];h[7]=n[13];h[8]=y;h[9]=E;h[11]=n[14];h[12]=A;h[13]=F;h[14]=J}else h[0]=n[0],h[1]=n[4],h[2]=n[8],h[3]=n[12],h[4]=n[1],h[5]=n[5],h[6]=n[9],h[7]=n[13],h[8]=n[2],h[9]=n[6],h[10]=n[10],h[11]=n[14],h[12]=n[3],h[13]=n[7],h[14]=n[11],h[15]=n[15];return h},Av:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];var ua=
v*J-y*F,pa=v*M-A*F,sa=v*P-E*F,ta=y*M-A*J,ra=y*P-E*J,Da=A*P-E*M,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*n-W*fa,Ia=T*aa-X*da,Qa=T*n-W*da,Ra=X*n-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;h[0]=(J*Ra-M*Qa+P*Ia)*Aa;h[1]=(A*Qa-y*Ra-E*Ia)*Aa;h[2]=(da*Da-aa*ra+n*ta)*Aa;h[3]=(X*ra-T*Da-W*ta)*Aa;h[4]=(M*Ga-F*Ra-P*Fa)*Aa;h[5]=(v*Ra-A*Ga+E*Fa)*Aa;h[6]=(aa*sa-fa*Da-n*pa)*Aa;h[7]=(S*Da-X*sa+W*pa)*Aa;h[8]=(F*Qa-J*Ga+P*Ea)*Aa;h[9]=(y*Ga-v*Qa-E*Ea)*Aa;h[10]=(fa*ra-da*sa+n*ua)*Aa;h[11]=(T*sa-S*ra-
W*ua)*Aa;h[12]=(J*Fa-F*Ia-M*Ea)*Aa;h[13]=(v*Ia-y*Fa+A*Ea)*Aa;h[14]=(da*pa-fa*ta-aa*ua)*Aa;h[15]=(S*ta-T*pa+X*ua)*Aa;return h},A_:function(h,n){var v=n[0],y=n[1],A=n[2],E=n[3],F=n[4],J=n[5],M=n[6],P=n[7],S=n[8],T=n[9],X=n[10],W=n[11],fa=n[12],da=n[13],aa=n[14];n=n[15];h[0]=J*(X*n-W*aa)-T*(M*n-P*aa)+da*(M*W-P*X);h[1]=-(y*(X*n-W*aa)-T*(A*n-E*aa)+da*(A*W-E*X));h[2]=y*(M*n-P*aa)-J*(A*n-E*aa)+da*(A*P-E*M);h[3]=-(y*(M*W-P*X)-J*(A*W-E*X)+T*(A*P-E*M));h[4]=-(F*(X*n-W*aa)-S*(M*n-P*aa)+fa*(M*W-P*X));h[5]=v*
(X*n-W*aa)-S*(A*n-E*aa)+fa*(A*W-E*X);h[6]=-(v*(M*n-P*aa)-F*(A*n-E*aa)+fa*(A*P-E*M));h[7]=v*(M*W-P*X)-F*(A*W-E*X)+S*(A*P-E*M);h[8]=F*(T*n-W*da)-S*(J*n-P*da)+fa*(J*W-P*T);h[9]=-(v*(T*n-W*da)-S*(y*n-E*da)+fa*(y*W-E*T));h[10]=v*(J*n-P*da)-F*(y*n-E*da)+fa*(y*P-E*J);h[11]=-(v*(J*W-P*T)-F*(y*W-E*T)+S*(y*P-E*J));h[12]=-(F*(T*aa-X*da)-S*(J*aa-M*da)+fa*(J*X-M*T));h[13]=v*(T*aa-X*da)-S*(y*aa-A*da)+fa*(y*X-A*T);h[14]=-(v*(J*aa-M*da)-F*(y*aa-A*da)+fa*(y*M-A*J));h[15]=v*(J*X-M*T)-F*(y*X-A*T)+S*(y*M-A*J);return h},
lP:function(h){var n=h[0],v=h[1],y=h[2],A=h[3],E=h[4],F=h[5],J=h[6],M=h[7],P=h[8],S=h[9],T=h[10],X=h[11],W=h[12],fa=h[13],da=h[14];h=h[15];return(n*F-v*E)*(T*h-X*da)-(n*J-y*E)*(S*h-X*fa)+(n*M-A*E)*(S*da-T*fa)+(v*J-y*F)*(P*h-X*W)-(v*M-A*F)*(P*da-T*W)+(y*M-A*J)*(P*fa-S*W)},multiply:m,translate:function(h,n,v){var y=v[0],A=v[1];v=v[2];if(n===h)h[12]=n[0]*y+n[4]*A+n[8]*v+n[12],h[13]=n[1]*y+n[5]*A+n[9]*v+n[13],h[14]=n[2]*y+n[6]*A+n[10]*v+n[14],h[15]=n[3]*y+n[7]*A+n[11]*v+n[15];else{var E=n[0];var F=n[1];
var J=n[2];var M=n[3];var P=n[4];var S=n[5];var T=n[6];var X=n[7];var W=n[8];var fa=n[9];var da=n[10];var aa=n[11];h[0]=E;h[1]=F;h[2]=J;h[3]=M;h[4]=P;h[5]=S;h[6]=T;h[7]=X;h[8]=W;h[9]=fa;h[10]=da;h[11]=aa;h[12]=E*y+P*A+W*v+n[12];h[13]=F*y+S*A+fa*v+n[13];h[14]=J*y+T*A+da*v+n[14];h[15]=M*y+X*A+aa*v+n[15]}return h},scale:function(h,n,v){var y=v[0],A=v[1];v=v[2];h[0]=n[0]*y;h[1]=n[1]*y;h[2]=n[2]*y;h[3]=n[3]*y;h[4]=n[4]*A;h[5]=n[5]*A;h[6]=n[6]*A;h[7]=n[7]*A;h[8]=n[8]*v;h[9]=n[9]*v;h[10]=n[10]*v;h[11]=n[11]*
v;h[12]=n[12];h[13]=n[13];h[14]=n[14];h[15]=n[15];return h},rotate:function(h,n,v,y){var A=y[0],E=y[1];y=y[2];var F=Math.hypot(A,E,y);if(1E-6>F)return null;F=1/F;A*=F;E*=F;y*=F;var J=Math.sin(v);var M=Math.cos(v);var P=1-M;v=n[0];F=n[1];var S=n[2];var T=n[3];var X=n[4];var W=n[5];var fa=n[6];var da=n[7];var aa=n[8];var ua=n[9];var pa=n[10];var sa=n[11];var ta=A*A*P+M;var ra=E*A*P+y*J;var Da=y*A*P-E*J;var Ea=A*E*P-y*J;var Fa=E*E*P+M;var Ga=y*E*P+A*J;var Ia=A*y*P+E*J;A=E*y*P-A*J;E=y*y*P+M;h[0]=v*ta+
X*ra+aa*Da;h[1]=F*ta+W*ra+ua*Da;h[2]=S*ta+fa*ra+pa*Da;h[3]=T*ta+da*ra+sa*Da;h[4]=v*Ea+X*Fa+aa*Ga;h[5]=F*Ea+W*Fa+ua*Ga;h[6]=S*Ea+fa*Fa+pa*Ga;h[7]=T*Ea+da*Fa+sa*Ga;h[8]=v*Ia+X*A+aa*E;h[9]=F*Ia+W*A+ua*E;h[10]=S*Ia+fa*A+pa*E;h[11]=T*Ia+da*A+sa*E;n!==h&&(h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);return h},QP:function(h,n,v){var y=Math.sin(v);v=Math.cos(v);var A=n[4],E=n[5],F=n[6],J=n[7],M=n[8],P=n[9],S=n[10],T=n[11];n!==h&&(h[0]=n[0],h[1]=n[1],h[2]=n[2],h[3]=n[3],h[12]=n[12],h[13]=n[13],h[14]=n[14],
h[15]=n[15]);h[4]=A*v+M*y;h[5]=E*v+P*y;h[6]=F*v+S*y;h[7]=J*v+T*y;h[8]=M*v-A*y;h[9]=P*v-E*y;h[10]=S*v-F*y;h[11]=T*v-J*y;return h},RP:function(h,n,v){var y=Math.sin(v);v=Math.cos(v);var A=n[0],E=n[1],F=n[2],J=n[3],M=n[8],P=n[9],S=n[10],T=n[11];n!==h&&(h[4]=n[4],h[5]=n[5],h[6]=n[6],h[7]=n[7],h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);h[0]=A*v-M*y;h[1]=E*v-P*y;h[2]=F*v-S*y;h[3]=J*v-T*y;h[8]=A*y+M*v;h[9]=E*y+P*v;h[10]=F*y+S*v;h[11]=J*y+T*v;return h},SP:function(h,n,v){var y=Math.sin(v);v=Math.cos(v);
var A=n[0],E=n[1],F=n[2],J=n[3],M=n[4],P=n[5],S=n[6],T=n[7];n!==h&&(h[8]=n[8],h[9]=n[9],h[10]=n[10],h[11]=n[11],h[12]=n[12],h[13]=n[13],h[14]=n[14],h[15]=n[15]);h[0]=A*v+M*y;h[1]=E*v+P*y;h[2]=F*v+S*y;h[3]=J*v+T*y;h[4]=M*v-A*y;h[5]=P*v-E*y;h[6]=S*v-F*y;h[7]=T*v-J*y;return h},qP:function(h,n){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=n[0];h[13]=n[1];h[14]=n[2];h[15]=1;return h},pP:function(h,n){h[0]=n[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=n[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=n[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},JG:function(h,n,v){var y=v[0],A=v[1];v=v[2];var E=Math.hypot(y,A,v);if(1E-6>E)return null;E=1/E;y*=E;A*=E;v*=E;E=Math.sin(n);n=Math.cos(n);var F=1-n;h[0]=y*y*F+n;h[1]=A*y*F+v*E;h[2]=v*y*F-A*E;h[3]=0;h[4]=y*A*F-v*E;h[5]=A*A*F+n;h[6]=v*A*F+y*E;h[7]=0;h[8]=y*v*F+A*E;h[9]=A*v*F-y*E;h[10]=v*v*F+n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},rza:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=n;h[6]=v;h[7]=0;h[8]=0;h[9]=-v;h[10]=n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},sza:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=0;h[2]=-v;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=v;h[9]=0;h[10]=n;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},tza:function(h,n){var v=Math.sin(n);n=Math.cos(n);h[0]=n;h[1]=v;h[2]=0;h[3]=0;h[4]=-v;h[5]=n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Lla:q,nza:function(h,n){var v=new qa(3),
y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=y*y+A*A+E*E+F*F;0<T?(v[0]=2*(J*F+S*y+M*E-P*A)/T,v[1]=2*(M*F+S*A+P*y-J*E)/T,v[2]=2*(P*F+S*E+J*A-M*y)/T):(v[0]=2*(J*F+S*y+M*E-P*A),v[1]=2*(M*F+S*A+P*y-J*E),v[2]=2*(P*F+S*E+J*A-M*y));q(h,n,v);return h},Pla:r,Fza:p,Eza:u,oza:function(h,n,v,y){var A=n[0],E=n[1],F=n[2],J=n[3],M=A+A,P=E+E,S=F+F;n=A*M;var T=A*P;A*=S;var X=E*P;E*=S;F*=S;M*=J;P*=J;J*=S;S=y[0];var W=y[1];y=y[2];h[0]=(1-(X+F))*S;h[1]=(T+J)*S;h[2]=(A-P)*S;h[3]=0;h[4]=(T-J)*W;h[5]=(1-
(n+F))*W;h[6]=(E+M)*W;h[7]=0;h[8]=(A+P)*y;h[9]=(E-M)*y;h[10]=(1-(n+X))*y;h[11]=0;h[12]=v[0];h[13]=v[1];h[14]=v[2];h[15]=1;return h},pza:function(h,n,v,y,A){var E=n[0],F=n[1],J=n[2],M=n[3],P=E+E,S=F+F,T=J+J;n=E*P;var X=E*S,W=E*T;E=F*S;F*=T;var fa=J*T;J=M*P;S*=M;var da=M*T,aa=y[0],ua=y[1];T=y[2];y=A[0];M=A[1];A=A[2];P=(1-(E+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(n+fa))*ua;ua*=F+J;W=(W+S)*T;F=(F-J)*T;n=(1-(n+E))*T;h[0]=P;h[1]=pa;h[2]=aa;h[3]=0;h[4]=X;h[5]=fa;h[6]=ua;h[7]=0;h[8]=W;h[9]=F;
h[10]=n;h[11]=0;h[12]=v[0]+y-(P*y+X*M+W*A);h[13]=v[1]+M-(pa*y+fa*M+F*A);h[14]=v[2]+A-(aa*y+ua*M+n*A);h[15]=1;return h},Kla:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v+v,F=y+y,J=A+A;v*=E;var M=y*E;y*=F;var P=A*E,S=A*F;A*=J;E*=n;F*=n;n*=J;h[0]=1-y-A;h[1]=M+n;h[2]=P-F;h[3]=0;h[4]=M-n;h[5]=1-v-A;h[6]=S+E;h[7]=0;h[8]=P+F;h[9]=S-E;h[10]=1-v-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Mla:function(h,n,v,y,A,E,F){var J=1/(v-n),M=1/(A-y),P=1/(E-F);h[0]=2*E*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*E*M;h[6]=0;h[7]=0;h[8]=(v+n)*J;h[9]=(A+y)*M;h[10]=(F+E)*P;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*E*2*P;h[15]=0;return h},perspective:function(h,n,v,y,A){n=1/Math.tan(n/2);h[0]=n/v;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=n;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(v=1/(y-A),h[10]=(A+y)*v,h[14]=2*A*y*v):(h[10]=-1,h[14]=-2*y);return h},DAa:function(h,n,v,y){var A=Math.tan(n.LBa*Math.PI/180),E=Math.tan(n.bza*Math.PI/180),F=Math.tan(n.jAa*Math.PI/180);n=Math.tan(n.ZAa*Math.PI/
180);var J=2/(F+n),M=2/(A+E);h[0]=J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=M;h[6]=0;h[7]=0;h[8]=-((F-n)*J*.5);h[9]=(A-E)*M*.5;h[10]=y/(v-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*v/(v-y);h[15]=0;return h},Ama:function(h,n,v,y,A,E,F){var J=1/(n-v),M=1/(y-A),P=1/(E-F);h[0]=-2*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*M;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*P;h[11]=0;h[12]=(n+v)*J;h[13]=(A+y)*M;h[14]=(F+E)*P;h[15]=1;return h},pma:function(h,n,v,y){var A=n[0],E=n[1];n=n[2];var F=y[0];var J=y[1];var M=y[2];var P=v[0];y=
v[1];var S=v[2];if(1E-6>Math.abs(A-P)&&1E-6>Math.abs(E-y)&&1E-6>Math.abs(n-S))return l(h);v=A-P;y=E-y;P=n-S;var T=1/Math.hypot(v,y,P);v*=T;y*=T;P*=T;S=J*P-M*y;M=M*v-F*P;F=F*y-J*v;(T=Math.hypot(S,M,F))?(T=1/T,S*=T,M*=T,F*=T):F=M=S=0;J=y*F-P*M;var X=P*S-v*F;var W=v*M-y*S;(T=Math.hypot(J,X,W))?(T=1/T,J*=T,X*=T,W*=T):W=X=J=0;h[0]=S;h[1]=J;h[2]=v;h[3]=0;h[4]=M;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=W;h[10]=P;h[11]=0;h[12]=-(S*A+M*E+F*n);h[13]=-(J*A+X*E+W*n);h[14]=-(v*A+y*E+P*n);h[15]=1;return h},wBa:function(h,
n,v,y){var A=n[0],E=n[1];n=n[2];var F=y[0],J=y[1],M=y[2];y=A-v[0];var P=E-v[1];v=n-v[2];var S=y*y+P*P+v*v;0<S&&(S=1/Math.sqrt(S),y*=S,P*=S,v*=S);var T=J*v-M*P;M=M*y-F*v;F=F*P-J*y;S=T*T+M*M+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,M*=S,F*=S);h[0]=T;h[1]=M;h[2]=F;h[3]=0;h[4]=P*F-v*M;h[5]=v*T-y*F;h[6]=y*M-P*T;h[7]=0;h[8]=y;h[9]=P;h[10]=v;h[11]=0;h[12]=A;h[13]=E;h[14]=n;h[15]=1;return h},Qn:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},oP:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+v[5];h[6]=n[6]+v[6];h[7]=n[7]+v[7];h[8]=n[8]+v[8];h[9]=n[9]+v[9];h[10]=n[10]+v[10];h[11]=n[11]+v[11];h[12]=n[12]+v[12];h[13]=n[13]+v[13];h[14]=n[14]+v[14];h[15]=n[15]+v[15];return h},Rn:t,CP:function(h,n,
v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;h[6]=n[6]*v;h[7]=n[7]*v;h[8]=n[8]*v;h[9]=n[9]*v;h[10]=n[10]*v;h[11]=n[11]*v;h[12]=n[12]*v;h[13]=n[13]*v;h[14]=n[14]*v;h[15]=n[15]*v;return h},DP:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;h[4]=n[4]+v[4]*y;h[5]=n[5]+v[5]*y;h[6]=n[6]+v[6]*y;h[7]=n[7]+v[7]*y;h[8]=n[8]+v[8]*y;h[9]=n[9]+v[9]*y;h[10]=n[10]+v[10]*y;h[11]=n[11]+v[11]*y;h[12]=n[12]+v[12]*y;h[13]=n[13]+v[13]*y;h[14]=n[14]+v[14]*
y;h[15]=n[15]+v[15]*y;return h},Qk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]&&h[8]===n[8]&&h[9]===n[9]&&h[10]===n[10]&&h[11]===n[11]&&h[12]===n[12]&&h[13]===n[13]&&h[14]===n[14]&&h[15]===n[15]},Wc:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4],J=h[5],M=h[6],P=h[7],S=h[8],T=h[9],X=h[10],W=h[11],fa=h[12],da=h[13],aa=h[14];h=h[15];var ua=n[0],pa=n[1],sa=n[2],ta=n[3],ra=n[4],Da=n[5],Ea=n[6],Fa=n[7],Ga=n[8],Ia=n[9],
Qa=n[10],Ra=n[11],Aa=n[12],Jb=n[13],Kb=n[14];n=n[15];return Math.abs(v-ua)<=1E-6*Math.max(1,Math.abs(v),Math.abs(ua))&&Math.abs(y-pa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(E-ta)<=1E-6*Math.max(1,Math.abs(E),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-Da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Da))&&Math.abs(M-Ea)<=1E-6*Math.max(1,Math.abs(M),Math.abs(Ea))&&Math.abs(P-Fa)<=1E-6*Math.max(1,
Math.abs(P),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},
Sp:m,sub:t}),ob=function(){var h=w();return function(n,v,y,A,E,F){v||(v=3);y||(y=0);for(A=A?Math.min(A*v+y,n.length):n.length;y<A;y+=v)h[0]=n[y],h[1]=n[y+1],h[2]=n[y+2],E(h,h,F),n[y]=h[0],n[y+1]=h[1],n[y+2]=h[2];return n}}();ob=Object.freeze({__proto__:null,create:w,clone:function(h){var n=new qa(3);n[0]=h[0];n[1]=h[1];n[2]=h[2];return n},length:x,xg:z,ua:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];return h},set:function(h,n,v,y){h[0]=n;h[1]=v;h[2]=y;return h},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=
n[1]+v[1];h[2]=n[2]+v[2];return h},Rn:D,multiply:G,am:N,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);h[2]=Math.ceil(n[2]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);h[2]=Math.floor(n[2]);return h},min:function(h,n,v){h[0]=Math.min(n[0],v[0]);h[1]=Math.min(n[1],v[1]);h[2]=Math.min(n[2],v[2]);return h},max:function(h,n,v){h[0]=Math.max(n[0],v[0]);h[1]=Math.max(n[1],v[1]);h[2]=Math.max(n[2],v[2]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=
Math.round(n[1]);h[2]=Math.round(n[2]);return h},scale:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;return h},TP:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;return h},rA:B,y0:H,aH:I,f0:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];h[2]=1/n[2];return h},normalize:K,Op:Q,kP:R,Hd:function(h,n,v,y){var A=n[0],E=n[1];n=n[2];h[0]=A+y*(v[0]-A);h[1]=E+y*(v[1]-E);h[2]=n+y*(v[2]-n);return h},Jza:function(h,n,v,y,A,E){var F=
E*E,J=F*(2*E-3)+1,M=F*(E-2)+E,P=F*(E-1);E=F*(3-2*E);h[0]=n[0]*J+v[0]*M+y[0]*P+A[0]*E;h[1]=n[1]*J+v[1]*M+y[1]*P+A[1]*E;h[2]=n[2]*J+v[2]*M+y[2]*P+A[2]*E;return h},Jya:function(h,n,v,y,A,E){var F=1-E,J=F*F,M=E*E,P=J*F;J*=3*E;F*=3*M;E*=M;h[0]=n[0]*P+v[0]*J+y[0]*F+A[0]*E;h[1]=n[1]*P+v[1]*J+y[1]*F+A[1]*E;h[2]=n[2]*P+v[2]*J+y[2]*F+A[2]*E;return h},random:function(h,n){n=n||1;var v=2*Ka()*Math.PI,y=2*Ka()-1,A=Math.sqrt(1-y*y)*n;h[0]=Math.cos(v)*A;h[1]=Math.sin(v)*A;h[2]=y*n;return h},cQ:function(h,n,v){var y=
n[0],A=n[1];n=n[2];var E=v[3]*y+v[7]*A+v[11]*n+v[15];E=E||1;h[0]=(v[0]*y+v[4]*A+v[8]*n+v[12])/E;h[1]=(v[1]*y+v[5]*A+v[9]*n+v[13])/E;h[2]=(v[2]*y+v[6]*A+v[10]*n+v[14])/E;return h},Yma:function(h,n,v){var y=n[0],A=n[1];n=n[2];h[0]=y*v[0]+A*v[3]+n*v[6];h[1]=y*v[1]+A*v[4]+n*v[7];h[2]=y*v[2]+A*v[5]+n*v[8];return h},Zma:function(h,n,v){var y=v[0],A=v[1],E=v[2],F=n[0],J=n[1];n=n[2];var M=A*n-E*J,P=E*F-y*n,S=y*J-A*F;v=2*v[3];h[0]=F+M*v+2*(A*S-E*P);h[1]=J+P*v+2*(E*M-y*S);h[2]=n+S*v+2*(y*P-A*M);return h},QP:function(h,
n,v,y){var A=[],E=[];A[0]=n[0]-v[0];A[1]=n[1]-v[1];A[2]=n[2]-v[2];E[0]=A[0];E[1]=A[1]*Math.cos(y)-A[2]*Math.sin(y);E[2]=A[1]*Math.sin(y)+A[2]*Math.cos(y);h[0]=E[0]+v[0];h[1]=E[1]+v[1];h[2]=E[2]+v[2];return h},RP:function(h,n,v,y){var A=[],E=[];A[0]=n[0]-v[0];A[1]=n[1]-v[1];A[2]=n[2]-v[2];E[0]=A[2]*Math.sin(y)+A[0]*Math.cos(y);E[1]=A[1];E[2]=A[2]*Math.cos(y)-A[0]*Math.sin(y);h[0]=E[0]+v[0];h[1]=E[1]+v[1];h[2]=E[2]+v[2];return h},SP:function(h,n,v,y){var A=[],E=[];A[0]=n[0]-v[0];A[1]=n[1]-v[1];A[2]=
n[2]-v[2];E[0]=A[0]*Math.cos(y)-A[1]*Math.sin(y);E[1]=A[0]*Math.sin(y)+A[1]*Math.cos(y);E[2]=A[2];h[0]=E[0]+v[0];h[1]=E[1]+v[1];h[2]=E[2]+v[2];return h},angle:function(h,n){var v=h[0],y=h[1],A=h[2],E=n[0],F=n[1],J=n[2];h=(v=Math.sqrt(v*v+y*y+A*A)*Math.sqrt(E*E+F*F+J*J))&&Q(h,n)/v;return Math.acos(Math.min(Math.max(h,-1),1))},L0:function(h){h[0]=0;h[1]=0;h[2]=0;return h},Qn:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},Qk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]},Wc:function(h,
n){var v=h[0],y=h[1];h=h[2];var A=n[0],E=n[1];n=n[2];return Math.abs(v-A)<=1E-6*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(y-E)<=1E-6*Math.max(1,Math.abs(y),Math.abs(E))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},sub:D,Sp:G,O_:N,M_:B,x0:H,yA:x,$G:I,forEach:ob});var pb=function(){var h=U();return function(n,v,y,A,E,F){v||(v=4);y||(y=0);for(A=A?Math.min(A*v+y,n.length):n.length;y<A;y+=v)h[0]=n[y],h[1]=n[y+1],h[2]=n[y+2],h[3]=n[y+3],E(h,h,F),n[y]=h[0],n[y+1]=h[1],n[y+2]=h[2],n[y+3]=
h[3];return n}}();pb=Object.freeze({__proto__:null,create:U,clone:Z,xg:ca,ua:Y,set:ha,add:ka,Rn:za,multiply:Oa,am:ab,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);h[2]=Math.ceil(n[2]);h[3]=Math.ceil(n[3]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);h[2]=Math.floor(n[2]);h[3]=Math.floor(n[3]);return h},min:function(h,n,v){h[0]=Math.min(n[0],v[0]);h[1]=Math.min(n[1],v[1]);h[2]=Math.min(n[2],v[2]);h[3]=Math.min(n[3],v[3]);return h},max:function(h,n,v){h[0]=
Math.max(n[0],v[0]);h[1]=Math.max(n[1],v[1]);h[2]=Math.max(n[2],v[2]);h[3]=Math.max(n[3],v[3]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=Math.round(n[1]);h[2]=Math.round(n[2]);h[3]=Math.round(n[3]);return h},scale:Ua,TP:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;h[2]=n[2]+v[2]*y;h[3]=n[3]+v[3]*y;return h},rA:bb,y0:mb,length:Va,aH:Pa,f0:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=-n[3];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];h[2]=1/n[2];h[3]=1/n[3];return h},
normalize:fb,Op:cb,kP:function(h,n,v,y){var A=v[0]*y[1]-v[1]*y[0],E=v[0]*y[2]-v[2]*y[0],F=v[0]*y[3]-v[3]*y[0],J=v[1]*y[2]-v[2]*y[1],M=v[1]*y[3]-v[3]*y[1];v=v[2]*y[3]-v[3]*y[2];y=n[0];var P=n[1],S=n[2];n=n[3];h[0]=P*v-S*M+n*J;h[1]=-(y*v)+S*F-n*E;h[2]=y*M-P*F+n*A;h[3]=-(y*J)+P*E-S*A;return h},Hd:ub,random:function(h,n){n=n||1;do{var v=2*Ka()-1;var y=2*Ka()-1;var A=v*v+y*y}while(1<=A);do{var E=2*Ka()-1;var F=2*Ka()-1;var J=E*E+F*F}while(1<=J);A=Math.sqrt((1-A)/J);h[0]=n*v;h[1]=n*y;h[2]=n*E*A;h[3]=n*
F*A;return h},cQ:function(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];h[0]=v[0]*y+v[4]*A+v[8]*E+v[12]*n;h[1]=v[1]*y+v[5]*A+v[9]*E+v[13]*n;h[2]=v[2]*y+v[6]*A+v[10]*E+v[14]*n;h[3]=v[3]*y+v[7]*A+v[11]*E+v[15]*n;return h},Zma:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=v[0],J=v[1],M=v[2];v=v[3];var P=v*y+J*E-M*A,S=v*A+M*y-F*E,T=v*E+F*A-J*y;y=-F*y-J*A-M*E;h[0]=P*v+y*-F+S*-M-T*-J;h[1]=S*v+y*-J+T*-F-P*-M;h[2]=T*v+y*-M+P*-J-S*-F;h[3]=n[3];return h},L0:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},Qn:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Qk:vb,Wc:wb,sub:za,Sp:Oa,O_:ab,M_:bb,x0:mb,yA:Va,$G:Pa,forEach:pb});var qb=function(){var h=w(),n=z(1,0,0),v=z(0,1,0);return function(y,A,E){var F=Q(A,E);if(-.999999>F)return R(h,n,A),1E-6>x(h)&&R(h,v,A),K(h,h),xb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;R(h,A,E);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return fb(y,y)}}(),rb=function(){var h=gb(),n=gb();return function(v,y,A,E,F,J){hb(h,y,F,J);hb(n,A,E,J);hb(v,h,n,2*J*(1-J));return v}}(),
db=function(){var h=f();return function(n,v,y,A){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-v[0];h[5]=-v[1];h[8]=-v[2];return fb(n,Eb(n,h))}}();qb=Object.freeze({__proto__:null,create:gb,uA:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},lBa:xb,Bza:function(h,n){var v=2*Math.acos(n[3]),y=Math.sin(v/2);1E-6<y?(h[0]=n[0]/y,h[1]=n[1]/y,h[2]=n[2]/y):(h[0]=1,h[1]=0,h[2]=0);return v},zza:function(h,n){h=cb(h,n);return Math.acos(2*h*h-1)},multiply:yb,QP:zb,RP:Ab,SP:Bb,Nya:function(h,
n){var v=n[0],y=n[1];n=n[2];h[0]=v;h[1]=y;h[2]=n;h[3]=Math.sqrt(Math.abs(1-v*v-y*y-n*n));return h},exp:Cb,oma:Db,pow:function(h,n,v){Db(h,n);Ua(h,h,v);Cb(h,h);return h},sBa:hb,random:function(h){var n=Ka(),v=Ka(),y=Ka(),A=Math.sqrt(1-n);n=Math.sqrt(n);h[0]=A*Math.sin(2*Math.PI*v);h[1]=A*Math.cos(2*Math.PI*v);h[2]=n*Math.sin(2*Math.PI*y);h[3]=n*Math.cos(2*Math.PI*y);return h},Av:function(h,n){var v=n[0],y=n[1],A=n[2];n=n[3];var E=v*v+y*y+A*A+n*n;E=E?1/E:0;h[0]=-v*E;h[1]=-y*E;h[2]=-A*E;h[3]=n*E;return h},
ula:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=n[3];return h},mza:Eb,kza:function(h,n,v,y){var A=.5*Math.PI/180;n*=A;v*=A;y*=A;A=Math.sin(n);n=Math.cos(n);var E=Math.sin(v);v=Math.cos(v);var F=Math.sin(y);y=Math.cos(y);h[0]=A*v*y-n*E*F;h[1]=n*E*y+A*v*F;h[2]=n*v*F-A*E*y;h[3]=n*v*y+A*E*F;return h},Qn:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:Z,xg:ca,ua:Y,set:ha,add:ka,Sp:yb,scale:Ua,Op:cb,Hd:ub,length:Va,yA:Va,aH:Pa,$G:Pa,normalize:fb,Qk:vb,Wc:wb,cBa:qb,tBa:rb,
kBa:db});rb=Object.freeze({__proto__:null,create:function(){var h=new qa(8);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var n=new qa(8);n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];n[6]=h[6];n[7]=h[7];return n},xg:function(h,n,v,y,A,E,F,J){var M=new qa(8);M[0]=h;M[1]=n;M[2]=v;M[3]=y;M[4]=A;M[5]=E;M[6]=F;M[7]=J;return M},qza:function(h,n,v,y,A,E,F){var J=new qa(8);J[0]=h;J[1]=n;J[2]=v;J[3]=y;A*=.5;E*=.5;F*=.5;J[4]=A*y+E*v-F*
n;J[5]=E*y+F*h-A*v;J[6]=F*y+A*n-E*h;J[7]=-A*h-E*n-F*v;return J},Lla:Fb,qP:function(h,n){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*n[0];h[5]=.5*n[1];h[6]=.5*n[2];h[7]=0;return h},JG:function(h,n){h[0]=n[0];h[1]=n[1];h[2]=n[2];h[3]=n[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},Jla:function(h,n){var v=gb();u(v,n);var y=new qa(3);r(y,n);Fb(h,v,y);return h},ua:Gb,uA:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,n,v,y,A,E,F,J,M){h[0]=n;h[1]=v;h[2]=y;h[3]=A;h[4]=E;h[5]=
F;h[6]=J;h[7]=M;return h},Dza:Y,Cza:function(h,n){h[0]=n[4];h[1]=n[5];h[2]=n[6];h[3]=n[7];return h},oBa:Y,mBa:function(h,n){h[4]=n[0];h[5]=n[1];h[6]=n[2];h[7]=n[3];return h},Pla:function(h,n){var v=n[4],y=n[5],A=n[6],E=n[7],F=-n[0],J=-n[1],M=-n[2];n=n[3];h[0]=2*(v*n+E*F+y*M-A*J);h[1]=2*(y*n+E*J+A*F-v*M);h[2]=2*(A*n+E*M+v*J-y*F);return h},translate:function(h,n,v){var y=n[0],A=n[1],E=n[2],F=n[3],J=.5*v[0],M=.5*v[1];v=.5*v[2];var P=n[4],S=n[5],T=n[6];n=n[7];h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=F*J+A*v-
E*M+P;h[5]=F*M+E*J-y*v+S;h[6]=F*v+y*M-A*J+T;h[7]=-y*J-A*M-E*v+n;return h},QP:function(h,n,v){var y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=J*F+S*y+M*E-P*A,X=M*F+S*A+P*y-J*E,W=P*F+S*E+J*A-M*y;J=S*F-J*y-M*A-P*E;zb(h,n,v);y=h[0];A=h[1];E=h[2];F=h[3];h[4]=T*F+J*y+X*E-W*A;h[5]=X*F+J*A+W*y-T*E;h[6]=W*F+J*E+T*A-X*y;h[7]=J*F-T*y-X*A-W*E;return h},RP:function(h,n,v){var y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=J*F+S*y+M*E-P*A,X=M*F+S*A+P*y-J*E,W=P*F+S*E+J*A-M*y;J=S*F-
J*y-M*A-P*E;Ab(h,n,v);y=h[0];A=h[1];E=h[2];F=h[3];h[4]=T*F+J*y+X*E-W*A;h[5]=X*F+J*A+W*y-T*E;h[6]=W*F+J*E+T*A-X*y;h[7]=J*F-T*y-X*A-W*E;return h},SP:function(h,n,v){var y=-n[0],A=-n[1],E=-n[2],F=n[3],J=n[4],M=n[5],P=n[6],S=n[7],T=J*F+S*y+M*E-P*A,X=M*F+S*A+P*y-J*E,W=P*F+S*E+J*A-M*y;J=S*F-J*y-M*A-P*E;Bb(h,n,v);y=h[0];A=h[1];E=h[2];F=h[3];h[4]=T*F+J*y+X*E-W*A;h[5]=X*F+J*A+W*y-T*E;h[6]=W*F+J*E+T*A-X*y;h[7]=J*F-T*y-X*A-W*E;return h},aBa:function(h,n,v){var y=v[0],A=v[1],E=v[2];v=v[3];var F=n[0],J=n[1],M=
n[2],P=n[3];h[0]=F*v+P*y+J*E-M*A;h[1]=J*v+P*A+M*y-F*E;h[2]=M*v+P*E+F*A-J*y;h[3]=P*v-F*y-J*A-M*E;F=n[4];J=n[5];M=n[6];P=n[7];h[4]=F*v+P*y+J*E-M*A;h[5]=J*v+P*A+M*y-F*E;h[6]=M*v+P*E+F*A-J*y;h[7]=P*v-F*y-J*A-M*E;return h},bBa:function(h,n,v){var y=n[0],A=n[1],E=n[2];n=n[3];var F=v[0],J=v[1],M=v[2],P=v[3];h[0]=y*P+n*F+A*M-E*J;h[1]=A*P+n*J+E*F-y*M;h[2]=E*P+n*M+y*J-A*F;h[3]=n*P-y*F-A*J-E*M;F=v[4];J=v[5];M=v[6];P=v[7];h[4]=y*P+n*F+A*M-E*J;h[5]=A*P+n*J+E*F-y*M;h[6]=E*P+n*M+y*J-A*F;h[7]=n*P-y*F-A*J-E*M;return h},
$Aa:function(h,n,v,y){if(1E-6>Math.abs(y))return Gb(h,n);var A=Math.hypot(v[0],v[1],v[2]);y*=.5;var E=Math.sin(y),F=E*v[0]/A,J=E*v[1]/A;v=E*v[2]/A;y=Math.cos(y);A=n[0];E=n[1];var M=n[2],P=n[3];h[0]=A*y+P*F+E*v-M*J;h[1]=E*y+P*J+M*F-A*v;h[2]=M*y+P*v+A*J-E*F;h[3]=P*y-A*F-E*J-M*v;A=n[4];E=n[5];M=n[6];n=n[7];h[4]=A*y+n*F+E*v-M*J;h[5]=E*y+n*J+M*F-A*v;h[6]=M*y+n*v+A*J-E*F;h[7]=n*y-A*F-E*J-M*v;return h},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];h[2]=n[2]+v[2];h[3]=n[3]+v[3];h[4]=n[4]+v[4];h[5]=n[5]+
v[5];h[6]=n[6]+v[6];h[7]=n[7]+v[7];return h},multiply:Hb,Sp:Hb,scale:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;h[2]=n[2]*v;h[3]=n[3]*v;h[4]=n[4]*v;h[5]=n[5]*v;h[6]=n[6]*v;h[7]=n[7]*v;return h},Op:cb,Hd:function(h,n,v,y){var A=1-y;0>cb(n,v)&&(y=-y);h[0]=n[0]*A+v[0]*y;h[1]=n[1]*A+v[1]*y;h[2]=n[2]*A+v[2]*y;h[3]=n[3]*A+v[3]*y;h[4]=n[4]*A+v[4]*y;h[5]=n[5]*A+v[5]*y;h[6]=n[6]*A+v[6]*y;h[7]=n[7]*A+v[7]*y;return h},Av:function(h,n){var v=Pa(n);h[0]=-n[0]/v;h[1]=-n[1]/v;h[2]=-n[2]/v;h[3]=n[3]/v;h[4]=-n[4]/v;
h[5]=-n[5]/v;h[6]=-n[6]/v;h[7]=n[7]/v;return h},ula:function(h,n){h[0]=-n[0];h[1]=-n[1];h[2]=-n[2];h[3]=n[3];h[4]=-n[4];h[5]=-n[5];h[6]=-n[6];h[7]=n[7];return h},length:Va,yA:Va,aH:Pa,$G:Pa,normalize:function(h,n){var v=Pa(n);if(0<v){v=Math.sqrt(v);var y=n[0]/v,A=n[1]/v,E=n[2]/v,F=n[3]/v,J=n[4],M=n[5],P=n[6];n=n[7];var S=y*J+A*M+E*P+F*n;h[0]=y;h[1]=A;h[2]=E;h[3]=F;h[4]=(J-y*S)/v;h[5]=(M-A*S)/v;h[6]=(P-E*S)/v;h[7]=(n-F*S)/v}return h},Qn:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},Qk:function(h,n){return h[0]===n[0]&&h[1]===n[1]&&h[2]===n[2]&&h[3]===n[3]&&h[4]===n[4]&&h[5]===n[5]&&h[6]===n[6]&&h[7]===n[7]},Wc:function(h,n){var v=h[0],y=h[1],A=h[2],E=h[3],F=h[4],J=h[5],M=h[6];h=h[7];var P=n[0],S=n[1],T=n[2],X=n[3],W=n[4],fa=n[5],da=n[6];n=n[7];return Math.abs(v-P)<=1E-6*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(E-
X)<=1E-6*Math.max(1,Math.abs(E),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(J-fa)<=1E-6*Math.max(1,Math.abs(J),Math.abs(fa))&&Math.abs(M-da)<=1E-6*Math.max(1,Math.abs(M),Math.abs(da))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))}});db=function(){var h=ib();return function(n,v,y,A,E,F){v||(v=2);y||(y=0);for(A=A?Math.min(A*v+y,n.length):n.length;y<A;y+=v)h[0]=n[y],h[1]=n[y+1],E(h,h,F),n[y]=h[0],n[y+1]=h[1];return n}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(h){var n=new qa(2);n[0]=h[0];n[1]=h[1];return n},xg:function(h,n){var v=new qa(2);v[0]=h;v[1]=n;return v},ua:function(h,n){h[0]=n[0];h[1]=n[1];return h},set:function(h,n,v){h[0]=n;h[1]=v;return h},add:function(h,n,v){h[0]=n[0]+v[0];h[1]=n[1]+v[1];return h},Rn:Sa,multiply:jb,am:kb,ceil:function(h,n){h[0]=Math.ceil(n[0]);h[1]=Math.ceil(n[1]);return h},floor:function(h,n){h[0]=Math.floor(n[0]);h[1]=Math.floor(n[1]);return h},min:function(h,n,v){h[0]=Math.min(n[0],v[0]);h[1]=
Math.min(n[1],v[1]);return h},max:function(h,n,v){h[0]=Math.max(n[0],v[0]);h[1]=Math.max(n[1],v[1]);return h},round:function(h,n){h[0]=Math.round(n[0]);h[1]=Math.round(n[1]);return h},scale:function(h,n,v){h[0]=n[0]*v;h[1]=n[1]*v;return h},TP:function(h,n,v,y){h[0]=n[0]+v[0]*y;h[1]=n[1]+v[1]*y;return h},rA:Wa,y0:lb,length:Ma,aH:nb,f0:function(h,n){h[0]=-n[0];h[1]=-n[1];return h},inverse:function(h,n){h[0]=1/n[0];h[1]=1/n[1];return h},normalize:function(h,n){var v=n[0],y=n[1];v=v*v+y*y;0<v&&(v=1/Math.sqrt(v));
h[0]=n[0]*v;h[1]=n[1]*v;return h},Op:function(h,n){return h[0]*n[0]+h[1]*n[1]},kP:function(h,n,v){n=n[0]*v[1]-n[1]*v[0];h[0]=h[1]=0;h[2]=n;return h},Hd:function(h,n,v,y){var A=n[0];n=n[1];h[0]=A+y*(v[0]-A);h[1]=n+y*(v[1]-n);return h},random:function(h,n){n=n||1;var v=2*Ka()*Math.PI;h[0]=Math.cos(v)*n;h[1]=Math.sin(v)*n;return h},IBa:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[2]*n;h[1]=v[1]*y+v[3]*n;return h},JBa:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[2]*n+v[4];h[1]=v[1]*y+v[3]*n+v[5];
return h},Yma:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[3]*n+v[6];h[1]=v[1]*y+v[4]*n+v[7];return h},cQ:function(h,n,v){var y=n[0];n=n[1];h[0]=v[0]*y+v[4]*n+v[12];h[1]=v[1]*y+v[5]*n+v[13];return h},rotate:function(h,n,v,y){var A=n[0]-v[0];n=n[1]-v[1];var E=Math.sin(y);y=Math.cos(y);h[0]=A*y-n*E+v[0];h[1]=A*E+n*y+v[1];return h},angle:function(h,n){var v=h[0];h=h[1];var y=n[0];n=n[1];var A=Math.sqrt(v*v+h*h)*Math.sqrt(y*y+n*n);return Math.acos(Math.min(Math.max(A&&(v*y+h*n)/A,-1),1))},L0:function(h){h[0]=
0;h[1]=0;return h},Qn:function(h){return"vec2("+h[0]+", "+h[1]+")"},Qk:function(h,n){return h[0]===n[0]&&h[1]===n[1]},Wc:function(h,n){var v=h[0];h=h[1];var y=n[0];n=n[1];return Math.abs(v-y)<=1E-6*Math.max(1,Math.abs(v),Math.abs(y))&&Math.abs(h-n)<=1E-6*Math.max(1,Math.abs(h),Math.abs(n))},yA:Ma,sub:Sa,Sp:jb,O_:kb,M_:Wa,x0:lb,$G:nb,forEach:db});d.fm=Ob;d.oAa=Pb;d.pAa=Qb;d.qAa=Rb;d.Rp=Sb;d.KAa=qb;d.LAa=rb;d.QBa=db;d.eH=ob;d.LA=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.Dya?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.fm={}));
{"use strict";function d(t,w,x,z){var D=w[0]-t[0];w=w[1]-t[1];var G=z[0]-x[0],N=z[1]-x[1];if(0===G*w-N*D)return!1;z=(D*(x[1]-t[1])+w*(t[0]-x[0]))/(G*w-N*D);t=(G*(t[1]-x[1])+N*(x[0]-t[0]))/(N*D-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function a(t,w,x){return(w[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(w[1]-t[1])}function b(t,w,x){return 0<a(t,w,x)}function e(t,w,x){return 0<=a(t,w,x)}function c(t,w,x){return 0>=a(t,w,x)}var Ya=[],Za=[];function f(t,w){var x=w[0]-t[0];t=w[1]-t[1];return x*x+t*t}function k(t,w){var x=
t.length;return t[0>w?w%x+x:w%x]}function g(t,w,x,z){for(;x<z;x++)t.push(w[x])}function l(t,w){var x=k(t,w-1),z=k(t,w);t=k(t,w+1);return 0>a(x,z,t)}var $a=[],sb=[];function m(t,w,x,z){z=z||[];z.length=0;if(w<x)for(var D=w;D<=x;D++)z.push(t[D]);else{for(D=0;D<=x;D++)z.push(t[D]);for(D=w;D<t.length;D++)z.push(t[D])}return z}function q(t){for(var w=[],x,z,D=[],G=Number.MAX_VALUE,N=0;N<t.length;++N)if(l(t,N))for(var B=0;B<t.length;++B){a:{z=t;var H=N,I=B;if(e(k(z,H+1),k(z,H),k(z,I))&&c(k(z,H-1),k(z,H),
k(z,I)))x=!1;else{x=f(k(z,H),k(z,I));for(var K=0;K!==z.length;++K)if((K+1)%z.length!==H&&K!==H&&e(k(z,H),k(z,I),k(z,K+1))&&c(k(z,H),k(z,I),k(z,K))){$a[0]=k(z,H);$a[1]=k(z,I);sb[0]=k(z,K);sb[1]=k(z,K+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var U=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+U*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*U;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-U*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(k(z,H),ka)<x){x=!1;break a}}x=!0}}if(x){x=q(m(t,
N,B,D));z=q(m(t,B,N,D));for(H=0;H<z.length;H++)x.push(z[H]);x.length<G&&(w=x,G=x.length,w.push([k(t,N),k(t,B)]))}}return w}function r(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var x=0;x<w.length;x++)for(var z=w[x],D=0;D<t.length;D++){var G=r(t[D],z);if(G){t.splice(D,1);t.push(G[0],G[1]);break}}return t}z=w;x=t.indexOf(z[0]);D=t.indexOf(z[1]);return-1!==x&&-1!==D?[m(t,x,D),m(t,D,x)]:!1}function p(t,w,x,
z,D){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var N=z[1]-x[1];z=x[0]-z[0];x=N*x[0]+z*x[1];var B=G*z-N*w;return Math.abs(B-0)<=(D||0)?[0,0]:[(z*t-w*x)/B,(G*x-N*t)/B]}function u(t,w,x,z,D,G,N){G=G||100;N=N||0;D=D||25;w="undefined"!==typeof w?w:[];x=x||[];z=z||[];var B=[0,0],H=[0,0],I=[0,0],K,Q=0,R=0,U=0,Z=[],ca=[];if(3>t.length)return w;N++;if(N>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var ha=K=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(b(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y-1),k(t,Y),k(t,ka-1))){I=p(k(t,Y-1),k(t,Y),k(t,ka),k(t,ka-1));var za=k(t,Y+1);var Oa=k(t,Y);0>a(za,Oa,I)&&(za=f(t[Y],I),za<K&&(K=za,H=I,R=ka))}b(k(t,Y+1),k(t,Y),k(t,ka+1))&&c(k(t,Y+1),k(t,Y),k(t,ka))&&(I=p(k(t,Y+1),k(t,Y),k(t,ka),k(t,ka+1)),b(k(t,Y-1),k(t,Y),I)&&(za=f(t[Y],I),za<ha&&(ha=za,B=I,Q=ka)))}if(R===(Q+1)%t.length)I[0]=(H[0]+B[0])/2,I[1]=(H[1]+B[1])/2,z.push(I),Y<Q?(g(Z,t,Y,Q+1),Z.push(I),ca.push(I),0!==R&&g(ca,t,R,t.length),g(ca,
t,0,Y+1)):(0!==Y&&g(Z,t,Y,t.length),g(Z,t,0,Q+1),Z.push(I),ca.push(I),g(ca,t,R,Y+1));else{R>Q&&(Q+=t.length);B=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(e(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y+1),k(t,Y),k(t,ka))){za=f(k(t,Y),k(t,ka));if(R=za<B)a:{R=t;H=Y;I=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==I&&(ha+1)%R.length!==H&&(ha+1)%R.length!==I&&d(k(R,H),k(R,I),k(R,ha),k(R,ha+1))){R=!1;break a}R=!0}R&&(B=za,U=ka%t.length)}Y<U?(g(Z,t,Y,U+1),0!==U&&g(ca,t,U,t.length),g(ca,t,0,Y+1)):(0!==
Y&&g(Z,t,Y,t.length),g(Z,t,0,U+1),g(ca,t,U,Y+1))}Z.length<ca.length?(u(Z,w,x,z,D,G,N),u(ca,w,x,z,D,G,N)):(u(ca,w,x,z,D,G,N),u(Z,w,x,z,D,G,N));return w}w.push(t);return w}self.GAa={$ya:function(t){var w=q(t);return 0<w.length?r(t,w):[t]},MAa:u,Qza:function(t){var w;for(w=0;w<t.length-1;w++)for(var x=0;x<w-1;x++)if(d(t[w],t[w+1],t[x],t[x+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},RAa:function(t,w){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var D=
k(t,z-1);var G=k(t,z),N=k(t,z+1),B=w;B?(Ya[0]=G[0]-D[0],Ya[1]=G[1]-D[1],Za[0]=N[0]-G[0],Za[1]=N[1]-G[1],D=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<B):D=0===a(D,G,N);D&&(t.splice(z%t.length,1),x++)}return x},SAa:function(t,w){for(var x=t.length-1;1<=x;--x)for(var z=t[x],D=x-1;0<=D;--D){var G=z,N=t[D],B=w;Math.abs(G[0]-N[0])<=(B||0)&&Math.abs(G[1]-N[1])<=(B||0)&&t.splice(x,1)}},nAa:function(t){for(var w=0,x=1;x<t.length;++x)if(t[x][1]<
t[w][1]||t[x][1]===t[w][1]&&t[x][0]>t[w][0])w=x;if(b(k(t,w-1),k(t,w),k(t,w+1)))return!1;w=[];x=t.length;for(var z=0;z!==x;z++)w.push(t.pop());for(z=0;z!==x;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.C=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Bv=!1;d.wP=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Bg={}}
{"use strict";const d=self.C;d.YS=class{constructor(a){this.Mka=a;this.Qa=new Map;this.Qga()}Qga(){var a=this.Mka;if(a.startsWith("?")||a.startsWith("#"))a=a.substr(1);a=a.split("&");for(const b of a)this.Rga(b)}Rga(a){if(a)if(a.includes("=")){var b=a.indexOf("="),e=decodeURIComponent(a.substring(0,b));a=decodeURIComponent(a.substring(b+1));this.Qa.set(e,a)}else this.Qa.set(a,null)}RB(a){return this.Qa.has(a)}la(a){a=this.Qa.get(a);return"undefined"===typeof a?null:a}};d.ZS=new d.YS(location.search);
d.Gra=new d.YS(location.hash);d.ZS.la("mode")}
{"use strict";const d=self.C,a=navigator.userAgent;let b={nma:/linux|openbsd|freebsd|netbsd/i.test(a),rla:/CrOS/.test(a),fH:/trident|iemobile|msie|tizen/i.test(a),yza:/trident|iemobile|msie|edge\//i.test(a),opera:/OPR\//.test(a),D_:/bb10/i.test(a),Gla:/edge\//i.test(a),D0:/trident/i.test(a),webkit:/webkit/i.test(a),Mma:/safari\//i.test(a),qla:/chrome\//i.test(a),sla:/chromium\//i.test(a),vla:/crosswalk|xwalk/i.test(a),xAa:/nwjs/i.test(a),ela:/amazonwebappplatform/i.test(a),dna:/wv\)/.test(a),fla:/android/i.test(a),
wma:/nokiabrowser\/[0-9.]+/i.test(a)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(a),Lb=/android\s+[0-9.]+/i.exec(a),Mb=/OPR\/[0-9.]+/.exec(a),Nb=/tizen\s+[0-9.]+/i.exec(a),Tb=/iphone\s+os\s+[0-9_]+/i.exec(a),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(a),Vb=/windows\s+phone\s+[0-9.]+/i.exec(a),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(a),Xb=/chrome\/[0-9.]+/i.exec(a),Yb=/chromium\/[0-9.]+/i.exec(a),Zb=/nwjs\/[0-9.]+/i.exec(a),$b=/firefox\/[0-9.]+/i.exec(a),ac=/msie\s+[0-9.]+/i.exec(a),bc=/edge\/[0-9.]+/i.exec(a),
cc=/edg\/[0-9.]+/i.exec(a),dc=/silk\/[0-9.]+/i.exec(a);let e="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",g="(unknown)",l="browser",m=!1,q=!1,r=new Map;function p(t,w,x){!0===w?(x(),r.set(t,!0)):w&&w.length&&(x(w[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(a),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",b.nma,()=>{e="Linux"});p("isChromeOS",b.rla,()=>{e="Chrome OS"});p("isAndroid",!b.fH&&Lb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Nb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!b.fH&&Tb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!b.fH&&Ub,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Vb,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Wb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",b.D_,()=>{e="Blackberry";c="10";f="stock";g="webkit"});p("isChrome",!b.Gla&&!b.opera&&Xb,t=>{f="Chrome";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Mb,t=>{f="Opera";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Yb,t=>{g=f="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",$b,t=>{f="Firefox";g="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",ac,
t=>{f="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==f&&b.D0,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(a);t&&t.length&&(f="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",bc,t=>{g=f="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",cc,t=>{f="Edge";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",b.Mma&&!b.wma&&!b.qla&&!b.sla&&!b.xza&&!b.D_,()=>{f="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(a),w=/crios\/[0-9.]+/i.exec(a),
x=/fxios\/[0-9.]+/i.exec(a);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(k=w));x&&x.length&&(f="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",dc,t=>{f="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",b.vla,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Zb,t=>{l="nwjs";f="NW.js";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",b.ela,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===l&&b.dna,()=>l="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");p("isAndroidFallback","(unknown)"===e&&!b.fH&&b.fla,()=>e="Android");p("isTridentFallback",
"(unknown)"===e&&b.D0,()=>g="Trident");p("isWebkitFallback","(unknown)"===e&&b.webkit,()=>g="WebKit");p("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>m=!0);q="nwjs"===l;const u="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;u&&(e="iOS",c=k,q=m=!1);d.Cd={tt:e,dsa:c,pH:f,roa:k,qH:parseFloat(k),SA:g,vH:l,Mqa:m,aC:!m,Nqa:q,Iqa:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),Cqa:"Mac OS X"===e||"iOS"===e,Sqa:u,Vqa:"Linux"===e}}"use strict";
{const d=new Map,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(u){return new Promise((t,w)=>{u.onsuccess=()=>t(u.result);u.onerror=()=>w(u.error)})}function c(u){return new Promise((t,w)=>{u.oncomplete=()=>t();u.onerror=()=>w(u.error);u.onabort=()=>w(u.error)})}function f(u,t){return g(u,t)}function k(u,t){return g(u,t,!0)}async function g(u,t,w=!1,
x=!0){const z=await l(u);try{const D=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(D)}catch(D){if(x&&"InvalidStateError"===D.name)return d.delete(u),g(u,t,w,!1);throw D;}}function l(u){q(u);let t=d.get(u);t instanceof Promise||(t=m(u),d.set(u,t),t.catch(()=>d.delete(u)));return t}async function m(u){q(u);const t=indexedDB.open(u,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${u}`,
x)}});return e(t)}function q(u){if("string"!==typeof u)throw new TypeError("expected string");}function r(u,t){const w=u.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];w.onsuccess=D=>{if(D=D.target.result){switch(t){case "entries":z.push([D.key,D.value]);break;case "keys":z.push(D.key);break;case "values":z.push(D.value)}D.continue()}else x(z)}})}class p{constructor(u){q(u);this.name=u}async ready(){await l(this.name)}set(u,t){q(u);return k(this.name,async w=>{var x=w.objectStore("keyvaluepairs").put(t,
u);x=e(x);w=c(w);await Promise.all([w,x])})}get(u){q(u);return f(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(u);w=e(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(u){q(u);return k(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(u);w=e(w);t=c(t);await Promise.all([t,w])})}clear(){return k(this.name,async u=>{var t=u.objectStore("keyvaluepairs").clear();t=e(t);u=c(u);await Promise.all([u,t])})}keys(){return f(this.name,async u=>{if(b){var t=u.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=r(u,"keys");u=c(u);[,u]=await Promise.all([u,t]);return u})}values(){return f(this.name,async u=>{if(a){var t=u.objectStore("keyvaluepairs").getAll();t=e(t)}else t=r(u,"values");u=c(u);[,u]=await Promise.all([u,t]);return u})}entries(){return f(this.name,async u=>{var t=r(u,"entries");u=c(u);[,t]=await Promise.all([u,t]);return t})}}self.p7=p}"use strict";
{const d=self.p7,a=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],b=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(m=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>m(p.data);q.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.N=l;b.set(this,new Map)}Px(l){if(!e)for(const m of a)if(l&&m.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async nY(l){l=
b.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async XZ(l,m){m=await k(m);b.get(this).set(l,m)}QZ(l){b.get(this).delete(l)}OX(){b.get(this).clear()}VY(){return Array.from(b.get(this).keys())}async getItem(l,m){f(m);if(e)return await this.nY(l);let q;try{q=await this.N.get(l)}catch(r){this.Px(r);if(e)return await this.nY(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,m,q){f(q);"undefined"===
typeof m&&(m=null);if(e)await this.XZ(l,m);else try{await this.N.set(l,m)}catch(r){if(this.Px(r),e)await this.XZ(l,m);else throw r;}}async removeItem(l,m){f(m);if(e)this.QZ(l);else try{await this.N.delete(l)}catch(q){this.Px(q),e?this.QZ(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){f(l);if(e)this.OX();else try{await this.N.clear()}catch(m){this.Px(m),e?this.OX():console.error("Error clearing storage: ",m)}}async keys(l){f(l);if(e)return this.VY();l=[];try{l=await this.N.keys()}catch(m){this.Px(m);
if(e)return this.VY();console.error("Error getting storage keys: ",m)}return l}ready(l){f(l);return e?Promise.resolve(!0):this.N.ready()}jP(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.C;d.dc={};d.dc.cya=(()=>{try{if("Safari"===d.Cd.pH||"undefined"===typeof document)return!1;const a=document.createElement("div");return"undefined"===typeof a.animate?!1:"undefined"!==typeof a.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(a){return!1}})();d.dc.lpa="undefined"!==typeof HTMLDialogElement;d.dc.Uta=!!self.requestIdleCallback;d.dc.ImageBitmap=!!self.createImageBitmap;d.dc.ImageBitmapOptions=!1;if(d.dc.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.dc.ImageBitmapOptions=!0}).catch(()=>{d.dc.ImageBitmapOptions=!1})}catch(a){d.dc.ImageBitmapOptions=!1}d.dc.Doa=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Cd.pH);d.dc.Msa=!(!navigator.permissions||!navigator.permissions.query);d.dc.XS="undefined"!==typeof Proxy;d.dc.mpa="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.dc.Uv="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.dc.zpa="function"===typeof fetch;d.dc.Osa=!!(self.isSecureContext&&"Opera"!==d.Cd.pH&&navigator.storage&&navigator.storage.persist);d.dc.kxa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.Cd.tt)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.dc.Opa=ec;d.dc.jqa="undefined"!==typeof self.ImageDecoder;d.dc.Wra=!!self.showOpenFilePicker;
d.dc.Xra=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.C;if(!String.prototype.trimStart){const a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(a,"")}}if(!String.prototype.trimEnd){const a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(a,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(d.Zv(a),"g"),b)});Array.prototype.values||(Array.prototype.values=function*(){for(const a of this)yield a});if(!Array.prototype.flat){function a(b,e){return b.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,a(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(b=1){return a(this,b)}}Array.prototype.Oe||(Array.prototype.Oe=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);
if(!(0>a||a>=this.length))return this[a]});String.prototype.Oe||(String.prototype.Oe=function(a){a=Math.trunc(a)||0;0>a&&(a+=this.length);if(!(0>a||a>=this.length))return this[a]});RegExp.escape||(RegExp.escape=function(a){return String(a).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((a,b)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>a({usage:e,quota:c}),b))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.C;self.assert=function(a,b){a||console.error("Assertion failure: "+b+"\n\nStack trace:\n"+d.pB())}}
{"use strict";const d=self.C,a=self.Bg;d.ko=function(e){return"number"===typeof e};d.fo=function(e){return d.ko(e)&&isFinite(e)};d.Ig=function(e){if(!d.ko(e))throw new TypeError("expected number");};d.iT=function(){};d.qua=function(e,c,f){if(!d.ko(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.cua=function(...e){for(let c of e);};d.yi=function(e){if(!d.fo(e))throw new TypeError("expected finite number");};d.fT=function(){};d.$ta=function(...e){for(let c of e);};d.Lj=function(e){return"string"===
typeof e};d.Vd=function(e){if(!d.Lj(e))throw new TypeError("expected string");};d.kT=function(){};d.eua=function(...e){for(let c of e);};d.oS=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Dua=function(e){if(!d.oS(e))throw new TypeError("expected simple object");};d.Aua=function(e){if(!d.Re(e)&&!d.oS(e))throw new TypeError("expected simple object");};d.nS=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.dT=function(e){if(!d.nS(e))throw new TypeError("expected object");
};d.jT=function(){};d.dua=function(...e){for(let c of e);};d.II=function(e){return d.ho(e,Blob)&&"string"===typeof e.name};d.oua=function(e){if(!d.II(e))throw new TypeError("expected file");};d.yua=function(){};d.rq=function(e){return Array.isArray(e)};d.lJ=function(e){if(!d.rq(e))throw new TypeError("expected array");};d.eT=function(){};d.Zta=function(...e){for(let c of e);};d.N6=function(e){return d.rq(e)?e.length?d.rq(e[0])?!0:!1:!0:!1};d.Yta=function(e){if(!d.N6(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.rq(c))throw new TypeError("expected 2d array");};d.rua=function(){};d.JI=function(e){return"function"===typeof e};d.ol=function(e,c){if(!d.JI(e))throw new TypeError("expected function");if(!d.Re(c)&&e!==c)throw new TypeError("expected same function reference");};d.gT=function(){};d.aua=function(...e){for(let c of e);};d.gua=function(e,...c){if(!d.JI(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.Re(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.sua=function(...e){if(!d.Re(e))for(let c of e);};d.ho=function(e,c){return e instanceof c};d.kS=function(e,...c){for(let f of c)if(d.ho(e,f))return!0;return!1};d.mJ=function(e,c){if(!d.ho(e,c))throw new TypeError("unexpected type");};d.hT=function(){};d.bua=function(e,...c){for(let f of c);};d.hua=function(e,...c){if(!d.kS(e,...c))throw new TypeError("unexpected type");};d.iua=function(e,...c){if(!d.Re(e)&&!d.kS(e,...c))throw new TypeError("unexpected type");
};d.Dqa=function(e,c){for(let f of e)if(!d.ho(f,c))return!1;return!0};d.Eqa=function(e){for(let c of e)if(!d.fo(c))return!1;return!0};d.jua=function(e){for(let c of e);};d.tua=function(e){if(!d.Re(e))for(let c of e);};d.kua=function(e){for(let c of e);};d.uua=function(e){if(!d.Re(e))for(let c of e);};d.Jqa=function(e,c){return d.Re(e)||!d.Lj(e.nodeName)?!1:!c||d.lf(e.nodeName,c)};d.lua=function(e,c){if(d.Re(e)||!d.Lj(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.lf(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.vua=function(){};d.LI=function(e,c){return d.Re(e)||!d.Lj(e.tagName)?!1:!c||d.lf(e.tagName,c)};d.pua=function(e,c){if(d.Re(e)||!d.Lj(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.lf(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.zua=function(){};d.eS=function(e){return d.LI(e,"img")||d.LI(e,"canvas")||d.LI(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.mua=function(e){if(!d.eS(e))throw new TypeError("expected drawable");
};d.wua=function(){};d.fS=function(e){return e instanceof ImageData?!0:d.eS(e)};d.nua=function(e){if(!d.fS(e))throw new TypeError("expected drawable or image data");};d.xua=function(e){if(!d.Re(e)&&!d.fS(e))throw new TypeError("expected drawable or image data");};d.j7=function(e){return"string"===typeof e||e instanceof d.BI||e instanceof d.xj};d.Eua=function(e){if(!d.j7(e))throw new TypeError("expected string-like");};d.Bua=function(){};d.fua=function(...e){for(let c of e);};d.Cua=function(){throw Error("must be overridden");
};d.csa=function(){throw Error("not yet implemented");};d.Lqa=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.Re=function(e){return"undefined"===typeof e||null===e};d.eoa=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.foa=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const b=Object.getPrototypeOf(Uint8Array);d.lra=function(e){return d.ho(e,b)};d.Fua=function(){};
d.bya=function(e){d.wba(e,b)};d.aya=function(e,...c){if(!d.vba(e,...c))throw new TypeError("unexpected type");};d.vba=function(e,...c){for(const f of c)if(d.zU(e,f))return!0;return!1};d.wba=function(e,c){if(!d.zU(e,c))throw new TypeError("unexpected type");};d.zU=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};a.Ig=d.Ig;a.iT=d.iT;a.yi=d.yi;a.fT=d.fT;a.Vd=d.Vd;a.kT=d.kT;a.dT=d.dT;a.jT=d.jT;a.lJ=d.lJ;a.eT=d.eT;a.ol=d.ol;a.gT=d.gT;a.mJ=d.mJ;a.hT=d.hT;
a.Re=d.Re}
{"use strict";const d=self.C,a=new Map;d.Ata=function(r,...p){a.has(r)||a.set(r,-1);-1===a.get(r)&&a.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);a.set(r,-1)}))};d.pB=function(){return Error().stack};d.jpa=function(){debugger};d.Sya=function(r,p){return r&&r instanceof p?r:null};d.em=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.ko(r)?"<number>":d.Lj(r)?"<string>":d.rq(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.JI(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.KG=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let b=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.Xs={};const k=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.pB())}d.Xs.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||g(`Accessed missing property '${p}' from defended object '${d.em(r)}', returning undefined`);f.has(r)&&"symbol"!==typeof p&&!k.has(p)&&g(`Accessed property '${p}' on a released object '${d.em(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);return r[p]};d.Xs.set=function(r,p,u){p in r||b.has(r)||g(`Set non-existent property '${p}' to '${u}' on defended object '${d.em(r)}'`);
{var t=d.KG(r[p]);let w=d.KG(u);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||b.has(r)||g(`Set '${d.KG(r[p])}' property '${p}' to type '${d.KG(u)}' on defended object '${d.em(r)}'`);f.has(r)&&g(`Set property '${p}' on a released object '${d.em(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);r[p]=u;return!0};d.Xs.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.em(r)}'`);};d.Xs.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.em(r)}'`);};d.Xs.dza=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.em(r)}'`);};let l=-1;function m(){l=-1;if(0<b.size||0<e.size){let r=[...new Set([...b.keys()].map(p=>d.em(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);b.clear();
e.clear()}}d.qa=class{constructor(){if(d.wP&&d.dc.XS){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.Xs);b.set(r,p);e.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(m));return p}}};d.xla=function(r){if(d.wP&&d.dc.XS&&r instanceof d.qa){if(!e.has(r))return r;let p=e.get(r);e.delete(r);b.delete(p);return r}return d.Bv?Object.seal(r):r};d.D=function(r,...p){let u;try{u=new r(...p)}catch(x){throw e.clear(),b.clear(),x;}if(d.wP){p=u;var t=new Set;for(w in p)t.add(w);var w=t;if(p=
q.get(r)){t=[];for(let x of p.values())w.has(x)?w.delete(x):t.push(x);d.$l(t,[...w]);t.length&&console.warn(`[Defence] '${d.em(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,w)}return d.xla(u)};d.A=function(r){(r=c.get(r))&&f.set(r,d.pB())};d.yx=function(){let r=c.get(void 0);return r?!!f.get(r):!1};let q=new Map;d.Lsa=class{constructor(r){this.Na="";r&&this.start(r)}start(r){this.Na=r;performance.mark(this.Na+"-Start")}end(){performance.mark(this.Na+"-End");performance.measure(this.Na,
this.Na+"-Start",this.Na+"-End")}next(r){this.end();this.Na=r;performance.mark(this.Na+"-Start")}}}
{"use strict";const d=self.C,a=2*Math.PI,b=Math.PI/180,e=180/Math.PI;d.wrap=function(f,k,g){f=Math.floor(f);k=Math.floor(k);g=Math.floor(g);return f<k?(f=g-(k-f)%(g-k),f===g?0:f):k+(f-k)%(g-k)};d.qma=function(f,k,g,l){return(f-k)*(l-0)/(g-k)};d.normalize=function(f,k,g){return(f-k)/(g-k)};d.aa=function(f,k,g){return f<k?k:f>g?g:f};d.ue=function(f){f%=a;0>f&&(f+=a);return f};d.Ga=function(f){return f*b};d.he=function(f){return f*e};d.Rf=function(f,k,g,l){return Math.hypot(g-f,l-k)};d.N_=function(f,
k,g,l){f=g-f;k=l-k;return f*f+k*k};d.Gd=function(f,k,g,l){return Math.atan2(l-k,g-f)};d.Ln=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.eP=function(f,k,g){let l=Math.sin(f),m=Math.cos(f),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+m*r)>g?0<m*q-l*r?d.ue(f+g):d.ue(f-g):d.ue(k)};d.kf=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};d.dP=function(f,k,g,l=0){let m=d.Ln(f,k);l*=a;return d.kf(k,
f)?d.ue(f+(m+l)*g):d.ue(f-(m+l)*g)};d.hla=function(f,k,g,l=0){const m=d.Ln(f,k);l*=a;return d.kf(k,f)?d.ue(f+(m+l)*g):d.ue((a-m+l)*g)};d.gla=function(f,k,g,l=0){const m=d.Ln(f,k);l*=a;return d.kf(k,f)?d.ue((-a+m-l)*g):d.ue(f-(m+l)*g)};d.Hd=function(f,k,g){return f+g*(k-f)};d.dH=function(f,k,g){return f===k?0:(g-f)/(k-f)};d.r0=function(f,k,g,l){return d.Hd(0,l,d.dH(f,k,g))};d.VG=function(f,k,g,l){return d.Hd(d.Hd(f,k,l),d.Hd(k,g,l),l)};d.L_=function(f,k,g,l,m){return d.Hd(d.VG(f,k,g,m),d.VG(k,g,l,
m),m)};d.J_=function(f,k,g){return(f+k+(f-k)*Math.cos(g*Math.PI))/2};d.gm=function(f){return 0<f&&0===(f-1&f)};d.EP=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};d.dBa=function(f,k){return Math.round(f*k)/k};d.iza=function(f,k){return Math.floor(f*k)/k};d.s0=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};d.U8=function(f,k,g){return d.aa(f,0,255)|d.aa(k,
0,255)<<8|d.aa(g,0,255)<<16};d.kC=function(f,k,g,l){f=d.aa(Math.floor(1024*f),-8192,8191);k=d.aa(Math.floor(1024*k),-8192,8191);g=d.aa(Math.floor(1024*g),-8192,8191);l=d.aa(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*k+1024*g+l)};d.TS=function(f,k,g){return d.kC(f,k,g,1)};d.mI=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.$H=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.NH=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.a4=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.Sla=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let g=k;k=f%k;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.Aza=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var g of c){let l=
f/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=f/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.Sla(f,k);return[f/g,k/g]};d.jBa=function(f,k,g,l,m,q,r,p){var u=Math.min(f,g),t=Math.max(m,r);if(Math.max(f,g)<Math.min(m,r)||u>t)return!1;u=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||u>t)return!1;u=m-f+r-g;t=q-k+p-l;f=g-f;k=l-k;m=r-m;q=p-q;p=Math.abs(k*m-q*f);return Math.abs(m*t-q*u)>p?!1:Math.abs(f*t-k*u)<=p};d.Pn=function(f,k,g,l,m,q,r,p,u,t,w,x){const z=Math.max(u,w);if(q<
Math.min(u,w)||m>z)return!1;m=Math.max(t,x);if(p<Math.min(t,x)||r>m)return!1;r=u-f+w-g;p=t-k+x-l;f=g-f;k=l-k;u=w-u;t=x-t;x=Math.abs(k*u-t*f);return Math.abs(u*p-t*r)>x?!1:Math.abs(f*p-k*r)<=x};d.XG=function(f,k,g,l,m){const q=Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),u=Math.max(k,l),t=m.zb,w=m.Ab,x=m.Bc,z=m.Cc,D=m.wc,G=m.xc,N=m.uc;m=m.vc;return d.Pn(f,k,g,l,q,r,p,u,t,w,x,z)||d.Pn(f,k,g,l,q,r,p,u,x,z,D,G)||d.Pn(f,k,g,l,q,r,p,u,D,G,N,m)||d.Pn(f,k,g,l,q,r,p,u,N,m,t,w)};d.iBa=function(f,k,g,l,m){const q=
Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),u=Math.max(k,l);let t=0;for(let w=m.length-4;t<=w;t+=2)if(d.Pn(f,k,g,l,q,r,p,u,m[t],m[t+1],m[t+2],m[t+3]))return!0;return d.Pn(f,k,g,l,q,r,p,u,m[t],m[t+1],m[0],m[1])};d.Hma=function(f,k,g,l,m,q,r,p){g-=f;q=p-q;const u=g*q-(l-k)*(r-m);if(0===u)return 2;l=((k-l)*(r-f)+g*(p-k))/u;return 0<l&&1.000001>l?(q*(r-f)+(m-r)*(p-k))/u:2};d.FA=function(f,k,g,l,m,q,r,p,u){const t=(r-m)*u;u*=p-q;return d.Hma(f,k,g,l,m-t,q-u,r+t,p+u)};d.fma=function(f,k,g,l,m,q,r,p){m-=
g;q-=l;r-=g;p-=l;f-=g;g=k-l;k=m*m+q*q;l=m*r+q*p;m=m*f+q*g;q=r*r+p*p;r=r*f+p*g;p=1/(k*q-l*l);q=(q*m-l*r)*p;m=(k*r-l*m)*p;return 0<=q&&0<=m&&1>=q+m};d.bna=function(f,k,g,l,m,q,r,p){m-=g;q-=l;r-=g;p-=l;f-=g;const u=k-l;k=m*m+q*q;l=m*r+q*p;g=r*r+p*p;m=f*m+u*q;q=f*r+u*p;r=k*g-l*l;p=(g*m-l*q)/r;m=(k*q-l*m)/r;return[1-p-m,p,m]};d.ana=function(f,k,g,l,m,q,r,p,u){return[f*l+k*q+g*p,f*m+k*r+g*u]}}
{"use strict";const d=self.C;let a=null,b="";if("undefined"!==typeof document){a=document;const l=document.querySelector("base");if(b=l&&l.hasAttribute("href")?l.getAttribute("href"):"")b.startsWith("/")&&(b=b.substr(1)),b.endsWith("/")||(b+="/")}d.Wpa=function(){return b};d.OH=function(){if(!a)return"";const l=a.location;return d.i5(l.origin+l.pathname)+b};d.i5=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
m?"":l.substr(0,m+1)};d.Ypa=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const m=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===m?l:l.substr(m+1)};d.A4=function(l){let m=l.lastIndexOf(".");return 1>m?"":l.substr(m)};d.yB=function(l){let m=l.lastIndexOf(".");return 1>m?l:l.substr(0,m)};d.P7=function(l){return l.replace(/\\/g,"/")};d.Oqa=function(l,m){return m===(l?d.A4(l).slice(1):"")};d.Apa=function(l,m){let q,r;d.II(l)&&(q=d.yB(l.name));d.Lj(l)&&(q=
d.yB(l));d.II(m)&&(r=d.yB(m.name));d.Lj(m)&&(r=d.yB(m));return q===r};d.Esa=function(l){l=d.P7(l);let m=/^\w:\//.exec(l);m?(m=m[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):m="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,u="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(u=p.slice(q),l=p.slice(0,-u.length));return{dir:r,Iya:p,name:l,root:m,ext:u,vza:m+r+p}};d.$J=function(l,m){return new Promise(q=>{self.setTimeout(q,
l,m)})};d.vBa=function(l){try{l()}catch(m){d.Bv&&console.warn("Swallowed exception: ",m)}};d.vAa=function(){};d.lf=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m||l.normalize().toLowerCase()===m.normalize().toLowerCase()};d.eza=function(l,m){return"string"!==typeof l||"string"!==typeof m?!1:l===m?!0:l.normalize()===m.normalize()};d.cna=function(l,m){var q=0;l[q++]=m[0];l[q++]=m[1];l[q++]=m[2];l[q++]=m[3];l[q++]=m[4];l[q++]=m[5];l[q++]=m[6];l[q++]=m[7];l[q++]=m[8];l[q++]=m[9];
l[q++]=m[10];l[q++]=m[11];l[q++]=m[12];l[q++]=m[13];l[q++]=m[14];l[q]=m[15]};d.Ad=function(l,m){l.length=m};d.G=function(l){l&&0!==l.length&&d.Ad(l,0)};d.tla=function(l){if(l){for(let m=0;m<l.length;m++)d.Ad(l[m],0);d.Ad(l,0)}};d.IG=function(l,m,q){m|=0;var r=l.length;if(!(m<=r))for(;r<m;++r)l.push(q)};d.WG=function(l,m,q){m|=0;const r=l.length;m<r?d.Ad(l,m):m>r&&d.IG(l,m,q)};d.nd=function(l,m){d.G(l);d.$l(l,m)};d.$l=function(l,m){if(1E4>m.length)l.push(...m);else for(let q=0,r=m.length;q<r;++q)l.push(m[q])};
d.kla=function(l,m){m=Math.floor(m);if(!(0>m||m>=l.length)){for(var q=l.length-1;m<q;++m)l[m]=l[m+1];d.Ad(l,q)}};d.Fs=function(l,m){m=l.indexOf(m);0<=m&&l.splice(m,1)};d.Hya=function(l,m){let q=l.length;if(m.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==m[r])return!1;return!0};d.jla=function(l,m){let q=[],r=0;for(let p=0,u=l.length;p<u;++p){let t=l[p];m(t)?q.push(t):(l[r]=t,++r)}d.Ad(l,r);return q};d.ji=function(l,m){const q=l.length;let r=0;for(let p=0,u=l.length;p<u;++p){let t=l[p];m.has(t)||
(l[r++]=t)}d.Ad(l,r);return q-r};d.$la=function(l,m){return l!==Math.floor(l)?!1:0<=l&&l<m.length};d.PBa=function(l,m){if(!d.$la(l,m))throw new RangeError("array index out of bounds");};d.DG=function(l){return l.slice()};d.yla=function(l,m){let q=[];for(let r of l)if(d.nS(r)){l=m(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.rq(r)?q.push(d.yla(r,m)):q.push(r);return q};d.Tya=function(l){let m=[];for(let q of l)m.push(q.slice());
return m};d.rAa=function(l,m){return new Set([...l,...m])};d.sAa=function(l,m){for(const q of m)l.add(q);return l};d.first=function(l){for(let m of l)return m;return null};d.xor=function(l,m){return!l!==!m};d.compare=function(l,m,q){switch(m){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.Iza=function(l){for(let m in l)if(l.hasOwnProperty(m))return!0;return!1};d.i9=function(l,m){return l.length?new Promise((q,
r)=>{const p=[];let u=0,t=!1;for(let w=0,x=l.length;w<x;++w)p.push(void 0),l[w].then(z=>{t||(p[w]=z,++u,u===l.length?q(p):m(u,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let e=[];d.Bna=function(l){e.push(l)};d.Xpa=function(){let l=0;for(let m of e){let q=m();l+=q}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const m=f.get(l);f.delete(l);m&&m(performance.now())};d.kJ=function(l){const m=c++;f.set(m,l);k.port1.postMessage(m);
return m};d.E1=function(l){f.delete(l)};d.e9=d.kJ;d.tba=function(){return new Promise(l=>d.e9(l))};const g=new Set;d.Xta=function(l){const m=self.requestAnimationFrame(async q=>{await d.tba();g.has(m)&&(g.delete(m),l(q))});g.add(m);return m};d.uoa=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.C;d.FI=function(a){return/^(?:[a-z\-]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};d.SI=function(a){return!d.FI(a)};d.Xaa=function(a){if(!a.ok)throw Error(`fetch '${a.url}' response returned ${a.status} ${a.statusText}`);};d.kB=function(a){return fetch(a,void 0).then(b=>{d.Xaa(b);return b})};d.aw=function(a){return d.kB(a).then(b=>b.text())};d.VQ=function(a){return d.kB(a).then(b=>b.json())};d.km=function(a){return d.kB(a).then(b=>b.blob())};d.$v=
function(a){return d.kB(a).then(b=>b.arrayBuffer())};d.S3=function(a){return new Promise((b,e)=>{const c=new Image;c.onload=()=>b(c);c.onerror=f=>e(f);c.src=a})};d.w1=function(a){return"function"===typeof a.arrayBuffer?a.arrayBuffer():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(a)})};d.lQ=function(a){return"function"===typeof a.text?a.text():new Promise((b,e)=>{const c=new FileReader;c.onload=()=>b(c.result);c.onerror=()=>e(c.error);
c.readAsText(a)})};d.ooa=function(a){return d.lQ(a).then(b=>JSON.parse(b))};d.kQ=async function(a,b){a=URL.createObjectURL(a);try{const e=await d.S3(a);URL.revokeObjectURL(a);a="";b&&"function"===typeof e.decode&&await e.decode();return e}finally{a&&URL.revokeObjectURL(a)}};d.nf=function(a,b){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=a;e.height=b;return e}return new OffscreenCanvas(a,b)};d.Uv=function(a,b,e){"number"!==
typeof e&&(e=1);b=b||"image/png";e=d.aa(e,0,1);return a.toBlob?new Promise(c=>a.toBlob(c,b,e)):a.convertToBlob?a.convertToBlob({type:b,quality:e}):d.hm(()=>d.wQ(a,b,e))};d.wQ=function(a,b,e){"number"!==typeof e&&(e=1);b=b||"image/png";e=d.aa(e,0,1);return d.p2(a.toDataURL(b,e))};d.p2=function(a){a=d.V8(a);return d.v1(a.data,a.rma)};d.V8=function(a){if("data:"!==a.substr(0,5))throw new URIError("expected data: uri");var b=a.indexOf(",");if(0>b)throw new URIError("expected comma in data: uri");var e=
a.substring(b+1);b=a.substring(5,b).split(";");a=b[0]||"";let c=b[2];e="base64"===b[1]||"base64"===c?atob(e):decodeURIComponent(e);return{rma:a,data:e}};d.v1=function(a,b){var e=a.length;let c=e>>2,f=new Uint8Array(e),k=new Uint32Array(f.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;for(e&=3;e--;)f[l]=a.charCodeAt(l),++l;return b?new Blob([f],{type:b}):new Blob([f])};d.NQ=function(a){const b=d.nf(a.width,a.height);b.getContext("2d").drawImage(a,
0,0);return d.Uv(b,void 0,void 0)};d.iqa=function(a,b,e){const c=d.nf(a.width,a.height);c.getContext("2d").putImageData(a,0,0);return d.wQ(c,b,e)};d.c6=function(a){if(d.dc.ImageBitmapOptions)return createImageBitmap(a,{premultiplyAlpha:"none"}).then(b=>d.NQ(b));if(d.dc.ImageBitmap)return createImageBitmap(a).then(b=>d.NQ(b));{const b=d.nf(a.width,a.height);b.getContext("2d").putImageData(a,0,0);return d.Uv(b,void 0,void 0)}};d.Z1=function(a,b){a.clear();for(const e of b)a.add(e)};d.Jra=function(a){const b=
Object.create(null);for(const [e,c]of a.entries())b[e]=c;return b};d.esa=function(a,b){b.clear();for(const [e,c]of Object.entries(a))b.set(e,c)};d.YJ=function e(b){if("object"===typeof b&&null!==b){if(b instanceof Set)return{_c3type_:"set",data:[...b].map(c=>e(c))};if(b instanceof Map)return{_c3type_:"map",data:[...b].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(b))c[f]=e(k);return c}}return b};d.JH=function c(e){if("object"===typeof e&null!==e){if("set"===
e._c3type_)return new Set(e.data.map(f=>c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,g]of Object.entries(e))f[k]=c(g);return f}}return e};d.z1=function(e){let c="",f=!1;for(const k of e)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};d.jo=function(e){return"object"===typeof e&&"function"===typeof e.next};d.F7=function(e){const c=[];for(let f=0;f<e;++f)c.push(0);return c}}
{"use strict";const d=self.C,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(f-c)*k:.5>k?f:k<2/3?c+(f-c)*(2/3-k)*6:c}d.Ua=class{constructor(c,f,k,g){this.$a=this.Va=this.Xa=this.Ya=0;c instanceof d.Ua?this.set(c):this.Wp(c||0,f||0,k||0,g||0)}Vp(c,f,k){this.Ya=+c;this.Xa=+f;this.Va=+k;this.aa()}Wp(c,f,k,g){this.Ya=+c;this.Xa=+f;this.Va=+k;this.$a=+g;this.aa()}set(c){this.Ya=c.Ya;this.Xa=c.Xa;this.Va=c.Va;
this.$a=c.$a;return this}ua(c){return this.set(c)}add(c){this.Ya+=c.Ya;this.Xa+=c.Xa;this.Va+=c.Va;this.$a+=c.$a;this.aa()}z_(c,f,k){this.Ya+=+c;this.Xa+=+f;this.Va+=+k;this.$a+=0;this.aa()}qj(c){this.Ya=c.Ya;this.Xa=c.Xa;this.Va=c.Va}Ls(c){this.Ya=d.aa(+c,0,1)}Ks(c){this.Xa=d.aa(+c,0,1)}Is(c){this.Va=d.aa(+c,0,1)}gh(c){this.$a=d.aa(+c,0,1)}clone(){return d.D(d.Ua,this.Ya,this.Xa,this.Va,this.$a)}toArray(){return[this.Ya,this.Xa,this.Va,this.$a]}hh(c,f){c[f++]=this.Ya;c[f++]=this.Xa;c[f++]=this.Va;
c[f]=this.$a}Wc(c){return this.Ya===c.Ya&&this.Xa===c.Xa&&this.Va===c.Va&&this.$a===c.$a}cm(c){return this.Ya===c.Ya&&this.Xa===c.Xa&&this.Va===c.Va}sA(c,f,k,g){return this.Ya===c&&this.Xa===f&&this.Va===k&&this.$a===g}multiply(c){this.Ya*=c.Ya;this.Xa*=c.Xa;this.Va*=c.Va;this.$a*=c.$a}tma(c){this.Ya*=c;this.Xa*=c;this.Va*=c;this.$a*=c}EA(){this.Ya*=this.$a;this.Xa*=this.$a;this.Va*=this.$a}aa(){this.Ya=d.aa(this.Ya,0,1);this.Xa=d.aa(this.Xa,0,1);this.Va=d.aa(this.Va,0,1);this.$a=d.aa(this.$a,0,1);
return this}Js(c){this.Ya=d.mI(c);this.Xa=d.$H(c);this.Va=d.NH(c);this.$a=d.a4(c)}Ola(){return`rgb(${100*(d.fo(void 0)?NaN:this.Ya)}%, ${100*(d.fo(void 0)?NaN:this.Xa)}%, ${100*(d.fo(void 0)?NaN:this.Va)}%)`}Cma(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;
isFinite(f)&&this.Ls(f);isFinite(k)&&this.Ks(k);isFinite(c)&&this.Is(c);this.gh(1)}}TG(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.Ls(c);isFinite(k)&&this.Ks(k);isFinite(f)&&this.Is(f);this.gh(1)}}}i0(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),
10)/100;f=parseInt(f[2].trim(),10)/100;isFinite(c)&&this.Ls(c);isFinite(k)&&this.Ks(k);isFinite(f)&&this.Is(f);this.gh(1)}}}k0(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.Ls(c);isFinite(k)&&this.Ks(k);isFinite(g)&&this.Is(g);isFinite(f)&&this.gh(f)}}}j0(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");
var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.Ls(c);isFinite(k)&&this.Ks(k);isFinite(g)&&this.Is(g);isFinite(f)&&this.gh(f)}}}l0(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.i0(c):this.TG(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.j0(c):this.k0(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.Bma(c);
return}{const f=c.split(",");if(c.includes("%")){if(3===f.length){this.i0(c);return}4===f.length&&this.j0(c)}else{if(3===f.length){this.TG(c);return}4===f.length&&this.k0(c)}return}}this.Cma(c)}}toJSON(){return[this.Ya,this.Xa,this.Va,this.$a]}u0(c,f,k,g){c%=360;f=d.aa(f,0,100);k=d.aa(k,0,100);g=d.aa(g,0,1);c/=360;f/=100;k/=100;if(0===f)k=f=c=k;else{const l=.5>k?k*(1+f):k+f-k*f,m=2*k-l;k=e(m,l,c+1/3);f=e(m,l,c);c=e(m,l,c-1/3)}this.Ls(k);this.Ks(f);this.Is(c);this.gh(g)}Bma(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=a.exec(f);f=b.exec(f);c&&4===c.length?this.u0(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.u0(+c[1],+c[2],+c[3],+c[4])}uj(c){!Array.isArray(c)||3>c.length||(this.Ya=c[0],this.Xa=c[1],this.Va=c[2],this.$a=4<=c.length?c[3]:1)}set r(c){this.Ls(c)}get r(){return this.Ya}set Nla(c){this.Ks(c)}get Nla(){return this.Xa}set mla(c){this.Is(c)}get mla(){return this.Va}set Kp(c){this.gh(c)}get Kp(){return this.$a}static CH(c,f){return d.aa(Math.max(c,f)-Math.min(c,f),0,1)}};d.Ua.iya=Object.freeze(d.D(d.Ua,
1,1,1,1));d.Ua.noa=Object.freeze(d.D(d.Ua,0,0,0,1));d.Ua.Ixa=Object.freeze(d.D(d.Ua,0,0,0,0))}
{"use strict";const d=self.C;d.xx=class{constructor(a,b){this.S=this.W=0;a instanceof d.xx?this.ua(a):this.set(a||0,b||0)}set(a,b){this.W=+a;this.S=+b}ua(a){this.W=a.W;this.S=a.S}Wc(a){return this.W===a.W&&this.S===a.S}toArray(){return[this.W,this.S]}hh(a,b){a[b++]=this.W;a[b]=this.S}offset(a,b){this.W+=+a;this.S+=+b}scale(a,b){this.W*=a;this.S*=b}am(a,b){this.W/=a;this.S/=b}round(){this.W=Math.round(this.W);this.S=Math.round(this.S)}floor(){this.W=Math.floor(this.W);this.S=Math.floor(this.S)}ceil(){this.W=
Math.ceil(this.W);this.S=Math.ceil(this.S)}angle(){return d.Gd(0,0,this.W,this.S)}lma(){return this.W*this.W+this.S*this.S}length(){return Math.sqrt(this.lma())}Kma(a,b){const e=this.W*b-this.S*a;this.S=this.S*b+this.W*a;this.W=e}rotate(a){0!==a&&this.Kma(Math.sin(a),Math.cos(a))}move(a,b){0!==b&&(this.W+=Math.cos(a)*b,this.S+=Math.sin(a)*b)}normalize(){const a=this.length();0!==a&&1!==a&&(this.W/=a,this.S/=a)}aa(a,b){this.W=d.aa(this.W,a,b);this.S=d.aa(this.S,a,b)}}}
{"use strict";const d=self.C;d.Rect=class{constructor(a,b,e,c){this.X=this.Z=this.O=this.T=0;a instanceof d.Rect?this.ua(a):this.set(a||0,b||0,e||0,c||0)}set(a,b,e,c){this.T=+a;this.O=+b;this.Z=+e;this.X=+c}vj(a,b,e,c){a=+a;b=+b;this.T=a;this.O=b;this.Z=a+ +e;this.X=b+ +c}ua(a){this.T=+a.T;this.O=+a.O;this.Z=+a.Z;this.X=+a.X}clone(){return new d.Rect(this.T,this.O,this.Z,this.X)}Wc(a){return this.T===a.T&&this.O===a.O&&this.Z===a.Z&&this.X===a.X}Pma(a){this.Z=+a}toArray(){return[this.T,this.O,this.Z,
this.X]}Wma(){new DOMRect(this.T,this.O,this.width(),this.height())}hh(a,b){a[b++]=this.T;a[b++]=this.O;a[b++]=this.Z;a[b]=this.X}ena(a,b){a[b++]=this.T;a[b++]=this.O;a[b++]=this.Z;a[b++]=this.O;a[b++]=this.Z;a[b++]=this.X;a[b++]=this.T;a[b]=this.X}width(){return this.Z-this.T}height(){return this.X-this.O}ki(){return(this.T+this.Z)/2}li(){return(this.O+this.X)/2}offset(a,b){a=+a;b=+b;this.T+=a;this.O+=b;this.Z+=a;this.X+=b}offsetLeft(a){this.T+=+a}offsetTop(a){this.O+=+a}yma(a){this.Z+=+a}xma(a){this.X+=
+a}LG(a,b){a=+a;b=+b;this.T-=a;this.O-=b;this.Z+=a;this.X+=b}multiply(a,b){this.T*=a;this.O*=b;this.Z*=a;this.X*=b}am(a,b){this.T/=a;this.O/=b;this.Z/=a;this.X/=b}Uma(){const a=this.T;this.T=this.Z;this.Z=a}Ms(){const a=this.O;this.O=this.X;this.X=a}XP(a){const b=this.O;this.O=+a-this.X;this.X=+a-b}round(){this.T=Math.round(this.T);this.O=Math.round(this.O);this.Z=Math.round(this.Z);this.X=Math.round(this.X)}Lma(){this.T=Math.floor(this.T);this.O=Math.floor(this.O);this.Z=Math.ceil(this.Z);this.X=
Math.ceil(this.X)}floor(){this.T=Math.floor(this.T);this.O=Math.floor(this.O);this.Z=Math.floor(this.Z);this.X=Math.floor(this.X)}ceil(){this.T=Math.ceil(this.T);this.O=Math.ceil(this.O);this.Z=Math.ceil(this.Z);this.X=Math.ceil(this.X)}aa(a,b,e,c){this.T<a&&(this.T=+a);this.O<b&&(this.O=+b);this.Z>e&&(this.Z=+e);this.X>c&&(this.X=+c)}I_(){0>this.T&&(this.T=0);1<this.O&&(this.O=1);1<this.Z&&(this.Z=1);0>this.X&&(this.X=0)}normalize(){this.T>this.Z&&this.Uma();this.O>this.X&&this.Ms()}wA(a){return!(a.Z<
this.T||a.X<this.O||a.T>this.Z||a.O>this.X)}Zla(a,b,e){return!(a.Z+b<this.T||a.X+e<this.O||a.T+b>this.Z||a.O+e>this.X)}vg(a,b){return a>=this.T&&a<=this.Z&&b>=this.O&&b<=this.X}Hla(a){a.T<this.T&&(this.T=+a.T);a.O<this.O&&(this.O=+a.O);a.Z>this.Z&&(this.Z=+a.Z);a.X>this.X&&(this.X=+a.X)}mma(a){this.T=d.Hd(a.T,a.Z,this.T);this.O=d.Hd(a.O,a.X,this.O);this.Z=d.Hd(a.T,a.Z,this.Z);this.X=d.Hd(a.O,a.X,this.X)}}}
{"use strict";const d=self.C;d.Ic=class{constructor(a,b,e,c,f,k,g,l){this.vc=this.uc=this.xc=this.wc=this.Cc=this.Bc=this.Ab=this.zb=0;a instanceof d.Ic?this.ua(a):this.set(a||0,b||0,e||0,c||0,f||0,k||0,g||0,l||0)}set(a,b,e,c,f,k,g,l){this.zb=+a;this.Ab=+b;this.Bc=+e;this.Cc=+c;this.wc=+f;this.xc=+k;this.uc=+g;this.vc=+l}v0(a,b,e,c){this.set(a,b,e,b,e,c,a,c)}ua(a){this.zb=a.zb;this.Ab=a.Ab;this.Bc=a.Bc;this.Cc=a.Cc;this.wc=a.wc;this.xc=a.xc;this.uc=a.uc;this.vc=a.vc}Wc(a){return this.zb===a.zb&&this.Ab===
a.Ab&&this.Bc===a.Bc&&this.Cc===a.Cc&&this.wc===a.wc&&this.xc===a.xc&&this.uc===a.uc&&this.vc===a.vc}toArray(){return[this.zb,this.Ab,this.Bc,this.Cc,this.wc,this.xc,this.uc,this.vc]}hh(a,b){a[b++]=this.zb;a[b++]=this.Ab;a[b++]=this.Bc;a[b++]=this.Cc;a[b++]=this.wc;a[b++]=this.xc;a[b++]=this.uc;a[b]=this.vc}fna(a,b,e){a[b++]=this.zb;a[b++]=this.Ab;a[b++]=e;a[b++]=this.Bc;a[b++]=this.Cc;a[b++]=e;a[b++]=this.wc;a[b++]=this.xc;a[b++]=e;a[b++]=this.uc;a[b++]=this.vc;a[b]=e}offset(a,b){a=+a;b=+b;this.zb+=
a;this.Ab+=b;this.Bc+=a;this.Cc+=b;this.wc+=a;this.xc+=b;this.uc+=a;this.vc+=b}round(){this.zb=Math.round(this.zb);this.Ab=Math.round(this.Ab);this.Bc=Math.round(this.Bc);this.Cc=Math.round(this.Cc);this.wc=Math.round(this.wc);this.xc=Math.round(this.xc);this.uc=Math.round(this.uc);this.vc=Math.round(this.vc)}floor(){this.zb=Math.floor(this.zb);this.Ab=Math.floor(this.Ab);this.Bc=Math.floor(this.Bc);this.Cc=Math.floor(this.Cc);this.wc=Math.floor(this.wc);this.xc=Math.floor(this.xc);this.uc=Math.floor(this.uc);
this.vc=Math.floor(this.vc)}ceil(){this.zb=Math.ceil(this.zb);this.Ab=Math.ceil(this.Ab);this.Bc=Math.ceil(this.Bc);this.Cc=Math.ceil(this.Cc);this.wc=Math.ceil(this.wc);this.xc=Math.ceil(this.xc);this.uc=Math.ceil(this.uc);this.vc=Math.ceil(this.vc)}yg(a){this.zb=a.T;this.Ab=a.O;this.Bc=a.Z;this.Cc=a.O;this.wc=a.Z;this.xc=a.X;this.uc=a.T;this.vc=a.X}WP(a,b){0===b?this.yg(a):this.YG(a,Math.sin(b),Math.cos(b))}YG(a,b,e){const c=a.T*b,f=a.O*b,k=a.Z*b;b*=a.X;const g=a.T*e,l=a.O*e,m=a.Z*e;a=a.X*e;this.zb=
g-f;this.Ab=l+c;this.Bc=m-f;this.Cc=l+k;this.wc=m-b;this.xc=a+k;this.uc=g-b;this.vc=a+c}rP(a){a.set(Math.min(this.zb,this.Bc,this.wc,this.uc),Math.min(this.Ab,this.Cc,this.xc,this.vc),Math.max(this.zb,this.Bc,this.wc,this.uc),Math.max(this.Ab,this.Cc,this.xc,this.vc))}vg(a,b){var e=this.Bc-this.zb,c=this.Cc-this.Ab;const f=this.wc-this.zb,k=this.xc-this.Ab;a-=this.zb;b-=this.Ab;var g=e*e+c*c;let l=e*f+c*k;c=e*a+c*b;const m=f*f+k*k,q=f*a+k*b;let r=1/(g*m-l*l);e=(m*c-l*q)*r;g=(g*q-l*c)*r;if(0<=e&&0<
g&&1>e+g)return!0;e=this.uc-this.zb;c=this.vc-this.Ab;g=e*e+c*c;l=e*f+c*k;c=e*a+c*b;r=1/(g*m-l*l);e=(m*c-l*q)*r;g=(g*q-l*c)*r;return 0<=e&&0<g&&1>e+g}ki(){return(this.zb+this.Bc+this.wc+this.uc)/4}li(){return(this.Ab+this.Cc+this.xc+this.vc)/4}uP(a){var b=a.ki(),e=a.li();if(this.vg(b,e))return!0;b=this.ki();e=this.li();if(a.vg(b,e))return!0;b=this.zb;e=this.Ab;const c=this.Bc,f=this.Cc,k=this.wc,g=this.xc,l=this.uc,m=this.vc;return d.XG(b,e,c,f,a)||d.XG(c,f,k,g,a)||d.XG(k,g,l,m,a)||d.XG(l,m,b,e,a)}Jma(){const a=
this.zb,b=this.Ab;this.zb=this.Bc;this.Ab=this.Cc;this.Bc=this.wc;this.Cc=this.xc;this.wc=this.uc;this.xc=this.vc;this.uc=a;this.vc=b}}}
{"use strict";const d=self.C,a=[0,0,1,0,1,1,0,1],b=d.D(d.Ic);d.Tn=class extends d.qa{constructor(e,c=!0){super();e||(e=a);this.Ac=Float64Array.from(e);this.Ho=new d.Rect;this.Mr=!0;this.Oh=c}A(){}Gv(){return this.Ac.length/2}ZG(e){this.Ac.length===e.length?this.Ac.set(e):this.Ac=Float64Array.from(e);this.Mr=!0}Oma(){this.ZG(a)}ua(e){this.ZG(e.Ac)}UP(){this.Mr=!0}Xka(){if(this.Mr){var e=this.Ac,c=e[0],f=e[1],k=c,g=f;for(let l=0,m=e.length;l<m;l+=2){const q=e[l],r=e[l+1];q<c&&(c=q);q>k&&(k=q);r<f&&
(f=r);r>g&&(g=r)}this.Ho.set(c,f,k,g);this.Mr=!1}}yg(e,c,f){let k=this.Ac;8!==k.length&&(this.Ac=k=new Float64Array(8));k[0]=e.T-c;k[1]=e.O-f;k[2]=e.Z-c;k[3]=e.O-f;k[4]=e.Z-c;k[5]=e.X-f;k[6]=e.T-c;k[7]=e.X-f;this.Ho.ua(e);0===c&&0===f||this.Ho.offset(-c,-f);this.Mr=!1}VP(e,c,f){b.ua(e);b.offset(c,f);this.ZG(b.toArray());this.Mr=!0}transform(e,c,f){let k=0,g=1;0!==f&&(k=Math.sin(f),g=Math.cos(f));this.dQ(e,c,k,g)}dQ(e,c,f,k){const g=this.Ac;for(let l=0,m=g.length;l<m;l+=2){const q=l+1,r=g[l]*e,p=g[q]*
c;g[l]=r*k-p*f;g[q]=p*k+r*f}this.Mr=!0}offset(e,c){const f=this.Ac;for(let k=0,g=f.length;k<g;k+=2)f[k]+=e,f[k+1]+=c}vg(e,c){const f=this.Ac;if(e===f[0]&&c===f[1])return!0;this.Xka();var k=this.Ho;const g=k.T-110,l=k.O-101,m=k.Z+131;k=k.X+120;let q,r,p,u,t,w,x,z;g<e?(q=g,p=e):(q=e,p=g);l<c?(r=l,u=c):(r=c,u=l);m<e?(t=m,x=e):(t=e,x=m);k<c?(w=k,z=c):(w=c,z=k);let D=0,G=0;for(let B=0,H=f.length;B<H;B+=2){var N=(B+2)%H;const I=f[B],K=f[B+1],Q=f[N];N=f[N+1];d.Pn(g,l,e,c,q,p,r,u,I,K,Q,N)&&++D;d.Pn(m,k,e,
c,t,x,w,z,I,K,Q,N)&&++G}return 1===D%2||1===G%2}vA(e,c,f){const k=e.Ac,g=this.Ac;if(this.vg(k[0]+c,k[1]+f)||e.vg(g[0]-c,g[1]-f))return!0;for(let m=0,q=g.length;m<q;m+=2){var l=(m+2)%q;e=g[m];const r=g[m+1],p=g[l];l=g[l+1];let u,t,w,x;e<p?(u=e,w=p):(u=p,w=e);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,D=k.length;z<D;z+=2){const G=(z+2)%D;if(d.Pn(e,r,p,l,u,w,t,x,k[z]+c,k[z+1]+f,k[G]+c,k[G+1]+f))return!0}}return!1}c5(){const e=this.Ac;let c=0;for(let f=0,k=e.length;f<k;f+=2)c+=e[f];return c/this.Gv()}d5(){const e=
this.Ac;let c=0;for(let f=0,k=e.length;f<k;f+=2)c+=e[f+1];return c/this.Gv()}k5(){return this.Gv()}wf(){return this.Oh}}}
{"use strict";const d=self.C;d.Ow=class extends d.qa{constructor(a){super();this.Il=new Map;if(a)for(const [b,e,c]of a)this.Set(b,e,c)}A(){this.Zc();this.Il=null}Zc(){const a=this.Il;for(const b of a.values())b.clear();a.clear()}Set(a,b,e){const c=this.Il;let f=c.get(a);f||(f=new Map,c.set(a,f));f.set(b,e)}la(a,b){return(a=this.Il.get(a))?a.get(b):a}RB(a){return(a=this.Il.get(a))?a.has(void 0):!1}$p(a,b){const e=this.Il,c=e.get(a);c&&c.delete(b)&&0===c.size&&e.delete(a)}MQ(a){const b=this.Il,e=b.get(a);
e&&(e.clear(),b.delete(a));for(const [c,f]of b.entries())f.delete(a)&&0===f.size&&b.delete(c)}Jj(){let a=0;for(const b of this.Il.values())a+=b.size;return a}*values(){for(const a of this.Il.values())yield*a.values()}*entries(){for(const [a,b]of this.Il.entries())for(const [e,c]of b.entries())yield[a,e,c]}}}
{"use strict";const d=self.C;d.mH=class extends d.qa{constructor(){super();this.sp=new Set;this.FD=[];this.Az=!1}A(){this.Zc()}Zc(){this.sp.clear();d.G(this.FD);this.Az=!1}Yc(a){this.sp.has(a)||(this.sp.add(a),this.Az||this.FD.push(a))}RB(a){return this.sp.has(a)}$p(a){this.sp.delete(a)&&(this.Az=!0)}Jj(){return this.sp.size}tq(){return 0===this.sp.size}MH(){this.Az&&(this.Zga(),this.Az=!1);return this.FD}Zga(){const a=this.FD;d.G(a);for(const b of this.sp)a.push(b)}}}
{"use strict";const d=new Map,a=new Map,b=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.Yv=class k{constructor(){}static X6(g){this.kK();return[...a.keys()].includes(g)}static sea(g){const l=f.get(g);if(l)return d.get(l);if(k.X6(g))return d.get(g);if(c.has(g))return c.get(g)}static iq(g){this.kK();const l=k.sea(g);return l?l:e.get(g)}static kK(){0===d.size&&(this.Mb("default",()=>{}),this.Mb("noease",this.O7),this.Mb("easeinsine",this.x3),this.Mb("easeoutsine",
this.G3),this.Mb("easeinoutsine",this.t3),this.Mb("easeinelastic",this.i3),this.Mb("easeoutelastic",this.B3),this.Mb("easeinoutelastic",this.o3),this.Mb("easeinback",this.f3),this.Mb("easeoutback",this.y3),this.Mb("easeinoutback",this.k3),this.Mb("easeinbounce",this.OQ),this.Mb("easeoutbounce",this.EH),this.Mb("easeinoutbounce",this.l3),this.Mb("easeincubic",this.h3),this.Mb("easeoutcubic",this.A3),this.Mb("easeinoutcubic",this.n3),this.Mb("easeinquad",this.u3),this.Mb("easeoutquad",this.D3),this.Mb("easeinoutquad",
this.q3),this.Mb("easeinquart",this.v3),this.Mb("easeoutquart",this.E3),this.Mb("easeinoutquart",this.r3),this.Mb("easeinquint",this.w3),this.Mb("easeoutquint",this.F3),this.Mb("easeinoutquint",this.s3),this.Mb("easeincirc",this.g3),this.Mb("easeoutcirc",this.z3),this.Mb("easeinoutcirc",this.m3),this.Mb("easeinexpo",this.j3),this.Mb("easeoutexpo",this.C3),this.Mb("easeinoutexpo",this.p3),this.JU("cubicbezier",this.e3),this.JU("spline",this.H3))}static Mb(g,l){k.bK(g,l,"predefined")}static JU(g,l){k.bK(g,
l,"private")}static R0(g,l){this.kK();k.bK(g,l,"custom",void 0)}static bK(g,l,m,q){switch(m){case "predefined":d.set(g,l);a.set(g,l);break;case "custom":q?(b.has(q)||b.set(q,new Map),b.get(q).set(g,l)):e.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static O7(g,l,m,q){return m*g/q+l}static u3(g,l,m,q){return m*(g/=q)*g+l}static D3(g,l,m,q){return-m*(g/=q)*(g-2)+l}static q3(g,l,m,q){return 1>(g/=q/2)?m/2*g*g+l:-m/2*(--g*(g-2)-1)+l}static h3(g,
l,m,q){return m*(g/=q)*g*g+l}static A3(g,l,m,q){return m*((g=g/q-1)*g*g+1)+l}static n3(g,l,m,q){return 1>(g/=q/2)?m/2*g*g*g+l:m/2*((g-=2)*g*g+2)+l}static v3(g,l,m,q){return m*(g/=q)*g*g*g+l}static E3(g,l,m,q){return-m*((g=g/q-1)*g*g*g-1)+l}static r3(g,l,m,q){return 1>(g/=q/2)?m/2*g*g*g*g+l:-m/2*((g-=2)*g*g*g-2)+l}static w3(g,l,m,q){return m*(g/=q)*g*g*g*g+l}static F3(g,l,m,q){return m*((g=g/q-1)*g*g*g*g+1)+l}static s3(g,l,m,q){return 1>(g/=q/2)?m/2*g*g*g*g*g+l:m/2*((g-=2)*g*g*g*g+2)+l}static x3(g,
l,m,q){return-m*Math.cos(g/q*(Math.PI/2))+m+l}static G3(g,l,m,q){return m*Math.sin(g/q*(Math.PI/2))+l}static t3(g,l,m,q){return-m/2*(Math.cos(Math.PI*g/q)-1)+l}static j3(g,l,m,q){return 0===g?l:m*Math.pow(2,10*(g/q-1))+l}static C3(g,l,m,q){return g===q?l+m:m*(-Math.pow(2,-10*g/q)+1)+l}static p3(g,l,m,q){return 0===g?l:g===q?l+m:1>(g/=q/2)?m/2*Math.pow(2,10*(g-1))+l:m/2*(-Math.pow(2,-10*--g)+2)+l}static g3(g,l,m,q){return-m*(Math.sqrt(1-(g/=q)*g)-1)+l}static z3(g,l,m,q){return m*Math.sqrt(1-(g=g/q-
1)*g)+l}static m3(g,l,m,q){return 1>(g/=q/2)?-m/2*(Math.sqrt(1-g*g)-1)+l:m/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static i3(g,l,m,q){let r=0,p=m;if(0===g)return l;if(1===(g/=q))return l+m;r||(r=.3*q);p<Math.abs(m)?(p=m,m=r/4):m=r/(2*Math.PI)*Math.asin(m/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-m)*Math.PI/r))+l}static B3(g,l,m,q){let r,p=0,u=m;if(0===g)return l;if(1===(g/=q))return l+m;p||(p=.3*q);u<Math.abs(m)?(u=m,r=p/4):r=p/(2*Math.PI)*Math.asin(m/u);return u*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+m+l}static o3(g,l,m,q){let r,p=0,u=m;if(0===g)return l;if(2===(g/=q/2))return l+m;p||(p=.3*q*1.5);u<Math.abs(m)?(u=m,r=p/4):r=p/(2*Math.PI)*Math.asin(m/u);return 1>g?-.5*u*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+l:u*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+m+l}static f3(g,l,m,q,r){void 0===r&&(r=1.70158);return m*(g/=q)*g*((r+1)*g-r)+l}static y3(g,l,m,q,r){void 0===r&&(r=1.70158);return m*((g=g/q-1)*g*((r+1)*g+r)+1)+l}static k3(g,l,m,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?m/2*g*g*(((r*=1.525)+1)*g-r)+l:m/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+l}static OQ(g,l,m,q){return m-k.EH(q-g,0,m,q)+l}static EH(g,l,m,q){return(g/=q)<1/2.75?7.5625*m*g*g+l:g<2/2.75?m*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?m*(7.5625*(g-=2.25/2.75)*g+.9375)+l:m*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static l3(g,l,m,q){return g<q/2?.5*k.OQ(2*g,0,m,q)+l:.5*k.EH(2*g-q,0,m,q)+.5*m+l}static e3(g,l,m,q,r){return l+3*g*(m-l)+3*g**2*(l+q-2*m)+g**3*(r-l+3*m-3*q)}static H3(g,l,m,q,r,p,u,t,w,x){if(q===
r&&p===u)return g;if(1==g)g=1;else{for(var z=0,D=1,G=x[D];10!=D&&G<=g;)D++,G=x[D],z+=.1;D--;G=x[D];x=z+(g-G)/(x[D+1]-G)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-g)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;D=0;let N;do x=q+(z-q)/2,G=((t*x+p)*x+l)*x-g,0<G?z=x:q=x,G=1E-7<Math.abs(G),N=10>++D;while(G&&N)}g=x}return(((w-3*u+3*r-m)*g+(3*u-6*r+3*m))*g+3*(r-m))*g}static g4(g,l,m,q){const r=[];q=q-3*m+3*l-g;m=3*m-6*l+3*g;g=3*(l-g);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+m)*l+g)*l);return r}}}{"use strict";const d=self.C;d.xta=class{constructor(){this.SY=[]}A(){this.Zc();this.SY=null}Zc(){d.tla(this.SY)}}}"use strict";
self.C.Event=class{constructor(d,a){this.type=d;this.cancelable=!!a;this.ama=this.NP=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.ama)throw Error(`cannot stop async event '${this.type}' propagation`);this.NP=!0}};
{"use strict";const d=self.C;d.Event.w5=class extends d.qa{constructor(a){super();this.Da=a;this.gg=[];this.eu=new Set;this.ng=[];this.Lu=new Set;this.By=0;this.bv=[]}A(){0<this.By||(d.G(this.gg),this.eu.clear(),d.G(this.ng),this.Lu.clear(),d.G(this.bv),d.A(this))}HU(a,b){this.bW()?this.bv.push({HP:"add",tj:a,capture:b}):b?this.eu.has(a)||(this.gg.push(a),this.eu.add(a)):this.Lu.has(a)||(this.ng.push(a),this.Lu.add(a))}oha(a,b){this.bW()?this.bv.push({HP:"remove",tj:a,capture:b}):b?this.eu.has(a)&&
(this.eu.delete(a),d.Fs(this.gg,a)):this.Lu.has(a)&&(this.Lu.delete(a),d.Fs(this.ng,a))}ffa(){return!this.gg.length&&!this.ng.length}bW(){return 0<this.By}Wga(){const a=new Set,b=new Set;for(const e of this.bv)if("add"===e.HP)this.HU(e.tj,e.capture),e.capture?b.delete(e.tj):a.delete(e.tj);else if("remove"===e.HP)e.capture?(this.eu.delete(e.tj),b.add(e.tj)):(this.Lu.delete(e.tj),a.add(e.tj));else throw Error("invalid op");d.ji(this.ng,a);d.ji(this.gg,b);d.G(this.bv)}cea(a){this.Tt();let b=!1;for(let e=
0,c=this.gg.length;e<c;++e)if(this.gg[e](a),a.NP){b=!0;break}if(!b)for(let e=0,c=this.ng.length;e<c&&(this.ng[e](a),!a.NP);++e);this.Rt();return!a.defaultPrevented}eea(a){this.Tt();for(let b=0,e=this.gg.length;b<e;++b)this.gg[b](a);for(let b=0,e=this.ng.length;b<e;++b)this.ng[b](a);this.Rt();return!0}Tt(){this.By++}Rt(){this.By--;0===this.By&&0<this.bv.length&&this.Wga()}Ct(a){a?this.Tt():this.Rt()}oV(a){const b=[];this.Tt();for(let c=0,f=this.gg.length;c<f;++c){var e=this.gg[c](a);e instanceof Promise&&
b.push(e)}for(let c=0,f=this.ng.length;c<f;++c)e=this.ng[c](a),e instanceof Promise&&b.push(e);this.Rt();return b.length?Promise.all(b).then(()=>!a.defaultPrevented):!a.defaultPrevented}async $da(a){return await this.oV(a)}async aea(a){this.Tt();for(let e=0,c=this.gg.length;e<c;++e){var b=this.gg[e](a);b instanceof Promise&&await b}for(let e=0,c=this.ng.length;e<c;++e)b=this.ng[e](a),b instanceof Promise&&await b;this.Rt();return!a.defaultPrevented}*bea(a){this.Tt();for(let e=0,c=this.gg.length;e<
c;++e){var b=this.gg[e](a);d.jo(b)&&(yield*b)}for(let e=0,c=this.ng.length;e<c;++e)b=this.ng[e](a),d.jo(b)&&(yield*b);this.Rt()}}}
{"use strict";const d=self.C;d.Event.Db=class extends d.qa{constructor(){super();this.Cr=new Map;this.iM=!1}A(){if(this.iM)throw Error("already released");this.J1();this.iM=!0;d.A(this)}yx(){return this.iM}J1(){for(let a of this.Cr.values())a.A();this.Cr.clear()}Sq(a,b){let e=this.Cr.get(a);return e?e:b?(e=d.D(d.Event.w5,a),this.Cr.set(a,e),e):null}vI(a){return this.Cr.has(a)}addEventListener(a,b,e){this.Sq(a,!0).HU(b,!!e)}removeEventListener(a,b,e){let c=this.Sq(a,!1);c&&(c.oha(b,!!e),c.ffa()&&this.Cr.delete(a))}dispatchEvent(a){const b=
this.Sq(a.type,!1);return b?a.cancelable?b.cea(a):b.eea(a):!0}async mP(a){const b=this.Sq(a.type,!1);return b?await b.$da(a):!0}Ela(a){const b=this.Sq(a.type,!1);return b?b.oV(a):!0}async Dla(a){const b=this.Sq(a.type,!1);b&&await b.aea(a)}Fla(a){const b=this.Sq(a.type,!1);if(!b)return null;if(a.cancelable)throw Error("not supported");return b.bea(a)}Ct(a){for(const b of this.Cr.values())b.Ct(a)}}}
{"use strict";const d=self.C,a="undefined"!==typeof requestIdleCallback;let b=[],e=-1,c=0;function f(m){e=a&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:m)}function k(m){e=-1;if(b.length){var q=performance.now(),r=0;do{g(b.shift());var p=performance.now();++r;var u=(p-q)/r*1.1}while(b.length&&(a&&0===c&&"undefined"!==typeof m?u<m.timeRemaining():12>p-q+u));-1===e&&b.length&&f(Math.max(16-(p-q),4))}}function g(m){let q;try{q=m.tj()}catch(r){m.reject(r);return}m.resolve(q)}let l=d.ZS.RB("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.hm=function(m){let q=null;d.Bv&&(q=d.pB());return new Promise((r,p)=>{b.push({tj:m,resolve:r,reject:p,stack:q});l?g(b.pop()):-1===e&&f(16)})};d.hm.HT=function(m){if(m)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.C;let a=-1;function b(){a=-1}d.jB=function(){-1===a&&(a=Date.now(),self.setTimeout(b,16));return a};let e=-1,c=-1,f=new Set;function k(){c=e=-1;let g=Date.now();for(let l of f)if(l.vca(g)){let m=l.ur;if(-1===c||m<c)c=m}else f.delete(l);-1!==c&&(e=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.b6=class{constructor(g,l){this.du=g;this.lj=1E3*l;this.ur=0;this.Fb=!1}od(){let g=d.jB();this.ur=g+this.lj;this.Fb||(f.add(this),this.Fb=!0);-1===e?(c=this.ur,e=self.setTimeout(k,this.lj+
100)):this.ur<c&&c>g+1E3&&(self.clearTimeout(e),c=this.ur,e=self.setTimeout(k,this.lj+100))}vca(g){return g>=this.ur?this.du()?(this.ur=g+this.lj,!0):this.Fb=!1:!0}sH(){this.Fb&&(f.delete(this),this.Fb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}A(){this.sH();this.du=null}}}
{"use strict";const d=self.C;d.Kb=class a{constructor(b){this.tu=!1;this.kM=b}gB(){this.tu||(this.tu=!0,this.kM&&(this.kM(),this.kM=null))}A(){this.gB()}static A(b){return new a(()=>b.A())}static mc(b,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const k=new d.Un;for(let g of e)b.addEventListener(g,c,f),k.Yc(d.D(d.Kb,()=>b.removeEventListener(g,c,f)));return k}b.addEventListener(e,
c,f);return d.D(d.Kb,()=>b.removeEventListener(e,c,f))}};d.txa=class extends d.Kb{};d.Un=class extends d.Kb{constructor(...a){super();this.Zd=new Set;for(let b of a)this.Yc(b)}Yc(...a){if(this.tu)throw Error("already disposed");for(let b of a)this.Zd.add(b)}xi(a){if(this.tu)throw Error("already disposed");this.Zd.delete(a)}gB(){if(this.tu)throw Error("already disposed");this.tu=!0;for(let a of this.Zd)a.gB();this.Zd.clear();this.Zd=null}A(){this.gB()}}}
{"use strict";const d=self.C;d.Jw=class extends d.qa{constructor(){super();this.lv=this.Xz=this.S=this.OD=0}Yc(a){this.S=+a-this.OD;this.Xz=this.lv+this.S;this.OD=this.Xz-this.lv-this.S;this.lv=this.Xz}la(){return this.lv}od(){this.lv=this.Xz=this.S=this.OD=0}Set(a){this.Xz=this.S=this.OD=0;this.lv=+a}A(){}}}
{"use strict";const d=self.C,a={fJ:function(b){this.C0=b;this.left=this.right=this.C0.Bb;this.parent=null;this.color=!1;this.key=null},Dq:function(b){this.size=0;this.Bb=new a.fJ(this);this.Bb.color=!1;this.root=this.Bb;this.root.parent=this.Bb;this.compare=b||this.zla}};ya=a.Dq.prototype;ya.zla=function(b,e){return b<e?-1:e<b?1:0};ya.clone=function(){var b=new a.Dq(this.compare);b.Wla(this);return b};ya.clear=function(){this.size=0;this.Bb=new a.fJ(this);this.Bb.color=!1;this.root=this.Bb;this.root.parent=
this.Bb};ya.xA=function(b){var e=b.right;b.right=e.left;e.left!=this.Bb&&(e.left.parent=b);e.parent=b.parent;b.parent==this.Bb?this.root=e:b==b.parent.left?b.parent.left=e:b.parent.right=e;e.left=b;b.parent=e};ya.HA=function(b){var e=b.left;b.left=e.right;e.right!=this.Bb&&(e.right.parent=b);e.parent=b.parent;b.parent==this.Bb?this.root=e:b==b.parent.right?b.parent.right=e:b.parent.left=e;e.right=b;b.parent=e};ya.yv=function(b){if(this.contains(b))this.tA(b).key=b;else{var e=new a.fJ(this);e.key=
b;b=this.Bb;for(var c=this.root;c!=this.Bb;)b=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=b;b==this.Bb?this.root=e:0>this.compare(e.key,b.key)?b.left=e:b.right=e;e.left=this.Bb;e.right=this.Bb;e.color=!0;this.Xla(e);this.size++}};ya.Xla=function(b){for(;b!=this.Bb&&b!=this.root&&1==b.parent.color;)if(b.parent==b.parent.parent.left){var e=b.parent.parent.right;1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.right&&(b=b.parent,this.xA(b)),
b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Bb&&this.HA(b.parent.parent))}else e=b.parent.parent.left,1==e.color?(b.parent.color=!1,e.color=!1,b.parent.parent.color=!0,b=b.parent.parent):(b==b.parent.left&&(b=b.parent,this.HA(b)),b.parent.color=!1,b.parent.parent.color=!0,b.parent.parent!=this.Bb&&this.xA(b.parent.parent));this.root.color=!1};ya.Bla=function(b){var e=b.left==this.Bb||b.right==this.Bb?b:this.Yp(b);var c=e.left!=this.Bb?e.left:e.right;c.parent=e.parent;e.parent==
this.Bb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=b&&(b.key=e.key);0==e.color&&this.Ala(c);this.size--};ya.Ala=function(b){for(;b!=this.root&&0==b.color;)if(b==b.parent.left){var e=b.parent.right;1==e.color&&(e.color=!1,b.parent.color=!0,this.xA(b.parent),e=b.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,b=b.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.HA(e),e=b.parent.right),e.color=b.parent.color,b.parent.color=!1,e.right.color=!1,this.xA(b.parent),
b=this.root)}else e=b.parent.left,1==e.color&&(e.color=!1,b.parent.color=!0,this.HA(b.parent),e=b.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,b=b.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.xA(e),e=b.parent.left),e.color=b.parent.color,b.parent.color=!1,e.left.color=!1,this.HA(b.parent),b=this.root);b.color=!1};ya.remove=function(b){b=this.tA(b);if(b!=this.Bb){var e=b.key;this.Bla(b);return e}return null};ya.min=function(b){for(;b.left!=this.Bb;)b=b.left;return b};ya.max=
function(b){for(;b.right!=this.Bb;)b=b.right;return b};ya.Yp=function(b){if(b.right!=this.Bb)return this.min(b.right);for(var e=b.parent;e!=this.Bb&&b==e.right;)b=e,e=e.parent;return e};ya.tA=function(b){for(var e=this.root;e!=this.Bb&&0!=this.compare(e.key,b);)e=0>this.compare(b,e.key)?e.left:e.right;return e};ya.contains=function(b){return null!=this.tA(b).key};ya.sP=function(){var b=[];this.forEach(function(e){b.push(e)});return b};ya.Wla=function(b){if("array"==a.eQ(b))for(var e=0;e<b.length;e++)this.yv(b[e]);
else if("function"==a.eQ(b.forEach))b.forEach(this.yv,this);else if("function"==a.eQ(b.sP))for(b=b.sP(),e=0;e<b.length;e++)this.yv(b[e]);else if("object"==a.eQ(b))for(e in b)this.yv(b[e])};ya.range=function(b,e){var c=[];this.$ma(function(f){c.push(f)},b,e);return c};ya.$ma=function(b,e,c){if(!this.Cv())for(e=this.tA(e),c=this.tA(c);e!=c&&!b.call(void 0,e.key,this);)e=this.Yp(e)};ya.forEach=function(b,e){if(!this.Cv())for(var c=this.min(this.root);c!=this.Bb;c=this.Yp(c))b.call(e,c.key,c.key,this)};
ya.some=function(b,e){if(this.Cv())return!1;for(var c=this.min(this.root);c!=this.Bb;c=this.Yp(c))if(b.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(b,e){if(this.Cv())return!1;for(var c=this.min(this.root);c!=this.Bb;c=this.Yp(c))if(!b.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(b,e){var c=[];if(this.Cv())return c;for(var f=this.min(this.root);f!=this.Bb;f=this.Yp(f))c.push(b.call(e,f.key,f.key,this));return c};ya.filter=function(b,e){var c=[];if(this.Cv())return c;
for(var f=this.min(this.root);f!=this.Bb;f=this.Yp(f))b.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.Cv=function(){return 0==this.size};d.Dq=class extends d.qa{constructor(b){super();this.ej=new a.Dq(b);this.vu=!1;this.ks=new Set;this.ls=new Set}Yc(b){this.vu?this.ej.contains(b)?this.ls.delete(b):this.ks.add(b):this.ej.yv(b)}xi(b){this.vu?this.ej.contains(b)?this.ls.add(b):this.ks.delete(b):this.ej.remove(b)}RB(b){return this.vu?this.ks.has(b)?!0:!this.ls.has(b)&&this.ej.contains(b):this.ej.contains(b)}Zc(){this.ej.clear();
this.ks.clear();this.ls.clear()}toArray(){if(this.vu)throw Error("cannot be used in queueing mode");return this.ej.sP()}Jj(){return this.ej.size+this.ks.size-this.ls.size}tq(){return 0===this.Jj()}Ci(b){b=!!b;if(this.vu!==b&&(this.vu=b,!b)){for(const e of this.ls)this.ej.remove(e);this.ls.clear();for(const e of this.ks)this.ej.yv(e);this.ks.clear()}}*values(){if(!this.tq()){var b=this.ej;for(let e=b.min(b.root);e!=b.Bb;e=b.Yp(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.C;d.US=class{constructor(a=d.hardwareConcurrency){this.xka=a;this.kO=[];this.zL=0}Yc(a){return new Promise((b,e)=>{this.kO.push({tj:a,resolve:b,reject:e});this.nW()})}async nW(){if(this.kO.length&&!(this.zL>=this.xka)){this.zL++;var a=this.kO.shift();try{const b=await a.tj();a.resolve(b)}catch(b){a.reject(b)}this.zL--;this.nW()}}}}
{"use strict";const d=self.C;d.o9=class{constructor(a,b,e){this.du=a;this.hka=b;this.ika=e||2*b;this.pv=-1;this.jF=-Infinity;this.n_=()=>this.Iga();this.Qja=this.LM=!1;this.ry=null}wea(){return"undefined"!==typeof d.t1&&d.t1.Zqa()?this.ika:this.hka}D1(){var a=[];if(-1===this.pv){this.ry=a;a=d.jB();var b=a-this.jF,e=this.wea();b>=e&&this.Qja?(this.jF=a,this.NW()):this.pv=self.setTimeout(this.n_,Math.max(e-b,4))}}NW(){this.LM=!0;const a=this.ry;this.ry=null;a?this.du(...a):this.du();this.LM=!1}od(){this.LM||
(this.OU(),this.ry=null,this.jF=d.jB())}Iga(){this.pv=-1;this.jF=d.jB();this.NW()}OU(){-1!==this.pv&&(self.clearTimeout(this.pv),this.pv=-1)}A(){this.OU();this.n_=this.ry=this.du=null}}}"use strict";function gc(d,a){if(!d.mY)throw Error("no get base size callback set");return d.mY(a)}function hc(d){if(!d.NZ)throw Error("no redraw callback set");d.NZ()}self.C.Tua=class{constructor(){this.eka=new Map;this.NZ=this.PZ=this.mY=null}};"use strict";
self.C.Sua=class{constructor(d,a){this.Qu=d;this.Tja=a;this.kd=0;gc(this.Qu,a).then(()=>{hc(this.Qu)}).catch(b=>{console.error("[SVG] Error loading SVG: ",b);hc(this.Qu)});this.lO=null}A(){if(0>=this.kd)throw Error("already released");this.kd--;0===this.kd&&this.Ux()}Ux(){if(this.lO){var d=this.Qu;if(!d.PZ)throw Error("no release result callback set");d.PZ(this.lO);this.lO=null}this.Qu.eka.delete(this.Tja);this.Qu=null}};
{"use strict";const d=self.C;d.Mxa="\ufeff";const a=new Set([..."0123456789"]);d.Y6=function(m){return a.has(m)};const b=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.eC=function(m){return b.has(m)};d.Bpa=function(m){return[...m].filter(q=>!d.eC(q)).join("")};d.dC=function(m){for(const q of m)if(!d.eC(q))return!1;return!0};d.n7=function(m){return 1===m.length&&32>m.charCodeAt(0)};d.U3=function(m){return[...m].filter(q=>
!d.n7(q)).join("")};const e=new Set([..."0123456789.+-e"]);d.jra=function(m){m=m.trim();if(!m.length)return!1;let q=m.charAt(0);if("-"!==q&&!a.has(q))return!1;for(let r of m)if(!e.has(r))return!1;return!0};d.A9=function(m){let q=m.length;for(;0<q&&d.Y6(m.charAt(q-1));)--q;return m.substr(0,q)};d.pqa=function(m){let q=d.A9(m);m=(m=m.substr(q.length))?(parseInt(m,10)+1).toString():"2";return q+m};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(m){return c.get(m)}
const k=/[&<>"']/g;d.K3=function(m){return m.replace(k,f)};d.tpa=function(m){m=d.Oj(m,"\\","\\\\");m=d.Oj(m,'"','\\"');m=d.Oj(m,"\t","\\t");m=d.Oj(m,"\r","");return d.Oj(m,"\n","\\n")};d.upa=function(m){m=d.Oj(m,"&","&amp;");m=d.Oj(m,"<","&lt;");m=d.Oj(m,">","&gt;");return d.Oj(m,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.Zv=function(m){return m.replace(g,"\\$&")};d.Cpa=function(m,q,r=!1){if(!q)return[];r||(m=m.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let u=[];for(;-1<(p=m.indexOf(q,
p));)u.push(p),p+=r;return u};d.Oj=function(m,q,r){return m.replaceAll(q,()=>r)};d.Tta=function(m,q,r){return m.replace(new RegExp(d.Zv(q),"gi"),()=>r)};d.zva=function(m,q){"string"===typeof q?m.textContent=q:q.MY?m.textContent=q.toString():(m.innerHTML=q.aQ(),q instanceof d.xj&&q.lla(m))};d.oxa=function(m,q){return m instanceof d.BI||m instanceof d.xj?m.Wc(q):q instanceof d.BI||q instanceof d.xj?q.Wc(m):m===q};d.pxa=function(m,...q){let r=m;for(let p=0,u=q.length;p<u;++p){const t=`{${p}}`;if(!m.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.qxa=function(m,...q){let r=m,p=-1,u=-1;for(let t=0,w=q.length;t<w;++t){const x=`{${t}}`;m.includes(x)?(u=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=u&&p<u)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.rxa=function(m,q){for(let [r,p]of Object.entries(q))m=m.replaceAll(r,p.toString());return m};d.Lwa=function(m,q){m=m.toLowerCase();q=q.toLowerCase();return m>q?1:m<q?-1:0};d.Gpa=function(m,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.Sza;if(1024>m)return r(q+"bytes",m);if(1048576>m)return m/=1024,m=10>m?Math.round(10*m)/10:Math.round(m),r(q+"kilobytes",m);if(1073741824>m)return m/=1048576,m=10>m?Math.round(10*m)/10:Math.round(m),r(q+"megabytes",m);if(1099511627776>m)return m/=1073741824,m=10>m?Math.round(10*m)/10:Math.round(m),r(q+"gigabytes",m);m/=1099511627776;m=10>m?Math.round(10*m)/10:Math.round(m);return r(q+"terabytes",m)};const l={ila:!1,wla:!0,Vla:!0,sma:!0,t0:!0};d.Hpa=function(m,q){q=Object.assign({},
l,q);d.q7.yta("common.time");const r=[],p=self.lang,u=self.Rza;if(q.wla){var t=Math.floor(m/86400);0<t&&(m-=86400*t,r.push(u(".days",null,t)))}q.Vla&&(t=Math.floor(m/3600),0<t||r.length)&&(m-=3600*t,r.push(u(".hours",null,t)));q.sma&&(t=Math.floor(m/60),0<t||r.length||!q.t0)&&(m-=60*t,r.push(u(".minutes",null,t)));q.t0&&r.push(u(".seconds",null,Math.floor(m%60)));m=(q.ila?p(".approx-prefix"):"")+r.join(p(".separator"));d.q7.sta();return m};d.Aya=function(m,q){let r=0>m?"-":"";m=Math.abs(m);m=m.toString();
q-=m.length;for(let p=0;p<q;++p)r+="0";return r+m};d.sxa=function(m){return m.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.Voa=function(m,q){m=m.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.WG(m,4,"0");d.WG(q,4,"0");m=m.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=m[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.epa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,m=>{const q=Math.floor(16*Math.random());return("x"===
m?q:q&3|8).toString(16)})};d.mxa=function(m,q){if(m.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,u=m.length;p<u;++p)m.charAt(p)!==q.charAt(p)&&++r;return r};d.nxa=function(m,q){if(0===m.length)return q.length;if(0===q.length)return m.length;let r,p,u,t;if(m.length>q.length){var w=m;m=q;q=w}t=Array(m.length+1);for(w=0;w<=m.length;w++)t[w]=w;for(w=1;w<=q.length;w++){p=w;for(r=1;r<=m.length;r++)u=q[w-1]===m[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=
p,p=u;t[m.length]=p}return t[m.length]}}
{"use strict";const d=self.C,a=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),b=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,m,q){var r=a.get(q);if(r){if("string"===typeof r){if("a"!==r||m)return"<"+m+r+">";m=parseInt(q.substring(1),10)-1;if(0>m||m>=c.length)throw Error("invalid bbcode link substitution");r=c[m];if("string"===typeof r)return`<a href="${c[m]}">`;if("function"===typeof r)return`<a class="bblink${m}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],m?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?m?"</span>":
`<span class="bbclass${f++}">`:l}const g=/\n/g;d.xj=class{constructor(l,m){this.Li=m&&m.g0?l:d.K3(l);this.KM="";this.QX=!1;this.rz=[];if(m&&(this.QX=!!m.Uya,m.links)){if(9<m.links.length)throw Error("too many links");this.rz=m.links}this.tY=this.Li.includes("[");this.uZ=this.QX&&this.Li.includes("\n");this.MY=!this.tY&&!this.uZ&&!this.Li.includes("&");this.xY=!1;this.Cy=[]}toString(){return this.Li}valueOf(){return this.Li}aQ(){if(this.MY)return this.Li;if(!this.KM&&this.Li){let l=this.Li;this.tY&&
(f=0,c=this.rz,l=l.replace(b,k),c=null);this.uZ&&(l=l.replace(g,"<br>"));this.KM=l}return this.KM}lla(l){if(this.rz.length)for(let m=0,q=this.rz.length;m<q;++m){const r=this.rz[m];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+m);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}Wc(l){return l instanceof d.BI?this.aQ()===l.aQ():l instanceof d.xj?this.Li===l.Li:this.Li===l}z0(){if(this.xY)return this.Cy;const l=this.Li,m=[];let q=e.lastIndex=0;for(var r;null!==
(r=e.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var u=r[1],t=r[2];const w=l.substring(q,p);q=p+r[0].length;w&&this.Cy.push({text:w,zd:m.slice(0)});if(t)if(u)for(t=t.toLowerCase(),r=m.length-1;0<=r;--r){if(m[r].tag===t){m.splice(r,1);break}}else r=t,p=null,u=t.indexOf("="),-1!==u?(r=t.substring(0,u).toLowerCase(),p=t.substring(u+1)):r=r.toLowerCase(),m.push({tag:r,yd:p})}q<l.length&&this.Cy.push({text:l.substring(q),zd:m.slice(0)});for(const w of this.Cy)w.text=this.Vga(w.text);
this.xY=!0;return this.Cy}Vga(l){l=d.Oj(l,"\\[","[");return d.Oj(l,"\\\\","\\")}static JC(l){return l.replace(e,"")}}}
{"use strict";const d=self.C;d.Ax=class{constructor(){this.Ol=[]}pW(a,b){let e=0,c=0,f=0,k=0,g=0;for(const l of a)-1===l.width&&(a=b(l.text,l.zd),l.width=a.width,l.height=a.height,l.eh=a.eh||0,l.wg=a.wg||0,l.zg=a.zg||0),e+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.eh),k=Math.max(k,l.wg),g=Math.max(g,l.zg);return{width:e,height:c,eh:f,wg:k,zg:g}}PC(a,b,e,c,f,k){this.Ol.push({nP:a,width:b,height:e,eh:c,wg:f,zg:k})}Ax(a,b,e,c,f){"string"===typeof a&&(a=[{text:a,zd:[]}]);d.G(this.Ol);if(!(!a.length||
1===a.length&&!a[0].text.length||2>e)){if(1===a.length){var k=a[0];const g=k.text;k=k.zd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:m,eh:q,wg:r,zg:p}=b(g,k);l+=f;q=q||0;r=r||0;p=p||0;if(l<=e){this.PC([{text:g,zd:k,width:l,height:m,eh:q,wg:r,zg:p}],l,m,q,r,p);return}}}if("word"===c)c=this.eja(a);else{c=[];for(const g of a)d.$l(c,[...g.text].map(l=>[{text:l,zd:g.zd}]))}this.yja(c,b,e,f)}}eja(a){const b=[];let e=[],c=!1;for(const k of a){var f=k.text;a=k.zd;for(const g of f)"\n"===g?(0<
e.length&&b.push(e),b.push([{text:"\n",zd:a}]),e=[]):0===e.length?(e.push({text:g,zd:a}),c=d.eC(g)):(f=d.eC(g),f===c?(f=e.Oe(-1),f.zd===a?f.text+=g:e.push({text:g,zd:a})):(b.push(e),e=[],e.push({text:g,zd:a}),c=f))}0<e.length&&b.push(e);return b}yca(a){return a.map(b=>({text:b.text,zd:b.zd,width:b.width,height:b.height,eh:b.eh,wg:b.wg,zg:b.zg}))}MU(a,b){var e=a.length?a.Oe(-1):null;let c=0;e&&b[0].zd===e.zd&&(e.text+=b[0].text,e.width=-1,e.height=-1,e.eh=-1,e.wg=-1,e.zg=-1,c=1);for(e=b.length;c<e;++c){const f=
b[c];a.push({text:f.text,zd:f.zd,width:-1,height:-1,eh:-1,wg:-1,zg:-1})}}yja(a,b,e,c){let f=[],k=0,g=0,l=0,m=0;var q=0;for(const r of a){if(1===r.length&&"\n"===r[0].text){0===g&&(q=b(" ",r[0].zd),g=q.height,l=q.eh||0,m=q.wg||0,q=q.zg||0);this.PC(f,k,g,l,m,q);f=[];q=m=l=g=k=0;continue}a=this.yca(f);this.MU(a,r);const p=this.pW(a,b),u=p.width;u>=e?(0<f.length&&this.PC(f,k,g,l,m,q),f=[],d.dC(r[0].text)?q=m=l=g=k=0:(this.MU(f,r),q=this.pW(f,b),k=q.width,g=q.height,l=q.eh,m=q.wg,q=q.zg)):(f=a,k=u,g=p.height,
l=p.eh,m=p.wg,q=p.zg)}0<f.length&&this.PC(f,k,g,l,m,q);this.hja(b,c)}hja(a,b){for(const c of this.Ol){const f=c.nP;if(!f.length)continue;let k=f.Oe(-1);var e=k.text;const g=e.trimEnd();if(!g)c.width-=k.width,f.pop();else if(g.length<e.length){e=a(g,k.zd).width;const l=k.width-e;k.width=e;k.text=g;c.width-=l}0!==b&&0<f.length&&(k=f.Oe(-1),k.width+=b,c.width+=b)}}Zc(){d.G(this.Ol)}uR(){return this.Ol.reduce((a,b)=>Math.max(a,b.width),0)}q5(){return this.Ol.reduce((a,b)=>a+b.height,0)}}}
{"use strict";const d=self.C,a=self.fm,b=a.eH,e=a.LA,c=a.Rp,f=b.create(),k=b.create(),g=b.create(),l=e.create(),m=c.create(),q=b.create(),r=b.create(),p=b.create(),u=b.create(),t=b.create(),w=b.create(),x=b.create(),z=b.create(),D=e.xg(0,0,1,1);d.ja={h9(H,I,K,Q,R,U,Z){const ca=Q[0]*H+Q[4]*I+Q[8]*K+Q[12],Y=Q[1]*H+Q[5]*I+Q[9]*K+Q[13],ha=Q[2]*H+Q[6]*I+Q[10]*K+Q[14];Q=Q[3]*H+Q[7]*I+Q[11]*K+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;I=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;K=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*U[2]+U[0];Z[1]=(I*R*.5+.5)*U[3]+U[1];Z[2]=.5*(1+K*R);return!0},tl(H,I,K,Q,R,U,Z){c.multiply(m,R,Q);if(null===c.Av(m,m))return!1;l[0]=(H-U[0])/U[2]*2-1;l[1]=(I-U[1])/U[3]*2-1;l[2]=2*K-1;l[3]=1;e.cQ(l,l,m);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},hba(H,I,K,Q,R,U,Z){if(!d.ja.tl(H,I,0,Q,R,U,f)||!d.ja.tl(H,I,1,Q,R,U,k))return!1;b.Rn(k,k,f);b.set(g,0,0,1);H=-K;I=b.Op(g,k);K=0;if(0===I){if(0!==
b.Op(g,f)+H)return!1}else if(K=-(b.Op(f,g)+H)/I,0>K)return!1;b.TP(Z,f,k,K);return!0}};function G(H,I,K,Q){b.Rn(f,K,I);b.Rn(k,H,I);b.kP(g,f,k);b.normalize(g,g);Q.set(g[0],g[1],g[2],b.Op(H,g))}function N(H,I,K,Q,R,U,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.I0,Oa=Z.J0;Z=Z.K0;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*I*Oa+Y*R*Ua+ha*K*Z+ha*U*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*I*Ua+ha*U*Z+ha*K*bb>ka}class B{constructor(){this.K0=this.J0=this.I0=this.w=this.z=this.y=this.x=NaN}set(H,I,K,Q){this.x=
H;this.y=I;this.z=K;this.w=Q;this.I0=0<H?1:0;this.J0=0<I?1:0;this.K0=0<K?1:0}}d.ja.rba=class{constructor(){this.fZ=new B;this.o_=new B;this.SZ=new B;this.KX=new B;this.tZ=new B;this.eY=new B}B1(H,I){d.ja.tl(0,1,0,H,I,D,q);d.ja.tl(1,1,0,H,I,D,r);d.ja.tl(0,0,0,H,I,D,p);d.ja.tl(1,0,0,H,I,D,u);d.ja.tl(0,1,1,H,I,D,t);d.ja.tl(1,1,1,H,I,D,w);d.ja.tl(0,0,1,H,I,D,x);d.ja.tl(1,0,1,H,I,D,z);G(p,q,t,this.fZ);G(q,r,w,this.o_);G(r,u,z,this.SZ);G(u,p,x,this.KX);G(x,t,w,this.eY);G(u,r,q,this.tZ)}W1(H,I,K,Q,R,U){return N(H,
I,K,Q,R,U,this.fZ)&&N(H,I,K,Q,R,U,this.o_)&&N(H,I,K,Q,R,U,this.SZ)&&N(H,I,K,Q,R,U,this.KX)&&N(H,I,K,Q,R,U,this.tZ)&&N(H,I,K,Q,R,U,this.eY)}}}
{"use strict";const d=self.C,a=self.fm,b=a.eH,e=a.LA,c=a.Rp,f=c.create(),k=b.xg(0,0,0),g=b.xg(0,0,0),l=b.xg(0,0,0),m=b.xg(0,1,0);e.xg(0,0,0,0);new d.Ic;new d.Rect;const q=new d.Ic(0,0,1,0,1,1,0,1);d.ja.D9=class{constructor(){this.Y=this.$=0;this.bka=d.Ga(45);this.HO=Math.tan(this.bka/2);this.yF=c.create();this.HN=c.create();this.cr=[];this.TF=new Map;this.xO=this.ZF=this.$F=null;this.Vz=new Map;this.ik=null;this.UL=[];this.sZ=new Map;this.nu=this.bu=0;this.tka=this.uka=1;this.BN=.5;this.Vi=0;this.uu=
!0;this.IM=!1}T3(r){let p=0,u=r.length,t=0;for(;p<u;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}QU(){this.nu=this.bu=0;this.xO=this.ZF=this.$F=null;this.wca()}VB(){this.QU();this.ik=null}j8(){for(const r of this.cr)r.A();this.QU()}R(){return this.$}P(){return this.Y}Tv(r,p,u=.5,t=.5){u=1-u;const w=1*this.HO;p*=w;c.Mla(r,(2*u-2)*p,2*u*p,(2*t-2)*w,2*t*w,1,1E4)}A1(r,p,u){const t=self.devicePixelRatio,w=200*t*this.HO/u;p=p*w/(2*t);u=u*w/(2*t);c.Ama(r,-p,p,-u,u,1,1E4)}pQ(r,p,u,
t,w=this.nI()){w=200*self.devicePixelRatio*this.HO/w;b.set(l,w,-w,1);b.multiply(k,p,l);b.multiply(g,u,l);c.pma(r,k,g,t||m);c.scale(r,r,l)}Sv(r,p,u,t,w,x){b.set(k,r,p,u);b.set(g,t,w,0);this.pQ(f,k,g,m,x);return f}Qba(r){this.cr.push(r);this.TF.set(r.Ha(),r)}qha(r){const p=this.cr.indexOf(r);-1!==p&&this.cr.splice(p,1);this.TF.delete(r.Ha())}wca(){d.G(this.cr);this.TF.clear()}KR(r){return this.TF.get(r)||null}Kg(){this.wo(this.$F)}Ww(){this.wo(this.xO)}mia(r){this.ik=r}O0(r,p,u,t){const w=d.ja.VJ.xS(r,
p,u,t);let x=this.Vz.get(w);x||(x=d.D(d.ja.VJ,this,r,p,u,t),this.Vz.set(w,x));x.b1();return x}aT(r){r.x2();0===r.kd&&(this.ik===r&&(this.ik=null),this.Vz.delete(r.S4()),r.A())}Qea(r){d.G(this.UL);this.sZ.clear();for(const p of r){r=p[0];const u=p[1],t=p[2];this.UL.push([u,t]);this.sZ.set(r,{uBa:u,aza:t})}}oea(r){return this.UL[r]}Uw(r){this.bu=r}ro(r){this.nu=r;this.ik=null}hC(r,p,u,t,w,x){var z=this.BN;r=r+z-x;p=p+z-w;u=u+z+x;t=t+z+w;z=2*x;const D=2*w;this.mC(r+w,p-x,0,u+w,t-x,0,u-w-z,t+x-D,0,r-
w+z,p+x+D,0,q)}gC(r,p,u,t,w,x){const z=this.BN;r=r+z-x;p=p+z-w;u=u+z+x;t=t+z+w;this.mC(r+w,p-x,0,u+w,t-x,0,u-w,t+x,0,r-w,p+x,0,q)}fC(r,p,u,t,w,x){const z=this.BN;r+=z;p+=z;u+=z;t+=z;this.mC(r+w,p-x,0,u+w,t-x,0,u-w,t+x,0,r-w,p+x,0,q)}t7(r,p,u,t){const w=.5*this.uka,x=this.tka;2===x?this.nfa(r,p,u,t,w):1===x?this.mfa(r,p,u,t,w):this.lfa(r,p,u,t,w)}nfa(r,p,u,t,w){this.hC(r,p,u,p,0,w);this.hC(u,p,u,t,w,0);this.hC(u,t,r,t,0,-w);this.hC(r,t,r,p,-w,0)}mfa(r,p,u,t,w){this.gC(r,p,u,p,0,w);this.gC(u,p,u,t,
w,0);this.gC(u,t,r,t,0,-w);this.gC(r,t,r,p,-w,0)}lfa(r,p,u,t,w){this.fC(r,p,u,p,0,w);this.fC(u,p,u,t,w,0);this.fC(u,t,r,t,0,-w);this.fC(r,t,r,p,-w,0)}rS(r){this.t7(r.T,r.O,r.Z,r.X)}X1(r){var p=r.length/2;if(3>p)throw Error("need at least 3 points");p-=2;const u=p-1,t=r[0],w=r[1];for(let x=0;x<p;x+=2){const z=2*x,D=r[z+2],G=r[z+3],N=r[z+4],B=r[z+5];x===u?this.cJ(t,w,D,G,N,B,N,B):this.cJ(t,w,D,G,N,B,r[z+6],r[z+7])}}Ys(){this.ni();this.Vi++}f6(){this.Vi++}CJ(r){this.uu=!!r}B$(r){this.IM=!!r}Iw(){return!1}}}
{"use strict";const d=self.C;d.ja.VJ=class{constructor(a,b,e,c,f){this.ma=a;this.kd=0;this.rb=null;this.Nz="";this.Ko=e;this.xa=d.D(d.Ua);this.xa.set(c);this.wd=f;"string"===typeof b?this.Nz=b:(this.rb=b,this.Nz=this.rb.Ha())}A(){if(0<this.kd)throw Error("releasing state group still in use");this.rb=this.ma=null;this.Nz=""}j1(){const a=this.ma;a.wo(this.rb);a.Se(this.Ko);a.bg(this.xa);a.ro(this.wd);a.mia(this)}S4(){return d.ja.VJ.xS(this.Nz,this.Ko,this.xa,this.wd)}b1(){++this.kd}x2(){--this.kd}Am(){this.rb=
null}ZI(a){this.rb=a.KR(this.Nz);if(!this.rb)throw Error("failed to restore shader program");}static xS(a,b,e,c){return("string"===typeof a?a:a.Ha())+","+b+","+e.Ya+","+e.Xa+","+e.Va+","+e.$a+","+c}}}
{"use strict";const d=self.C,a=d.D(d.Ic);function b(e,c,f){const k=f.zb,g=f.Ab;return[k+(f.Bc-k)*e+(f.uc-k)*c,g+(f.Cc-g)*e+(f.vc-g)*c]}d.ja.L7=class{constructor(e){this.KN=e;this.ii=this.gi=this.wd=this.S=this.W=0}Vj(e,c,f,k){this.W=e;this.S=c;this.gi=f;this.ii=k}L(){return this.W}Fi(e){this.W!==e&&(this.W=e,this.KN.fL())}M(){return this.S}Gi(e){this.S!==e&&(this.S=e,this.KN.fL())}gb(){return this.wd}Bf(e){this.wd!==e&&(this.wd=Math.max(e,0),this.KN.fL())}KJ(e){this.gi=e}MJ(e){this.ii=e}cfa(e,c,f){[this.W,
this.S]=b(e.W,e.S,c);this.wd=e.wd;this.gi=d.Hd(f.T,f.Z,e.gi);this.ii=d.Hd(f.O,f.X,e.ii)}bfa(e,c,f){[this.W,this.S]=b(e.W,e.S,c);this.wd=e.wd;[this.gi,this.ii]=b(e.gi,e.ii,f)}oc(){return{x:this.L(),y:this.M(),z:this.gb(),u:this.gi,v:this.ii}}ac(e){this.Fi(e.x);this.Gi(e.y);e.hasOwnProperty("z")&&this.Bf(e.z);this.KJ(e.u);this.MJ(e.v)}};d.ja.AS=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.Jl=e;this.Wl=c;this.zc=f||null;this.qp=[];this.pZ=this.oZ=0;this.kZ=this.jZ=1;this.lZ=
0;this.dO=!1;f=e-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let m=0;m<e;++m){const q=d.D(d.ja.L7,this,m,g),r=m/f,p=g/k;q.Vj(r,p,r,p);l.push(q)}this.qp.push(l)}}A(){d.G(this.qp)}fL(){this.dO=!0}Nx(){if(this.dO){var e=Infinity,c=Infinity,f=-Infinity,k=-Infinity,g=0;for(const l of this.qp)for(const m of l){const q=m.L(),r=m.M();e=Math.min(e,q);c=Math.min(c,r);f=Math.max(f,q);k=Math.max(k,r);g=Math.max(g,m.gb())}this.oZ=e;this.pZ=c;this.jZ=f;this.kZ=k;this.lZ=g;this.dO=!1}}e5(){this.Nx();return this.oZ}f5(){this.Nx();
return this.pZ}Z4(){this.Nx();return this.jZ}a5(){this.Nx();return this.kZ}b5(){this.Nx();return this.lZ}et(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Jl||0>c||c>=this.Wl?null:this.qp[c][e]}qQ(e,c,f){const k=f instanceof d.Rect;if(e.Jl!==this.Jl||e.Wl!==this.Wl)throw Error("source mesh wrong size");e=e.qp;const g=this.qp;for(let l=0,m=g.length;l<m;++l){const q=e[l],r=g[l];for(let p=0,u=r.length;p<u;++p){const t=q[p],w=r[p];k?w.cfa(t,c,f):w.bfa(t,c,f)}}}Mc(e){const c=this.qp;let f=c[0];
for(let k=1,g=c.length;k<g;++k){const l=c[k];let m=f[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const u=f[r],t=l[r];a.set(m.gi,m.ii,u.gi,u.ii,t.gi,t.ii,q.gi,q.ii);e.mC(m.L(),m.M(),m.gb(),u.L(),u.M(),u.gb(),t.L(),t.M(),t.gb(),q.L(),q.M(),q.gb(),a);m=u;q=t}f=l}}K6(e){e=e.Ac;const c=[],f=this.Jl-1,k=this.Wl-1,g=1/f,l=1/k,m=f-1,q=k-1;let r=e[0],p=e[1],u=d.aa(Math.floor(r*f),0,m),t=d.aa(Math.floor(p*k),0,q),w=0,x=0,z=0;var D=-1;const G=()=>{r=d.aa(d.Hd(r,w,z),0,1);p=d.aa(d.Hd(p,x,z),0,1);c.push(r,p)};for(let N=
0,B=e.length;N<B;N+=2)for(r=e[N],p=e[N+1],c.push(r,p),u=d.aa(Math.floor(r*f),0,m),t=d.aa(Math.floor(p*k),0,q),D=(N+2)%B,w=e[D],x=e[D+1],D=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=u*g,I=t*l,K=(u+1)*g,Q=(t+1)*l;if(0!==D&&(z=d.FA(r,p,w,x,H,I,K,Q,-.001),0<=z&&.99999999>=z)){G();D=0;continue}if(0<t&&2!==D&&(z=d.FA(r,p,w,x,H,I,K,I,.001),0<=z&&.99999999>=z)){G();t--;D=4;continue}if(u<m&&3!==D&&(z=d.FA(r,p,w,x,K,I,K,Q,.001),0<=z&&.99999999>=z)){G();u++;D=1;continue}if(0<u&&1!==
D&&(z=d.FA(r,p,w,x,H,I,H,Q,.001),0<=z&&.99999999>=z)){G();u--;D=3;continue}if(t<q&&4!==D&&(z=d.FA(r,p,w,x,H,Q,K,Q,.001),0<=z&&.99999999>=z)){G();t++;D=2;continue}break}return d.D(d.Tn,c)}bba(e,c){e=this.fja(e);this.Via(e);c.ZG(e)}fja(e){const c=[];e=e.Ac;for(let f=0,k=e.length;f<k;f+=2){const [g,l]=this.qU(e[f],e[f+1]);c.push(g,l)}return c}qU(e,c){var f=this.Jl-1,k=this.Wl-1;const g=1/f,l=1/k;f=d.aa(Math.floor(e*f),0,f-1);const m=d.aa(Math.floor(c*k),0,k-1);k=f*g;const q=m*l,r=(f+1)*g,p=(m+1)*l,u=
this.et(f,m),t=this.et(f+1,m+1),w=d.fma(e,c,k,q,r,q,r,p);f=this.et(f+(w?1:0),m+(w?0:1));const [x,z,D]=d.bna(e,c,k,q,w?k+g:k,w?q:q+l,r,p);return d.ana(x,z,D,u.L(),u.M(),f.L(),f.M(),t.L(),t.M())}Via(e){const c=[];let f=e[0],k=e[1],g=f-e.Oe(-2),l=k-e.Oe(-1);for(let q=0,r=e.length;q<r;q+=2){var m=(q+2)%r;const p=e[m];m=e[m+1];const u=p-f,t=m-k,w=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(u)===Math.sign(g);(!(1E-7>Math.abs(u)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(l)||w)&&1E-7<Math.abs(u/g-t/l)||
0==u&&0===t)&&c.push(f,k);f=p;k=m;g=u;l=t}6<=c.length&&c.length<e.length&&d.nd(e,c)}oc(){return{cols:this.Jl,rows:this.Wl,points:this.qp.map(e=>e.map(c=>c.oc()))}}ac(e){const c=this.Jl,f=this.Wl;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let k=0;k<f;++k){const g=e[k];for(let l=0;l<c;++l)this.et(l,k).ac(g[l])}}}}
{"use strict";const d=self.C,a=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),b=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(m,q){let r,p;switch(m){case "rgba8":m=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":m=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":m=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":m=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":m=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{YP:m,zv:r,format:p,type:q}}const k={Ps:"clamp-to-edge",Qs:"clamp-to-edge",ge:"trilinear",Lp:0,JP:"rgba8",NG:!0,BA:"default",premultiplyAlpha:!0,a0:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.ja.OC=class{constructor(m){this.ma=m;this.ob=null;this.Y=this.$=0;this.Xi=!0;this.vv=this.uv="clamp-to-edge";this.Vc="trilinear";this.IL=0;this.mp="rgba8";this.dn=!1;this.Yr=
"default";this.kd=0}Tca(m,q){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData||m instanceof ArrayBuffer)&&null!==m)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.ob)throw Error("already created texture");this.uv=q.Ps;this.vv=q.Qs;
this.Vc=q.ge;this.IL=q.Lp;this.mp=q.JP;this.dn=!!q.NG&&this.ma.uu;this.Yr=q.BA;if(!c.has(this.uv)||!c.has(this.vv))throw Error("invalid wrap mode");if(!b.has(this.Vc))throw Error("invalid sampling");if(!a.has(this.mp))throw Error("invalid pixel format");if(!e.has(this.Yr))throw Error("invalid mipmap quality");this.Xi=!0;if(m instanceof ArrayBuffer||null===m||q.a0){if(this.$=q.width,this.Y=q.height,m instanceof ArrayBuffer&&m.byteLength!==this.$*this.Y*4)throw Error("ArrayBuffer wrong size");}else this.$=
m.width,this.Y=m.height;if(0>=this.$||0>=this.Y)throw Error("invalid texture data size");if(q.a0){var r=d.nf(this.$,this.Y);r.getContext("2d").drawImage(m,0,0,this.$,this.Y);m=r}var p=d.gm(this.$)&&d.gm(this.Y);r=this.ma.AF;if(this.$>r||this.Y>r)throw Error("texture data exceeds maximum texture size");r=this.ma.ca;var u=this.ma.ee;this.ob=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.ob);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.mp,r);if(this.ma.Nq()||p||!this.KK())2<=u?(r.texStorage2D(r.TEXTURE_2D,this.dn?Math.floor(Math.log2(Math.max(this.$,this.Y))+1):1,q.YP,this.$,this.Y),m instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.$,this.Y,q.format,q.type,new Uint8Array(m)):null!==m&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,m)):m instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.zv,this.$,this.Y,0,q.format,q.type,new Uint8Array(m)):null===m?r.texImage2D(r.TEXTURE_2D,0,q.zv,this.$,this.Y,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.zv,q.format,q.type,m);else{if(null===m)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");m instanceof ArrayBuffer&&(m=new ImageData(new Uint8ClampedArray(m),this.$,this.Y));m instanceof ImageData&&(p=d.nf(this.$,this.Y),p.getContext("2d").putImageData(m,0,0),m=p);p=d.nf(d.EP(this.$),d.EP(this.Y));u=p.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.Vc;u.drawImage(m,0,0,this.$,this.Y,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.zv,q.format,q.type,p)}null!==m&&this.iX(r);r.bindTexture(r.TEXTURE_2D,null);this.ma.WK();this.kd=1;l.add(this)}Cca(m,q,r){r=Object.assign({},k,r);if(this.ob)throw Error("already created texture");this.uv=r.Ps;this.vv=r.Qs;this.Vc=r.ge;this.mp=r.JP;this.dn=!!r.NG&&this.ma.uu;this.Yr=r.BA;if(!c.has(this.uv)||!c.has(this.vv))throw Error("invalid wrap mode");if(!b.has(this.Vc))throw Error("invalid sampling");if(!a.has(this.mp))throw Error("invalid pixel format");if(!e.has(this.Yr))throw Error("invalid mipmap quality");
this.Xi=!1;this.$=Math.floor(m);this.Y=Math.floor(q);m=d.gm(this.$)&&d.gm(this.Y);q=this.ma.AF;if(0>=this.$||0>=this.Y)throw Error("invalid texture size");if(this.$>q||this.Y>q)throw Error("texture exceeds maximum texture size");if(!this.ma.Nq()&&this.KK()&&!m)throw Error("non-power-of-two tiled textures not supported");m=this.ma.ca;q=this.ma.ee;this.ob=m.createTexture();m.bindTexture(m.TEXTURE_2D,this.ob);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,
!1);r=f(this.mp,m);m.texImage2D(m.TEXTURE_2D,0,2<=q?r.YP:r.zv,this.$,this.Y,0,r.format,r.type,null);this.iX(m);m.bindTexture(m.TEXTURE_2D,null);this.ma.WK();this.kd=1;l.add(this)}IK(m){if("default"===this.Yr)return this.Xi?m.NICEST:m.FASTEST;if("low"===this.Yr)return m.FASTEST;if("high"===this.Yr)return m.NICEST;throw Error("invalid mipmap quality");}KK(){return"clamp-to-edge"!==this.uv||"clamp-to-edge"!==this.vv}OV(m,q){if("clamp-to-edge"===q)return m.CLAMP_TO_EDGE;if("repeat"===q)return m.REPEAT;
if("mirror-repeat"===q)return m.MIRRORED_REPEAT;throw Error("invalid wrap mode");}iX(m){var q=d.gm(this.$)&&d.gm(this.Y);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.OV(m,this.uv));m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.OV(m,this.vv));"nearest"===this.Vc?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),this.dn=!1):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),(q||this.ma.Nq())&&this.dn?(m.hint(m.GENERATE_MIPMAP_HINT,
this.IK(m)),m.generateMipmap(m.TEXTURE_2D),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,"trilinear"!==this.Vc||this.ma.IM?m.LINEAR_MIPMAP_NEAREST:m.LINEAR_MIPMAP_LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR),this.dn=!1));(q=this.ma.hy)&&0<this.IL&&"nearest"!==this.Vc&&m.texParameterf(m.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.IL,this.ma.JN))}sX(m,q){if(!("undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&m instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&m instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&m instanceof OffscreenCanvas||m instanceof ImageData))throw Error("invalid texture source");if(!this.ob||0>=this.kd)throw Error("texture not created");if(this.Xi)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=m.width||m.videoWidth,p=m.height||m.videoHeight;var u=this.ma.ee;
const t=this.ma.ca;t.bindTexture(t.TEXTURE_2D,this.ob);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.mp,t);u=2<=u?q.YP:q.zv;try{if(this.$===r&&this.Y===p){const w=d.gm(this.$)&&d.gm(this.Y);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,m);(w||this.ma.Nq())&&this.dn&&(t.hint(t.GENERATE_MIPMAP_HINT,this.IK(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.$=r;this.Y=p;const w=d.gm(this.$)&&d.gm(this.Y);if(!this.ma.Nq()&&this.KK()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,u,q.format,q.type,m);(w||this.ma.Nq())&&this.dn&&(t.hint(t.GENERATE_MIPMAP_HINT,this.IK(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.ma.WK()}sK(){if(0<this.kd)throw Error("texture still has references");if(!this.ob)throw Error("already deleted texture");l.delete(this);this.ma.ca.deleteTexture(this.ob);this.ob=null}xb(){return this.ma}Uaa(){if(0>=
this.kd)throw Error("no more references");this.kd--}R(){return this.$}P(){return this.Y}VH(){let m=this.$*this.Y;switch(this.mp){case "rgba8":m*=4;break;case "rgb8":m*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":m*=2}this.dn&&(m+=Math.floor(m/3));return m}static Am(){l.clear()}static dla(){return l.values()}}}
{"use strict";const d=self.C,a=self.fm.Rp,b=new Set(["nearest","bilinear","trilinear"]),e={ge:"trilinear",alpha:!0,depth:!1,xP:!0,Z_:!0,uma:0},c=new Set;d.ja.aK=class{constructor(f){this.ma=f;this.wn=this.ob=this.pk=null;this.Y=this.$=0;this.az=!0;this.Vc="trilinear";this.au=!0;this.Hf=!1;this.fz=!0;this.nn=0;this.ds=a.create()}zca(f,k,g){g=Object.assign({},e,g);const l=this.ma.ee;if(this.ob||this.wn)throw Error("already created render target");this.Vc=g.ge;this.au=!!g.alpha;this.Hf=!!g.depth;this.fz=
!!g.xP;this.az=!!g.Z_;this.nn=g.uma;if(!b.has(this.Vc))throw Error("invalid sampling");if(0<this.nn&&(2>l||this.fz))throw Error("invalid use of multisampling");2>l&&(this.fz=!0);this.$=f;this.Y=k;if(0>=this.$||0>=this.Y)throw Error("invalid render target size");this.NU();f=this.ma.ca;this.pk=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.pk);this.fz?(this.ob=this.ma.HQ(this.$,this.Y,{ge:this.Vc,JP:this.au?"rgba8":"rgb8",NG:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,
f.TEXTURE_2D,this.ob.ob,0)):(this.wn=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.wn),k=this.au?f.RGBA8:f.RGB8,0<this.nn&&((g=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&g[0]?(g=g[0],this.nn>g&&(this.nn=g)):this.nn=0),0===this.nn?f.renderbufferStorage(f.RENDERBUFFER,k,this.$,this.Y):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.nn,k,this.$,this.Y),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.wn),f.bindRenderbuffer(f.RENDERBUFFER,
null));k=this.ma.Ar;this.Hf&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}JW(f,k){if(this.$!==f||this.Y!==k)this.$=f,this.Y=k,this.NU(),f=this.ma.ca,f.bindFramebuffer(f.FRAMEBUFFER,this.pk),this.ob?this.ob.sX(new ImageData(this.$,this.Y)):(f.bindRenderbuffer(f.RENDERBUFFER,this.wn),f.renderbufferStorage(f.RENDERBUFFER,this.au?f.RGBA8:f.RGB8,this.$,this.Y),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.ma.Ar,
this.Hf&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}sK(){if(!this.ob&&!this.wn)throw Error("already deleted render target");c.delete(this);const f=this.ma.ca;f.bindFramebuffer(f.FRAMEBUFFER,this.pk);this.ob?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.ma.Pe(this.ob),this.ob=null):this.wn&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.wn),
this.wn=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.ma.ee&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.pk);this.pk=this.ma.Rc.Mp=null}NU(){this.ma.Tv(this.ds,this.$/this.Y)}xb(){return this.ma}$b(){return this.ob}OI(){return"nearest"!==this.Vc}R(){return this.$}P(){return this.Y}R6(f){f=Object.assign({},e,f);return"nearest"!==f.ge!==this.OI()||!!f.alpha!==this.au||!!f.depth!==this.Hf||2<=this.ma.ee&&!!f.xP!==this.fz?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.az&&this.R()===f.width&&this.P()===f.height:this.az}VH(){return this.ob?this.ob.VH():this.$*this.Y*(this.au?4:3)}static async q2(f,k){f=await f.q9(k);return await d.c6(f)}static Am(){c.clear()}}}
{"use strict";const d=self.C;d.ja.zx=class{static async T1(a,b,e,c){const f=a.ca,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,b);f.compileShader(k);b=f.createShader(f.VERTEX_SHADER);f.shaderSource(b,e);f.compileShader(b);const g=f.createProgram();f.attachShader(g,k);f.attachShader(g,b);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const l=a.$N;l?await a.uja(()=>f.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.$J(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(b,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(b),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(k),f.deleteShader(b),f.deleteProgram(g),Error("Error linking shader program: "+
c);(a=d.U3(f.getProgramInfoLog(g)||"").trim())&&!d.dC(a)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,a);f.deleteShader(k);f.deleteShader(b);return g}static async fb(a,b,e,c){e=await d.ja.zx.T1(a,b.src,e,c);return new d.ja.zx(a,e,b,c)}constructor(a,b,e,c){const f=a.ca;var k=a.Rc;a.ni();f.useProgram(b);this.ca=f;this.ma=a;this.Na=c;this.rb=b;this.RE="<default-device-transform>"===c;c=f.getAttribLocation(b,"aPos");const g=f.getAttribLocation(b,"aTex");this.EN=f.getAttribLocation(b,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,a.yG),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,a.iG),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.EN&&(f.bindBuffer(f.ARRAY_BUFFER,a.JF),f.vertexAttribPointer(this.EN,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.EN));f.bindBuffer(f.ARRAY_BUFFER,null);this.QO=new d.ja.Pc(this,"matP","mat4");this.PO=new d.ja.Pc(this,"matMV","mat4");this.Bs=new d.ja.Pc(this,
"color","vec4");this.Wka=new d.ja.Pc(this,"samplerFront","sampler");this.TO=new d.ja.Pc(this,"pointTexStart","vec2");this.SO=new d.ja.Pc(this,"pointTexEnd","vec2");this.WO=new d.ja.Pc(this,"zElevation","float");this.UO=new d.ja.Pc(this,"tileSize","vec2");this.VO=new d.ja.Pc(this,"tileSpacing","vec2");this.OO=new d.ja.Pc(this,"color2_","vec4");this.RO=new d.ja.Pc(this,"outlineThickness","float");this.sv=new d.ja.Pc(this,"samplerBack","sampler");this.Fn=new d.ja.Pc(this,"destStart","vec2");this.En=
new d.ja.Pc(this,"destEnd","vec2");this.Nk=new d.ja.Pc(this,"srcStart","vec2");this.Gn=new d.ja.Pc(this,"srcEnd","vec2");this.In=new d.ja.Pc(this,"srcOriginStart","vec2");this.Hn=new d.ja.Pc(this,"srcOriginEnd","vec2");this.hi=new d.ja.Pc(this,"pixelSize","vec2");this.Fp=new d.ja.Pc(this,"seconds","float");this.Cp=new d.ja.Pc(this,"layerScale","float");this.Bp=new d.ja.Pc(this,"layerAngle","float");this.Ep=new d.ja.Pc(this,"layoutStart","vec2");this.Dp=new d.ja.Pc(this,"layoutEnd","vec2");this.uY=
!!(this.hi.ka||this.Fp.ka||this.sv.ka||this.Fn.ka||this.En.ka||this.Nk.ka||this.Gn.ka||this.In.ka||this.Hn.ka||this.Cp.ka||this.Bp.ka||this.Ep.ka||this.Dp.ka);this.bY=e.S_||0;this.cY=e.T_||0;this.bM=!!e.K_;this.zka=!!e.e0;this.av=!!e.o0;this.BD=!!e.C_;a=e.parameters||[];this.Cs=[];this.hA=this.Fn.ka||this.En.ka;this.Zka=this.hi.ka||this.Nk.ka||this.Gn.ka||this.In.ka||this.Hn.ka;this.Bka=this.bM||this.hA||0!==this.bY||0!==this.cY;this.FM=this.GM=!1;this.Bs.$R();this.OO.$R();this.Wka.ZR(0);this.sv.ZR(1);
this.TO.th(0,0);this.SO.th(1,1);this.WO.jt(0);this.UO.th(0,0);this.VO.th(0,0);this.Fn.th(0,0);this.En.th(1,1);this.Nk.th(0,0);this.Gn.th(0,0);this.In.th(0,0);this.Hn.th(0,0);this.hi.th(0,0);this.Cp.jt(1);this.Bp.jt(0);this.Fp.jt(0);this.Ep.th(0,0);this.Dp.th(0,0);this.RO.jt(1);for(const l of a)a=l[2],b=new d.ja.Pc(this,l[0],a),"color"===a?b.g6():b.jt(0),this.Cs.push(b);this.RE?this.wX(k.pA):(this.MC(k.pA,!0),this.LC(k.GG,!0));k=k.rj;f.useProgram(k?k.rb:null)}A(){this.ca.deleteProgram(this.rb);this.rb=
null;this.ma.qha(this);this.ma=this.ca=null}Ha(){return this.Na}lo(){return this.zka}EB(a){return this.Cs[a].gl()}m1(a){for(let b=0,e=a.length;b<e;++b)if(!this.Cs[b].h7(a[b]))return!1;return!0}k$(a){for(let b=0,e=a.length;b<e;++b)this.Cs[b].f$(a[b])}n1(a,b,e,c,f,k,g,l,m){return this.sv.ka||this.hi.ka&&!this.hi.xm(f,k)||this.Fn.ka&&!this.Fn.xm(a.T,a.O)||this.En.ka&&!this.En.xm(a.Z,a.X)||this.Cp.ka&&!this.Cp.TI(g)||this.Bp.ka&&!this.Bp.TI(l)||this.Nk.ka&&!this.Nk.xm(b.T,b.O)||this.Gn.ka&&!this.Gn.xm(b.Z,
b.X)||this.In.ka&&!this.In.xm(e.T,e.O)||this.Hn.ka&&!this.Hn.xm(e.Z,e.X)||this.Ep.ka&&!this.Ep.xm(c.T,c.O)||this.Dp.ka&&!this.Dp.xm(c.O,c.X)||this.Fp.ka&&!this.Fp.TI(m)?!1:!0}S$(a,b,e,c,f,k,g,l,m){this.sv.ka||(this.hi.ka&&this.hi.Dm(f,k),this.Fn.ka&&this.Fn.Dm(a.T,a.O),this.En.ka&&this.En.Dm(a.Z,a.X),this.Cp.ka&&this.Cp.sJ(g),this.Bp.ka&&this.Bp.sJ(l),this.Nk.ka&&this.Nk.Dm(b.T,b.O),this.Gn.ka&&this.Gn.Dm(b.Z,b.X),this.In.ka&&this.In.Dm(e.T,e.O),this.Hn.ka&&this.Hn.Dm(e.Z,e.X),this.Ep.ka&&this.Ep.Dm(c.T,
c.O),this.Dp.ka&&this.Dp.Dm(c.O,c.X),this.Fp.ka&&this.Fp.sJ(m))}MC(a,b){this.GM&&!b||this.RE||(this.QO.ka&&this.QO.NC(a),this.GM=!0)}P$(){this.GM=!1}LC(a,b){this.FM&&!b||this.RE||(this.PO.ka&&this.PO.NC(a),this.FM=!0)}O$(){this.FM=!1}wX(a){if(!this.RE)throw Error("not device transform shader");this.QO.NC(a);a=this.ma;const b=a.R()/2,e=a.P()/2;a=a.Sv(b,e,100*self.devicePixelRatio,b,e);this.PO.NC(a)}kba(a){this.Bs.ka&&this.Bs.KC(a[0],a[1],a[2],a[3])}static wB(a){a=a?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${a} vec2 aTex;`,`varying ${a} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.C,a=self.fm.Rp,b=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.ja.Pc=class{constructor(e,c,f){if(!b.has(f))throw Error("invalid uniform type");this.zc=e;this.ca=this.zc.ca;this.Na=c;this.Da=f;this.WM="color"===this.Da;this.aj=this.ca.getUniformLocation(this.zc.rb,c);this.ka=!!this.aj;e=b.get(f);this.ic=new Float32Array(e);this.Ak=new Float32Array(e)}A(){this.aj=this.ca=this.zc=null}gl(){return this.Da}jt(e){this.ka&&
(this.ic[0]=e,this.Ak.set(this.ic),this.ca.uniform1f(this.aj,e))}ZR(e){this.ka&&(this.ic[0]=e,this.Ak.set(this.ic),this.ca.uniform1i(this.aj,e))}th(e,c){this.ka&&(this.ic[0]=e,this.ic[1]=c,this.Ak.set(this.ic),this.ca.uniform2f(this.aj,e,c))}g6(){this.ka&&(this.ic[0]=0,this.ic[1]=0,this.ic[2]=0,this.Ak.set(this.ic),this.ca.uniform3f(this.aj,0,0,0))}$R(){this.ka&&(this.ic[0]=1,this.ic[1]=1,this.ic[2]=1,this.ic[3]=1,this.Ak.set(this.ic),this.ca.uniform4f(this.aj,1,1,1,1))}Ot(e){e=Math.fround(e);const c=
this.ic;c[0]!==e&&(c[0]=e,this.ca.uniform1f(this.aj,e))}Cf(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.ic;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.ca.uniform2f(this.aj,e,c)}iba(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const k=this.ic;if(k[0]!==e||k[1]!==c||k[2]!==f)k[0]=e,k[1]=c,k[2]=f,this.ca.uniform3f(this.aj,e,c,f)}KC(e,c,f,k){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const g=this.ic;if(g[0]!==e||g[1]!==c||g[2]!==f||g[3]!==k)g[0]=e,g[1]=c,g[2]=
f,g[3]=k,this.ca.uniform4f(this.aj,e,c,f,k)}NC(e){const c=this.ic;a.Qk(c,e)||(d.cna(c,e),this.ca.uniformMatrix4fv(this.aj,!1,e))}h7(e){const c=this.Ak;return this.WM?c[0]===Math.fround(e.Ya)&&c[1]===Math.fround(e.Xa)&&c[2]===Math.fround(e.Va):c[0]===Math.fround(e)}f$(e){const c=this.Ak;this.WM?(c[0]=e.Ya,c[1]=e.Xa,c[2]=e.Va):c[0]=e}TI(e){return this.Ak[0]===Math.fround(e)}xm(e,c){const f=this.Ak;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}sJ(e){this.Ak[0]=e}Dm(e,c){const f=this.Ak;f[0]=e;
f[1]=c}}}
{"use strict";const d=self.C,a=self.fm,b=a.LA,e=a.Rp;d.ja.s1=class{constructor(c){this.Sf=c;this.GG=e.create();this.pA=e.create();this.Mp=null;this.FG=b.xg(1,1,1,1);this.rj=null;this.KP=new d.Rect;this.clearColor=d.D(d.Ua,0,0,0,0)}};d.ja.xba=class{constructor(c){const f=new ArrayBuffer(96);this.Da=0;this.Rc=c;this.ca=c.Sf.ca;this.$m=this.bh=0;this.Lf=null;this.te=new Float32Array(f,0,16);this.nr=new Float32Array(f,64,4);this.f_=new Float32Array(f,80,4);this.SF=[]}w6(c){this.Da=1;this.bh=c;this.$m=
6}N2(){const c=this.ca;c.drawElements(c.TRIANGLES,this.$m,c.UNSIGNED_SHORT,this.bh)}F6(c){this.Da=2;this.Lf=c}Z2(){const c=this.ca,f=this.Lf;c.bindTexture(c.TEXTURE_2D,f?f.ob:null)}DI(c){this.Da=3;c.hh(this.nr,0)}P2(){const c=this.nr,f=this.Rc;b.ua(f.FG,c);f.rj.kba(c)}S2(){const c=this.nr,f=this.Rc.rj;f.OO.ka&&f.OO.KC(c[0],c[1],c[2],c[3])}x6(c,f){this.Da=4;this.bh=c;this.$m=f}O2(){this.ca.blendFunc(this.bh,this.$m)}G6(c,f){this.Da=5;const k=this.nr;k[0]=0;k[1]=0;k[2]=c;k[3]=f}b3(){const c=this.nr;
this.ca.viewport(c[0],c[1],c[2],c[3])}D6(c){this.Da=6;e.ua(this.te,c)}X2(){const c=this.Rc,f=c.Sf.cr,k=c.rj,g=this.te;for(let l=0,m=f.length;l<m;++l){const q=f[l];q===k?q.MC(g,!0):q.P$()}e.ua(c.pA,g)}z6(c){this.Da=7;e.ua(this.te,c)}T2(){const c=this.Rc,f=c.Sf.cr,k=c.rj,g=this.te;for(let l=0,m=f.length;l<m;++l){const q=f[l];q===k?q.LC(g,!0):q.O$()}e.ua(c.GG,g)}E6(c){this.Da=8;this.Lf=c}Y2(){const c=this.ca;var f=this.Lf;const k=this.Rc;f?(f=f.pk,k.Mp=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.Mp=null,
c.bindFramebuffer(c.FRAMEBUFFER,null))}l6(c){this.Da=9;c.hh(this.te,0)}m6(){this.Da=9;const c=this.te;c[0]=0;c[1]=0;c[2]=0;c[3]=0}G2(){const c=this.ca;var f=this.te,k=this.Rc;const g=k.clearColor;(k=k.Sf.Pr&&d.Bv)&&c.disable(c.SCISSOR_TEST);const l=f[0],m=f[1],q=f[2];f=f[3];g.sA(l,m,q,f)||(c.clearColor(l,m,q,f),g.Wp(l,m,q,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}k6(c,f,k,g){this.Da=10;const l=this.te;l[0]=c;l[1]=f;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}F2(){const c=this.ca;var f=
this.te,k=this.Rc;const g=k.Sf;k=k.clearColor;g.Pr||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],m=f[5],q=f[6];f=f[7];k.sA(l,m,q,f)||(c.clearColor(l,m,q,f),k.Wp(l,m,q,f));c.clear(c.COLOR_BUFFER_BIT);g.Pr?c.scissor(0,0,g.lA,g.kA):c.disable(c.SCISSOR_TEST)}A6(c){this.Da=15;c.hh(this.te,0)}U2(){const c=this.te;this.Rc.KP.set(c[0],c[1],c[2],c[3])}u6(c,f){this.Da=11;this.bh=c;this.$m=1;this.te[0]=f}M2(){const c=this.ca,f=this.Rc,k=f.Sf.ZF;c.useProgram(k.rb);k.MC(f.pA,!1);k.LC(f.GG,
!1);var g=f.KP;k.TO.ka&&k.TO.Cf(g.T,g.O);k.SO.ka&&k.SO.Cf(g.Z,g.X);g=this.te[0];k.WO.ka&&k.WO.Ot(g);k.Bs.ka&&(g=f.FG,k.Bs.KC(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.bh/4,this.$m);c.useProgram(f.rj.rb)}B6(c){this.Da=12;this.Lf=c}V2(){var c=this.ca;const f=this.Rc,k=this.Lf;f.rj=k;c.useProgram(k.rb);k.MC(f.pA,!1);k.LC(f.GG,!1);k.Bs.ka&&(c=f.FG,k.Bs.KC(c[0],c[1],c[2],c[3]))}C6(){this.Da=13}W2(){const c=this.Rc.rj;c.uY&&this.zda(c);c.Cs.length&&this.Ada(c)}zda(c){const f=this.ca,k=this.te,g=
this.nr,l=this.f_;if(c.sv.ka){const m=this.Rc.Sf,q=this.Lf;m.bp!==q&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,q?q.ob:null),m.bp=q,f.activeTexture(f.TEXTURE0))}c.hi.ka&&c.hi.Cf(k[0],k[1]);c.Fn.ka&&c.Fn.Cf(k[2],k[3]);c.En.ka&&c.En.Cf(k[4],k[5]);c.Cp.ka&&c.Cp.Ot(k[6]);c.Bp.ka&&c.Bp.Ot(k[7]);c.Nk.ka&&c.Nk.Cf(k[12],k[13]);c.Gn.ka&&c.Gn.Cf(k[14],k[15]);c.In.ka&&c.In.Cf(l[0],l[1]);c.Hn.ka&&c.Hn.Cf(l[2],l[3]);c.Ep.ka&&c.Ep.Cf(g[0],g[1]);c.Dp.ka&&c.Dp.Cf(g[2],g[3]);c.Fp.ka&&c.Fp.Ot(this.bh)}Ada(c){c=
c.Cs;const f=this.SF;for(let k=0,g=c.length;k<g;++k){const l=c[k],m=f[k];l.WM?l.iba(m.Ya,m.Xa,m.Va):l.Ot(m)}}r6(c){this.Da=14;this.Lf=c}L2(){const c=this.ca,f=this.Lf,k=this.Rc.Mp;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}h6(c,f){this.Da=17;var k=this.te;const g=this.Rc.Sf;k[0]=c.R();k[1]=c.P();k[2]=f?f.R():g.R();k[3]=f?f.P():g.P();k[4]=c.OI()?1:0;k[5]=!0;k=this.SF;d.G(k);k.push(c.pk);k.push(f?f.pk:
null)}D2(){var c=this.te,f=this.SF;const k=this.ca;var g=c[0],l=c[1],m=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=f[1];k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,g,l,0,0,m,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(f=Math.min(g,m),g=Math.min(l,q),m=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,m,f,g+m,0,l,f,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}I6(c){this.Da=18;this.Lf=c}d3(){this.Lf.nH();this.Lf=null}q6(c){this.Da=19;this.Lf=
c}K2(){this.Lf.GH();this.Lf=null}R2(){const c=this.Rc.rj,f=this.te;c.hi.ka&&c.hi.Cf(f[0],f[1]);c.RO.ka&&c.RO.Ot(f[2])}a3(){const c=this.Rc.rj,f=this.te;c.Nk.ka&&c.Nk.Cf(f[0],f[1]);c.hi.ka&&c.hi.Cf(f[4],f[5]);c.UO.ka&&c.UO.Cf(f[6],f[7]);c.VO.ka&&c.VO.Cf(f[8],f[9])}j6(){this.Da=22}E2(){const c=this.ca;c.clear(c.DEPTH_BUFFER_BIT)}y6(c){this.Da=23;this.bh=c?1:0}Q2(){const c=this.ca;0===this.bh?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}p6(){this.Da=24}J2(){const c=
this.ca;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,!1,!1,!1)}o6(){this.Da=25}I2(){const c=this.ca;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}n6(){this.Da=26}H2(){const c=this.ca;c.disable(c.STENCIL_TEST)}Ba(){switch(this.Da){case 1:this.N2();break;case 2:this.Z2();break;case 3:this.P2();break;case 4:this.O2();break;case 5:this.b3();break;case 6:this.X2();break;case 7:this.T2();
break;case 8:this.Y2();break;case 9:this.G2();break;case 10:this.F2();break;case 11:this.M2();break;case 12:this.V2();break;case 13:this.W2();break;case 14:this.L2();break;case 15:this.U2();break;case 16:this.a3();break;case 17:this.D2();break;case 18:this.d3();break;case 19:this.K2();break;case 20:this.R2();break;case 21:this.S2();break;case 22:this.E2();break;case 23:this.Q2();break;case 24:this.J2();break;case 25:this.I2();break;case 26:this.H2()}}}}
{"use strict";const d=self.C,a={timeout:60},b=new d.Ua(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;d.X3&&d.X3.addEventListener("fontload",q=>{q=q.font.Ha();for(const r of k)(r.$e||d.lf(r.uE,q))&&r.yl()});function g(q,r,p,u,t,w){r?"Gecko"===d.Cd.SA?q.strokeText(p,u,t,w):q.strokeText(p,u,t):"Gecko"===d.Cd.SA?q.fillText(p,u,t,w):q.fillText(p,u,t)}let l=!1,m=!1;d.ja.iJ=class{constructor(q,r){r=Object.assign({},a,r);this.ma=
q;this.uE="Arial";this.vE=16;this.wE=1;this.Lc=0;this.kg=this.jg=!1;this.VD="black";this.$e=!1;this.GP=null;this.HL=new Set;this.hc="left";this.Sb="top";this.Ia="";this.ak=null;this.Qf=d.D(d.Ax);this.Es="word";this.kN=this.jG=!1;this.Zy=!0;this.Pg=-1;this.Y=this.$=this.Vm=this.Ff=this.Nh=0;this.pj=1;this.ZL=!1;this.xz=this.mn=this.Le=this.vs=null;this.WY=this.XY=-1;this.lF=this.ZY=this.tN="";this.uN=this.vN=1;this.yz=(p,u)=>this.Qx(p,u);this.ob=null;this.Yz=this.$z=0;this.Zg=new d.Rect;this.Lz=1;
this.QN=!1;this.JO=new d.b6(()=>{this.yh();this.hX(8,8)},r.timeout);this.QG=null;this.Kn=!1;k.add(this)}A(){this.GP=null;this.HL.clear();this.yz=this.xz=this.mn=this.Le=this.vs=this.ak=null;this.JO.A();this.QG=null;this.yh();this.Qf.Zc();this.ma=this.Qf=null;this.Kn=!0;k.delete(this)}Wq(){this.ZL=!0}yl(){this.Wq();this.Qf.Zc();this.jG=!0}LT(){this.Zy=!1}uh(){return this.Zy}rJ(q){q=!!q;this.$e!==q&&(q=(this.$e=q)?"alphabetic":"top",this.Le&&(this.Le.textBaseline=q),this.mn&&(this.mn.textBaseline=q),
this.yl())}xJ(q){q||(q="serif");this.uE!==q&&(this.uE=q,this.yl())}yJ(q){.1>q&&(q=.1);this.vE!==q&&(this.vE=q,this.yl())}w$(q){this.wE!==q&&(this.wE=q,this.yl())}Et(q){this.Lc!==q&&(this.Lc=q,this.Wq())}xT(q){q=!!q;this.jg!==q&&(this.jg=q,this.yl())}NT(q){q=!!q;this.kg!==q&&(this.kg=q,this.yl())}Iq(q){q=Math.floor(q);this.Pg!==q&&(this.Pg=q,this.Wq())}dd(q,r){for(let p=q.length-1;0<=p;--p){const u=q[p];if(u.tag===r)return u}return null}Bo(q,r){return!!this.dd(q,r)}DV(q,r){let p=[];(this.jg||this.Bo(r,
"b"))&&p.push("bold");(this.kg||this.Bo(r,"i"))&&p.push("italic");var u=this.dd(r,"size");u=(u?parseFloat(u.yd):this.vE)*this.wE;q?p.push(u+"pt"):p.push(u*this.Lz*this.pj*self.devicePixelRatio+"pt");q=this.uE;(r=this.dd(r,"font"))&&r.yd&&(q=r.yd,this.GP&&!this.HL.has(q)&&(this.GP(q),this.HL.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}bg(q){q instanceof d.Ua&&(q=q.Ola());this.VD!==q&&(this.VD=q,this.Wq())}zT(q,r,p){b.Vp(q,r,p);this.bg(b)}IT(q){if(!e.has(q))throw Error("invalid horizontal alignment");
this.hc!==q&&(this.hc=q,this.Wq())}hU(q){if(!c.has(q))throw Error("invalid vertical alignment");this.Sb!==q&&(this.Sb=q,this.Wq())}OJ(q){if(!f.has(q))throw Error("invalid word wrap mode");this.Es!==q&&(this.Es=q,this.yl())}rl(q){this.Ia!==q&&(this.Ia=q,this.yl())}cc(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.Ff===q&&this.Vm===r&&this.pj===p)){1===this.pj!==(1===p)&&(this.QN=!0);var u=this.Ff,t=this.pj;this.Ff=q;this.Vm=r;this.pj=p;q=self.devicePixelRatio;this.$=this.Ff*this.pj*q;this.Y=
this.Vm*this.pj*q;q=Math.max(this.$,this.Y);r=Math.min(this.ma.AF,2048);p=1;q>r&&(p=r/q,this.$=Math.min(this.$*p,r),this.Y=Math.min(this.Y*p,r));this.Lz=p;0<this.$z&&0<this.Yz&&this.pj===t&&this.Zg.set(0,0,this.$/this.$z,this.Y/this.Yz);this.Ff!==u?this.yl():this.Wq()}}R(){return this.$}P(){return this.Y}sI(){this.Tq();return this.Qf.uR()}rI(){this.Tq();return this.Qf.q5()+this.Qf.Ol.length*(this.Lc+4)-this.Lc}$b(){this.JO.od();this.Ufa();return this.ob}Ufa(){this.ob&&!this.ZL&&!this.jG||this.kN||
0>=this.$||0>=this.Y||(this.ZL=!1,this.kN=!0,this.Zy?d.hm(()=>this.hV()):this.hV())}hV(){this.Kn||(this.hX(Math.ceil(this.$),Math.ceil(this.Y)),this.Tq(),this.Uda(),this.pja(),this.JO.od(),this.kN=!1)}hX(q,r){this.vs||(this.vs=d.nf(16,16));let p=!1;if(this.XY!==q||this.WY!==r)this.XY=q,this.WY=r,this.vs.width=q,this.vs.height=r,p=!0;this.Le||(this.Le=this.vs.getContext("2d"),p=!0);p?(this.Le.textBaseline=this.$e?"alphabetic":"top",this.Le.font=this.tN,this.Le.fillStyle=this.lF,this.Le.strokeStyle=
this.lF,this.Le.globalAlpha=this.vN,this.Le.lineWidth=this.uN):this.Le.clearRect(0,0,q,r)}jW(){this.mn||(this.mn=d.nf(16,16).getContext("2d"),this.xz=d.nf(16,16).getContext("2d"),this.mn.textBaseline=this.$e?"alphabetic":"top",this.xz.textBaseline="top")}Eia(q){this.ZY!==q&&(this.ZY=q,this.mn.font=q,this.xz.font=q)}qX(){if(!l){l=!0;this.jW();const q=this.mn.measureText("test");m="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return m}Tq(){this.jG&&(this.jW(),
!this.$e||this.ak&&this.ak.toString()===this.Ia||(this.ak=new d.xj(this.Ia,{g0:!0})),this.Qf.Ax(this.$e?this.ak.z0():this.Ia,this.yz,this.Ff,this.Es,0),this.jG=!1)}Qx(q,r){this.Eia(this.DV(!0,r));r=this.dd(r,"size");r=(r?parseFloat(r.yd):this.vE)*this.wE;const p=this.mn.measureText(q);let u=0;this.$e&&this.qX()&&(u=p.fontBoundingBoxAscent-this.xz.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,eh:p.fontBoundingBoxAscent||0,wg:p.fontBoundingBoxDescent||0,zg:u}}pia(q){this.tN!==
q&&(this.tN=q,this.Le.font=q)}oD(q){this.lF!==q&&(this.lF=q,this.Le.fillStyle=q,this.Le.strokeStyle=q)}oia(q){this.vN!==q&&(this.vN=q,this.Le.globalAlpha=q)}$W(q){this.uN!==q&&(this.uN=q,this.Le.lineWidth=q)}Uda(){this.Nh=0;const q=this.Lz*this.pj*self.devicePixelRatio,r=(4+this.Lc)*q;var p=0;const u=this.Qf.Ol;if(0!==u.length){var t=this.$e&&this.qX(),w=u[0].height*q;"center"===this.Sb?(p=u.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.Y/2-p/2,0),t&&(w=u[0].zg*q)):"bottom"===this.Sb&&(p=u.reduce((x,
z)=>x+z.height*q+r,0)-this.Lc*q,p=this.Y-p-(t?u.Oe(-1).wg*q:0)-2);for(let x=0,z=u.length;x<z;++x){t=u[x];const D=t.height*q,G=p;if(this.$e){if(p+=0===x?w:D,0<x&&p>this.Y-4*q)break}else if(0<x&&p>=this.Y-D)break;0<=G&&this.Tda(t,p,q);this.$e||(p+=D);p+=r}}}Tda(q,r,p){let u=0;"center"===this.hc?u=(this.$-q.width*p)/2:"right"===this.hc&&(u=this.$-q.width*p);for(const t of q.nP)this.Sda(t,u,r,p,q.height),u+=t.width*p}Sda(q,r,p,u,t){const w=this.Le;var x=t/16;t=q.width*u;const z=q.height*u,D=q.height/
16;var G=(4+this.Lc)*u,N=q.zd,B=q.text;if(-1!==this.Pg){if(this.Nh>=this.Pg)return;this.Nh+B.length>this.Pg&&(B=B.substr(0,this.Pg-this.Nh),t=this.Qx(B,N).width*u);this.Nh+=B.length}var H=this.dd(N,"background"),I=this.Bo(N,"u");q=this.Bo(N,"s");if((!d.dC(B)||H||I||q)&&!this.Bo(N,"hide")){var K=this.dd(N,"offsetx");r+=K?parseFloat(K.yd)*u:0;K=this.dd(N,"offsety");p+=K?parseFloat(K.yd)*u:0;H&&(this.oD(H.yd),w.fillRect(r,p-z,t,z+G));K=this.dd(N,"color");this.oD(K?K.yd:this.VD);G=this.dd(N,"opacity");
this.oia(G?parseFloat(G.yd)/100:1);G=(G=this.dd(N,"linethickness"))?parseFloat(G.yd):1;(H=this.Bo(N,"stroke"))&&this.$W(.5*D*G*this.Lz*this.pj*self.devicePixelRatio);this.pia(this.DV(!1,N));g(w,H,B,r,p,t);!H&&(this.$W(.5*D*G*this.Lz*this.pj*self.devicePixelRatio),N=this.dd(N,"outline"))&&(this.oD(N.yd),g(w,!0,B,r,p,t));this.oD(K?K.yd:this.VD);I&&(N=r,B=p+u*x,I=t,x=u*x*G,H?w.strokeRect(N,B,I,x):w.fillRect(N,B,I,x));q&&(u*=D,w.fillRect(r,p-z/4+u/2-u*G/2,t,u*G))}}pja(){this.ma.eo()||(this.$z=Math.ceil(this.$),
this.Yz=Math.ceil(this.Y),this.Zg.set(0,0,this.$/this.$z,this.Y/this.Yz),this.QN&&(this.yh(),this.QN=!1),this.ob||(this.ob=this.ma.HQ(this.$z,this.Yz,{NG:1===this.pj,BA:"high"})),this.ma.oba(this.vs,this.ob),this.QG&&this.QG())}vf(){return this.Zg}yh(){this.ob&&(this.ma.eo()||this.ma.Pe(this.ob),this.ob=null)}static Am(){for(const q of k)q.yh()}}}
{"use strict";const d=self.C;class a{constructor(b){this.ca=b.ca;this.ee=b.ee;this.de=b.de;this.dj=null;this.Jy=this.Fb=!1;this.OF=0;this.dj=1===this.ee?this.de.createQueryEXT():this.ca.createQuery()}A(){this.ZU();this.de=this.ca=null;this.Jy=!1}ZU(){this.dj&&(1===this.ee?this.de.deleteQueryEXT(this.dj):this.ca.deleteQuery(this.dj),this.dj=null)}nH(){if(this.Fb)throw Error("query already active");1===this.ee?this.de.beginQueryEXT(this.de.TIME_ELAPSED_EXT,this.dj):this.ca.beginQuery(this.de.TIME_ELAPSED_EXT,
this.dj);this.Fb=!0}GH(){if(!this.Fb)throw Error("query not active");1===this.ee?this.de.endQueryEXT(this.de.TIME_ELAPSED_EXT):this.ca.endQuery(this.de.TIME_ELAPSED_EXT);this.Fb=!1}tH(){if(this.dj&&!this.Jy&&!this.Fb){var b=1===this.ee?this.de.getQueryObjectEXT(this.dj,this.de.QUERY_RESULT_AVAILABLE_EXT):this.ca.getQueryParameter(this.dj,this.ca.QUERY_RESULT_AVAILABLE);var e=this.ca.getParameter(this.de.GPU_DISJOINT_EXT);b&&!e&&(this.OF=1===this.ee?this.de.getQueryObjectEXT(this.dj,this.de.QUERY_RESULT_EXT):
this.ca.getQueryParameter(this.dj,this.ca.QUERY_RESULT),this.OF/=1E9,this.Jy=!0);(b||e)&&this.ZU()}}TB(){return this.Jy}HB(){if(!this.Jy)throw Error("no result available");return this.OF}}d.ja.zba=class{constructor(b){this.ma=b;this.Vi=b.Vi;this.Fb=!1;this.lp=null;this.Or=!1;this.dv=null;this.js=[]}A(){for(const b of this.js)b instanceof a&&b.A();d.G(this.js);this.ma=this.dv=this.lp=null}nH(){if(this.Fb)throw Error("query already active");const b=this.ma.l_;0<b.length?(this.Or=!0,this.lp=b.Oe(-1),
this.lp.kV(),this.lp.js.push(this)):(this.Or=!1,this.lp=null);this.Fb=!0;b.push(this);this.nX()}GH(){if(!this.Fb)throw Error("query not active");if(this.ma.l_.pop()!==this)throw Error("can only end most nested query");this.Fb=!1;this.kV();this.lp&&(this.lp.nX(),this.lp=null)}nX(){this.dv=d.D(a,this.ma);this.js.push(this.dv);this.dv.nH()}kV(){this.dv.GH();this.dv=null}tH(){for(const b of this.js)b.tH()}TB(){return this.js.every(b=>b.TB())}HB(){return this.js.reduce((b,e)=>b+e.HB(),0)}}}
{"use strict";const d=self.C;d.ja.AU=class{constructor(a,b=1E3){this.ma=a;this.yka=b;this.Cl=[];this.ma.Pba(this)}A(){this.Zc();this.ma.pha(this);this.ma=null}Zc(){for(const a of this.Cl)a.A();d.G(this.Cl)}lH(){const a=new d.ja.zba(this.ma);this.Cl.push(a);this.Cl.length>this.yka&&this.Cl.shift().A();return a}H1(a){for(const b of this.Cl){if(b.Vi>=a)break;if(b.Or)break;b.tH()}}oR(a,b){if(b<=a)return NaN;let e=0;for(const c of this.Cl){if(c.Vi>=b)break;if(!(c.Vi<a))if(c.TB())e+=c.HB();else return NaN}return e}LQ(a){for(let b=
0,e=this.Cl.length;b<e;++b){const c=this.Cl[b];if(c.Vi<a)c.A();else{0<b&&this.Cl.splice(0,b);break}}}}}
{"use strict";const d=self.C,a=self.fm,b=a.LA,e=a.Rp,c={powerPreference:"default",R_:!0,alpha:!1,yP:!1,depth:!1,d0:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new d.Ic(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),m=new d.Ic,q=new d.Rect;let r=null;d.Bv&&(self.Yya=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.Zya=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let u=
-1;function t(){u=-1;for(const w of p)w.ola()&&(w.resolve(),p.delete(w));0<p.size&&(u=self.requestAnimationFrame(t))}d.ja.yba=class extends d.ja.D9{constructor(w,x){super();x=Object.assign({},c,x);if(!f.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.yP&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let D=null,G=0;2<=x.d0&&(D=w.getContext("webgl2",
z),G=2);D||(D=w.getContext("webgl",z),G=1);if(!D)throw Error("failed to initialise WebGL context");this.ca=D;this.IX=D.getContextAttributes();x.yP&&!this.IX.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");D.getParameter(D.VERSION);this.ee=G;this.rg=b.create();this.PL=e.create();this.XM=this.Gp=!!x.depth;this.Ar=null;this.VM=!0;this.RX=this.SX=0;this.JF=this.DY=this.iG=this.yG=null;this.jA=new Float32Array(24E3);this.EY=new Uint16Array(12E3);this.us=
new Float32Array(16E3);this.cO=new Float32Array(32E3);this.aZ=this.bs=this.hf=this.oj=0;this.up=this.Ur=null;this.cu=[];this.Yb=this.Rm=0;this.Yd=null;this.qN=0;this.Rc=d.D(d.ja.s1,this);this.Iu=d.D(d.Ua,1,1,1,1);this.bp=this.kn=null;this.mN=this.sN=0;this.Pr=!1;this.kA=this.lA=-1;this.pN=new d.Rect;this.AF=-1;this.zF=this.nZ=0;this.fA="(unavailable)";this.aN=!1;this.hy=this.$N=null;this.JN=0;this.oka=!!x.R_;this.de=null;this.AD=new Set;this.l_=[];this.T3(this.EY)}Iw(){return!0}async VB(){super.VB();
var w=this.ca;this.Iu.Wp(1,1,1,1);this.bp=this.kn=null;this.bs=this.oj=0;this.aZ=23988;d.G(this.cu);this.Yb=this.Rm=0;this.Yd=this.Ur=null;this.pN.set(0,0,1,1);this.qN=0;var x=this.Rc;x.rj=null;x.Mp=null;b.set(x.FG,1,1,1,1);x.clearColor.Wp(0,0,0,0);x.KP.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.sN=w.ONE;this.mN=w.ONE_MINUS_SRC_ALPHA;this.Rea(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);
this.Gp?(w.enable(w.DEPTH_TEST),w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.XM=this.Gp;this.JF=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.JF);w.bufferData(w.ARRAY_BUFFER,this.cO.byteLength,w.DYNAMIC_DRAW);this.yG=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.yG);w.bufferData(w.ARRAY_BUFFER,this.jA.byteLength,w.DYNAMIC_DRAW);this.iG=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.iG);w.bufferData(w.ARRAY_BUFFER,this.us.byteLength,w.DYNAMIC_DRAW);
this.DY=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,this.DY);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.EY,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.AF=w.getParameter(w.MAX_TEXTURE_SIZE);x=w.getParameter(w.ALIASED_POINT_SIZE_RANGE);this.nZ=x[0];this.zF=x[1];2048<this.zF&&(this.zF=2048);if(x=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(x.UNMASKED_VENDOR_WEBGL),this.fA=w.getParameter(x.UNMASKED_RENDERER_WEBGL);this.$N=w.getExtension("KHR_parallel_shader_compile");
d.Bv&&(r=w.getExtension("WEBGL_lose_context"));if(this.oka)if(1===this.ee){if("Chromium"!==d.Cd.SA||81<=d.Cd.qH||"undefined"!==typeof document)this.de=w.getExtension("EXT_disjoint_timer_query")}else this.de=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.JN=(this.hy=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.hy.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.ja.zx;x=w.wB(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.wB(!0),"<tilemap>"]].map(z=>this.AH({src:z[0]},z[1],z[2])));this.$F=w[0];this.up=w[1];this.ZF=w[2];this.xO=w[3];this.Kg()}async AH(w,x,z){w=await d.ja.zx.fb(this,w,x,z);this.Qba(w);return w}J9(){this.Ur=null}cc(w,x,z){if(this.$!==w||this.Y!==x||z){this.ni();z=this.ca;var D=this.Rc;this.$=w;this.Y=x;w=this.FR();x=this.nI();this.kX(w,x);this.Tv(this.PL,w/x);this.Jt(this.PL);this.up&&(z.useProgram(this.up.rb),this.up.wX(this.yF),this.Ur=this.up,this.Rc.rj=this.up);z.bindTexture(z.TEXTURE_2D,null);
z.activeTexture(z.TEXTURE1);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.bp=this.kn=null;this.Gp&&this.VM&&this.cL(this.$,this.Y);this.Yd&&this.Yd.JW(this.$,this.Y);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Yd=null;D.Mp=null}}cL(w,x){const z=this.ca;if(this.Ar){if(this.SX===w&&this.RX===x)return;z.deleteRenderbuffer(this.Ar)}this.Ar=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Ar);z.renderbufferStorage(z.RENDERBUFFER,2<=this.ee?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,
w,x);z.bindRenderbuffer(z.RENDERBUFFER,null);this.SX=w;this.RX=x}v$(w,x){this.Gp&&(this.VM=!1,this.cL(w,x))}e$(){this.Gp&&(this.VM=!0,this.cL(this.$,this.Y))}FR(){return this.Pr?this.lA:this.R()}nI(){return this.Pr?this.kA:this.P()}kX(w,x){const z=this.rg;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==x)this.Hc().G6(w,x),b.set(z,0,0,w,x),this.Yb=0}Jt(w){e.Qk(this.yF,w)||(this.Hc().D6(w),e.ua(this.yF,w),this.Yb=0)}DT(){let w,x;var z=this.Yd;null===z||z.az&&this.Pr?(w=this.PL,x=this.FR(),z=this.nI()):(w=z.ds,
x=z.R(),z=z.P());this.Jt(w);this.kX(x,z)}Ft(w){e.Qk(this.HN,w)||(this.Hc().z6(w),e.ua(this.HN,w),this.Yb=0)}Hc(){const w=this.cu;this.Rm===w.length&&w.push(new d.ja.xba(this.Rc));return w[this.Rm++]}ni(){0===this.Rm||this.eo()||(this.zja(),this.Yda(),this.Yb=this.bs=this.hf=this.oj=this.Rm=0)}zja(){const w=this.ca;0<this.bs&&(w.bindBuffer(w.ARRAY_BUFFER,this.JF),w.bufferSubData(w.ARRAY_BUFFER,0,this.cO.subarray(0,this.bs)));0<this.oj&&(w.bindBuffer(w.ARRAY_BUFFER,this.yG),w.bufferSubData(w.ARRAY_BUFFER,
0,this.jA.subarray(0,this.oj)),w.bindBuffer(w.ARRAY_BUFFER,this.iG),w.bufferSubData(w.ARRAY_BUFFER,0,this.us.subarray(0,this.hf)))}Yda(){const w=this.cu;for(let x=0,z=this.Rm;x<z;++x)w[x].Ba()}Rd(){return this.Iu.$a}dg(w,x,z,D){const G=this.Iu;G.sA(w,x,z,D)||(G.Wp(w,x,z,D),this.Hc().DI(G),this.Yb=0,this.ik=null)}Bi(w){const x=this.Iu;x.$a!==w&&(x.gh(w),this.Hc().DI(x),this.Yb=0,this.ik=null)}bg(w){const x=this.Iu;x.Wc(w)||(x.set(w),this.Hc().DI(x),this.Yb=0,this.ik=null)}yt(){this.dg(1,1,1,1)}iw(){return this.Iu}Wd(w){w!==
this.kn&&(this.Hc().F6(w),this.kn=w,this.Yb=0)}WK(){this.kn=null}Se(w){w=this.oea(w);this.bL(w[0],w[1])}bL(w,x){if(w!==this.sN||x!==this.mN)this.Hc().x6(w,x),this.sN=w,this.mN=x,this.Yb=0,this.ik=null}qJ(){this.bL(this.ca.ONE,this.ca.ONE_MINUS_SRC_ALPHA)}BT(){this.bL(this.ca.ONE,this.ca.ZERO)}Rect(w){this.$S(w.T,w.O,w.Z,w.X)}$S(w,x,z,D){this.cJ(w,x,z,x,z,D,w,D)}Gx(){let w=this.oj;w>=this.aZ&&(this.ni(),w=0);1===this.Yb?this.cu[this.Rm-1].$m+=6:(this.Hc().w6(w),this.Yb=1)}sL(w){w.fna(this.jA,this.oj,
this.bu+this.nu);this.oj+=12}Ic(w){this.Gx();this.sL(w);k.hh(this.us,this.hf);this.hf+=8}cJ(w,x,z,D,G,N,B,H){this.Gx();const I=this.jA;let K=this.oj;const Q=this.bu+this.nu;I[K++]=w;I[K++]=x;I[K++]=Q;I[K++]=z;I[K++]=D;I[K++]=Q;I[K++]=G;I[K++]=N;I[K++]=Q;I[K++]=B;I[K++]=H;I[K++]=Q;this.oj=K;k.hh(this.us,this.hf);this.hf+=8}Nj(w,x){this.Gx();this.sL(w);x.ena(this.us,this.hf);this.hf+=8}dJ(w,x){this.Gx();this.sL(w);x.hh(this.us,this.hf);this.hf+=8}mC(w,x,z,D,G,N,B,H,I,K,Q,R,U){this.Gx();const Z=this.jA;
let ca=this.oj;const Y=this.bu+this.nu;Z[ca++]=w;Z[ca++]=x;Z[ca++]=Y+z;Z[ca++]=D;Z[ca++]=G;Z[ca++]=Y+N;Z[ca++]=B;Z[ca++]=H;Z[ca++]=Y+I;Z[ca++]=K;Z[ca++]=Q;Z[ca++]=Y+R;this.oj=ca;U.hh(this.us,this.hf);this.hf+=8}Z3(w,x){e.ua(g,this.yF);e.ua(l,this.HN);this.DT();if(this.Pr){w=this.Sv(0,0,100*self.devicePixelRatio,0,0);this.Ft(w);w=this.lA/2;var z=this.kA/2;q.set(-w,z,-w+this.lA,z-this.kA);m.yg(q);q.set(0,0,this.lA/this.$,this.kA/this.Y);this.Nj(m,q)}else{const [N,B]=this.ER(this.Yd);z=this.Sv(0,0,100*
self.devicePixelRatio,0,0,B);this.Ft(z);if("crop"===w&&this.Yd&&x){w=this.$/2;z=this.Y/2;const H=x.R();x=x.P();var D=this.Yd.R(),G=this.Yd.P();D=Math.min(D,H);const I=Math.min(G,x),K=Math.max(x-G,0);G=Math.max(G-x,0);q.set(-w,z-G,-w+D,z-I-G);m.yg(q);q.set(0,K,D,I+K);q.am(H,x);this.Nj(m,q)}else w=N/2,z=B/2,this.$S(-w,z,w,-z)}this.Jt(g);this.Ft(l)}Paa(w){this.pN.Wc(w)||(this.pN.ua(w),this.Hc().A6(w),this.Yb=0)}c9(w,x,z,D){7996<=this.bs&&this.ni();let G=this.bs;var N=this.bu+this.nu;2===this.Yb&&this.qN===
N?this.cu[this.Rm-1].$m++:(this.Hc().u6(G,N),this.Yb=2,this.qN=N);N=this.cO;N[G++]=w;N[G++]=x;N[G++]=z;N[G++]=D;this.bs=G}wo(w){this.Ur!==w&&(this.Hc().B6(w),this.Ur=w,this.Yb=0,this.ik=null)}o$(){this.wo(this.up)}It(w,x,z,D,G,N,B,H,I,K,Q){const R=this.Ur;var U=R.uY;const Z=!!Q.length;if(U&&!R.n1(x,z,D,G,N,B,H,I,K)||Z&&!R.m1(Q)){var ca=this.Hc();ca.C6();U&&(R.S$(x,z,D,G,N,B,H,I,K),U=ca.te,U[0]=N,U[1]=B,x.hh(U,2),U[6]=H,U[7]=I,z.hh(U,12),x=ca.nr,G.hh(x,0),G=x[1],x[1]=x[3],x[3]=G,D.hh(ca.f_,0),ca.bh=
K,ca.Lf=R.sv.ka?w?w.$b():null:null);Z&&(R.k$(Q),d.nd(ca.SF,Q));this.Yb=0}}XA(){this.Hc().m6();this.Yb=0}Zc(w){this.Hc().l6(w);this.Yb=0}uH(w){this.M1(w.T,w.O,w.width(),w.height())}M1(w,x,z,D){0>z||0>D||(this.Hc().k6(w,x,z,D),this.Yb=0)}wx(){}Ys(){super.Ys();this.ca.flush()}I1(){this.Gp&&this.Yd&&this.Yd.Hf&&(this.Hc().j6(),this.Yb=0)}so(w){w=!!w;this.XM!==w&&this.Gp&&(this.XM=w,this.Hc().y6(w),this.Yb=0)}G1(){for(const w of this.AD)w.H1(this.Vi)}eo(){return!this.ca||this.ca.isContextLost()||this.aN}Am(){super.j8();
d.ja.OC.Am();d.ja.aK.Am();d.ja.iJ.Am();for(const w of this.AD)w.Zc();this.hy=this.$N=this.de=null;this.JN=0;this.fA="(unavailable)";this.Ar=this.up=this.Ur=null;for(const w of this.Vz.values())w.Am()}async ZI(){this.aN=!0;await this.VB();this.aN=!1;for(const w of this.Vz.values())w.ZI(this);this.cc(this.$,this.Y,!0)}Bj(w,x){if(this.eo())throw Error("context lost");this.ni();const z=d.D(d.ja.OC,this);z.Tca(w,x);return z}aB(w,x){if(this.eo())return Promise.reject("context lost");x=Object.assign({},
x);const z=x.Ps&&"clamp-to-edge"!==x.Ps||x.Qs&&"clamp-to-edge"!==x.Qs;if(!d.dc.ImageBitmapOptions||!this.Nq()&&z)return d.dc.ImageBitmap?createImageBitmap(w).then(D=>d.hm(()=>this.Bj(D,x))):w instanceof Blob?d.kQ(w,!0).then(D=>this.aB(D,x)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.hm(()=>this.Bj(w,x))):d.hm(()=>this.Bj(w,x));x.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(D=>d.hm(()=>
this.Bj(D,x)))}HQ(w,x,z){this.ni();const D=d.D(d.ja.OC,this);D.Cca(w,x,z);return D}oba(w,x){this.ni();x.sX(w,void 0)}Pe(w){w&&(w.Uaa(),0<w.kd||(this.ni(),w===this.kn&&(this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.kn=null),w===this.bp&&(this.ca.activeTexture(this.ca.TEXTURE1),this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.ca.activeTexture(this.ca.TEXTURE0),this.bp=null),w.sK()))}l2(w){let x=this.$,z=this.Y,D=!0;w&&("number"===typeof w.width&&(x=w.width,D=!1),"number"===typeof w.height&&(z=
w.height,D=!1));if(0>=x||0>=z)throw Error("invalid size");this.ni();const G=d.D(d.ja.aK,this);G.zca(x,z,Object.assign({Z_:D},w));this.Yd=null;this.Rc.Mp=null;return G}zf(w){w!==this.Yd&&(w&&w.az&&w.JW(this.$,this.Y),this.Hc().E6(w),this.Yd=w,this.Yb=0,this.DT())}uw(){return this.Yd}ER(w){return w?[w.R(),w.P()]:[this.$,this.Y]}wH(w){2>this.ee||this.Yd&&0<this.Yd.nn?(this.BT(),this.yt(),this.Xv(w,"stretch")):(this.Hc().h6(w,this.Yd),this.Yb=0)}Xv(w,x="stretch"){w=w.$b();if(!w)throw Error("not a texture-backed render target");
this.Wd(w);this.Z3(x,w)}qq(w){2>this.ee||(this.Hc().r6(w.pk),this.Yb=0)}B2(w){this.zf(null);this.ni();const x=w.$b();x===this.kn&&(this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.kn=null);x===this.bp&&(this.ca.activeTexture(this.ca.TEXTURE1),this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.ca.activeTexture(this.ca.TEXTURE0),this.bp=null);w.sK()}async q9(w){this.ni();const x=this.Yd;if(w){var z=w.R();var D=w.P();w=w.pk}else z=this.R(),D=this.P(),w=null;const G=this.ca;G.bindFramebuffer(G.FRAMEBUFFER,
w);w=new ImageData(z,D);G.readPixels(0,0,z,D,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Yd=null;this.Rc.Mp=null;this.zf(x)})();return w}EQ(){this.so(!0);this.Hc().p6();this.Yb=0}DQ(){this.so(!1);this.Hc().o6();this.Yb=0}CQ(){this.so(!0);this.Hc().n6();this.Yb=0}UJ(w){this.sl()&&(this.Hc().I6(w),this.Yb=0)}FH(w){this.sl()&&(this.Hc().q6(w),this.Yb=0)}uja(w){const x=new Promise(z=>p.add({resolve:z,ola:w}));-1===u&&(u=self.requestAnimationFrame(t));
return x}U6(){return!!this.IX.desynchronized}r4(){let w=0;for(const x of d.ja.OC.dla())w+=x.VH();return w}Nq(){return 2<=this.ee}sl(){return!!this.de}Pba(w){this.AD.add(w)}pha(w){this.AD.delete(w)}Rea(w){this.Qea([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",
w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const a=new Set;let b=!1;self.V5=class{constructor(e){d=e;Object.defineProperties(this,{Rla:{value:{},writable:!1},storage:{value:new self.Y5(d),writable:!1},Pza:{value:d.cn,writable:!1}});d.Ne.addEventListener("keydown",c=>{a.has(c.key)?c.stopPropagation():a.add(c.key)});d.Ne.addEventListener("keyup",c=>a.delete(c.key));d.Db().addEventListener("window-blur",()=>a.clear());d.cn&&(self.alert=c=>{b||(b=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}Uea(e){Object.defineProperties(this.Rla,e)}addEventListener(e,c){d.Ne.addEventListener(e,c)}removeEventListener(e,c){d.Ne.removeEventListener(e,c)}get P_(){return d.fq()}get wza(){return d.rf()}random(){return d.no()}get fh(){return d.Ub().My}get keyboard(){const e=d.hu.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get BP(){const e=d.hu.BP;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get bQ(){const e=d.hu.bQ;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.Bq("runtime","alert",{message:e+(d.cn?" [via Web Worker]":"")})}}}"use strict";self.L5=class{constructor(){}};{"use strict";const d=self.Bg;self.Y5=class{constructor(a){this.Wz=a.Bea()}getItem(a){d.Vd(a);return this.Wz.getItem(a)}setItem(a,b){d.Vd(a);return this.Wz.setItem(a,b)}removeItem(a){d.Vd(a);return this.Wz.removeItem(a)}clear(){return this.Wz.clear()}keys(){return this.Wz.keys()}}}
{"use strict";const d=self.Bg,a=new WeakMap;self.Fw=class{constructor(b){a.set(this,b);Object.defineProperties(this,{name:{value:b.Ha(),writable:!1}});b.K().hW(this,b)}addEventListener(b,e){d.Vd(b);d.ol(e);a.get(this).Ne.addEventListener(b,e)}removeEventListener(b,e){d.Vd(b);d.ol(e);a.get(this).Ne.removeEventListener(b,e)}*Y_(){for(const b of a.get(this).ta())yield b.pi()}jP(b){d.Ig(void 0);d.Ig(void 0);if("number"!==typeof b&&"string"!==typeof b)throw new TypeError("invalid layer parameter");var e=
a.get(this),c=e.K();b=c.Ub().ba(b);if(!b)throw Error("invalid layer");e=c.$A(e,b,void 0,void 0,void 0);c=c.wa();c.mf(!0);e.tD();c.mf(!1);return e.pi()}}}
{"use strict";const d=self.Bg,a=new WeakMap;self.R5=class{constructor(b){a.set(this,b);const e=[],c=b.bb,f=c.mh().length;for(let k=0;k<f;++k)e.push(new self.CI(c,k));Object.defineProperties(this,{name:{value:b.Ha(),writable:!1},index:{value:b.Oa(),writable:!1},Q_:{value:e,writable:!1}})}addEventListener(b,e){d.Vd(b);d.ol(e);a.get(this).Ne.addEventListener(b,e)}removeEventListener(b,e){d.Vd(b);d.ol(e);a.get(this).Ne.removeEventListener(b,e)}get width(){return a.get(this).R()}set width(b){a.get(this).Af(b)}get height(){return a.get(this).P()}set height(b){a.get(this).eg(b)}set scale(b){d.yi(b);
a.get(this).Lq(b)}get scale(){return a.get(this).jc}set angle(b){d.yi(b);a.get(this).Jc(b)}get angle(){return a.get(this).ea()}set scrollX(b){d.Ig(b);a.get(this).Di(b)}get scrollX(){return a.get(this).Eg()}set scrollY(b){d.Ig(b);a.get(this).Ei(b)}get scrollY(){return a.get(this).Fg()}scrollTo(b,e){d.Ig(b);d.Ig(e);const c=a.get(this);c.Di(b);c.Ei(e)}set p0(b){d.Vd(b);const e=a.get(this);if("perspective"===b)e.WT();else if("orthographic"===b)e.ST();else throw Error("invalid projection");}get p0(){return a.get(this).lg?
"orthographic":"perspective"}}}
{"use strict";const d=self.C,a=self.Bg,b=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.D(d.Ua);self.Q5=class{constructor(c){b.set(this,c);const f=[],k=c.bb,g=k.mh().length;for(let l=0;l<g;++l)f.push(new self.CI(k,l));Object.defineProperties(this,{name:{value:c.Ha(),writable:!1},index:{value:c.Oa(),
writable:!1},fh:{value:c.tc().My,writable:!1},Q_:{value:f,writable:!1}})}get isVisible(){return b.get(this).Oc()}set isVisible(c){b.get(this).Lg(c)}get opacity(){return b.get(this).Rd()}set opacity(c){c=d.aa(+c,0,1);isNaN(c)||b.get(this).Bi(c)}set scale(c){a.yi(c);b.get(this).TT(c)}get scale(){return b.get(this).jc}set angle(c){a.yi(c);b.get(this).Jc(c)}get angle(){return b.get(this).Qc}set NA(c){a.yi(c);b.get(this).Bf(c)}get NA(){return b.get(this).gb()}set backgroundColor(c){a.lJ(c);if(3>c.length)throw Error("expected 3 elements");
e.Vp(c[0],c[1],c[2]);c=b.get(this);const f=c.Qm;f.cm(e)||(f.qj(e),c.K().U())}get backgroundColor(){const c=b.get(this).Qm;return[c.Ya,c.Xa,c.Va]}set scrollX(c){a.Ig(c);const f=b.get(this);f.cx(!0);f.Di(c)}get scrollX(){return b.get(this).Eg()}set scrollY(c){a.Ig(c);const f=b.get(this);f.cx(!0);f.Ei(c)}get scrollY(){return b.get(this).Fg()}scrollTo(c,f){a.Ig(c);a.Ig(f);const k=b.get(this);k.cx(!0);k.Di(c);k.Ei(f)}}}
{"use strict";const d=self.C,a=self.Bg,b=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.D(d.Event.Db);e.set(k,g);return g}let f=null;self.pq=class{constructor(){b.set(this,f);const k={Xc:{value:f.K().uk,writable:!1},FP:{value:f.J().Ny,writable:!1},uid:{value:f.tb,writable:!1}};f.uea(k);f.nea(k);Object.defineProperties(this,k);f.K().hW(this,f)}static Vj(k){f=k}static Ao(){return f}Ux(){const k=e.get(this);k&&(k.A(),e.delete(this));b.delete(this)}addEventListener(k,g,l){a.Vd(k);
a.ol(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.Vd(k);a.ol(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.C,a=self.Bg,b=self.pq,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.D(d.Ua);self.Gw=class c extends b{constructor(){super();var f=b.Ao();e.set(this,f);const k=[];var g=f.B();if(f=g.Ze){g=g.J().bb.mh().length;for(let l=0;l<g;++l)k.push(new self.CI(f,l))}Object.defineProperties(this,
{Q_:{value:k,writable:!1}})}get fh(){return e.get(this).B().tc().My}get we(){return e.get(this).B().ba().dka}get x(){return e.get(this).B().L()}set x(f){f=+f;const k=e.get(this).B();isNaN(f)||k.L()===f||(k.Fi(f),k.Pa())}get y(){return e.get(this).B().M()}set y(f){f=+f;const k=e.get(this).B();isNaN(f)||k.M()===f||(k.Gi(f),k.Pa())}get NA(){return e.get(this).B().gb()}set NA(f){f=+f;const k=e.get(this),g=k.B();isNaN(f)||g.gb()===f||(g.Bf(f),k.K().U())}get width(){return e.get(this).B().R()}set width(f){f=
+f;const k=e.get(this).B();isNaN(f)||k.R()===f||(k.Af(f),k.Pa())}get height(){return e.get(this).B().P()}set height(f){f=+f;const k=e.get(this).B();isNaN(f)||k.P()===f||(k.eg(f),k.Pa())}get angle(){return e.get(this).B().ea()}set angle(f){f=d.ue(+f);const k=e.get(this).B();isNaN(f)||k.ea()===f||(k.Jc(f),k.Pa())}rP(){e.get(this).B().Tb().Wma()}get isVisible(){return e.get(this).B().Oc()}set isVisible(f){f=!!f;const k=e.get(this),g=k.B();g.Oc()!==f&&(g.Lg(f),k.K().U())}get opacity(){return e.get(this).B().Rd()}set opacity(f){f=
d.aa(+f,0,1);const k=e.get(this),g=k.B();isNaN(f)||g.Rd()===f||(g.Bi(f),k.K().U())}get zIndex(){return e.get(this).B().hl()}vg(f,k){a.Ig(f);a.Ig(k);return e.get(this).B().Vv(+f,+k)}getParent(){const f=e.get(this).Ka();return f?f.pi():null}*CA(){for(const f of e.get(this).CA())yield f.pi()}*children(){for(const f of e.get(this).children())yield f.pi()}*Zl(){for(const f of e.get(this).Zl())yield f.pi()}removeChild(f){a.mJ(f,c);const k=e.get(this);f=e.get(f);k.nl(f)}}}
{"use strict";const d=new WeakMap;self.O5=class extends self.Gw{constructor(){super();d.set(this,self.pq.Ao())}focus(){d.get(this).ra.YQ()}blur(){d.get(this).ra.mQ()}}}
{"use strict";const d=self.C,a=self.Bg,b=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.D(d.Event.Db);e.set(k,g);return g}let f=null;self.XR=class{constructor(){b.set(this,f);const k={Xc:{value:f.K().uk,writable:!1},behavior:{value:f.Qd().J4(),writable:!1}};Object.defineProperties(this,k)}static Vj(k){f=k}static Ao(){return f}get instance(){return b.get(this).N.pi()}Ux(){const k=e.get(this);k&&(k.A(),e.delete(this));b.delete(this)}addEventListener(k,g,l){a.Vd(k);a.ol(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){a.Vd(k);a.ol(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.WR=class{constructor(a){d.set(this,a);Object.defineProperties(this,{Xc:{value:a.K().uk,writable:!1}})}}}
{"use strict";const d=self.C,a=self.Bg,b=new WeakMap;self.CI=class{constructor(e,c){b.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return b.get(this).mh()[this.index].Ha()}getParameter(e){a.yi(e);e=Math.floor(+e);const c=b.get(this).ph(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.Ua?[e.Ya,e.Xa,e.Va]:e}}}
{"use strict";const d=self.C,a=new Set(["local","remote"]),b=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.r1=class extends d.qa{constructor(e,c){super();var f=c.exportType;this.j=e;this.vF=new Map;this.Pu=new Map;this.wka=new Map;this.QE="cordova"===f;this.lN=!!c.isiOSCordova;this.bz=!!c.isFileProtocol;this.Tka=c.supportedAudioFormats||{};this.NL=
new Map;this.IZ=!1;this.AY=this.hY=this.mZ="";this.aE="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.DL=[];this.ML=new Map;this.aP=[];this.tF=[];this.vY=!1;this.kF=this.LL=this.dA=0;this.HM=!1;this.vka=d.D(d.o9,()=>this.pV(),50);this.jO=new d.US(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [k,g]of Object.entries(e))this.vF.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.wka.set(k,g);new self.L5(this)}A(){this.vF.clear();for(const e of this.Pu.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Pu.clear();for(const e of this.DL)e.A();d.G(this.DL);this.ML.clear();d.G(this.tF);this.j=null}K(){return this.j}Fia(e){this.mZ=e}tia(e){this.hY=e}xia(e){this.AY=e}cD(e){return this.vF.has(e.toLowerCase())}$C(e){return this.vF.get(e.toLowerCase())||null}eI(e){if(!this.cD(e))return e;e=e.toLowerCase();var c=this.Pu.get(e);c||(c=this.$C(e),
c=URL.createObjectURL(c),this.Pu.set(e,c));return c}km(e,c){c=c||this.aE;const f=this.$C(e);if(f)return Promise.resolve(f);if(d.SI(e)){const k=e.toLowerCase();return this.QE&&this.bz?this.GQ(k):"local"===c?this.jO.Yc(()=>d.km(k)):d.km(k)}return d.km(e)}$v(e){const c=this.$C(e);if(c)return d.w1(c);if(d.SI(e)){const f=e.toLowerCase();return this.QE&&this.bz?this.FQ(f):"local"===this.aE?this.jO.Yc(()=>d.$v(f)):d.$v(f)}return d.$v(e)}aw(e){const c=this.$C(e);if(c)return d.lQ(c);if(d.SI(e)){const f=e.toLowerCase();
return this.QE&&this.bz?this.b2(f):"local"===this.aE?this.jO.Yc(()=>d.aw(f)):d.aw(f)}return d.aw(e)}async VQ(e){e=await this.aw(e);return JSON.parse(e)}iK(e,c){return this.j.Bq("runtime","cordova-fetch-local-file",{filename:e,as:c})}b2(e){return this.iK(e,"text")}async GQ(e){const c=await this.iK(e,"buffer");e?(e=e.split("."),e=2>e.length?"":b.get(e.Oe(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async a2(e){e=e.toLowerCase();var c=this.Pu.get(e);if(c)return c;c=await this.GQ(e);c=URL.createObjectURL(c);
this.Pu.set(e,c);return c}FQ(e){return this.iK(e,"buffer")}vR(e){return this.cD(e)?this.eI(e):this.mZ+e.toLowerCase()}AR(e,c=""){if(d.FI(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.cD(e)?Promise.resolve(this.eI(e)):this.QE&&this.bz?this.a2(c+e):Promise.resolve(c+e.toLowerCase())}Lw(e){if(e.zA&&!a.has(e.zA))throw Error("invalid load policy");let c=this.ML.get(e.url);if(c)return c;c=d.D(d.YR,this,{url:e.url,size:e.size||0,zA:e.zA||this.aE});
this.DL.push(c);this.ML.set(c.Vl,c);this.vY||(this.dA+=c.Jj(),this.tF.push(c.tS().then(()=>this.IU(c.Jj()))));return c}async yU(){try{await Promise.all(this.tF),this.kF=1}catch(e){console.error("Error loading: ",e),this.HM=!0,this.pV()}}E$(){this.vY=!0}IU(e){this.LL+=e;this.vka.D1()}pV(){const e=d.D(d.Event,"loadingprogress");this.kF=d.aa(this.LL/this.dA,0,1);e.progress=this.kF;this.j.Db().dispatchEvent(e)}Qia(e){d.nd(this.aP,e);this.aP.length&&this.tF.push(this.Kfa())}Kfa(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,f,k]of this.aP)this.dA+=k,e.push(this.Jfa(c,f).then(()=>this.IU(k)));return Promise.all(e)}async Jfa(e,c){try{const f=await this.AR(c,this.hY),k=new FontFace(e,`url('${f}')`);this.j.cn?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}aS(e){return!!this.Tka[e]}fia(e,c){this.IZ=!!c;for(const [f,k,g]of e)this.NL.set(f,{fileName:f,Ila:k.map(l=>({type:l[0],fza:l[1],U_:f+l[1],fileSize:l[2]})),dma:g})}zR(e){e=
this.NL.get(e.toLowerCase());if(!e)return null;let c=null;for(const f of e.Ila)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.aS(f.type))return f;return c}qh(e){return(e=this.zR(e))?{url:this.vR(e.U_),type:e.type}:null}e4(){if(this.IZ){const e=[];for(const c of this.NL.values()){if(c.dma)continue;const f=this.zR(c.fileName);f&&e.push({zma:c.fileName,url:this.vR(f.U_),type:f.type,fileSize:f.fileSize})}return e}return[]}}}
{"use strict";const d=self.C;d.q1=class extends d.qa{constructor(a,b){super();this.Eb=a;this.j=a.K();this.Vl=b.url;this.Ie=b.size;this.CN=b.zA;this.ny=null;this.dN=!1;this.fp=null}A(){this.ny=this.j=this.Eb=this.fp=null}Jj(){return this.Ie}tS(){return"local"===this.CN||this.ny?(this.dN=!0,Promise.resolve()):this.fp?this.fp:this.fp=this.Eb.km(this.Vl,this.CN).then(a=>{this.dN=!0;this.fp=null;return this.ny=a}).catch(a=>console.error("Error loading resource: ",a))}QI(){return this.dN}dR(){return this.ny?
Promise.resolve(this.ny):this.fp?this.fp:this.Eb.km(this.Vl,this.CN)}}}
{"use strict";const d=self.C,a=new d.US,b=new Set;d.YR=class extends d.q1{constructor(e,c){super(e,c);this.Xl=this.ws=null;this.kd=0;this.Oy=this.Py=-1;b.add(this)}A(){this.yh();if(0!==this.kd)throw Error("released image asset which still has texture references");this.ws=null;b.delete(this);super.A()}static zq(){for(const e of b)e.ws=null,e.Xl=null,e.kd=0}yq(e,c){c=c||{};this.kd++;if(this.Xl)return Promise.resolve(this.Xl);if(this.ws)return this.ws;c.Lp=this.j.fa.IO;return this.ws=this.dR().then(f=>
a.Yc(()=>e.aB(f,c).then(k=>{this.ws=null;if(0===this.kd)return e.Pe(k),null;this.Xl=k;this.Py=k.R();this.Oy=k.P();return this.Xl}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}yh(){if(0>=this.kd)throw Error("texture released too many times");this.kd--;0===this.kd&&this.Xl&&(this.Xl.xb().Pe(this.Xl),this.Xl=null)}$b(){return this.Xl}R(){return this.Py}P(){return this.Oy}async wS(){const e=await this.dR();return d.dc.ImageBitmapOptions?await createImageBitmap(e,{premultiplyAlpha:"none"}):
d.dc.ImageBitmap?await createImageBitmap(e):await d.kQ(e)}}}
{"use strict";const d=self.C;function a(b,e){return b.B().Yl-e.B().Yl}d.B9=class extends d.qa{constructor(b,e,c){super();this.W=e;this.S=c;this.H=[];this.gz=!0;this.Ek=new Set;this.Yy=!1}A(){d.G(this.H);this.Ek.clear()}od(){d.G(this.H);this.gz=!0;this.Ek.clear();this.Yy=!1}g$(){this.gz=!1}tq(){if(!this.H.length)return!0;if(this.H.length>this.Ek.size)return!1;this.FK();return!0}EI(b){this.Ek.has(b)?(this.Ek.delete(b),0===this.Ek.size&&(this.Yy=!1)):(this.H.push(b),this.gz=1===this.H.length)}xi(b){this.Ek.add(b);
this.Yy=!0;50<=this.Ek.size&&this.FK()}FK(){this.Yy&&(this.H.length===this.Ek.size?this.od():(d.ji(this.H,this.Ek),this.Ek.clear(),this.Yy=!1))}Xda(){this.gz||(this.H.sort(a),this.gz=!0)}DH(b){this.FK();this.Xda();this.H.length&&b.push(this.H)}}}
{"use strict";const d=self.C;d.C9=class extends d.qa{constructor(a,b){super();this.YL=a;this.XL=b;this.dk=d.D(d.Ow)}A(){this.dk.A();this.dk=null}Xn(a,b,e){let c=this.dk.la(a,b);return c?c:e?(c=d.D(d.B9,this,a,b),this.dk.Set(a,b,c),c):null}Rj(a){return Math.floor(a/this.YL)}Sj(a){return Math.floor(a/this.XL)}Hh(a,b,e){if(b)for(let c=b.T,f=b.Z;c<=f;++c)for(let k=b.O,g=b.X;k<=g;++k){if(e&&e.vg(c,k))continue;const l=this.Xn(c,k,!1);l&&(l.xi(a),l.tq()&&this.dk.$p(c,k))}if(e)for(let c=e.T,f=e.Z;c<=f;++c)for(let k=
e.O,g=e.X;k<=g;++k)b&&b.vg(c,k)||this.Xn(c,k,!0).EI(a)}nC(a,b){let e=this.Rj(a.T);const c=this.Sj(a.O),f=this.Rj(a.Z);for(a=this.Sj(a.X);e<=f;++e)for(let k=c;k<=a;++k){const g=this.Xn(e,k,!1);g&&g.DH(b)}}G7(a){let b=a.T;const e=a.O,c=a.Z;for(a=a.X;b<=c;++b)for(let f=e;f<=a;++f){const k=this.Xn(b,f,!1);k&&k.g$()}}}}
{"use strict";const d=self.C,a=new d.Rect,b=new d.Ic,e=[],c=new d.Rect,f=new d.Rect,k=self.fm,g=k.eH,l=k.LA,m=k.Rp;m.create();const q=g.create(),r=l.create(),p=g.create(),u=g.create(),t=g.create(),w=d.D(d.xx);function x(B,H){return B.B().Yl-H.B().Yl}function z(B,H){return B.B().gb()-H.B().gb()}const D=[],G=[],N=[];d.UI=class extends d.qa{constructor(B,H,I){super();this.Dk=B;this.j=B.K();this.Na=I[0];this.cb=H;this.jb=I[2];this.hF=!!I[3];this.Qm=d.D(d.Ua);this.Qm.uj(I[4].map(K=>K/255));this.Zo=!!I[5];
this.Fe=I[6];this.Ge=I[7];this.xa=d.D(d.Ua,1,1,1,I[8]);this.KF=d.D(d.Ua);this.ZM=I[9];this.Oka=I[17];this.q_=I[18];this.Yka=I[10];this.Hk=I[11];this.Ko=I[12];this.El=null;this.jc=1;this.wd=I[16];this.ij=this.hj=this.Qc=0;this.Zm=!1;this.rg=d.D(d.Rect);this.x_=d.D(d.Rect);this.Hp=d.D(d.Rect);this.ds=m.create();this.iN=!0;this.rZ=m.create();this.eN=!0;this.w_=d.D(d.ja.rba);this.gF=!0;this.h_=[];this.Kl=[];this.XD=[];this.GY=new Map;this.H=[];this.hr=this.cP=!1;this.bb=d.D(d.jm,this,I[15]);this.gv=null;
this.rN=[];this.ZE=!1;this.ska=d.D(d.Rect,0,0,-1,-1);this.Sja=d.D(d.Rect,0,0,-1,-1);this.dka=new self.Q5(this);this.AX();this.Pq()&&(this.gv=d.D(d.C9,this.j.Xh,this.j.Wh));for(const K of I[14])B=this.j.Zf(K[1]),this.Dk.GU(B),B.qu||B.CT(K),this.Kl.push(K),this.GY.set(K[2],K);d.nd(this.h_,this.Kl)}static fb(B,H,I){return d.D(d.UI,B,H,I)}A(){this.j=this.Dk=null}M4(B){return this.GY.get(B)}g2(B){const H=this.Dk.Nr;let I=0;const K=this.Kl;for(let R=0,U=K.length;R<U;++R){var Q=K[R];const Z=this.j.Zf(Q[1]);
let ca=!0;if(!Z.zI()||H)Q=this.j.Aj(Q,this,!0),B.push(Q),Z.wh()&&(ca=!1,this.XD.push(Q.tb));ca&&(K[I]=K[R],++I)}d.Ad(K,I);this.j.xe();this.Eh()}Ih(B,H){const I=B.B();if(I.ba()!==this)throw Error("instance added to wrong layer");this.H.push(B);0!==I.gb()&&(this.hr=!0);H&&this.Pq()&&B.B().Pa();this.Eh()}Ofa(B){this.H.includes(B)||(this.H.push(B),0!==B.B().gb()&&(this.hr=!0),this.Eh())}Uga(B){const H=B.B();if(H.ba()!==this)throw Error("instance added to wrong layer");this.H.unshift(B);0!==H.gb()&&(this.hr=
!0);this.Eh()}Vq(B,H){const I=this.H.indexOf(B);0>I||(H&&this.Pq()&&B.B().GW(),this.H.splice(I,1),this.Eh(),this.mW())}WW(){this.hr=!0}mW(){0===this.H.length&&(this.hr=!1)}jL(B){if(B){B=new Set;for(var H of this.H){var I=H.B().Yl;0<=I&&B.add(I)}H=-1;for(const K of this.H)if(I=K.B(),!(0<=I.Yl)){for(++H;B.has(H);)++H;I.rD(H)}}this.H.sort(x)}Wda(){for(const B of this.H)B.J().wh()||this.j.Sk(B);this.j.xe();d.G(this.H);this.hr=!1;this.Eh()}Rw(B,H,I,K,Q){const R=this.j.wa(),U=this.j.qd,Z=B.ib,ca=[];for(const ka of this.Kl){var Y=
ka[0];if(H.vg(Y[0],Y[1])){Y=U[ka[1]];if(Y!==B)if(Z){if(!B.UQ(Y))continue}else continue;Y=this;var ha=this.j.Ra();this.tc()!==ha&&((Y=ha.sR(this.Ha()))||(Y=ha.pw(this.Oa())));ha=this.j.Aj(ka,Y,!1,void 0,void 0,!1,Q);Y.QJ(ha);Y=ha.B();Y.ut(I,K);Y.Pa();R.mf(!0);ha.tD();R.mf(!1);ca.push(ha)}}return ca}tc(){return this.Dk}Ha(){return this.Na}Oa(){return this.cb}K(){return this.j}lm(){return this.j.lm()}Pq(){return this.Yka&&!this.q_}$$(){this.ZE=!1}Oc(){return this.hF}Lg(B){B=!!B;this.hF!==B&&(this.hF=
B,this.j.U())}cx(B){B=!!B;if(this.Zm!==B){if(this.Zm=B)B=this.tc(),this.hj=B.Eg(),this.ij=B.Fg();this.xl();this.j.U()}}Di(B){var H=this.tc();const I=H.HR();H=H.IR();B>H&&(B=H);B<I&&(B=I);this.hj!==B&&(this.hj=B,this.Zm&&(this.xl(),this.j.U()))}Ei(B){var H=this.tc();const I=H.JR();H=H.GR();B>H&&(B=H);B<I&&(B=I);this.ij!==B&&(this.ij=B,this.Zm&&(this.xl(),this.j.U()))}Eg(){return this.Zm?this.hj:this.tc().Eg()}Fg(){return this.Zm?this.ij:this.tc().Fg()}JK(){const B=this.tc();return[B.tI(),B.uI()]}QB(B,
H){var I=this.x_;if(0===B)H.ua(I);else{let U=I.ki(),Z=I.li();var K=this.KH(B);const ca=I.width()/K;I=I.height()/K;const [Y,ha]=this.JK();if(.5!==Y||.5!==ha){const ka=this.qB();var Q=this.j,R=100/ka;K=(Y-.5)*Q.tg/R;Q=(ha-.5)*Q.sg/R;R=this.ea();0!==R&&(w.set(K,Q),w.rotate(R),K=w.W,Q=w.S);B=d.dH(ka,0,B);U+=d.Hd(K,0,B);Z+=d.Hd(Q,0,B)}H.set(U-ca/2,Z-I/2,U+ca/2,Z+I/2)}}Rd(){return this.xa.$a}Bi(B){B=d.aa(B,0,1);this.xa.$a!==B&&(this.xa.gh(B),this.AX(),this.j.U())}AX(){this.KF.ua(this.xa);this.KF.EA()}jI(){return this.KF}co(){return this.xa.sA(1,
1,1,1)}aaa(B){this.Hk!==B&&(this.Hk=B,this.xl(),this.j.U())}U$(B,H){if(this.Fe!==B||this.Ge!==H)if(this.Fe=B,this.Ge=H,this.xl(),this.j.U(),1!==this.Fe||1!==this.Ge)for(const I of this.H)I.J().aL(!0)}Bf(B){this.wd!==B&&(this.wd=B,this.j.U())}gb(){return this.wd}Jc(B){B=d.ue(B);this.Qc!==B&&(this.Qc=B,this.xl(),this.j.U())}ea(){return d.ue(this.Dk.ea()+this.Qc)}E5(){return 0<this.H.length}GK(){return this.jJ()&&this.q_?(d.nd(N,this.H),N.sort((B,H)=>this.Xia(B,H)),N):this.H}Xia(B,H){var I=this.tc().MX,
K=I[0],Q=I[1];I=I[2];var R=B.B();const U=H.B();H=R.L()-K;B=R.M()-Q;R=R.gb()-I;K=U.L()-K;Q=U.M()-Q;I=U.gb()-I;return K*K+Q*Q+I*I-(H*H+B*B+R*R)}raa(B){B=!!B;this.Zo!==B&&(this.Zo=B,this.j.U())}x$(B){B=!!B;this.ZM!==B&&(this.ZM=B,this.j.U())}cT(){return!this.K().Jn||!this.Oka}jJ(){return!this.cT()}bo(){return this.jJ()&&this.tc().jka}Se(B){this.Ko!==B&&(this.Ko=B,this.j.U())}Cj(){return this.Ko}m7(B){return this===B||this.Fe===B.Fe&&this.Ge===B.Ge&&this.jc===B.jc&&this.Hk===B.Hk&&this.Qc===B.Qc&&this.Eg()===
B.Eg()&&this.Fg()===B.Fg()}hha(B){0!==B.size&&0<d.ji(this.H,B)&&(this.mW(),this.Eh())}Eh(){this.ZE=this.cP=!1}ey(){if(!this.cP){this.H.sort(z);if(this.Pq())for(let B=0,H=this.H.length;B<H;++B){const I=this.H[B].B();I.rD(B);this.gv.G7(I.Iz)}else for(let B=0,H=this.H.length;B<H;++B)this.H[B].B().rD(B);this.cP=!0}}M7(B,H,I){var K=B.B();H=H.B();if(K.ba()!==this||H.ba()!==this)throw Error("can't arrange Z order unless both objects on this layer");K=K.hl();H=H.hl();if(K===H+(I?1:-1))return!1;d.kla(this.H,
K);K<H&&H--;I&&H++;H===this.H.length?this.H.push(B):this.H.splice(H,0,B);this.Eh();return!0}Yfa(B,H){const I=[];let K=0,Q=0,R=B.length,U=H.length;for(;K<R&&Q<U;){const Z=B[K],ca=H[Q];Z.B().Yl<ca.B().Yl?(I.push(Z),++K):(I.push(ca),++Q)}for(;K<R;++K)I.push(B[K]);for(;Q<U;++Q)I.push(H[Q]);return I}Xfa(B){const H=[],I=B.length;for(let K=0;K<I-1;K+=2)H.push(this.Yfa(B[K],B[K+1]));1===I%2&&H.push(B[I-1]);return H}Wfa(B){for(;1<B.length;)B=this.Xfa(B);return B[0]}Dea(){this.ey();d.G(e);this.gv.nC(this.rg,
e);return e.length?1===e.length?e[0]:this.Wfa(e):[]}hfa(){return!this.Pt()&&!this.Zo}iU(){return this.Oc()&&0<this.Rd()&&(this.E5()||!this.Zo)}Pt(){return this.ZM||!this.co()||0!==this.Cj()||this.bb.Cw()}uw(){return this.El}qca(B){if(0===B.length)return!0;if(2<=B.length)return!1;B=B[0].rb;return!B.lo()&&!B.hA&&!B.bM&&this.co()}KH(B){if(this.Dk.lg)return 1;{const H=this.qB();return H/(H-B)}}qB(){return 100/this.Xk()}xl(){this.gF=this.eN=!0}aD(B){this.eN&&(this.mca(B,this.rZ),this.eN=!1);return this.rZ}mca(B,
H){const I=this.j;var K=this.tc();const Q=I.dl();var R=I.YN,U=I.ZN,Z=(this.Eg()-R)*this.Fe+R,ca=(this.Fg()-U)*this.Ge+U;this.j.yk&&(Z=Math.round(Z),ca=Math.round(ca));if(this.bo())g.ua(p,K.MX),g.ua(u,K.Oja),g.ua(t,K.Pja),K=u[0]-p[0],ca=u[1]-p[1],Z=u[2]-p[2],p[0]=(p[0]-R)*this.Fe+R,p[1]=(p[1]-U)*this.Ge+U,p[2]*=Math.max(this.Fe,this.Ge),u[0]=p[0]+K,u[1]=p[1]+ca,u[2]=p[2]+Z,g.set(q,Q,Q,1),g.multiply(p,p,q),g.multiply(u,u,q);else{R=(Z+0)*Q;U=(ca+0)*Q;K=K.lg?100:this.qB();ca=this.ea();const [ha,ka]=this.JK();
if(.5!==ha||.5!==ka){var Y=100/K;Z=(ha-.5)*I.tg*Q/Y;Y=(ka-.5)*I.sg*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.W,Y=w.S);R+=Z;U+=Y}g.set(p,R,U,K);g.set(u,R,U,K-100);0===ca?g.set(t,0,1,0):g.set(t,Math.sin(ca),Math.cos(ca),0)}B.pQ(H,p,u,t,I.fa.Cg());1!==Q&&(g.set(q,Q,Q,1),m.scale(H,H,q))}Gia(){this.gF=this.iN=!0}bD(B){this.iN&&(this.nca(B),this.iN=!1);return this.ds}nca(B){const H=this.j.fa,[I,K]=this.JK();this.Dk.lg?B.A1(this.ds,H.oh(),H.Cg()):.5===I&&.5===K?m.ua(this.ds,H.bE):B.Tv(this.ds,H.oh()/H.Cg(),
I,K)}qD(B){B.Jt(this.bD(B));let H;H=this.aD(B);B.Ft(H)}f9(B){this.qD(B);B.Uw(this.gb())}Mc(B,H,I){var K=this.j.fa;const Q=this.Pt();var R=null;let U=null;if(this.j.KI()&&B.Iw()){const Z=K.tR(this);Z&&(U=Z.lH(),B.UJ(U))}Q?(R={ge:this.j.Vc},"low"===K.rk&&(R.width=K.oh(),R.height=K.Cg()),R=this.j.fw(R),B.zf(R),this.Zo?B.XA():B.Zc(this.Qm)):(B.zf(H),this.Zo||I||B.Zc(this.Qm));this.El=R||H;this.qD(B);B.Uw(this.gb());B.so(this.jJ());this.Xk()>Number.EPSILON&&(this.ey(),K=this.Pq()&&0===this.gb()&&!this.hr,
this.bo()?this.Kda(B):K?this.Lda(B):this.iV(B,this.GK()));B.Uw(0);B.ro(0);Q&&(B.so(!1),this.Mda(B,R,H,I));U&&B.FH(U);this.El=null}iV(B,H){const I=this.rg,K=this.El,Q=this.tc().lg,R=this.tc().VR();let U=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===U)continue;U=Y;const ha=Y.B();ha.Oc()&&ha.jS(I,R,Q)&&this.Im(Y,ha,B,K)}}Kda(B){const H=this.El,I=this.Jx(),K=this.GK();for(let Z=0,ca=K.length;Z<ca;){var Q=K[Z],R=Q.B();if(!R.Oc()||!R.lt(I)){++Z;continue}(!Q.wt()||0<R.Hf)&&G.push(Q);var U=Q.B().Ud();
D.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=K[Y],ka=ha.B();if(ka.Oc()&&ka.lt(I)){if(ka.Ud()!==U)break;ha.wt()?(0<ka.Hf&&G.push(ha),D.push(ha)):G.push(ha)}}if(1!==D.length||D[0].BS()){this.Eda(B,D);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.B(),R.pD(!0),this.Im(Q,R,B,H),R.pD(!1)}else{this.Im(Q,R,B,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(U=R.B(),U.ba().Im(R,U,B,H))}Z=Y;d.G(D);d.G(G)}}Eda(B,H){const I=this.El;B.EQ();for(let R=0,U=H.length;R<U;++R){var K=H[R],Q=K.B();Q.nD(!0);this.yK(K,
Q,B)}B.DQ();for(let R=0,U=H.length;R<U;++R)K=H[R],Q=K.B(),this.Im(K,Q,B,I),Q.nD(!1);B.CQ()}Lda(B){var H=this.gv;const I=this.Sja,K=this.ska,Q=this.rg;I.set(H.Rj(Q.T),H.Sj(Q.O),H.Rj(Q.Z),H.Sj(Q.X));this.ZE&&I.Wc(K)?H=this.rN:(H=this.Dea(),this.ZE=!0,K.ua(I));this.iV(B,H);H!==this.rN&&d.nd(this.rN,H)}Im(B,H,I,K){H.Cw()?this.Ida(B,H,I,K):this.yK(B,H,I)}yK(B,H,I){H=H.ts;I.ik!==H&&H.j1();B.Mc(I)}Ida(B,H,I,K){this.Hda(B,H,I,K)&&this.qD(I)}Hda(B,H,I,K){const Q=H.Ze.Xj;if(1===Q.length){const R=Q[0],U=R.rb;
if(!U.Bka&&H.co()&&!B.lo())return this.Jda(B,H,R,U,I),!1}B=d.hJ(I,this.j,B,K,Q,null);I.Uw(this.gb());return B}Jda(B,H,I,K,Q){Q.wo(K);Q.Se(H.Cj());K.BD&&this.j.U();let R=0,U=0;if(K.Zka){const [Z,ca]=B.uB();R=1/Z;U=1/ca;(K=B.vB())?f.ua(K):f.set(0,0,0,0)}I=H.Ze.ph(I.Oa());Q.ro(H.gb());Q.It(null,c,f,f,H.Tb(),R,U,this.jc,this.ea(),this.j.rf(),I);B.Mc(Q)}Mda(B,H,I,K){const Q=this.bb.Xj,R=this.j;if(this.qca(Q)){B.zf(I);if(1===Q.length){var U=Q[0];I=U.rb;B.wo(I);f.set(0,0,1,1);U=this.bb.ph(U.Oa());B.It(null,
c,f,f,this.rg,1/R.oh(),1/R.Cg(),this.Xk(),this.ea(),R.rf(),U);I.BD&&R.U()}else B.Kg();K&&0===this.Ko&&this.co()&&0===Q.length?B.wH(H):(B.Se(this.Ko),B.bg(this.KF),B.Xv(H));B.qq(H);R.oo(H)}else d.hJ(B,R,this,I,Q)}TT(B){this.jc!==B&&(this.jc=B,this.Dk.RA(),this.xl(),this.j.U())}dl(){return this.Xk()*this.j.dl()}mm(){return this.Xk()*this.j.mm()}Xk(){return(this.jc*this.Dk.jc-1)*this.Hk+1}ZJ(){var B=this.j.YN,H=this.j.ZN,I=(this.Eg()-B)*this.Fe+B,K=(this.Fg()-H)*this.Ge+H;B=this.Xk();H=this.j.tg/B;B=
this.j.sg/B;I-=H/2;let Q=K-B/2;this.j.yk&&(I=Math.round(I),Q=Math.round(Q));K=this.x_;K.set(I,Q,I+H,Q+B);H=this.ea();0!==H&&(a.ua(K),a.offset(-K.ki(),-K.li()),b.WP(a,H),b.rP(a),a.offset(K.ki(),K.li()),K.ua(a));H=this.wd;this.QB(H,this.rg);this.bo()?this.rQ(H,this.Hp):this.Hp.ua(this.rg)}rQ(B,H){var I=this.j.fa,K=I.td;I=I.ed;const [Q,R]=this.jh(0,0,B),[U,Z]=this.jh(K,0,B),[ca,Y]=this.jh(K,I,B),[ha,ka]=this.jh(0,I,B);B=Math.min(Q,U,ca,ha);K=Math.min(R,Z,Y,ka);I=Math.max(Q,U,ca,ha);let za=Math.max(R,
Z,Y,ka);isFinite(B)||(B=-Infinity);isFinite(K)||(K=-Infinity);isFinite(I)||(I=Infinity);isFinite(za)||(za=Infinity);H.set(B,K,I,za)}jh(B,H,I=0){return this.tca(B,H,I,this.mm())}tca(B,H,I,K){const Q=this.j;var R=Q.xb();const U=this.Xk();l.set(r,0,0,Q.tg/U,Q.sg/U);B/=K;H=r[3]-H/K;K=this.bD(R);R=this.aD(R);return d.ja.hba(B,H,I,R,K,r,q)?[q[0],q[1]]:[NaN,NaN]}uQ(B,H){const I=this.jc,K=this.Hk,Q=this.Fe,R=this.Ge,U=this.Qc;this.Ge=this.Fe=this.Hk=this.jc=1;this.Qc=0;this.xl();B=this.jh(B,H);this.jc=I;
this.Hk=K;this.Fe=Q;this.Ge=R;this.Qc=U;this.xl();return B}xq(B,H){return this.eW(B,H,0,this.mm())}kl(B,H,I=0){return this.eW(B,H,I,this.dl()*this.lm())}eW(B,H,I,K){var Q=this.j,R=Q.xb();const U=this.Xk();l.set(r,0,0,Q.tg/U,Q.sg/U);Q=this.bD(R);R=this.aD(R);return d.ja.h9(B,H,I,R,Q,r,q)?[q[0]*K,(r[3]-q[1])*K]:[NaN,NaN]}Jx(){this.gF&&(this.tja(),this.gF=!1);return this.w_}tja(){var B=this.j.xb();const H=this.bD(B);B=this.aD(B);this.w_.B1(B,H)}ya(){return{s:this.jc,a:this.Qc,vl:this.rg.T,vt:this.rg.O,
vr:this.rg.Z,vb:this.rg.X,v:this.Oc(),bc:this.Qm.toJSON(),t:this.Zo,sx:this.hj,sy:this.ij,hosp:this.Zm,px:this.Fe,py:this.Ge,c:this.xa.toJSON(),sr:this.Hk,fx:this.bb.oc(),cg:this.XD}}Ca(B){this.jc=B.s;this.Qc=B.a;this.rg.set(B.vl,B.vt,B.vr,B.vb);this.hF=!!B.v;this.Qm.uj(B.bc);this.Zo=!!B.t;B.hasOwnProperty("sx")&&(this.hj=B.sx);B.hasOwnProperty("sy")&&(this.ij=B.sy);B.hasOwnProperty("hosp")&&(this.Zm=!!B.hosp);this.Fe=B.px;this.Ge=B.py;this.xa.uj(B.c);this.Hk=B.sr;d.nd(this.XD,B.cg);d.nd(this.Kl,
this.h_);const H=new Set(this.XD);let I=0;for(let K=0,Q=this.Kl.length;K<Q;++K)H.has(this.Kl[K][2])||(this.Kl[I]=this.Kl[K],++I);d.Ad(this.Kl,I);this.bb.ac(B.fx);this.jL(!1);this.Eh()}QJ(B){B.B();if(!this.H.includes(B))if(B.$f()){var H=[...B.Zl()];H.push(B);H.sort((K,Q)=>{K=K.B().ns;Q=Q.B().ns;return K-Q});for(var I of H)if(I.nc())for(const K of I.ae)H.includes(K)||(B=[...K.Zl()],B.push(K),B.sort((Q,R)=>{Q=Q.B().ns;R=R.B().ns;return Q-R}),B&&B.length&&H.splice(H.length,0,...B));for(const K of H)this.Ih(K,
!0)}else if(this.Ih(B,!0),B.nc())for(H of B.ae)if(I=[...H.Zl()],I.push(H),I.sort((K,Q)=>{K=K.B().ns;Q=Q.B().ns;return K-Q}),I&&I.length)for(const K of I)this.Ih(K,!0)}}}
{"use strict";const d=self.C,a=self.ih,b=d.D(d.Rect),e=d.D(d.Rect),c=d.D(d.Rect),f=d.D(d.Ua),k=self.fm.eH,g=[],l=[],m=[],q=[],r=[];let p=null;function u(t,w){p!==t&&(t.f9(w),p=t)}d.qS=class extends d.qa{constructor(t,w,x){super();this.nb=t;this.j=t.K();this.Na=x[0];this.Jka=x[1];this.Ika=x[2];this.$=x[1];this.Y=x[2];this.fF=!!x[3];this.lg=!!x[4];this.wG=x[5];this.xG=x[6];this.aY=x[7];this.ud=null;this.jb=x[8];this.cb=w;this.ij=this.hj=0;this.jc=1;this.Qc=0;this.Cu=new Set;this.ei=new Set;this.Zz=
new Set;this.ku=[];this.NM=[];this.jka=!1;this.MX=k.create();this.Oja=k.create();this.Pja=k.create();this.qc=[];this.dZ=new Map;this.eZ=new Map;this.bb=d.D(d.jm,this,x[11]);this.El=null;this.Zr={};this.Nr=!0;this.My=new self.R5(this);this.Ne=d.D(d.Event.Db);for(const z of x[9])t=d.UI.fb(this,this.qc.length,z),this.qc.push(t),this.dZ.set(t.Ha().toLowerCase(),t),this.eZ.set(t.jb,t);for(const z of x[10]){x=this.j.Zf(z[1]);if(!x)throw Error("missing nonworld object class");x.qu||x.CT(z);this.NM.push(z);
this.GU(x)}}A(){for(const t of this.qc)t.A();d.G(this.qc);this.Zz.clear();this.j=this.nb=this.ud=null}K(){return this.j}Ha(){return this.Na}Oa(){return this.cb}wR(){let t=this.qc[0].Xk();for(let w=1,x=this.qc.length;w<x;++w){const z=this.qc[w];if(0!==z.Fe||0!==z.Ge)t=Math.min(t,z.Xk())}return t}MV(){return.5*this.j.tg/this.wR()}NV(){return.5*this.j.sg/this.wR()}HR(){return this.fF?-Infinity:this.MV()}IR(){return this.fF?Infinity:this.R()-this.MV()}JR(){return this.fF?-Infinity:this.NV()}GR(){return this.fF?
Infinity:this.P()-this.NV()}Di(t){const w=this.HR(),x=this.IR();t>x&&(t=x);t<w&&(t=w);this.hj!==t&&(this.hj=t,this.wl(),this.j.U())}Eg(){return this.hj}Ei(t){const w=this.JR(),x=this.GR();t>x&&(t=x);t<w&&(t=w);this.ij!==t&&(this.ij=t,this.wl(),this.j.U())}Fg(){return this.ij}RA(){this.Di(this.Eg());this.Ei(this.Fg());for(const t of this.qc)t.Zm&&(t.Di(t.Eg()),t.Ei(t.Fg()))}waa(t,w){if(this.wG!==t||this.xG!==w)this.wG=t,this.xG=w,this.b7()&&(this.Yt(),this.wl(),this.j.U())}tI(){return this.lg?.5:this.wG}uI(){return this.lg?
.5:this.xG}VR(){const t=this.tI(),w=this.uI();return 0>t||1<t||0>w||1<w}WT(){this.lg&&(this.lg=!1,this.Yt(),this.wl(),this.j.U())}ST(){this.lg||(this.lg=!0,this.Yt(),this.wl(),this.j.U())}b7(){return!this.lg}Lq(t){this.jc!==t&&(this.jc=t,this.wl(),this.RA(),this.j.U())}Jc(t){t=d.ue(t);this.Qc!==t&&(this.Qc=t,this.wl(),this.j.U())}ea(){return this.Qc}R(){return this.$}Af(t){!isFinite(t)||1>t||(this.$=t)}P(){return this.Y}eg(t){!isFinite(t)||1>t||(this.Y=t)}ba(t){return"number"===typeof t?this.pw(t):
this.sR(t.toString())}pw(t){t=d.aa(Math.floor(t),0,this.qc.length-1);return this.qc[t]}sR(t){return this.dZ.get(t.toLowerCase())||null}DB(t){return this.eZ.get(t)||null}Yt(){for(const t of this.qc)t.Gia()}wl(){for(const t of this.qc)t.xl()}X4(){for(const t of this.qc)if(t.iU()&&t.hfa())return f.qj(t.Qm),f.gh(1),f;f.Wp(0,0,0,0);return f}GV(){return[...this.Cu]}GU(t){if(t.nc())for(const w of t.Mh.rn)this.Cu.add(w);else this.Cu.add(t)}Jea(){return[...this.ei]}LK(t,w){if(t===this||!w)return Promise.resolve();
t&&(d.Z1(this.ei,t.ei),t.ei.clear());t=[];for(const x of this.Cu)this.ei.has(x)||(t.push(x.ll(w)),this.ei.add(x));return Promise.all(t)}async yS(t){if(t.ib)throw Error("cannot load textures for family");var w=this.j.xb();!w||w.eo()||this.ei.has(t)||(this.ei.add(t),w=t.ll(w),this.Oba(w),await w,t.jC(),this.j.U())}Oba(t){this.Zz.add(t);t.then(()=>this.Zz.delete(t)).catch(()=>this.Zz.delete(t))}uba(){return Promise.all([...this.Zz])}K7(t){if(t.ib||0<t.H.length)throw Error("cannot unload textures");this.j.xb()&&
this.ei.has(t)&&(this.ei.delete(t),t.wi())}jja(t,w){if(t!==this&&w)for(const x of this.ei)x.wh()||t.Cu.has(x)||(x.wi(),this.ei.delete(x))}Tx(){this.ei.clear()}async pX(t){const w=this.j,x=this.nb,z=w.wa();this.aY&&(this.ud=z.lR(this.aY),this.ud.qL());x.eX(this);this.$=this.Jka;this.Y=this.Ika;this.hj=w.Xh/2;this.ij=w.Wh/2;this.RA();this.Zfa(t);this.Jca();this.Nr||this.Mca();this.SU(this.ku);this.Kca();x.L1();w.xe();const D=this.j.Aja;await Promise.all(D);d.G(D);if(!w.Ll){for(const G of this.ku)G.Caa();
for(const G of this.ku)G.mL()}d.G(this.ku);await Promise.all([...this.Cu].map(G=>G.bJ(this.j.xb())));t&&(w.Db().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.aq(new d.Event("beforeprojectstart")));await this.aq(new d.Event("beforelayoutstart"));w.Ll||await w.Te(d.F.qb.I.MS,null,null);await this.aq(new d.Event("afterlayoutstart"));t&&(w.Db().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.aq(new d.Event("afterprojectstart")));z.Gha(x);await this.uba();this.Yt();this.wl();
this.Nr=!1}Zfa(t){for(const x of this.j.qd)if(!x.ib&&x.mg)for(const z of x.ta()){const D=z.B();var w=D.ba();w=d.aa(w.Oa(),0,this.qc.length-1);w=this.qc[w];D.Wx(w);w.Ofa(z)}if(!t)for(const x of this.qc)x.jL(!1)}Jca(){for(const t of this.qc)t.g2(this.ku),t.ZJ()}Mca(){let t=!1;for(const [x,z]of Object.entries(this.Zr)){const D=this.j.qw(parseInt(x,10));if(D&&!D.ib&&D.zI()){for(const G of z){var w=null;if(D.mg&&(w=this.DB(G.w.l),!w))continue;w=this.j.Aj(D,w,!1,0,0,!0);w.ac(G);t=!0;this.ku.push(w)}d.G(z)}}for(const x of this.qc)x.jL(!0),
x.Eh();t&&(this.j.xe(),this.j.zW())}SU(t){for(const x of t){if(!x.nc())continue;const z=x.B(),D=x.gq();for(const G of x.J().Mh.rn)if(G!==x.J()){var w=G.ta();w.length>D?x.Qt(w[D]):(w=z?this.j.Aj(G,z.ba(),!0,z.L(),z.M(),!0):this.j.Aj(G,null,!0,0,0,!0),this.j.xe(),G.uD(),x.Qt(w),t.push(w))}}}Kca(){for(const t of this.NM)this.j.Zf(t[1]).nc()||this.j.Aj(t,null,!0)}Hca(){const t=[],w=this.NM;let x=0;for(let z=0,D=w.length;z<D;++z){const G=w[z],N=this.j.Zf(G[1]);N.wh()?N.nc()&&N.Mh.A5()||t.push(this.j.Aj(G,
null,!0)):(w[x]=G,++x)}d.Ad(w,x);this.j.xe();this.SU(t)}Rw(t,w,x,z,D,G){if(x)return x.Rw(t,w,z,D,G);x=[];for(const N of this.qc)x.push(N.Rw(t,w,z,D,G));return x.flat()}async aja(){const t=this.nb;this.j.Ll||await this.j.Te(d.F.qb.I.v8,null,null);t.MT(!0);this.j.wa().UA();this.Nr||this.Qha();for(const w of this.qc)w.Wda();for(const w of this.j.qd)if(!(w.wh()||w.mg||w.Lb().Yo||w.ib)){for(const x of w.ta())this.j.Sk(x);this.j.xe()}t.MT(!1);t.Ub()===this&&t.eX(null)}Oha(t){const w=t.J().jb.toString();
this.Zr.hasOwnProperty(w)||(this.Zr[w]=[]);this.Zr[w].push(t.oc())}Qha(){for(const t of this.qc){t.ey();for(const w of t.H){const x=w.J();!x.wh()&&x.zI()&&this.Oha(w)}}}K9(){this.Zr={};this.Nr=!0}uw(){return this.El}Pt(){return"low"===this.j.fa.rk||this.j.XO||"low-latency"===this.j.ju||this.bb.Cw()||this.j.xb().Iw()&&this.j.Jn}rca(t){return 0===t.length?!0:2<=t.length?!1:!t[0].rb.lo()}Mc(t){var w=this.j.fa;const x=this.Pt();var z=null;x?("low-latency"!==this.j.ju&&(t.zf(null),t.XA()),z={ge:this.j.Vc,
xP:this.j.XO||this.bb.Cw()},"low"===w.rk&&(z.width=w.oh(),z.height=w.Cg()),z=this.j.fw(z),t.zf(z)):t.zf(null);t.Zc(this.X4());this.j.Jn&&t.I1();this.El=z;for(var D of this.qc)D.ZJ(),D.iU()&&g.push(D);for(let G=0,N=g.length;G<N;){w=g[G];if(w.bo()&&!w.Pt()){l.push(w);for(D=G+1;D<N;++D){const B=g[D];if(B.bo()&&!B.Pt())l.push(g[D]);else break}if(2<=l.length){this.Cda(t,z,l);G+=l.length;d.G(l);continue}d.G(l)}w.Mc(t,z,0===G);++G}d.G(g);x&&(t.so(!1),this.Nda(t,z));this.El=null}Nda(t,w){const x=this.bb.Xj,
z=this.j;if(this.rca(x)){t.zf(null);if(1===x.length){var D=x[0];const G=D.rb;t.wo(G);e.set(0,0,1,1);c.set(0,0,z.tg,z.sg);D=this.bb.ph(D.Oa());t.It(null,b,e,e,c,1/z.oh(),1/z.Cg(),this.jc,this.ea(),z.rf(),D);G.BD&&z.U()}else t.Kg();0===x.length?t.wH(w):(t.qJ(),t.yt(),t.Xv(w));t.qq(w);z.oo(w)}else d.hJ(t,z,this,null,x)}Cda(t,w,x){var z=this.j.fa;t.so(!0);for(var D of x)D.ey(),d.$l(m,D.GK());D=x[0];x=null;this.j.KI()&&t.Iw()&&(z=z.tR(D))&&(x=z.lH(),t.UJ(x));for(let H=0,I=m.length;H<I;){D=m[H];var G=D.B(),
N=G.ba();if(G.Oc()&&G.lt(N.Jx())){(!D.wt()||0<G.Hf)&&r.push(D);var B=D.B().Ud();q.push(D);for(z=H+1;z<I;++z){const K=m[z],Q=K.B();if(Q.Oc()&&Q.lt(Q.ba().Jx())){if(Q.Ud()!==B)break;K.wt()?(0<Q.Hf&&r.push(K),q.push(K)):r.push(K)}}if(1!==q.length||q[0].BS()){this.Dda(t,w,q);for(let K=0,Q=r.length;K<Q;++K)D=r[K],G=D.B(),N=G.ba(),G.pD(!0),u(N,t),N.Im(D,G,t,w),G.pD(!1)}else{u(N,t);N.Im(D,G,t,w);for(let K=0,Q=r.length;K<Q;++K)G=r[K],G!==D&&(N=G.B(),B=N.ba(),u(B,t),B.Im(G,N,t,w))}H=z;d.G(q);d.G(r)}else++H}x&&
t.FH(x);d.G(m);p=null}Dda(t,w,x){t.EQ();for(let N=0,B=x.length;N<B;++N){var z=x[N],D=z.B(),G=D.ba();D.nD(!0);u(G,t);G.yK(z,D,t)}t.DQ();for(let N=0,B=x.length;N<B;++N)z=x[N],D=z.B(),G=D.ba(),u(G,t),G.Im(z,D,t,w),D.nD(!1);t.CQ()}ya(){const t={sx:this.Eg(),sy:this.Fg(),s:this.jc,a:this.ea(),w:this.R(),h:this.P(),ortho:this.lg,vpX:this.tI(),vpY:this.uI(),fv:this.Nr,persist:this.Zr,fx:this.bb.oc(),layers:{}};for(const w of this.qc)t.layers[w.jb.toString()]=w.ya();return t}Ca(t){this.hj=t.sx;this.ij=t.sy;
this.jc=t.s;this.Qc=t.a;this.$=t.w;this.Y=t.h;this.lg=!!t.ortho;t.hasOwnProperty("vpX")&&(this.wG=t.vpX);t.hasOwnProperty("vpY")&&(this.xG=t.vpY);this.Nr=!!t.fv;this.Zr=t.persist;this.bb.ac(t.fx);for(const [w,x]of Object.entries(t.layers))(t=this.DB(parseInt(w,10)))&&t.Ca(x);this.Yt();this.wl()}mi(t){t.fh=this.My;var w=this.j;(w=w.Jb&&!w.wa().$B())&&a.TJ();this.Ne.dispatchEvent(t);w&&a.kH()}aq(t){t.fh=this.My;return this.Ne.mP(t)}}}
{"use strict";const d=self.C;d.r7=class extends d.qa{constructor(a){super();this.j=a;this.Zj=[];this.zN=new Map;this.AN=new Map;this.wz=null;this.oO=[];this.tE=null;this.TE=0;this.Cz=null}A(){this.Cz=this.tE=this.wz=this.j=null;d.G(this.Zj);this.zN.clear();this.AN.clear();d.G(this.oO)}fb(a){a=d.D(d.qS,this,this.Zj.length,a);this.Zj.push(a);this.zN.set(a.Ha().toLowerCase(),a);this.AN.set(a.jb,a)}K(){return this.j}u$(a){this.tE=a}E4(){if(this.tE)return this.tE;if(this.Zj.length)return this.Zj[0];throw Error("no first layout");
}ct(a){return this.zN.get(a.toLowerCase())||null}dI(a){return this.AN.get(a)||null}Y4(a){a=d.aa(Math.floor(a),0,this.Zj.length-1);return this.Zj[a]}tc(a){return"number"===typeof a?this.Y4(a):this.ct(a.toString())}eX(a){this.wz=a}Ub(){return this.wz}*IA(){this.wz&&(yield this.wz);this.oO.length&&(yield*this.oO)}MT(a){if(a)this.TE++;else{if(0>=this.TE)throw Error("already unset");this.TE--}}gS(){return 0<this.TE}TA(a){this.Cz=a}L1(){this.Cz=null}mt(){return!!this.Cz}At(){const a=this.Ub();a&&a.Yt()}zt(){const a=
this.Ub();a&&a.wl()}}}
{"use strict";const d=self.C;class a{constructor(){this.Xc=this.Sf=null;this.Jv=this.Kv=this.sj=this.Mn=0;this.Fv=new d.Rect;this.Nn=new d.Rect;this.Up=new d.Rect;this.GA=new d.Rect;this.Hv=new d.Rect;this.clearRect=new d.Rect;this.bH=new d.Rect;this.V_=[null,null];this.Pp=0;this.Gs=1;this.Dv=this.Ev=this.xv=this.wv=0;this.On=this.Ag=this.ve=this.we=this.fh=null;this.HG=this.LP=this.UG=!1;this.SG=null}Zc(){this.SG=this.On=this.Ag=this.ve=this.we=this.fh=this.Xc=this.Sf=null}Faa(g){g=g.rb;if(g.lo())return!0;
if(this.ve)return g.hA&&(0!==this.Ag.ea()||0>this.Ag.R()||0>this.Ag.P())||0!==this.wv||0!==this.xv||!this.Ag.co()||this.ve.lo();if(this.we)return!this.we.co()}Eaa(g){g=g.rb;return g.hA||g.bM||this.fh&&"low"===this.Xc.fa.rk}bt(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.V_;if(!l[g]){var m=this.Xc;const q=m.fa;m={ge:m.Vc};"low"===q.rk&&(m.width=q.oh(),m.height=q.Cg());l[g]=q.fw(m)}return l[g]}t9(){const g=this.V_,l=this.Xc.fa;g[0]&&(l.oo(g[0]),g[0]=null);g[1]&&(l.oo(g[1]),g[1]=
null)}}const b=[];let e=0;const c=new d.Ic;let f=!1;async function k(g,l,m){l=await d.ja.aK.q2(l,m);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(m?"":" [to display]")+": ",l)}d.hJ=function(g,l,m,q,r,p){e===b.length&&b.push(new a);var u=b[e++];u.Sf=g;u.Xc=l;if(m instanceof d.Instance)u.ve=m,u.Ag=u.ve.B();else if(m instanceof d.UI)u.we=m;else if(m instanceof d.qS)u.fh=m;else throw Error("invalid effects object");m=l.fa;u.On=q;u.Mn=m.oh();u.sj=m.Cg();u.Kv=u.Mn;u.Jv=u.sj;u.Pp=0;u.Gs=1;u.wv=0;u.xv=
0;u.Hv.set(0,0,u.Mn,u.sj);u.clearRect.set(0,0,u.Mn,u.sj);u.HG=!1;u.SG=p;u.ve?(q=u.Ag,u.Ev=q.ba().dl(),u.Dv=q.ba().ea(),u.Fv.ua(q.Tb())):u.we?(q=u.we,u.Ev=q.dl(),u.Dv=q.ea(),u.Fv.ua(q.rg)):(q=u.fh,u.Ev=q.jc,u.Dv=q.ea(),u.Fv.set(0,0,u.Mn,u.sj));if(u.ve){{for(let H=0,I=r.length;H<I;++H)q=r[H].rb,u.wv+=q.bY,u.xv+=q.cY;var t=u.Ag;q=t.ba();m=q.ea();p=t.Tb();var w=t.Ud();t=t.Hf;let [D,G]=q.kl(p.T,p.O,w),[N,B]=q.kl(p.Z,p.X,w);if(0!==m||0<t){const [H,I]=q.kl(p.Z,p.O,w),[K,Q]=q.kl(p.T,p.X,w);if(0<t){m=w+t;
const [R,U]=q.kl(p.T,p.O,m),[Z,ca]=q.kl(p.Z,p.O,m),[Y,ha]=q.kl(p.Z,p.X,m),[ka,za]=q.kl(p.T,p.X,m);q=Math.min(D,N,H,K,R,Z,Y,ka);N=Math.max(D,N,H,K,R,Z,Y,ka);D=q;q=Math.min(G,B,I,Q,U,ca,ha,za);B=Math.max(G,B,I,Q,U,ca,ha,za);G=q}else q=Math.min(D,N,H,K),N=Math.max(D,N,H,K),D=q,q=Math.min(G,B,I,Q),B=Math.max(G,B,I,Q),G=q}q=u.Hv;p=u.GA;m=u.Up;w=u.clearRect;t=u.Nn;q.set(D,G,N,B);q.XP(u.sj);p.ua(q);p.am(u.Kv,u.Jv);p.Ms();q.LG(u.wv,u.xv);m.ua(q);m.am(u.Kv,u.Jv);m.Ms();w.ua(q);w.Lma();w.LG(u.wv+1,u.xv+1);
q.aa(0,0,u.Mn,u.sj);w.aa(0,0,u.Mn,u.sj);t.ua(q);t.am(u.Kv,u.Jv);t.Ms()}}else u.Nn.set(0,0,u.Mn/u.Kv,u.sj/u.Jv),u.Up.ua(u.Nn),u.GA.ua(u.Nn),u.Nn.Ms(),u.Up.Ms(),u.GA.Ms();g.qJ();g.yt();g.Uw(0);g.ro(0);u.UG=u.Faa(r[0]);u.UG&&(q=u.Sf,q.Kg(),p=u.bt(u.Pp),q.zf(p),(m=u.SG)&&m.MP&&m.MP(),q.uH(u.clearRect),u.ve?(q.bg(u.Ag.jI()),q.ro(u.Ag.Ud()),u.ve.Mc(q),q.ro(0)):(m=(u.we||u.fh).uw(),u.we?q.bg(u.we.jI()):q.yt(),q.Xv(m),q.qq(m),u.Xc.fa.oo(m)),u.Up.I_(),u.Pp=1,u.Gs=0,f&&k("Pre-draw",q,p));g.yt();q=r.length-
1;u.LP=u.Eaa(r[q]);for(let D=0,G=r.length;D<G;++D){m=r[D];p=m.rb;g.wo(p);p.BD&&l.U();if(0!==D||u.UG){g.BT();var x=void 0,z=void 0;p=u;x=m;z=D===q&&!u.LP;m=D;w=p.Sf;t=p.Xc;0===m&&p.UG&&p.ve&&p.Hv.XP(p.sj);z?(p.ve?w.Se(p.Ag.Cj()):p.we&&w.Se(p.we.Cj()),z=p.On,w.zf(z)):(z=p.bt(p.Pp),w.zf(z),w.uH(p.clearRect));x=p.ve?p.Ag.Ze.ph(x.Oa()):(p.we||p.fh).bb.ph(x.Oa());w.It(p.On,p.Up,p.Nn,p.GA,p.Fv,1/p.Kv,1/p.Jv,p.Ev,p.Dv,t.rf(),x);x=p.bt(p.Gs);w.Wd(x.$b());t.fa.wJ(w);p.HG=!0;c.yg(p.Hv);w.Nj(c,p.Nn);p.ve||w.qq(x);
f&&k("Bounce "+m,w,z)}else{p=u;z=m;m=p.Sf;w=p.Xc;t=p.bt(p.Pp);m.zf(t);(x=p.SG)&&x.MP&&x.MP();m.uH(p.clearRect);if(p.ve){const [N,B]=p.ve.uB();(x=p.ve.vB())?p.bH.ua(x):p.bH.set(0,0,0,0);z=p.Ag.Ze.ph(z.Oa());m.It(p.On,p.Up,p.bH,p.bH,p.Fv,1/N,1/B,p.Ev,p.Dv,w.rf(),z);m.ro(p.Ag.Ud());p.ve.Mc(m);m.ro(0);p.Up.I_();p.Hv.XP(p.sj)}else z=(p.we||p.fh).bb.ph(z.Oa()),m.It(p.On,p.Up,p.Nn,p.GA,p.Fv,1/p.Mn,1/p.sj,p.Ev,p.Dv,w.rf(),z),p=(p.we||p.fh).uw(),f&&k("Layer target",m,p),m.Xv(p),m.qq(p),w.fa.oo(p);f&&k("First bounce",
m,t)}0===u.Pp?(u.Pp=1,u.Gs=0):(u.Pp=0,u.Gs=1)}u.LP&&(g=u.Sf,u.fh?(g.Kg(),g.zf(u.On),l=u.bt(u.Gs),g.wH(l),g.qq(l)):(l=u.Xc.fa,"low"===l.rk?(g.Kg(),l.wJ(g,l.oh(),l.Cg()),u.HG=!0):g.o$(),u.ve?g.Se(u.Ag.Cj()):u.we&&g.Se(u.we.Cj()),g.zf(u.On),l=u.bt(u.Gs),g.Wd(l.$b()),c.yg(u.Hv),g.Nj(c,u.Nn),u.ve||g.qq(l),f&&k("Post-draw",g,u.On)));g=u.HG;u.t9();u.Zc();e--;f=!1;return g}}
{"use strict";const d=self.C;d.Zaa=class extends d.qa{constructor(a){super();this.j=a;this.bA=d.D(d.Gh);this.Lka=null;this.zp=[];this.cA=new Map;this.qn=new Map;this.Ap=new Map;this.$h=[];this.Yg=[];this.hz=this.gu=this.Hr=!1;this.Cn=()=>this.Hga();this.An=()=>this.Sx();this.QL=()=>this.fD();this.yN=()=>this.aga();this.RM=b=>this.sW(b.instance);this.CL=()=>this.Lm();this.zy=[]}A(){this.y9();this.CL=this.RM=this.yN=this.QL=this.An=this.Cn=null;for(const a of this.zp)a.Fh(),a.A();d.G(this.zp);this.zp=
null;this.bA.A();this.bA=null;d.G(this.$h);this.$h=null;d.G(this.Yg);this.Yg=null;this.cA.clear();this.cA=null;this.qn.clear();this.qn=null;this.Ap.clear();this.Ap=null;d.G(this.zy);this.j=this.zy=null}c1(){const a=this.j.Db();a.addEventListener("pretick",this.Cn);a.addEventListener("tick2",this.An);a.addEventListener("beforelayoutchange",this.QL);a.addEventListener("layoutchange",this.yN);a.addEventListener("instancedestroy",this.RM);a.addEventListener("afterload",this.CL)}y9(){const a=this.j.Db();
a.removeEventListener("pretick",this.Cn);a.removeEventListener("tick2",this.An);a.removeEventListener("beforelayoutchange",this.QL);a.removeEventListener("layoutchange",this.yN);a.removeEventListener("instancedestroy",this.RM);a.removeEventListener("afterload",this.CL)}fb(a){this.bA.Yc(a);a=d.ye.f2(a,this);this.Yc(a);this.jaa(a);this.Ap.set(a.Ha(),0)}xH(a){a=a.OR();var b=this.bA.la(a);b=d.ye.xH(`${a}:${this.Ap.get(a)}`,b,this);this.WV(a);this.Yc(b);return b}WV(a){this.Ap.set(a,this.Ap.get(a)+1)}lia(){for(const a of this.zp)a.Fu||
this.WV(a.OR())}xca(){for(const a of this.Ap.keys())this.Ap.set(a,0)}Yc(a){this.zp.push(a);this.cA.set(a.Ha().toLowerCase(),a)}xi(a){a.Fu||(d.Fs(this.zp,a),d.Fs(this.$h,a),d.Fs(this.Yg,a),this.cA.delete(a.Ha().toLowerCase()),this.z9(a),a.fj||a.A())}oa(a){this.j.oa(a,this.Lka,null)}K(){return this.j}fU(a,b){this.qn.has(a)||this.qn.set(a,new Set);this.qn.get(a).add(b)}jaa(a){for(const b of a.hI())this.fU(b,a)}z9(a){for(const [b,e]of this.qn.entries())e.has(a)&&(e.delete(a),0===e.size&&this.qn.delete(b))}p5(a){if(this.qn.has(a))return this.qn.get(a)}KB(a){return this.cA.get(a.toLowerCase())||
null}x9(a){d.Fs(this.Yg,a);this.Ox()}sT(a){this.Yg.includes(a)?(a.hx(!0),a.kx(!1),a.AJ(!1)):(a.hx(!1),a.kx(!0),a.AJ(!1),this.$h.includes(a)||this.$h.push(a));this.kW()}cB(a){a.hx(!1);a.kx(!1);a.nJ();d.Fs(this.$h,a);this.Ox()}ZA(a){a.hx(!1);a.kx(!1);a.AJ(!0)}U1(a){this.ZA(a);a.nJ()}Hga(){if(!this.K().Ll&&this.Hr&&!this.gu){var a=!1;for(this.hz=!0;this.$h.length;){var b=this.$h.pop();b.Kd();this.Yg.push(b)}b=this.j.fq();var e=this.j.Dd;for(const c of this.Yg){if(c.Ru)continue;const f=c.bd(b,e);!a&&
f&&(a=!0)}this.hz=!1;a&&this.K().U()}}Sx(){if(!this.K().Ll&&this.Hr&&!this.gu){var a;for(const b of this.Yg)b.Ru&&(a||(a=new Set),this.lW(b),a.add(b));a&&d.ji(this.Yg,a);this.Ox()}}lW(a){a.fj||a.UR()&&a.Og&&a.Wo&&a.XQ()}kW(){this.Hr||(this.Hr=!0)}Ox(){this.Yg.length||this.$h.length||this.hz||(this.Hr=!1)}fD(){for(this.gu=!0;this.$h.length;)this.cB(this.$h.pop());const a=new Set;for(const b of this.Yg)b.fD()&&a.add(b);d.ji(this.Yg,a);this.Ox();for(const b of this.zp)b.Rk()}aga(){this.gu=!1}sW(a){var b=
a.J();if(b=this.p5(b))if(this.j.Ll)this.zy.push(a);else for(const e of b)e.Fu||(e.fj?this.xi(e):e.UR()||(this.lW(e),this.xi(e)))}Lm(){for(const a of this.zy)this.sW(a);d.G(this.zy)}ya(){return{timelinesJson:this.Vha(),scheduledTimelinesJson:this.Tha(),playingTimelinesJson:this.Rha(),hasRuntimeListeners:this.Hr,changingLayout:this.gu,isTickingTimelines:this.hz}}Ca(a){a&&(this.xca(),this.Gfa(a.timelinesJson),this.Dfa(a.scheduledTimelinesJson),this.Bfa(a.playingTimelinesJson),this.Hr=!a.hasRuntimeListeners,
this.gu=!!a.changingLayout,this.hz=!!a.isTickingTimelines,this.lia(),this.kW(),this.Ox())}Vha(){return this.zp.map(a=>a.ya())}Gfa(a){for(const b of a){a=this.KB(b.name);if(!a){a=this.Gea(b);if(!a)continue;a=this.KB(a);a=this.xH(a)}a.Ca(b);a.J5()||this.xi(a)}}Gea(a){return(a=a.name.split(":"))&&2===a.length?a[0]:null}Tha(){return this.TW(this.$h)}Dfa(a){this.gW(a,this.$h)}Rha(){return this.TW(this.Yg)}Bfa(a){this.gW(a,this.Yg)}kfa(a,b){for(const e of b)if(e===a.Ha())return!0;return!1}TW(a){return a.map(b=>
b.Ha())}gW(a,b){var e=new Set;for(const c of b)this.kfa(c,a)||e.add(c);d.ji(b,e);e=c=>f=>f.Ha()===c;for(const c of a)(a=this.KB(c))&&(b.find(e(c))||b.push(a))}}}
{"use strict";const d=self.C;d.ye=class extends d.qa{constructor(a,b,e){super();this.j=e.K();this.Ob=e;this.Mf=b;this.Na=a;this.Zb=[];for(const c of this.Mf.MB().Xma())this.Zb.push(d.pU.fb(this,c));this.IF=this.Ez=null;this.np=d.D(d.Jw);this.np.Set(0);this.tn=1;this.Gk=0;this.hk=1;this.Wo=this.gn=this.YE=!1;this.Og=!0;this.Ru=this.fj=!1;this.iu=-1;this.Uo=this.Er=this.Fu=this.IE=!1;this.YY=NaN;this.di=[""];this.j_="";this.GO=!1}static f2(a,b){const e=b.bA.la(a[0]);a=d.D(d.ye,a[0],e,b);a.H$();return a}static xH(a,
b,e){return d.D(d.ye,a,b,e)}static get sba(){return 1}static get ym(){return d.EP(1)}A(){if(!this.fj){this.Ob.cB(this);this.Ob.U1(this);for(const a of this.Zb)a.A();d.G(this.Zb);this.Zb=null;this.np.A();this.Mf=this.Ob=this.j=this.np=null;this.fj=!0;this.IF=this.Ez=null}}K(){return this.j}oI(a,b,e){const c=[];for(const f of this.Zb){if(a!==f.Ja())continue;const k=f.rm(e);k&&b.constructor===k.Jd().constructor&&c.push(k)}return c}J5(){return!!this.Zb.length}IC(a){this.Na=a}Ha(){return this.Na}OR(){return this.Mf.Ha()}je(){return this.Mf.je()}ww(){return this.Mf.ww()}Ej(){return this.Mf.Ej()}Ij(){return this.Mf.Ij()}pl(a){for(const b of this.Zb)b.pl(a)}dt(){return this.Mf.dt()}gt(){return this.Mf.gt()}ao(){return this.Mf.ao()}gx(a){return this.tn=
a}ti(){return this.IsPlaying()?0<this.tn:!0}yR(){this.Ez||(this.Ez=new Promise(a=>{this.IF=a}))}nJ(){this.Ez&&(this.IF(),this.IF=this.Ez=null)}Kt(a){this.di=d.ye.Fea(a);this.GO=!0}RS(){d.F.cd.I.Mq(this);this.Ob.oa(d.F.cd.I.zsa);this.Ob.oa(d.F.cd.I.Asa);this.Ob.oa(d.F.cd.I.Bsa);this.Ob.oa(d.F.cd.I.lsa);d.F.cd.I.Mq(null)}HS(){this.iu=this.j.Tl}XQ(){this.Er||(this.Er=!0,d.F.cd.I.Mq(this),this.Ob.oa(d.F.cd.I.wsa),this.Ob.oa(d.F.cd.I.xsa),this.Ob.oa(d.F.cd.I.ysa),this.Ob.oa(d.F.cd.I.ksa),d.F.cd.I.Mq(null))}hx(a){this.YE=
a}dS(){return this.iu===this.j.Tl}IsPlaying(a=!1){return this.dS()||this.gn&&!a?!0:this.YE}Ut(){return this.IsPlaying(!0)}kx(a){this.gn=a}AT(a){this.Og=a;a=this.La();if(0>=a||a>=this.je())this.Og=!0}AJ(a){this.Ru=a}zJ(a){this.IE=a}H$(){this.Fu=!0}La(){return this.np.la()}Lt(a){const b=this.La();this.We(a);this.AT(!1);this.Og||this.zJ(!0);if(this.Ut()||this.gn||!this.Wo)this.Ut()||this.gn||this.Wo?this.Ut()?this.Fh():this.gn&&(this.Ob.cB(this),this.KT()):this.KT();this.dD(a,!1,!0,!0,b)&&this.K().U();
this.vW()}We(a){0>a?this.np.Set(0):a>=this.je()?this.np.Set(this.je()):this.np.Set(a)}vW(){d.F.cd&&this.constructor===d.ye&&(d.F.cd.I.Mq(this),this.Ob.oa(d.F.cd.I.ssa),this.Ob.oa(d.F.cd.I.usa),this.Ob.oa(d.F.cd.I.vsa),d.F.cd.I.Mq(null))}Play(a=!1){return this.fj||this.gn?!1:this.Ut()&&this.dS()?this.Zha():this.Ut()||!this.Og&&!a&&!this.IE?!1:this.$ha()}Zha(){this.zJ(!1);this.Ob.x9(this);this.Ob.sT(this);this.yR();return!0}$ha(){this.zJ(!1);this.Ob.sT(this);this.yR();return!0}Fh(a=!1){this.fj||(this.AT(a),
this.Ob.ZA(this),this.Og&&this.nJ())}od(a=!0,b=!1){if(!this.fj)if(!this.Ut()&&this.gn)this.Ob.cB(this);else if(!this.Og){this.Fh(!0);this.ti()?this.We(0):this.We(this.je());var e=this.La();b=b?this.afa(e):this.dD(e,!1,!1,!0);a&&this.vW();b&&a&&this.K().U()}}lT(){this.od(!1,!0)}afa(a){this.dD(a,!1,!1,!0,NaN,!1,!0)}fD(){if(this.fj)return!0;if(this.K5())return!1;this.Ob.ZA(this);this.lT();return!0}KT(){this.Kd(!0)}Kd(a){if(!this.Ru)if(a){this.Uo=this.Wo=!0;for(const b of this.Zb)b.Kd()}else if(this.hx(!0),
this.kx(!1),this.RS(),this.Og){this.iu=-1;this.Gk=0;this.hk=1;this.Er=this.Og=!1;this.Uo=this.Wo=!0;this.ti()?this.We(0):this.We(this.je());for(const b of this.Zb)b.Kd()}else{this.Uo=!0;for(const b of this.Zb)b.Jg()}}bd(a,b){if(0!==a||0!==this.YY){this.YY=a;var e=this.La();this.We(e+a*b*this.tn);var c;this.dt()||this.gt()?this.dt()&&!this.gt()?c=this.Lfa():!this.dt()&&this.gt()?c=this.Sga():this.dt()&&this.gt()&&(c=this.Mfa()):c=this.Uia();if(c){for(const f of this.Zb)f.r$();this.Fh(!0);this.HS();
return!0}return this.dD(this.La(),!0,!1,!1,e,!0)}}dD(a,b=!1,e=!1,c=!1,f=NaN,k=!1,g=!1){let l=!1;for(var m of this.Zb)m.Qv();for(const q of this.Zb){m=a;if("number"===typeof f){const r=this.La()-q.Gg(),p=f-q.Gg();0>r&&0<p&&(m=q.Gg(),this.We(m))}m=q.yb(m,b,e,c,this.Uo,g);!l&&m&&(l=!0)}for(const q of this.Zb)q.Pv();this.Uo&&k&&(this.Uo=!1);return l}Uia(){if(this.ti()){if(this.La()>=this.je())if(this.hk<this.ao())this.hk++,this.We(0);else return this.We(this.je()),!0}else if(0>=this.La())if(this.hk<this.ao())this.hk++,
this.We(this.je());else return this.We(0),!0;return!1}Lfa(){this.ti()?this.La()>=this.je()&&this.We(0):0>=this.La()&&this.We(this.je());return!1}Sga(){if(this.ti()){if(this.La()>=this.je())if(this.We(this.je()),this.gx(-1*this.tn),1===this.Gk)if(this.hk<this.ao())this.hk++,this.Gk=0;else return!0;else 0===this.Gk&&(this.Gk=1)}else if(0>=this.La())if(this.We(0),this.gx(-1*this.tn),1===this.Gk)if(this.hk<this.ao())this.hk++,this.Gk=0;else return!0;else 0===this.Gk&&(this.Gk=1);return!1}Mfa(){this.ti()?
this.La()>=this.je()&&(this.We(this.je()),this.gx(-1*this.tn)):0>=this.La()&&(this.We(0),this.gx(-1*this.tn));return!1}Rk(){for(const a of this.Zb)a.Rk()}N1(){for(const a of this.Zb)a.K1()}kaa(a,b){if(b)for(const e of this.Zb)if(e.vi()){if(a){if(e.Vk()!==a)continue}else if(e.D5())continue;e.F$(b);this.Ob.fU(b.J(),this);break}}UR(){return this.Zb.some(a=>a.vi()?a.rH():!0)}K5(){return this.Zb.some(a=>a.vi()?a.rH()?(a=a.J())?a.wh():!1:!1:!1)}rm(a){for(const b of this.Zb)for(const e of b.Uc)if(e.eb.$d===
a)return e}PR(a){for(const b of this.Zb)if(a===b.Ja())return b;return null}hI(){const a=[];for(const b of this.Zb)a.push(b.J());return a.filter(b=>b)}ya(){return{tracksJson:this.Xha(),name:this.Na,playheadTime:this.La(),playbackRate:this.tn,pingPongState:this.Gk,currentRepeatCount:this.hk,isPlaying:this.YE,isScheduled:this.gn,initialStateSet:this.Wo,finishedTriggers:this.Er,complete:this.Og,released:this.fj,markedForRemoval:this.Ru,completedTick:this.iu,implicitPause:this.IE,isTemplate:this.Fu,tags:this.di.join(" "),
stringTags:this.j_,tagsChanged:this.GO,firstTick:this.Uo}}Ca(a){a&&(this.Hfa(a.tracksJson),this.Na=a.name,this.np.Set(a.playheadTime),this.tn=a.playbackRate,this.Gk=a.pingPongState,this.hk=a.currentRepeatCount,this.YE=!!a.isPlaying,this.gn=!!a.isScheduled,this.Wo=!!a.initialStateSet,this.Er=a.hasOwnProperty("finishedTriggers")?!!a.finishedTriggers:!1,this.Og=!!a.complete,this.fj=!!a.released,this.Ru=!!a.markedForRemoval,this.iu=a.completedTick,this.IE=!!a.implicitPause,this.Fu=!!a.isTemplate,this.di=
a.tags.split(" "),this.j_=a.stringTags,this.GO=!!a.tagsChanged,this.Uo=!!a.firstTick)}Xha(){return this.Zb.map(a=>a.ya())}Hfa(a){a.forEach((b,e)=>{this.Zb[e].Ca(b)});this.Zb.filter(b=>b.rH())}static Fea(a){if(d.rq(a))return a.slice(0);if(d.Lj(a))return a.split(" ")}}}
{"use strict";const d=self.C;d.pU=class extends d.qa{constructor(a,b){super();this.yp=a;this.lc=b;this.Nf=b.MB();this.pn=this.an=NaN;this.ub=this.Qh=null;this.Or=0<b.Gg();this.Br=this.Du=!1;this.Tr=null;this.hd=this.lc.Gj().hd;this.Uc=[];for(const e of this.lc.tf().Fma())this.Uc.push(d.mb.fb(this,e))}static fb(a,b){return d.D(d.pU,a,b)}A(){this.hd=null;for(const a of this.Uc)a.A();d.G(this.Uc);this.Tr=this.lc=this.ub=this.Qh=this.yp=this.Uc=null}Rk(){for(const a of this.Uc)a.Rk();this.ub=this.Qh=
null}Fc(){return this.yp}K(){return this.yp.K()}W4(){return this.hd?this.hd:this.hd=this.lc.Gj().hd}rm(a){for(const b of this.Uc)if(b.eb.$d===a)return b}pt(){this.Qh||this.Ja()}wm(){return this.Qh?!this.Qh.YB():!1}rH(){if(!this.vi())return!1;const a=this.K().Qe(this.mw());return a?!a.YB():!1}J(){if(this.vi()){var a=this.gI();if(-1!==a)return this.K().Zf(a)}}K1(){this.Qh=null;this.an=-1;this.ub=null;this.pn=-1}D5(){return!!this.Qh}Ja(){return this.Qh&&this.wm()?this.Qh:this.Qh=this.K().Qe(this.mw())}F$(a){if(this.Qh!==
a){this.Rk();this.Qh=a;this.pn=a.J().Oa();this.an=a.tb;this.ub=a.B();for(const k of this.Gma()){const g=k.Rma;switch(k.Ema.ie()){case "instance-variable":var b=a.J(),e=b.P4(k.name),c=b.qR(e);b=b.ow(e);c===k.name&&b===k.type&&g.mba(e);break;case "behavior":var f=k.fP;e=this.J();c=a.J();b=g.oi(c);f&&b&&(f=f.Ha(),e.hw(f),c.hw(f),g.jba(b.jb))}}}}*Gma(){for(const e of this.Uc){var a=e.Jd(),b=this.J();const c={Ema:e,Rma:a};switch(e.ie()){case "world-instance":c.JAa=e.eb.$d;break;case "instance-variable":a=
a.$s();c.name=b.qR(a);c.type=b.ow(a);break;case "effect":b=a.TH(b.bb);c.cza=b;break;case "behavior":b=a.oi(b);c.fP=b;break;case "plugin":c.FAa=b.Lb()}yield c}}B(){if(this.ub&&this.wm())return this.ub;const a=this.Ja();a&&(this.ub=a.B());return this.ub}mw(){return this.an?this.an:this.lc.mw()}Ej(){return this.lc.Ej()}Ij(){return this.lc.Ij()}Vk(){return this.lc.Vk()}Gg(){return this.lc.Gg()}qm(){return this.lc.qm()}pl(a){for(const b of this.W4())b.pl(a);for(const b of this.Uc)b.pl(a)}pm(){return this.lc.pm()}Em(a){this.lc.Em(a)}gI(){return isNaN(this.pn)?
this.lc.gI():this.pn}al(){const a=this.Ja();return a&&a.ra.uq()?a.ra.al():this.lc.al()}$k(){const a=this.Ja();return a&&a.ra.uq()?a.ra.$k():this.lc.$k()}gl(){return this.lc.gl()}Ha(){return this.lc.Ha()}vi(){return 0===this.gl()}Kd(){this.pt();if(this.wm()||!this.vi()){for(var a of this.Uc)a.Kd();a=this.Fc().ti()?0:this.qm();this.Tr=this.cI(a);this.Br=this.Du=!1;this.yb(a)}}Jg(){this.pt();if(this.wm()||!this.vi()){this.yp.ti();var a=this.yp.La()-this.Gg();this.Tr=this.cI(a);for(const b of this.Uc)b.Jg()}}r$(){if(!(this.Fc().Og||
(this.pt(),!this.wm()&&this.vi()||this.Or))){const a=this.yp.La();a>=this.Gg()+this.qm()?this.yb(this.qm(),!0,!1,!0):0>=a&&this.yb(0,!0,!1,!0)}}Qv(){for(const a of this.Uc)a.Qv()}yb(a,b=!1,e=!1,c=!1,f=!1,k=!1){this.pt();if(!this.wm()&&this.vi()||k&&this.vi()&&this.J().wh())return!1;a-=this.Gg();if(0>a)return!1;this.J7(a,b);this.zS(a,b,f);f=k=!1;for(const g of this.Uc){const l=g.yb(a,e,!1,c);k||0===(l&d.ye.sba)||(k=!0);f||0===(l&d.ye.ym)||(f=!0)}this.I7(a,b);k&&(a=this.B())&&a.Pa();return f}Pv(){for(const a of this.Uc)a.Pv()}J7(a,
b){if(b&&this.Or&&!this.Du){if(this.Fc().ti()){if(0>a)return;for(const e of this.Uc)e.yb(0,!1,!1,!0)}else{if(a>this.qm())return;for(const e of this.Uc)e.yb(this.qm(),!1,!1,!0)}for(const e of this.Uc)e.Kd();this.Du=!0}}I7(a,b){if(b&&this.Or&&!this.Br)if(this.Fc().ti()){if(a>=this.qm()){for(const e of this.Uc)e.yb(this.qm(),!1,!1,!0);this.Br=!0}}else if(0>=a){for(const e of this.Uc)e.yb(0,!1,!1,!0);this.Br=!0}}zS(a,b,e){!e&&b&&(a=this.cI(a),a!==this.Tr&&this.LS(a),this.Tr=a)}cI(a){const b=this.Fc();
let e=this.Nf.T4(a,this.lc);return e?e:b.ti()?this.Nf.D4(a,this.lc):this.Nf.C4(a,this.lc)}LS(a){if(d.F.cd&&this.Fc().constructor===d.ye){var b=this.Fc();d.F.cd.I.Mq(b);d.F.cd.I.saa(a);a=b.Ob;a.oa(d.F.cd.I.jsa);a.oa(d.F.cd.I.LS);d.F.cd.I.Mq(null);d.F.cd.I.saa(null)}}Y0(){return this.lc.Gj().S0()}z2(a){this.lc.Gj().y2(a)}BH(a){for(const b of this.Uc)b.BH(a)}Hq(){for(const a of this.Uc)a.Hq()}yj(){this.pt();if(this.wm()||!this.vi())for(const a of this.Uc)a.yj()}zj(){this.pt();if(this.wm()||!this.vi()){var a=
!1;for(const b of this.Uc){const e=b.zj();!a&&e&&(a=!0)}a&&(a=this.Y0(),a.Lt(this.Fc().La()),a.pl("noease"),a.Em(!0),a.Kt(""))}}ya(){var a=this.Ja();a=a?a.tb:this.mw();return{propertyTracksJson:this.Sha(),lastKeyframeDataItemJson:this.Pha(),initialStateOfNestedSet:this.Du,endStateOfNestedSet:this.Br,instanceUid:a}}Ca(a){a&&(this.Cfa(a.propertyTracksJson),this.Afa(a.lastKeyframeDataItemJson),this.xfa(a.instanceUid),this.Du=!1,a.hasOwnProperty.initialStateOfNestedSet&&(this.Du=a.initialStateOfNestedSet),
this.Br=!1,a.hasOwnProperty.endStateOfNestedSet&&(this.Br=a.endStateOfNestedSet))}Pha(){return this.lc.Gj().V4(this.Tr)}Sha(){return this.Uc.map(a=>a.ya())}Cfa(a){a.forEach((b,e)=>{this.Uc[e].Ca(b)})}xfa(a){if(d.fo(a)&&(a=this.K().Qe(a))){var b=this.Fc();b.N1();b.kaa(this.lc.Vk(),a)}}Afa(a){this.Tr=this.lc.Gj().U4(a)}}}
{"use strict";const d=self.C;d.mb=class extends d.qa{constructor(a,b){super();this.Fd=a;this.eb=b;this.Md=b.tf();this.Jk=this.Jd();this.jd=this.eb.Hj().jd}static fb(a,b){return d.D(d.mb,a,b)}A(){this.Fd=null;this.Jk&&(this.Jk.A(),this.Jk=null);this.Md=this.eb=this.jd=null}tf(){return this.Md}Fc(){return this.Fd.Fc()}K(){return this.Fd.K()}Ja(){return this.Fd.Ja()}Jd(){if(this.Jk)return this.Jk;let a;switch(this.eb.ie()){case "behavior":a=new d.mb.u1(this);break;case "effect":a=new d.mb.I3(this);break;
case "instance-variable":a=new d.mb.M6(this);break;case "plugin":a=new d.mb.b9(this);break;case "world-instance":a=new d.mb.Bba(this);break;case "value":a=new d.mb.pba(this)}return this.Jk=a}ie(){return this.eb.ie()}rw(){return this.eb.gl()}lI(){return this.tf().zB(this.eb).gl()}pm(){return this.eb.pm()}Em(a){this.eb.Em(a)}Ej(){return this.eb.Ej()}Ij(){return this.eb.Ij()}pl(a){for(const b of this.BR())b.pl(a)}BR(){return this.jd?this.jd:this.jd=this.eb.Hj().jd}Rk(){this.Jd().Rk()}qf(){return this.Jd().qf()}Kd(){this.Jd().Kd()}Jg(){this.Jd().Jg()}Qv(){this.Jd().Qv()}yb(a,
b=!1,e=!1,c=!1){var f=this.eb;let k=this.Md.kI(a,f);k?f=this.Md.nR(a,f):(k=this.Md.YH(a,f),f=this.Md.XH(a,f));return this.Jd().yb(a,k,f,b,e,c)}Pv(){this.Jd().Pv()}static NR(a,b){const e=b.eb;b=b.Md;let c=b.kI(a,e);c||(c=b.YH(a,e));return c}static q4(a,b){const e=b.eb;b=b.Md;return b.kI(a,e)?b.nR(a,e):b.XH(a,e)}$0(){return this.eb.Hj().T0()}BH(a){this.eb.Hj().A2(a)}Hq(){this.Jd().Hq()}yj(){if(this.Jd().yj()){const a=this.Md.zB(this.eb),b=this.Jd().qf();a.vT(b)}}zj(){const a=this.Jd().zj();a&&this.a1();
this.Jd().YA();return a}a1(){const a=this.Fc().La(),b=this.Jd(),e=d.mb.NR(a,this),c=this.$0();c.gU(e.gl());c.Lt(a);c.pl(e.Yn());c.Em(!0);c.Ch(b.PB());c.vT(b.qf())}ya(){return{sourceAdapterJson:this.Jd().ya()}}Ca(a){a&&this.Jd().Ca(a.sourceAdapterJson)}}}
{"use strict";const d=self.C.mb;d.Mj=class{constructor(a){this.Aa=a;this.un=null}A(){this.un&&(this.un.A(),this.un=null);this.Aa=null}rm(){return this.Aa}Rk(){this.un&&this.un.Rk()}rh(){return this.un?this.un:this.un=this.Pca()}$s(){}Oa(){return this.$s()}yw(){}Kd(){this.rh().Kd()}Jg(){this.rh().Jg()}Qv(){this.rh().Ts()}yb(a,b,e,c,f,k){const g=d.Mj.rR(this.Aa)(a,b,e,this.Aa);return f?g:this.rh().Zp(a,g,b,e,c,k)}Pv(){this.rh().Ss()}Hq(){var a=this.rh();a.gj=a.qf()}YA(){this.rh().YA()}qf(){return this.rh().qf()}yj(){return this.rh().yj()}zj(){return this.rh().zj()}PB(){return d.Mj.PB(this.Aa)}Pca(){const a=
this.Aa.rw();switch(this.Aa.lI()){case "combo":case "boolean":case "text":case "string":return new d.Hg.CS(this);case "numeric":case "number":case "angle":return"combo"===a?new d.Hg.CS(this):new d.Hg.Q7(this);case "color":case "offsetColor":return new d.Hg.Q1(this)}}ya(){return{propertyAdapterJson:this.rh().ya()}}Ca(a){a&&this.rh().Ca(a.propertyAdapterJson)}static PB(a){const b=a.Fd.Fc().La(),e=d.NR(b,a),c=d.q4(b,a);return d.Mj.rR(a)(b,e,c,a)}static ke(){let a=(void 0).Ij();"combo"===(void 0).rw()&&
(a="absolute");switch(a){case "relative":return NaN}}static rR(a){switch(a.lI()){case "numeric":return d.WI.yb;case "angle":return d.iQ.yb;case "boolean":return d.nQ.yb;case "color":return d.zQ.yb;case "text":return d.nU.yb}}static t5(a){switch(a.lI()){case "numeric":return d.WI.Gm;case "angle":return d.iQ.Gm;case "boolean":return d.nQ.Gm;case "color":return d.zQ.Gm;case "text":return d.nU.Gm}}}}{"use strict";const d=self.C;class a extends d.mb.Mj{constructor(b){super(b)}}d.mb.Bba=a}
{"use strict";const d=self.C;class a extends d.mb.Mj{constructor(b){super(b);this.gA=NaN}$s(){return this.Aa.eb.bi[0]}Oa(){return this.gA?this.gA:super.Oa()}yw(){return this.Aa.Fd.Ja()}mba(b){this.Aa.eb.bi[0]!==b&&(this.gA=b)}yb(b,e,c,f,k,g){if(this.rh().tQ(e.ke()))return super.yb(b,e,c,f,k,g)}ya(){return Object.assign(super.ya(),{index:this.gA})}Ca(b){b&&(super.Ca(b),this.gA=b.index)}}d.mb.M6=a}
{"use strict";const d=self.C;class a extends d.mb.Mj{constructor(b){super(b);this.jb=NaN}$s(){return this.Aa.eb.bi[1]}yw(){var b=this.Aa.eb,e=this.jb?this.jb:b.bi[0];b=this.Aa.Fd.Ja();e=b.cR(e);return b.Sc[e].ra}oi(b){return b.oB(this.Aa.eb.bi[2])}jba(b){this.Aa.eb.bi[0]!==b&&(this.jb=b)}yb(b,e,c,f,k,g){const l=this.Aa.Fd.Ja();if(this.oi(l.J()))return super.yb(b,e,c,f,k,g)}ya(){return Object.assign(super.ya(),{sid:this.jb})}Ca(b){b&&(super.Ca(b),this.jb=b.sid)}}d.mb.u1=a}
{"use strict";const d=self.C;class a extends d.mb.Mj{constructor(b){super(b)}$s(){return this.Aa.eb.bi[1]}yw(){const b=this.Aa.Fd.B().Ze,e=this.TH(b.bb).Oa();return b.Hw(e)?b.ph(e):null}TH(b){return b.nm(this.Aa.eb.bi[0])}yb(b,e,c,f,k,g){if(this.efa())return super.yb(b,e,c,f,k,g)}efa(){const b=this.Aa.Fd.B().Ze,e=this.TH(b.bb);if(e)return b.Hw(e.Oa())}}d.mb.I3=a}
{"use strict";const d=self.C;class a extends d.mb.Mj{constructor(b){super(b)}$s(){return this.Aa.eb.bi[0]}yw(){return this.Aa.Fd.Ja().ra}yb(b,e,c,f,k,g){var l=this.Aa.Fd;const m=l.J().Lb();l=l.Ja().J().Lb();if(m===l)return super.yb(b,e,c,f,k,g)}}d.mb.b9=a}
{"use strict";const d=self.C;class a extends d.mb.Mj{constructor(b){super(b);this.Od=0;this.JE=!1}Kd(){const b=this.Aa.tf();let e=this.Aa.eb;e=b.zB(e);this.Od=e.Gc()}Jg(){}ke(){this.JE||this.Aa.yb(0);return this.Od}yb(b,e,c){const f=d.mb.WI.yb;this.Od=f(b,e,c,this.Aa);this.JE=!0}Hq(){}YA(){}qf(){return this.Od}yj(){return!1}zj(){return!1}ya(){return{value:this.Od,init:this.JE}}Ca(b){b&&(this.Od=b.value,this.JE=b.hasOwnProperty("init")?b.init:!0)}}d.mb.pba=a}"use strict";
function ic(d,a,b){return d.Aa.Fc().ti()?a():b()}function jc(d,a,b){return"relative"===d.Aa.Ij()?a():b()}function kc(d,a,b){d.xu?(d.xu=!1,a()):b()}function lc(d){if(d.nv)return d.nv;d.nv=d.Jk.yw();return d.nv}function mc(d,a,b,e,c,f){switch(d.Aa.ie()){case "behavior":return a();case "effect":return b();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function nc(d,a=!1){const b=[];for(const e of d){d=e.Fd.Gg();for(const c of e.BR())a&&0===c.La()?b.push({time:d+c.La(),value:c.Ki}):a||b.push({time:d+c.La(),value:c.Ki})}return b.sort((e,c)=>e.time-c.time)}function oc(d,a){for(let b=a.length-1;0<=b;b--)if(a[b].time<=d)return a[b];return null}
self.C.mb.Hg=class{constructor(d){this.Jk=d;this.Aa=d.rm();this.ub=this.Aa.Fd.B();this.$d=this.Aa.eb.$d;this.xu=!1;this.nv=this.gj=null}A(){this.nv=this.gj=this.ub=this.Aa=this.Jk=null}Rk(){this.nv=this.gj=this.ub=null}rm(){return this.Aa}B(){return this.ub?this.ub:this.ub=this.Aa.Fd.B()}Kd(){}Jg(){}YA(){this.gj=null}qf(){}yj(){}zj(){}tQ(d){return typeof this.Km()===typeof d}Ts(){}Zp(){}Ss(){}Rq(){return ic(this,()=>{const d=this.Aa.eb;return this.Aa.tf().zB(d)},()=>{const d=this.Aa.eb;return this.Aa.tf().hq(d)}).Ki}SC(){const d=
this.Aa.Fc().La()-this.Aa.Fd.Gg();return ic(this,()=>{const a=this.Aa.eb;return this.Aa.tf().YH(d,a)},()=>{const a=this.Aa.eb,b=this.Aa.tf(),e=b.XH(d,a);return e?e:b.hq(a)}).Ki}WC(){}Hi(){return this.Jk.Oa()}ya(){return{firstAbsoluteUpdate:this.xu,saveState:this.gj}}Ca(d){d&&(this.xu=d.firstAbsoluteUpdate,this.gj=d.saveState)}};
{"use strict";const d=self.C,a=new Map,b=[0,0,0];class e extends d.mb.Hg{constructor(c){super(c)}Kd(){}Jg(){}qf(){const c=this.Aa.ie(),f=lc(this),k=this.Hi();switch(c){case "behavior":return this.sD(f.Qb(k));case "effect":return this.sD(f[k]);case "plugin":return this.sD(f.Qb(k));case "world-instance":return this.sD(this.Km())}}yj(){const c=this.Rq();return!this.RU(c,this.Km())}zj(){return d.Re(this.gj)?!1:!this.RU(this.gj,this.Km())}RU(c,f){return c.cm(f)}Rq(){const c=super.Rq();return this.XC(c)}SC(){const c=
super.SC();return this.XC(c)}WC(){}sD(c){return d.ho(c,d.Ua)?c.toArray().slice(0,3):c.slice(0,3)}XC(c){return d.ho(c,d.Ua)?c:new d.Ua(c[0],c[1],c[2],1)}tQ(){return!0}Ts(){var c=this.Aa.Ja();a.has(c)||a.set(c,new Map);c=a.get(c);const f=this.Aa.ie();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.$d)||c.set(this.$d,{KA:!1,color:new d.Ua(0,0,0,1)})}QV(c,f,k){c=a.get(c).get(f).get(k);c.KA=!0;return c.color}Zp(c,f){var k=this.Aa.Fc(),g=this.Aa.Fd;c=this.Aa.Ja();var l=this.Aa.Jd();const m=this.Aa.ie();
l=k.oI(c,l,this.$d);if(1<l.length){if(l=nc(l,!0),k=k.La(),k=oc(k,l))if(l=k.time-g.Gg(),0===l)this.QV(c,m,this.$d).z_(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];g=f[1];f=f[2];l=this.Aa.yb(l,!1,!0);k=d.Ua.CH(k,l[0]);g=d.Ua.CH(g,l[1]);f=d.Ua.CH(f,l[2]);this.QV(c,m,this.$d).z_(k,g,f)}}else this.Al(f[0],f[1],f[2]);return d.ye.ym}Ss(){const c=this.Aa.Ja();if(a.has(c)){var f=a.get(c),k=this.Aa.ie();if(f.has(k)){var g=f.get(k);if(g.has(this.$d)){var l=g.get(this.$d),m=l.color;l.KA&&this.Al(m.Ya,m.Xa,m.Va);
0===g.size&&f.delete(k);0===f.size&&a.delete(c)}}}}Km(){const c=this.Aa.ie(),f=lc(this),k=this.Hi();switch(c){case "behavior":return this.XC(f.Qb(k));case "effect":return f[k].clone();case "plugin":return this.XC(f.Qb(k));case "world-instance":return this.B().xa.clone()}}Al(c,f,k){const g=this.Aa.ie(),l=lc(this),m=this.Hi();switch(g){case "behavior":b[0]=c;b[1]=f;b[2]=k;l.me(m,b);break;case "effect":l[m].Vp(c,f,k);break;case "plugin":b[0]=c;b[1]=f;b[2]=k;l.me(m,b);break;case "world-instance":this.B().taa(c,
f,k)}}ya(){}Ca(){}}d.mb.Hg.Q1=e}
{"use strict";const d=self.C;class a extends d.mb.Hg{constructor(b){super(b)}Kd(){}Jg(){}qf(){return this.Km()}yj(){return this.Rq()!==this.qf()}zj(){return d.Re(this.gj)?!1:this.gj!==this.qf()}Zp(b,e){const c=d.mb.Mj.t5(this.Aa);var f=this.Aa;const k=f.Fd,g=f.ie();var l=f.Fc();const m=k.Ja();f=f.Jd();l=l.oI(m,f,this.$d);1<l.length&&(l=nc(l),b=oc(b+k.Gg(),l))&&(e=b.value);if(c(this.Hi(),lc(this),e,g))switch(this.Al(e),g){case "plugin":return d.ye.ym}}Km(){const b=this.Aa.ie(),e=lc(this),c=this.Hi();
switch(b){case "behavior":return e.Qb(c);case "effect":return e[c];case "instance-variable":return e.sf(c);case "plugin":return e.Qb(c)}}Al(b){const e=this.Aa.ie(),c=lc(this),f=this.Hi();switch(e){case "behavior":c.me(f,b);break;case "effect":c[f]=b;break;case "instance-variable":c.uo(f,b);break;case "plugin":c.me(f,b)}}}d.mb.Hg.CS=a}
{"use strict";const d=self.C,a=new Map,b=(c,f,k,g,l)=>a.set(c,{Qma:f,ala:k,Qla:g,round:l});b("offsetX",(c,f)=>c.X7(f),(c,f)=>c.Fi(f),c=>c.L(),!0);b("offsetY",(c,f)=>c.Y7(f),(c,f)=>c.Gi(f),c=>c.M(),!0);b("offsetWidth",(c,f)=>c.ES(f),(c,f)=>c.Af(f),c=>c.R(),!0);b("offsetHeight",(c,f)=>c.DS(f),(c,f)=>c.eg(f),c=>c.P(),!0);b("offsetAngle",(c,f)=>c.T7(f),(c,f)=>c.Jc(f),c=>c.ea(),!1);b("offsetOpacity",(c,f,k,g)=>{k=c.Rd()+f;0===g.fd?(1<k?g.fd+=k-1:0>k&&(g.fd+=k),c.U7(f)):(c=c.Rd()+f,0<f&&0<g.fd?1<c&&(g.fd+=
c-1):0<f&&0>g.fd?(g.fd+=f,0<g.fd&&(g.fd=0)):0>f&&0<g.fd?(g.fd+=f,0>g.fd&&(g.fd=0)):0>f&&0>g.fd&&0>c&&(g.fd+=c))},(c,f)=>{c.Bi(f)},c=>c.Rd(),!1);b("offsetOriginX",(c,f)=>c.V7(f),(c,f)=>c.Gt(f),c=>c.Yk(),!1);b("offsetOriginY",(c,f)=>c.W7(f),(c,f)=>c.Ht(f),c=>c.Zk(),!1);b("offsetZElevation",(c,f)=>c.Z7(f),(c,f)=>c.Bf(f),c=>c.gb(),!0);b("offsetScaleX",(c,f,k)=>{const g=0>c.R()?-1:1;c.ES(k.al()*g*f)},(c,f,k)=>{c.Af(k.al()*f)},(c,f)=>{const k=0>c.R()?-1:1;if(c.kq()){var g=c.Ka(),l=f.Fc().PR(g.Ja());l?g=
g.R()/l.al():(l=g.Ja().ra,g=l.uq()?g.R()/l.al():1);return c.R()*k/(f.al()*g)}return c.R()*k/f.al()},!1);b("offsetScaleY",(c,f,k)=>{const g=0>c.P()?-1:1;c.DS(k.$k()*g*f)},(c,f,k)=>{c.eg(k.$k()*f)},(c,f)=>{const k=0>c.P()?-1:1;if(c.jq()){var g=c.Ka(),l=f.Fc().PR(g.Ja());l?g=g.P()/l.$k():(l=g.Ja().ra,g=l.uq()?g.P()/l.$k():1);return c.P()*k/(f.$k()*g)}return c.P()*k/f.$k()},!1);class e extends d.mb.Hg{constructor(c){super(c);this.fd=this.ic=0;this.SM=this.UM=this.TM=null;this.UZ=!1;this.As=d.ho(this.Aa.Fc(),
d.dba)?new d.mb.Hg.S7(this):new d.mb.Hg.R7(this);c=this.Aa.eb.$d;"world-instance"===this.Aa.ie()&&(c=a.get(c),this.TM=c.Qla,this.UM=c.Qma,this.SM=c.ala,this.UZ=c.round)}A(){this.SM=this.UM=this.TM=this.As=null;super.A()}PT(c){this.ic=c}Kd(){const c=this.As.Kd();"number"===typeof c&&(this.ic=c);this.fd=0}Jg(){const c=this.As.Jg();"number"===typeof c&&(this.ic=c)}qf(){return this.Km()}yj(){return this.Rq()!==this.qf()}zj(){return d.Re(this.gj)?!1:this.gj!==this.qf()}Ts(){this.As.Ts()}Zp(c,f,k,g,l,m,
q){return this.As.Zp(c,f,k,g,l,m,q)}Ss(){this.As.Ss()}Km(){const c=lc(this),f=this.Hi(),k=this.Aa.Fd,g=this.B();return mc(this,()=>c.Qb(f),()=>c[f],()=>c.sf(f),()=>c.Qb(f),()=>this.TM(g,k))}Al(c){const f=lc(this),k=this.Hi(),g=this.Aa.Fd,l=this.B();mc(this,()=>f.YI(k,c),()=>f[k]+=c,()=>f.G$(k,c),()=>f.YI(k,c),()=>this.UM(l,c,g,this))}lX(c){const f=lc(this),k=this.Hi(),g=this.Aa.Fd,l=this.B();mc(this,()=>f.me(k,c),()=>f[k]=c,()=>f.uo(k,c),()=>f.me(k,c),()=>this.SM(l,c,g))}Vt(c,f,k,g,l,m){this.As.Vt(c,
f,k,g,l,m)}Hm(c,f,k){c=(c.toString().split(".")[1]||"").length;const g=this.Km();this.Al((0===c?this.UZ?Math.round(g):g:d.toFixed(g,c))-g,f,k)}ya(){return Object.assign(super.ya(),{v:this.ic,a:this.fd})}Ca(c){c&&(super.Ca(c),this.ic=c.v,this.fd=c.a)}}d.mb.Hg.Q7=e}
{"use strict";const d=self.C,a=new Map;class b{constructor(e){this.ef=e}A(){this.ef=null}Kd(){const e=this.ef,c=this.ef.rm();return jc(e,()=>ic(e,()=>0,()=>d.mb.Mj.PB(c)),()=>{})}Jg(){}Ts(){const e=this.ef,c=this.ef.rm(),f=c.eb.$d;jc(e,()=>{},()=>{var k=c.Ja();a.has(k)||a.set(k,new Map);k=a.get(k);const g=c.ie();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(f)||k.set(f,{KA:!1,value:0})})}PV(e,c,f){e=a.get(e).get(c).get(f);e.KA=!0;return e}Zp(e,c,f,k,g,l){const m=this.ef,q=this.ef.rm(),r=q.eb.$d;jc(m,
()=>{const p=m.ic;m.Al(c-p,f,k);l&&this.Vt(e,f,k,g,p,c);m.PT(c)},()=>{var p=q.Fc(),u=q.Fd;const t=q.Ja();var w=q.Jd();const x=q.ie();w=p.oI(t,w,r);if(1<w.length){if(w=nc(w,!0),p=p.La(),p=oc(p,w))u=p.time-u.Gg(),0===u?this.PV(t,x,r).value+=c:0>u||(u=q.yb(u,!1,!0),this.PV(t,x,r).value+=c-u)}else m.lX(c)});return mc(m,()=>{},()=>d.ye.ym,()=>{},()=>d.ye.ym,()=>d.ye.ym)}Ss(){const e=this.ef,c=this.ef.rm(),f=c.eb.$d;jc(e,()=>{},()=>{const k=c.Ja();if(a.has(k)){var g=a.get(k),l=c.ie();if(g.has(l)){var m=
g.get(l);if(m.has(f)){var q=m.get(f),r=q.value;q.KA&&e.lX(r);m.delete(f);0===m.size&&g.delete(l);0===g.size&&a.delete(k)}}}})}Vt(e,c,f,k,g,l){const m=this.ef;k||(c&&e===c.La()?m.Hm(c.Gc(),c,f):f&&e===f.La()?m.Hm(f.Gc(),c,f):0===l-g&&m.Hm(c.Gc(),c,f))}}d.mb.Hg.R7=b}
{"use strict";const d=self.C;class a{constructor(b){this.ef=b}A(){this.ef=null}Kd(){const b=this.ef;b.xu=!0;return this.WC(b.Rq())}Jg(){const b=this.ef;if(b.Rq()!==b.SC())return b.xu=!0,this.WC(b.SC())}Ts(){}Zp(b,e,c,f,k,g){const l=this.ef,m=l.ic;jc(l,()=>{l.Al(e-m,c,f);g&&this.Vt(b,c,f,k,m,e)},()=>{kc(l,()=>{l.Al(m,c,f)},()=>{l.Al(e-m,c,f);g&&this.Vt(b,c,f,k,m,e)})});l.PT(e);return mc(l,()=>{},()=>d.ye.ym,()=>{},()=>d.ye.ym,()=>d.ye.ym)}Ss(){}WC(b){return b-this.ef.qf()}Vt(b,e,c,f,k,g){const l=this.ef;
f?e&&b===e.La()?l.Hm(e.Gc(),e,c):c&&b===c.La()?l.Hm(c.Gc(),e,c):c||l.Hm(e.Gc(),e,c):e&&b===e.La()?l.Hm(e.Gc(),e,c):c&&b===c.La()?l.Hm(c.Gc(),e,c):0===g-k&&l.Hm(e.Gc(),e,c)}}d.mb.Hg.S7=a}
{"use strict";const d=self.C,a=self.Yv;d.mb.WI=class{constructor(){}static Gm(b,e,c,f){let k;switch(f){case "behavior":k=e.Qb(b);break;case "effect":k=e[b];break;case "instance-variable":k=e.sf(b);break;case "plugin":k=e.Qb(b)}return k===c?!1:!0}static yb(b,e,c,f){if(!c)return c=f.eb,c=f.tf().hq(c),c.Gc();var k=f.Ej();"default"===k&&(k="continuous");"combo"===f.rw()&&(k="discrete");if("discrete"===k)return e.Gc();if("continuous"===k||"step"===k){"step"===k&&(k=f.Fc().ww(),0!==k&&(k=1/k,b=Math.floor(b*
k)/k));var g=e.La();const l=c.La();k=e.Gc();const m=c.Gc();if(k===m)return k;b=d.normalize(b,g,l);const q=e.Yn();e=e.LH("cubic-bezier");c=c.LH("cubic-bezier");e&&e.Uz&&c&&c.lE?(g=l-g,g=a.iq(q)(g*b,0,1,g),g=a.iq("cubicbezier")(g,k,k+e.BO,m+c.pM,m)):g=a.iq(q)((l-g)*b,k,m-k,l-g);return"integer"===f.rw()?Math.floor(g):g}}}}
{"use strict";const d=self.C;d.mb.iQ=class{constructor(){}static Gm(a,b,e,c){let f;switch(c){case "behavior":f=b.Qb(a);break;case "effect":f=b[a];break;case "instance-variable":f=b.sf(a);break;case "plugin":f=b.Qb(a)}return f===e?!1:!0}static yb(a,b,e,c){if(!e)return b=c.eb,b=c.tf().hq(b),b.Gc();var f=c.Ej();"default"===f&&(f="continuous");"combo"===c.rw()&&(f="discrete");if("discrete"===f)return b.Gc();if("continuous"===f||"step"===f){"step"===f&&(c=c.Fc().ww(),0!==c&&(c=1/c,a=Math.floor(a*c)/c));
const k=b.La(),g=e.La();c=b.Gc();e=e.Gc();if(f=b.LH("angle")){const l=f.nO;if(c===e&&0===l)return c;a=d.normalize(a,k,g);b=self.Yv.iq(b.Yn())(a,0,1,1);switch(f.hM){case "closest":return d.dP(c,e,b,l);case "clockwise":return d.hla(c,e,b,l);case "anti-clockwise":return d.gla(c,e,b,l)}}else{if(c===e)return c;a=d.normalize(a,k,g);b=self.Yv.iq(b.Yn());return d.dP(c,e,b(a,0,1,1))}}}}}"use strict";
self.C.mb.nQ=class{constructor(){}static Gm(d,a,b,e){let c;switch(e){case "behavior":c=a.Qb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.sf(d);break;case "plugin":c=a.Qb(d)}return!!c===!!b?!1:!0}static yb(d,a,b,e){return b?a.Gc()?1:0:(d=e.eb,d=e.tf().hq(d),d.Gc()?1:0)}};
{"use strict";const d=self.C,a=[0,0,0],b=[0,0,0],e=[0,0,0];d.mb.zQ=class{constructor(){}static Gm(c,f,k,g){let l;switch(g){case "behavior":l=f.Qb(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.sf(c);break;case "plugin":l=f.Qb(c)}Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(e.TG(k),a[0]=Math.floor(255*e.Ya),a[1]=Math.floor(255*e.Xa),a[2]=Math.floor(255*e.Va));Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.TG(l),b[0]=Math.floor(255*e.Ya),b[1]=Math.floor(255*e.Xa),b[2]=Math.floor(255*
e.Va));return a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]?!0:!1}static yb(c,f,k,g){if(!k)return f=g.eb,f=g.tf().hq(f),f=f.Gc(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;var l=g.Ej();"default"===l&&(l="continuous");if("discrete"===l)return f=f.Gc(),a[0]=f[0],a[1]=f[1],a[2]=f[2],a;if("continuous"===l||"step"===l){"step"===l&&(g=g.Fc().ww(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.La();l=k.La();var m=f.Gc(),q=k.Gc();const r=d.normalize(c,g,l);c=m[0];k=m[1];m=m[2];const p=q[0],u=q[1];q=q[2];f=self.Yv.iq(f.Yn());g=l-g;
l=g*r;a[0]=c===p?c:f(l,c,p-c,g);a[1]=k===u?k:f(l,k,u-k,g);a[2]=m===q?m:f(l,m,q-m,g);return a}}}}"use strict";self.C.mb.nU=class{constructor(){}static Gm(d,a,b,e){let c;switch(e){case "behavior":c=a.Qb(d);break;case "effect":c=a[d];break;case "instance-variable":c=a.sf(d);break;case "plugin":c=a.Qb(d)}return c===b?!1:!0}static yb(d,a,b,e){return b?a.Gc():(d=e.eb,d=e.tf().hq(d),d.Gc())}};
{"use strict";const d=self.C;d.Gh=class{constructor(){this.aA=new Map}A(){for(const a of this.aA.values())a.A();this.aA.clear();this.aA=null}Yc(a){a=new d.Yaa(a);this.aA.set(a.Ha(),a)}la(a){return this.aA.get(a)}static Bx(a,b,e,c){if(b)for(const f of b)d.Gh.UU("create",f,a,e,c)}static Mx(a,b,e,c){a.length?b.forEach((f,k)=>{a[k].Ca(f)}):b.forEach(f=>{d.Gh.UU("load",f,a,e,c)})}static UU(a,b,e,c,f){let k;if("function"===typeof c)switch(a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}else if("object"===
typeof c)switch(c=c.map.get(b[c.q0]),a){case "load":k=new c(null,f);break;case "create":k=new c(b,f)}switch(a){case "load":k.Ca(b);e.push(k);break;case "create":"function"!==typeof k.pm||k.pm()?e.push(k):k.A()}}}}
{"use strict";const d=self.C;d.Yaa=class{constructor(a){this.Na="";this.mG=NaN;this.hG=0;this.$g=this.Sg="default";this.HF=this.wF=!1;this.hv=1;this.Nf=null;a&&(this.Na=a[0],this.mG=a[1],this.hG=a[2],this.Sg=a[3],this.$g=a[4],this.wF=!!a[6],this.HF=!!a[7],this.hv=a[8],this.Nf=new d.oU(a[5],this))}A(){this.Nf.A();this.Nf=null}MB(){this.Nf||(this.Nf=new d.oU(null,this));return this.Nf}Ha(){return this.Na}IC(a){this.Na=a}je(){return this.mG}ww(){return this.hG}Ej(){return this.Sg}Ij(){return this.$g}dt(){return this.wF}gt(){return this.HF}ao(){return this.hv}ya(){return{trackDataJson:this.Nf.ya(),
name:this.Na,totalTime:this.mG,step:this.hG,interpolationMode:this.Sg,resultMode:this.$g,loop:this.wF,pingPong:this.HF,repeatCount:this.hv}}Ca(a){a&&(this.MB().Ca(a.trackDataJson),this.Na=a.name,this.mG=a.totalTime,this.hG=a.step,this.Sg=a.interpolationMode,this.$g=a.resultMode,this.wF=a.loop,this.HF=a.pingPong,this.hv=a.repeatCount)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.Nf=e;this.Fo=this.ME=null;this.pn=this.an=NaN;this.$g=this.Sg="default";this.Oh=!1;this.Md=this.zk=null;this.gd="";this.Tu=null;this.CO=0;this.uF=this.Nf.Mf.je();this.Da=0;this.Na="";b&&(b[0]&&(this.ME=b[0],this.an=b[0][2],this.pn=b[0][1]),this.Sg=b[1],this.$g=b[2],this.Oh=!!b[3],b[6]&&(this.gd=b[6]),b[7]&&(this.Tu=b[7],this.CO=b[7][0],this.uF=b[7][1]),b[8]&&(this.Fo=b[8]),b[8]&&(this.Fo=b[8]),b[9]&&(this.Da=b[9]),b[10]&&(this.Na=b[10]),this.zk=
new d.pS(b[4],this),this.Md=new d.WS(b[5],this))}A(){this.Nf=this.ME=null;this.zk&&(this.zk.A(),this.zk=null);this.Md&&(this.Md.A(),this.Md=null);this.Tu=null}MB(){return this.Nf}Gj(){this.zk||(this.zk=new d.pS(null,this));return this.zk}tf(){this.Md||(this.Md=new d.WS(null,this));return this.Md}gI(){return this.pn}mw(){return this.an}Ej(){return this.Sg}Ij(){return this.$g}pm(){return this.Oh}Em(b){this.Oh=!!b}Vk(){return this.gd}Gg(){return this.CO}qm(){return this.uF}al(){return this.Fo[0]}$k(){this.Fo||
(this.Fo=[]);return this.Fo[1]}gl(){return this.Da}Ha(){return this.Na}ya(){return{keyframeDataJson:this.zk.ya(),propertyTrackDataJson:this.Md.ya(),instanceData:this.ME,additionalInstanceData:this.Fo,instanceUid:this.an,objectClassIndex:this.pn,interpolationMode:this.Sg,resultMode:this.$g,enabled:this.Oh,id:this.gd,nestedData:this.Tu,type:this.Da,name:this.Na}}Ca(b){b&&(this.ME=b.instanceData,this.an=b.instanceUid,this.pn=b.objectClassIndex,this.Sg=b.interpolationMode,this.$g=b.resultMode,this.Oh=
b.enabled,this.gd=b.id,this.Da=b.type?b.type:0,this.Da=b.name?b.name:"",this.uF=this.Nf.Mf.je(),b.nestedData&&(this.Tu=b.nestedData,this.CO=this.Tu[0],this.uF=this.Tu[1]),b.additionalInstanceData&&(this.Fo=b.additionalInstanceData),this.Gj().Ca(b.keyframeDataJson),this.tf().Ca(b.propertyTrackDataJson))}}d.oU=class{constructor(b,e){this.Mf=e;this.xs=[];this.lz=new Map;d.Gh.Bx(this.xs,b,a,this)}A(){this.Mf=null;for(const b of this.xs)b.A();d.G(this.xs);this.xs=null;this.lz.clear();this.lz=null}T4(b,
e){const c=this.lz.get(e);if(c&&c.has(b))return c.get(b);for(const f of e.Gj().b0())if(f.La()===b)return c||this.lz.set(e,new Map),this.lz.get(e).set(b,f),f}C4(b,e){for(const c of e.Gj().b0())if(c.La()>=b)return c}D4(b,e){for(const c of e.Gj().kma())if(c.La()<=b)return c}*Xma(){for(const b of this.xs)yield b}ya(){return{trackDataItemsJson:this.xs.map(b=>b.ya())}}Ca(b){b&&d.Gh.Mx(this.xs,b.trackDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.Md=e;this.XF="";this.Da=this.$d=this.bi=null;this.IN=this.LN=NaN;this.$g=this.Sg="default";this.Oh=!1;this.Ql=null;b&&(this.XF=b[0][0],this.bi=b[0].slice(1),this.$d=b[1],this.Da=b[2],this.LN=b[3],this.IN=b[4],this.Sg=b[5],this.$g=b[6],this.Oh=!!b[7],this.Ql=new d.VS(b[8],this))}A(){this.Ql.A();this.bi=this.Md=this.Ql=null}tf(){return this.Md}Hj(){this.Ql||(this.Ql=new d.VS(null,this));return this.Ql}ie(){return this.XF}gl(){return this.Da}gU(b){this.Da=
b}Ej(){return this.Sg}Ij(){return this.$g}pm(){return this.Oh}Em(b){this.Oh=!!b}ya(){return{propertyKeyframeDataJson:this.Ql.ya(),sourceAdapterId:this.XF,sourceAdapterArguments:this.bi,property:this.$d,type:this.Da,min:this.LN,max:this.IN,interpolationMode:this.Sg,resultMode:this.$g,enabled:this.Oh}}Ca(b){b&&(this.XF=b.sourceAdapterId,this.bi=b.sourceAdapterArguments,this.$d=b.property,this.Da=b.type,this.LN=b.min,this.IN=b.max,this.Sg=b.interpolationMode,this.$g=b.resultMode,this.Oh=b.enabled,this.Hj().Ca(b.propertyKeyframeDataJson))}}
d.WS=class{constructor(b,e){this.lc=e;this.gs=[];this.Gz=new Map;d.Gh.Bx(this.gs,b,a,this)}A(){this.lc=null;for(const b of this.gs)b.A();d.G(this.gs);this.gs=null;this.Gz.clear();this.Gz=null}zB(b){return b.Hj().jd[0]}hq(b){return b.Hj().jd.Oe(-1)}kI(b,e){const c=this.Gz.get(e);if(c&&c.has(b))return c.get(b);const f=e.Hj();for(const k of f.OP())if(k.La()===b)return c||this.Gz.set(e,new Map),this.Gz.get(e).set(b,k),k}nR(b,e){e=e.Hj();for(const c of e.OP())if(c.La()>b)return c}XH(b,e){e=e.Hj();for(const c of e.OP())if(c.La()>=
b)return c}YH(b,e){e=e.Hj();for(const c of e.Dma())if(c.La()<=b)return c}*Fma(){for(const b of this.gs)yield b}ya(){return{propertyTrackDataItemsJson:this.gs.map(b=>b.ya())}}Ca(b){b&&d.Gh.Mx(this.gs,b.propertyTrackDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.zk=e;this.md=-1;this.kk="noease";this.lk=!1;this.vz=this.di=null;b&&(this.md=b[0],this.kk=b[1],this.lk=!!b[2],this.di=(b=b[3])?b.split(" "):[],this.vz=new Set(this.di.map(c=>c.toLowerCase())))}A(){this.zk=null;d.G(this.di);this.di=null;this.vz.clear();this.vz=null}Gj(){return this.zk}La(){return this.md}Lt(b){this.md=b}Yn(){return this.kk}pl(b){this.kk=b}pm(){return this.lk}Em(b){this.lk=!!b}Kt(b){this.di=b?b.split(" "):[];this.vz=new Set(this.di.map(e=>
e.toLowerCase()))}ya(){return{time:this.md,ease:this.kk,enable:this.lk,tags:this.di}}Ca(b){b&&(this.md=b.time,this.kk=b.ease,this.lk=b.enable,this.di=b.tags,this.vz=new Set(this.di.map(e=>e.toLowerCase())))}}d.pS=class{constructor(b,e){this.lc=e;this.hd=[];d.Gh.Bx(this.hd,b,a,this)}A(){this.lc=null;for(const b of this.hd)b.A();d.G(this.hd);this.hd=null}S0(){const b=new a(null,this);this.hd.push(b);return b}y2(b){for(const e of this.hd){if(!b(e))continue;const c=this.hd.indexOf(e);-1!==c&&(e.A(),this.hd.splice(c,
1))}this.Jaa()}Jaa(){this.hd.sort((b,e)=>b.La()-e.La())}V4(b){return this.hd.indexOf(b)}U4(b){return this.hd[b]}*b0(){for(const b of this.hd)yield b}*kma(){for(let b=this.hd.length-1;0<=b;b--)yield this.hd[b]}ya(){return{keyframeDataItemsJson:this.hd.map(b=>b.ya())}}Ca(b){b&&d.Gh.Mx(this.hd,b.keyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(b,e){this.Ql=e;this.Ki=this.Od=null;this.Da="";this.md=NaN;this.kk="noease";this.lk=!1;this.Yj=null;b&&(this.Od=b[0][0],this.Ki=b[0][1],this.Da=b[0][2],this.md=b[1],this.kk=b[2],this.lk=!!b[3],this.Yj=null,b[4]&&(this.Yj=new d.e1(b[4],this)))}A(){this.Ql=null;this.Yj&&(this.Yj.A(),this.Yj=null)}ke(){return this.Od}Ch(b){"color"===this.Da&&d.fo(b)?(this.Od[0]=d.mI(b),this.Od[1]=d.$H(b),this.Od[2]=d.NH(b)):this.Od=b}vT(b){"color"===this.Da&&d.fo(b)?(this.Ki[0]=
d.mI(b),this.Ki[1]=d.$H(b),this.Ki[2]=d.NH(b)):this.Ki=b}Gc(){const b=this.Ql.eb.Ij();if("relative"===b)return this.ke();if("absolute"===b)return this.Ki}gl(){return this.Da}gU(b){this.Da=b}La(){return this.md}Lt(b){this.md=b}Yn(){return this.kk}pl(b){this.kk=b}pm(){return this.lk}Em(b){this.lk=!!b}LH(b){if(this.Yj)for(const e of this.Yj.bla())if(e.Vk()===b)return e}ya(){const b=this.Yj;return{addonDataJson:b?b.ya():b,value:this.Od,aValue:this.Ki,type:this.Da,time:this.md,ease:this.kk,enable:this.lk}}Ca(b){b&&
(b.addonDataJson&&this.Yj.Cya(b.addonDataJson),this.Od=b.value,this.Ki=b.aValue,this.Da=b.type,this.md=b.time,this.kk=b.ease,this.lk=b.enable)}}d.VS=class{constructor(b,e){this.eb=e;this.jd=[];d.Gh.Bx(this.jd,b,a,this)}A(){this.eb=null;for(const b of this.jd)b.A();d.G(this.jd);this.jd=null}T0(){const b=new a(null,this);this.jd.push(b);return b}A2(b){for(const e of this.jd){if(!b(e))continue;const c=this.jd.indexOf(e);-1!==c&&(e.A(),this.jd.splice(c,1))}this.Kaa()}Kaa(){this.jd.sort((b,e)=>b.La()-
e.La())}*OP(){for(const b of this.jd)yield b}*Dma(){for(let b=this.jd.length-1;0<=b;b--)yield this.jd[b]}ya(){return{propertyKeyframeDataItemsJson:this.jd.map(b=>b.ya())}}Ca(b){b&&d.Gh.Mx(this.jd,b.propertyKeyframeDataItemsJson,a,this)}}}
{"use strict";const d=self.C;class a{constructor(c,f){this.Yj=f;this.gd=c[0];this.Wm=c[1]}A(){this.Wm=this.Yj=null}Vk(){return this.gd}ya(){return{id:this.gd,data:this.Wm}}Ca(c){c&&(this.gd=c.id,this.Wm=c.data)}}class b extends a{constructor(c,f){super(c,f);this.BO=this.Wm[0];this.Uz=!!this.Wm[1];this.pM=this.Wm[2];this.lE=!!this.Wm[3]}A(){super.A()}ya(){return Object.assign(super.ya(),{startAnchor:this.BO,startEnable:!!this.Uz,endAnchor:this.pM,endEnable:!!this.lE})}Ca(c){c&&(super.Ca(c),this.BO=
c.startAnchor,this.Uz=!!c.startEnable,this.pM=c.endAnchor,this.lE=!!c.endEnable)}}class e extends a{constructor(c,f){super(c,f);this.hM=this.Wm[0];this.nO=this.Wm[1]}A(){super.A()}ya(){return Object.assign(super.ya(),{direction:this.hM,revolutions:this.nO})}Ca(c){c&&(super.Ca(c),this.hM=c.direction,this.nO=c.revolutions)}}d.e1=class{constructor(c){this.br=[];d.Gh.Bx(this.br,c,{q0:0,map:new Map([["cubic-bezier",b],["angle",e]])},this)}A(){for(const c of this.br)c.A();d.G(this.br);this.br=null}*bla(){for(const c of this.br)yield c}ya(){return{addonDataItemsJson:this.br.map(c=>
c.ya())}}Ca(c){c&&d.Gh.Mx(this.br,c.addonDataItemsJson,{q0:"id",map:new Map([["cubic-bezier",b],["angle",e]])},this)}}}
{"use strict";const d=self.C;let a=0;d.dba=class extends d.ye{constructor(b,e){super(`tween-${a++}`,b,e);this.gd="";this.TX=!1;this.OM="start-value";this.wZ=this.vZ=null}Ja(){var b=this.Zb;if(b&&b.length&&(b=b[0])){var e=b.Ja();return b.wm()?e:null}}Vk(){return this.gd}RS(){if(this.wZ)for(const b of this.wZ)b(this);if(!this.Og)for(const b of this.Zb)b.zj()}HS(){this.iu=this.j.Tl}XQ(){if(!this.Er&&(this.Er=!0,this.vZ))for(const b of this.vZ)b(this)}Lt(b){this.YU();super.Lt(b)}Kd(b){if(!this.Wo&&"current-state"===
this.OM)for(const e of this.Zb)e.yj();super.Kd(b)}Fh(b=!1){super.Fh(b);if(!this.Og)for(const e of this.Zb)e.Hq()}od(b=!0,e=!1){this.YU();super.od(b,e)}YU(){for(const b of this.Zb){const e=c=>{c=c.La();const f=this.je();return 0!==c&&c!==f};b.z2(e);b.BH(e)}}fD(){if(this.fj)return!0;const b=this.Ja();if(b&&b.J().wh())return!1;this.Ob.ZA(this);this.lT();return!0}zS(){}bd(){const b=this.Ja();super.bd(this.K().fq(b),1)}ya(){const b=super.ya();return Object.assign(b,{tweenDataItemJson:this.Mf.ya(),id:this.gd,
destroyInstanceOnComplete:this.TX,initialValueMode:this.OM})}Ca(b){b&&(this.Mf.Ca(b.tweenDataItemJson),super.Ca(b),this.gd=b.id,this.TX=b.destroyInstanceOnComplete,this.OM=b.initialValueMode)}static IsPlaying(b){return b.IsPlaying()}}}
{"use strict";const d=self.C,a=self.Yv;d.rU=class extends d.qa{constructor(b){super();this.Na=b[0];this.mj=[];for(const e of b[1])b=d.sU.fb(this,e),this.mj.push(b);this.Fz=new Map;this.nG=new Map;this.Tga();a.R0(this.Na,(e,c,f,k)=>this.yb(e,c,f,k))}static fb(b){return d.D(d.rU,b)}A(){for(const b of this.mj)b.A();d.G(this.mj);this.mj=null;this.Fz.clear();this.Fz=null;this.nG.clear();this.nG=null}r5(b){const e=this.nG.get(b);if(e)return e;for(const c of this.mj)if(c.Of===b)return this.nG.set(b,c),c}G4(b){for(const e of this.mj)if(e.Of>
b)return e}F4(b){for(const e of this.mj)if(e.Of>=b)return e}H4(b){for(let e=this.mj.length-1;0<=e;e--){const c=this.mj[e];if(c.Of<=b)return c}}yb(b,e,c,f){var k=b/f;(b=this.r5(k))?f=this.G4(k):(b=this.H4(k),f=this.F4(k));k=d.qma(k,b.Of,f.Of,f.Of-b.Of);const g=b.Of,l=b.iA,m=b.Of+b.g_,q=b.iA+b.Ska,r=f.Of+f.$X,p=f.iA+f.Zja,u=f.Of;f=f.iA;f=a.iq("spline")(k,g,l,m,q,r,p,u,f,this.Fz.get(b));f+=b.iA;return(1-f)*e+f*(e+c)}Tga(){this.Fz.clear();for(let e=0;e<this.mj.length-1;e++){var b=this.mj[e];if(!b.Uz)continue;
const c=this.mj[e+1];this.Fz.set(b,a.g4(b.Of,b.Of+b.g_,c.Of+c.$X,c.Of))}}}}{"use strict";const d=self.C;d.sU=class extends d.qa{constructor(a,b){super();this.Of=b[0];this.iA=b[1];this.g_=b[2];this.Ska=b[3];this.$X=b[4];this.Zja=b[5];this.Uz=b[6];this.lE=b[7]}A(){}static fb(a,b){return d.D(d.sU,a,b)}}}{"use strict";const d=self.C;d.cba=class extends d.qa{constructor(a){super();this.j=a;this.oG=[]}A(){for(const a of this.oG)a.A();d.G(this.oG);this.oG=null}fb(a){this.oG.push(d.rU.fb(a))}}}
{"use strict";const d=self.C;d.Iaa=class extends d.qa{constructor(a){super();this.V=a;this.sb=[];this.sb.push(d.D(d.PJ,this));this.cb=0;this.gk=this.sb[0]}A(){for(const a of this.sb)a.A();d.G(this.sb);this.V=this.gk=null}J(){return this.V}ia(){return this.gk}Zc(){this.ia().Zc()}j9(){var a=this.sb,b=++this.cb;b===a.length?(b=d.D(d.PJ,this),a.push(b),this.gk=b):(a=a[b],a.od(),this.gk=a)}k9(){const a=this.sb,b=++this.cb;b===a.length&&a.push(d.D(d.PJ,this));const e=a[b];e.Y1(a[b-1]);this.gk=e}Sa(){this.gk=
this.sb[--this.cb]}Eq(a){const b=this.sb;for(let e=0,c=b.length;e<c;++e)b[e].Eq(a)}}}
{"use strict";const d=self.C;d.PJ=class extends d.qa{constructor(a){super();this.sb=a;this.V=this.sb.J();this.oe=this.V.K().Bd();this.kc=!0;this.H=[];this.yc=[]}A(){this.VA();this.oe=this.V=this.sb=null}VA(){d.G(this.H);d.G(this.yc)}J(){return this.V}wI(){return this.kc?!!this.V.H.length:!!this.H.length}ta(){return this.kc?this.V.ta():this.H}y5(){return!!this.yc.length}w4(){const a=this.ta();return a.length?a:this.yc}od(){this.kc=!0;d.G(this.yc)}Zc(){this.kc=!0}Y1(a){a.kc?this.od():(this.kc=!1,d.nd(this.H,
a.H),d.G(this.yc))}Uq(a){this.H.push(a)}Do(a){this.yc.push(a)}Ve(a){this.kc=!!a}ql(a){this.kc=!1;d.G(this.H);this.H.push(a)}Tw(a){this.kc=!1;d.nd(this.H,a)}mx(a){this.kc=!1;d.G(this.H);for(const b of a)this.H.push(b)}gQ(a,b){for(const e of b)a.has(e)||this.yc.push(e)}aba(a){for(const b of a)this.H.push(b);d.ji(this.yc,a)}mo(a){a&&(this.oe.Xf().Pb().qe?(this.kc&&(d.G(this.H),d.nd(this.yc,a.J().ta()),this.kc=!1),a=this.yc.indexOf(a),-1!==a&&(this.H.push(this.yc[a]),this.yc.splice(a,1))):this.ql(a))}Eq(a){d.ji(this.H,
a);d.ji(this.yc,a)}}}
{"use strict";const d=self.C;d.O3=class extends d.qa{constructor(a){super();this.Fa=a;this.j=this.Fa.K();this.sb=[];this.sb.push(d.D(d.SQ,this,null));this.cb=0;this.oE=[]}A(){for(const a of this.sb)a.A();d.G(this.sb);d.G(this.oE);this.j=this.Fa=null}wa(){return this.Fa}K(){return this.j}Xf(){return this.sb[this.cb]}Za(a){var b=this.sb;const e=++this.cb;if(e===b.length)return a=d.D(d.SQ,this,a),b.push(a),a;b=b[e];b.od(a);return b}Sa(){--this.cb}l9(a){this.oE.push(a)}d9(){this.oE.pop()}m4(){const a=this.oE;
return 0===a.length?null:a.Oe(-1)}}}
{"use strict";const d=self.C;d.SQ=class extends d.qa{constructor(a,b){super();this.sb=a;this.j=this.sb.K();this.wy=b;this.Mg=this.Um=0;this.oM=this.Sr=!1;this.tM=null;this.AM=this.lY=0}A(){this.od(null);this.j=this.sb=null}od(a){this.wy=a;this.Mg=this.Um=0;this.oM=this.Sr=!1}XK(a,b){this.wy=a;this.Um=0;this.Mg=b}mT(){this.Mg=this.Um=0}Pb(){return this.wy}Bh(a){this.wy=a}qo(a){this.Um=a}tC(a){this.Mg=a}vo(a){this.Sr=!!a}Dt(a){this.oM=!!a}t$(a){this.tM=a}i6(a,b){this.lY=a;this.AM=b}zC(a){this.AM=a}jl(){const a=
this.wy;return a.cF?!0:this.Um<a.pc.length-1?!!a.Sd().length:!1}}}{"use strict";const d=self.C;d.C7=class extends d.qa{constructor(a){super();this.Fa=a;this.j=this.Fa.K();this.sb=[];this.cb=-1;this.gk=null;this.KE=[]}A(){d.G(this.sb);this.j=this.Fa=null}Aia(a){this.KE=a;a=this.KE.slice(0);this.sb.push(a);this.cb=0;this.gk=a}wa(){return this.Fa}K(){return this.j}Zs(){return this.gk}Za(){const a=++this.cb,b=this.sb;a===b.length?b.push(this.KE.slice(0)):d.nd(b[a],this.KE);this.gk=b[a]}Sa(){this.gk=this.sb[--this.cb]}}}
{"use strict";const d=self.C;d.E7=class extends d.qa{constructor(a){super();this.Fa=a;this.j=this.Fa.K();this.sb=[];this.cb=-1}A(){d.G(this.sb);this.j=this.Fa=null}wa(){return this.Fa}K(){return this.j}iS(){return 0<=this.cb}Zs(){return this.sb[this.cb]}Za(){++this.cb;if(this.cb===this.sb.length){var a=d.D(d.D7,this);this.sb.push(a);return a}a=this.sb[this.cb];a.od();return a}Sa(){--this.cb}V3(a){const b=this.sb;for(let e=this.cb;0<=e;--e){const c=b[e];if(c.Ha()===a)return c}return null}}}
{"use strict";const d=self.C;d.D7=class extends d.qa{constructor(a){super();this.og=a;this.Na="";this.cb=0;this.Kc=!1}od(){this.Na="";this.cb=0;this.Kc=!1}IC(a){this.Na=a}Ha(){return this.Na}$c(a){this.cb=a}Oa(){return this.cb}Fh(){this.Kc=!0}}}{"use strict";const d=self.C;d.o1=class extends d.qa{constructor(){super();this.sb=[];this.cb=-1}A(){d.G(this.sb)}Zs(){return this.sb[this.cb]}Za(){++this.cb;if(this.cb===this.sb.length){const a=[];this.sb.push(a);return a}return this.sb[this.cb]}Sa(){--this.cb}}}
{"use strict";const d=self.C;function a(b,e){return b.Oa()-e.Oa()}d.N3=class extends d.qa{constructor(b){super();this.j=b;this.gy=[];this.tO=new Map;this.GL=[];this.rY=new Map;this.WL=new Map;this.$L=new Map;this.wD=new Map;this.FX=new Map;this.rM=new Map;this.Gka=0;this.FL=[];this.Dja=[];this.gZ=[];this.yM=new Map;this.oe=d.D(d.O3,this);this.Ld=d.D(d.C7,this);this.og=d.D(d.E7,this);this.NO=[];this.NF=[];this.MF=[];this.VL=this.Xm=this.yn=0;this.ah=[];this.GD=[];self.c3_callFunction=(e,c)=>this.eD(e,
c)}A(){this.UA();this.oe.A();this.oe=null;this.Ld.A();this.Ld=null;d.G(this.NF);d.G(this.MF);this.j=null;d.G(this.gy);this.tO.clear()}fb(b){b=d.D(d.M3,this,b);this.gy.push(b);this.tO.set(b.Ha().toLowerCase(),b)}Tba(b){this.NO.push(b)}Xb(){for(const b of this.yM.values())b.Xb(!1);for(const b of this.gy)b.Xb();for(const b of this.gy)b.qL();for(const b of this.NO)b.Xb(!1);d.G(this.NO);this.Ld.Aia(this.gZ)}K(){return this.j}lR(b){return this.tO.get(b.toLowerCase())||null}fha(b){this.GL.push(b);this.rY.set(b.qY,
b)}cha(b){this.WL.set(b.jb,b)}bha(b){this.$L.set(b.jb,b)}aha(b){this.wD.set(b.jb,b)}eha(b){this.yM.set(b.zE.toLowerCase(),b)}dha(b){this.rM.set(b.jb,b);b.wh()?this.FL.push(b):this.Dja.push(b)}TC(b){2<=b.length&&b.sort(a);let e=this.FX.get(b.length);e||(e=[],this.FX.set(b.length,e));for(let f=0,k=e.length;f<k;++f){const g=e[f];a:{for(let l=0,m=b.length;l<m;++l)if(b[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(b);return b}zea(b){this.gZ.push(b.Jr);return this.Gka++}Bd(){return this.oe}Wf(){return this.Bd().Xf()}Pb(){return this.Wf().Pb()}Vf(){const b=
this.Wf();return b.Pb().hR(b.Um)}jw(){const b=this.Wf();return b.Pb().ZQ(b.Mg)}c4(b){const e=[];for(b=b.it();b;)d.$l(e,b.qV()),b=b.it();return e}IV(b){const e={};for(const c of this.c4(b))e[c.Fj()]=c.LV();return Object.create(Object.prototype,e)}WH(b){return this.rM.get(b)||null}s4(b){return this.WL.get(b)||null}b4(b){return this.wD.get(b)||null}BB(b){return this.yM.get(b.toLowerCase())||null}F9(){for(const b of this.FL)b.L9()}kR(b){return this.rY.get(b.toLowerCase())||null}t4(b){return(b=this.WL.get(b))&&
b.wk?b:null}G9(){for(const b of this.GL)b.I9()}IW(){for(const b of this.gy)b.vha()}R9(b){this.IW();this.yn++;for(const e of b.IA())if(b=e.ud)this.j.Qw(e),b.Ba(),this.j.Pw();this.yn--}async t2(b){this.IW();this.yn++;for(const e of this.kda(b))await this.j.Ws(e);this.yn--}*kda(b){for(const e of b.IA())if(b=e.ud)this.j.Qw(e),yield*b.wb(),this.j.Pw()}cy(b,e,c,f){let k=!1;if(!b.Ub())return this.eJ(e,c,f);this.Xm++;for(const g of b.IA())if(b=g.ud){this.j.Qw(g);for(const l of b.$D){const m=l.cy(e,c,f);k=
k||m}b=b.cy(e,c,f);k=k||b;this.j.Pw()}this.Xm--;return k}*Ex(b,e,c,f){let k=!1;if(!b.Ub())return this.eJ(e,c,f);this.Xm++;for(const g of b.IA())if(b=g.ud){this.j.Qw(g);for(const l of b.$D){const m=yield*l.Ex(e,c,f);k=k||m}b=yield*b.Ex(e,c,f);k=k||b;this.j.Pw()}this.Xm--;return k}eJ(b,e,c){this.NF.push([b,e,c]);return!1}m9(b,e,c){let f=null;const k=new Promise(g=>f=g);this.MF.push([b,e,c,f]);return k}*Fha(){if(this.j.Ew())throw Error("should not be in breakpoint");const b=this.j.nb;for(;this.MF.length;){const [e,
c,f,k]=this.MF.shift(),g=yield*this.Ex(b,e,c,f);k(g)}}async pT(){for(const b of this.Fha())await this.j.Ws(b)}NI(){return 0<this.Xm}Kx(){return++this.Xm}Fx(){--this.Xm}f7(){return 0<this.yn}$B(){return this.f7()||this.NI()}Gha(b){for(const [e,c,f]of this.NF)this.cy(b,e,c,f);d.G(this.NF)}mf(b){b?this.VL++:this.VL--}hS(){return 0<this.VL}Vs(b){for(let e=0,c=b.length;e<c;++e)b[e].tp.Zc()}xh(b){for(let e=0,c=b.length;e<c;++e)b[e].tp.j9()}yf(b){for(let e=0,c=b.length;e<c;++e)b[e].tp.k9()}Wb(b){for(let e=
0,c=b.length;e<c;++e)b[e].tp.Sa()}jH(){const b=d.D(d.pJ,this);this.ah.push(b);return b}T9(){if(this.ah.length){var b=this.Wf(),e=!1;this.yn++;for(let c=0,f=this.ah.length;c<f;++c){const k=this.ah[c];k.mX()&&k.xha(b);k.Pz&&(e=!0)}e&&this.nV();this.yn--}}async v2(){if(this.ah.length){var b=this.Wf(),e=!1;this.yn++;for(let c=0,f=this.ah.length;c<f;++c){const k=this.ah[c];k.mX()&&await k.eda(b);k.Pz&&(e=!0)}e&&this.nV();this.yn--}}nV(){const b=d.jla(this.ah,e=>e.Pz);for(const e of b)e.A()}UA(){for(const b of this.ah)b.A();
d.G(this.ah)}w9(b){for(const e of this.ah)e.Eq(b)}gH(b){this.GD.push(b)}WA(){d.G(this.GD)}l5(){const b=Promise.all(this.GD);this.GD=[];return b}ya(){return{groups:this.Nha(),cnds:this.Mha(),acts:this.Lha(),vars:this.Yha(),waits:this.Uha()}}Ca(b){this.wfa(b.groups);this.qfa(b.cnds);this.ofa(b.acts);this.Ifa(b.vars);this.Efa(b.waits)}Nha(){const b={};for(const e of this.GL)b[e.jb.toString()]=e.kt();return b}wfa(b){for(const [e,c]of Object.entries(b))(b=this.t4(parseInt(e,10)))&&b.Kq(c)}Mha(){const b=
{};for(const [e,c]of this.$L){const f=c.ya();f&&(b[e.toString()]=f)}return b}qfa(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.$L)f.Ca(e.get(c)||null)}Lha(){const b={};for(const [e,c]of this.wD){const f=c.ya();f&&(b[e.toString()]=f)}return b}ofa(b){const e=new Map;for(const [c,f]of Object.entries(b))e.set(parseInt(c,10),f);for(const [c,f]of this.wD)f.Ca(e.get(c)||null)}Yha(){const b={};for(const [e,c]of this.rM)c.Gb||!c.wh()&&!c.Xi||(b[e.toString()]=
c.ke());return b}Ifa(b){for(const [e,c]of Object.entries(b))(b=this.WH(parseInt(e,10)))&&b.Ch(c)}Uha(){return this.ah.filter(b=>!b.d7()).map(b=>b.ya())}Efa(b){this.UA();for(const e of b)(b=d.pJ.Fca(this,e))&&this.ah.push(b)}IH(b){for(;b;)if(b=b.it(),b instanceof d.ew)return b;return null}eD(b,e){Array.isArray(e)||(e=[]);b=this.BB(b.toLowerCase());if(!b)return null;if(!b.wf())return b.RH();var c=b.Ph;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].Jr);while(e.length<c.length)}c=b.Yf();return c.nT(c.Td(),
b.rp,b.RH(),...e)}}}
{"use strict";const d=self.C;d.M3=class extends d.qa{constructor(a,b){super();this.Fa=a;this.j=a.K();this.Na=b[0];this.nE=[];this.sG=new Map;this.fY=new Map;this.$ja=new Map;this.Ky=!1;this.YZ=[];this.$D=[];this.GX=new Set;for(const e of b[1])this.VU(e,null,this.nE);this.Fk=this.j.Jb?{type:"sheet",name:this.Na,JA:0,children:[]}:null}A(){this.j=this.Fa=null}VU(a,b,e){switch(a[0]){case 0:case 3:this.Dca(a,b,e);break;case 1:this.Eca(a,b,e);break;case 2:this.Ica(a,b,e);break;case 4:this.Gca(a,b);break;
case 5:this.Rca(a,b,e);break;default:throw Error("invalid event type");}}Dca(a,b,e){a=d.Vn.fb(this,b,a);if(a.qe){e.push(a);e=a.pc;for(let c=0,f=e.length;c<f;++c)e[c].wq()&&this.YV(a,c)}else a.wq()?this.YV(a,0):e.push(a)}Gca(a,b){a=d.ew.fb(this,b,a);this.Fa.eha(a)}Eca(a,b,e){a=d.iB.fb(this,b,a);e.push(a)}Ica(a,b,e){a=d.RQ.fb(this,b,a);e.push(a)}Rca(a,b,e){a=d.hB.fb(this,b,a);e.push(a)}YV(a,b){a.qe||this.Fa.Tba(a);var e=a.hR(b),c=e.Wa,f=e.J();if(e.JY){var k=this.fY.get(f);k||(k=new Map,this.fY.set(f,
k));e=e.y4().toLowerCase();f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([a,b])}else k=this.sG.get(f),k||(k={AP:new Map,oA:new Map},this.sG.set(f,k)),(f=e.oi())?(e=k.oA.get(f),e||(e=new Map,k.oA.set(f,e))):e=k.AP,k=e.get(c),k||(k=[],e.set(c,k)),k.push([a,b])}Xb(){const a=this.nE;for(let b=0,e=a.length;b<e;++b)a[b].Xb(b<e-1&&a[b+1]instanceof d.Vn&&a[b+1].ZB())}Rba(a){this.YZ.push(a)}qL(){d.G(this.$D);this.FU(this);this.GX.clear()}FU(a){const b=a.$D,e=a.GX;for(const c of this.YZ){const f=
c.Ry;c.Fb&&a!==f&&!e.has(f)&&(e.add(f),f.FU(a),b.push(f))}}wa(){return this.Fa}K(){return this.j}Ha(){return this.Na}AW(a,b){this.$ja.set(b,a)}vha(){this.Ky=!1}Ba(){if(!this.Ky){var a=this.j,b=a.GI(),e=b?performance.now():0;this.Ky=!0;var c=this.wa(),f=c.Wf();for(const k of this.nE)k.Ba(f),c.Vs(k.Sd()),c.WA(),a.xe();f.od(null);b&&(this.Fk.JA+=performance.now()-e)}}*wb(){if(!this.Ky){this.Ky=!0;var a=this.j,b=this.wa(),e=b.Wf();for(const c of this.nE)yield*c.wb(e),b.Vs(c.Sd()),b.WA(),a.xe();e.od(null)}}cy(a,
b,e){if(b){const c=b.J();this.lL(a,b,c,e);for(const f of c.Ti)this.lL(a,b,f,e)}else return this.lL(a,b,null,null)}lL(a,b,e,c){e=this.sG.get(e);if(!e)return!1;c=c?e.oA.get(c):e.AP;if(!c)return!1;c=c.get(a);if(!c)return!1;a=!1;for(const [f,k]of c)c=this.mV(b,f,k),a=a||c;return a}*Ex(a,b,e){if(b){const c=b.J();yield*this.rK(a,b,c,e);for(const f of c.Ti)yield*this.rK(a,b,f,e)}else return yield*this.rK(a,b,null,null)}*rK(a,b,e,c){e=this.sG.get(e);if(!e)return!1;c=c?e.oA.get(c):e.AP;if(!c)return!1;c=c.get(a);
if(!c)return!1;a=!1;for(const [f,k]of c)c=f.pf()?this.mV(b,f,k):yield*this.Zca(b,f,k),a=a||c;return a}mV(a,b,e){const c=this.j,f=this.Fa,k=f.Pb(),g=f.Bd(),l=f.Xm;let m=!1;k&&f.xh(k.Td());f.xh(b.Td());const q=1<l;q&&f.Ld.Za();const r=g.Za(b);a&&(b.pc[e].J().ia().ql(a),a.nc()&&a.Pj());a=!0;if(b.Ka()){const p=b.zs;for(let u=0,t=p.length;u<t;++u)if(!p[u].oT(r)){a=!1;break}}a&&(c.vm(),b.qe?b.S9(r,e):b.Ba(r),m=r.Sr);g.Sa();q&&f.Ld.Sa();f.Wb(b.Td());k&&f.Wb(k.Td());k||1!==l||(f.WA(),f.hS()||c.xe());return m}*Zca(a,
b,e){const c=this.j,f=this.Fa,k=f.Pb(),g=f.Bd(),l=f.Xm;let m=!1;k&&f.xh(k.Td());f.xh(b.Td());const q=1<l;q&&f.Ld.Za();const r=g.Za(b);a&&(b.pc[e].J().ia().ql(a),a.nc()&&a.Pj());a=!0;if(b.Ka()){const p=b.zs;for(let u=0,t=p.length;u<t;++u)if(!(yield*p[u].KQ(r))){a=!1;break}}a&&(c.vm(),b.qe?yield*b.u2(r,e):yield*b.wb(r),m=r.Sr);g.Sa();q&&f.Ld.Sa();f.Wb(b.Td());k&&f.Wb(k.Td());k||1!==l||(f.WA(),f.hS()||c.xe());return m}}}
{"use strict";const d=self.C,a=[];function b(){return!0}function*e(){return!0}d.Vn=class extends d.qa{constructor(c,f,k){super();this.ud=c;this.j=c.K();this.Tc=f;this.He=null;this.oe=this.j.wa().Bd();this.Kf=[];this.jv=[];this.Hy=this.eF=this.cF=this.wY=!1;this.qe=!!k[2];this.SE=!1;this.zs=null;this.pc=[];this.Kh=[];this.kj=[];this.Wj=b;this.Qq=e;this.bN=this.wk=!1;this.qY="";this.UE=!1;this.Fk=this.WD=null;this.jb=k[4];this.su=k[5];this.ud.AW(this,this.su);this.ab=this.j.Jb?{xd:k[3][0],vP:k[3][1],
E_:!1,gP:!1,hP:!1,F_:!1}:null;this.wa().cha(this);3===k[0]&&this.Vea(k[1]);c=0;for(var g of k[6])f=d.BQ.fb(this,g,c++),this.pc.push(f),this.KU(f.J());c=0;for(const l of k[7])g=d.OA.fb(this,l,c++),this.Kh.push(g);if(9===k.length){k=k[8];for(const l of k)this.ud.VU(l,this,this.kj)}this.pc.length&&(this.SE=null===this.pc[0].J()&&this.pc[0].Wa===d.F.qb.I.QQ);0===this.pc.length&&(this.pc=a);0===this.Kh.length&&(this.Kh=a);0===this.kj.length&&(this.kj=a)}static fb(c,f,k){return d.D(d.Vn,c,f,k)}Vea(c){this.wk=
!0;this.UE=this.bN=!!c[0];this.qY=c[1].toLowerCase();this.WD=[];this.wa().fha(this);this.j.Jb&&(this.Fk={type:"group",name:c[1],JA:0,children:[]})}Jba(c){this.WD.push(c)}EU(c,f){for(const k of c.Mh.rn)f.includes(k)||f.push(k)}LU(c,f){if(c)if(f.includes(c)||f.push(c),c.ib)for(const k of c.To)k.nc()&&this.EU(k,f);else c.nc()&&this.EU(c,f)}KU(c){this.LU(c,this.Kf)}Nba(c){this.LU(c,this.jv)}b$(){this.Kf=this.j.qd}Xb(c){this.Hy=!!c;this.Oea();this.Pea();for(const k of this.pc)k.Xb();if(0<this.Kh.length){c=
!1;for(var f of this.Kh)f.Xb(),f.G5()&&(c=!0);c?(this.Wj=this.zha,this.Qq=this.gda):(this.Wj=this.yha,this.Qq=this.fda)}f=this.kj;for(let k=0,g=f.length;k<g;++k)f[k].Xb(k<g-1&&f[k+1]instanceof d.Vn&&f[k+1].ZB());this.ab&&this.lja();this.Fk&&this.Aea().Fk.children.push(this.Fk)}Aea(){let c=this.Ka();for(;c;){if(c.wk)return c;c=c.Ka()}return this.ud}lja(){const c=this.ab;c.E_=this.pc.every(f=>f.pf());c.gP=this.Kh.every(f=>f.pf());c.hP=this.kj.every(f=>f.pf());c.F_=c.E_&&c.gP&&c.hP}Oea(){if(this.wk){var c=
this.Ka();for(this.eF=!0;c;){if(!c.wk){this.eF=!1;break}c=c.Ka()}}}Nea(){var c=this.j.qd;if(this.Kf===c)this.jv=c;else{this.jv=d.DG(this.Kf);for(c=this.Ka();c;){for(var f of c.Kf)this.Nba(f);c=c.Ka()}f=this.wa();this.Kf=f.TC(this.Kf);this.jv=f.TC(this.jv)}}Pea(){if(this.z5()){this.zs=[];for(var c=this.Ka();c;)this.zs.push(c),c=c.Ka();this.zs.reverse()}}nx(){this.cF=!0;this.Tc&&this.Tc.nx()}Sd(){return this.Kf}Td(){this.wY||(this.wY=!0,this.Nea());return this.jv}I5(c){return this.Kf.includes(c)}wa(){return this.ud.wa()}K(){return this.j}Ka(){return this.Tc}Iia(c){this.He=
c}it(){return this.He||this.Tc}HI(){return this.ab&&this.ab.vP}sq(){return this.HI()&&this.ab.xd}ZB(){return this.SE}kt(){return this.UE}I9(){this.Kq(this.bN)}Kq(c){c=!!c;if(!this.wk)throw Error("not a group");if(this.UE!==c){this.UE=c;for(const f of this.WD)f.tU();this.WD.length&&(c=this.j.Ra().ud)&&c.qL()}}wq(){return this.pc.length&&this.pc[0].wq()}W6(){return this.He&&this.He instanceof d.ew}z5(){return this.W6()||this.pc.some(c=>c.wq())}hR(c){c=Math.floor(c);if(0>c||c>=this.pc.length)throw new RangeError("invalid condition index");
return this.pc[c]}V6(c){let f=c.Oa();if(0===f)return!0;for(--f;0<=f;--f)if(this.pc[f].J()===c.J())return!1;return!0}ZQ(c){c=Math.floor(c);if(0>c||c>=this.Kh.length)throw new RangeError("invalid action index");return this.Kh[c]}Mea(c){c=Math.floor(c);return 0<=c&&c<this.Kh.length}qV(){return this.kj.filter(c=>c instanceof d.iB)}oT(c){c.Bh(this);let f=!1;const k=this.pc;for(let g=0,l=k.length;g<l;++g){const m=k[g];c.qo(g);if(m.WE)throw Error("trigger cannot be used as sub-event to a loop");if(m.Ba())f=
!0;else if(!this.qe)return!1}return this.qe?f:!0}S9(c,f){c.Bh(this);this.pc[f].Ba()&&(this.Wj(c,0)&&this.Mm(),c.vo(!0))}*KQ(c){c.Bh(this);let f=!1;const k=this.pc;for(let g=0,l=k.length;g<l;++g){const m=k[g];c.qo(g);if(m.WE)throw Error("trigger cannot be used as sub-event to a loop");if(m.pf()?m.Ba():yield*m.wb())f=!0;else if(!this.qe)return!1}return this.qe?f:!0}*u2(c,f){c.Bh(this);f=this.pc[f];if(f.pf()?f.Ba():yield*f.wb())(this.dB()?this.Wj(c,0):yield*this.Qq(c,0))&&(this.eB()?this.Mm():yield*this.Dx()),
c.vo(!0)}Ba(c){c.Bh(this);this.SE||c.Dt(!1);this.qe?this.Eha(c):this.lD(c)}*wb(c){if(this.sq()||this.j.Ec())yield this;c.Bh(this);this.SE||c.Dt(!1);this.qe?yield*this.rda(c):yield*this.oK(c)}Eha(c){const f=this.pc;let k=0===f.length;for(let l=0,m=f.length;l<m;++l){var g=f[l];g.wq()||(c.qo(l),g=g.Ba(),k=k||g)}c.vo(k);k&&(this.Wj(c,0)&&this.Mm(),this.Hy&&c.Dt(!0))}*rda(c){const f=this.pc;let k=0===f.length;for(let l=0,m=f.length;l<m;++l){var g=f[l];g.wq()||(c.qo(l),g=g.pf()?g.Ba():yield*g.wb(),k=k||
g)}c.vo(k);k&&((this.dB()?this.Wj(c,0):yield*this.Qq(c,0))&&(this.eB()?this.Mm():yield*this.Dx()),this.Hy&&c.Dt(!0))}lD(c){const f=this.pc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.qo(k);if(!l.Ba()){c.vo(!1);return}}c.vo(!0);this.Wj(c,0)&&this.Mm();c.Sr&&this.Hy&&c.Dt(!0)}*oK(c){const f=this.pc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.qo(k);if(l.pf()?!l.Ba():!(yield*l.wb())){c.vo(!1);return}}c.vo(!0);(this.dB()?this.Wj(c,0):yield*this.Qq(c,0))&&(this.eB()?this.Mm():yield*this.Dx());c.Sr&&
this.Hy&&c.Dt(!0)}yha(c,f){const k=this.Kh;for(let g=f,l=k.length;g<l;++g)f=k[g],c.tC(g),f.Ba();return!0}*fda(c,f){const k=this.Kh;for(let g=f,l=k.length;g<l;++g)f=k[g],c.tC(g),f.pf()?f.Ba():yield*f.wb();return!0}zha(c,f){const k=this.wa(),g=this.Kh;for(let l=f,m=g.length;l<m;++l){f=g[l];c.tC(l);const q=f.Ba();if(f.sQ()&&!0===q)return!1;f.uh()&&q instanceof Promise&&k.gH(q)}return!0}*gda(c,f){const k=this.wa(),g=this.Kh;for(let l=f,m=g.length;l<m;++l){f=g[l];c.tC(l);let q;q=f.pf()?f.Ba():yield*f.wb();
if(f.sQ()&&!0===q)return!1;f.uh()&&q instanceof Promise&&k.gH(q)}return!0}wha(c){this.Wj(c,c.Mg)&&this.Mm()}*dda(c){if(yield*this.Qq(c,c.Mg))yield*this.Dx()}Mm(){if(this.kj.length){var c=this.wk&&this.j.GI(),f=c?performance.now():0,k=this.oe,g=k.Za(this);this.cF?this.Jha(g):this.Iha(g);k.Sa();c&&(this.Fk.JA+=performance.now()-f)}}Jha(c){const f=this.wk,k=this.eF,g=this.wa(),l=this.kj;for(let m=0,q=l.length,r=q-1;m<q;++m){const p=l[m],u=p.Sd(),t=!k||!f&&m<r;t&&g.yf(u);p.Ba(c);t?g.Wb(u):g.Vs(u)}}Iha(c){const f=
this.kj;for(let k=0,g=f.length;k<g;++k)f[k].Ba(c)}*Dx(){if(this.kj.length){var c=this.oe,f=c.Za(this);this.cF?yield*this.uda(f):yield*this.tda(f);c.Sa()}}*uda(c){const f=this.wk,k=this.eF,g=this.wa(),l=this.kj;for(let m=0,q=l.length,r=q-1;m<q;++m){const p=l[m],u=p.Sd(),t=!k||!f&&m<r;t&&g.yf(u);yield*p.wb(c);t?g.Wb(u):g.Vs(u)}}*tda(c){const f=this.kj;for(let k=0,g=f.length;k<g;++k)yield*f[k].wb(c)}zh(c,f){this.j.vm();f.mT();const k=this.pc;if(!this.qe)for(let g=c.Um+1,l=k.length;g<l;++g)if(c=k[g],
f.qo(g),!c.Ba())return!1;this.Wj(f,0)&&this.Mm();return!0}*kh(c,f){this.j.vm();f.mT();const k=this.pc;if(!this.qe)for(let g=c.Um+1,l=k.length;g<l;++g)if(c=k[g],f.qo(g),c.pf()?!c.Ba():!(yield*c.wb()))return!1;(this.dB()?this.Wj(f,0):yield*this.Qq(f,0))&&(this.eB()?this.Mm():yield*this.Dx());return!0}pf(){return!this.sq()&&!this.j.Ec()&&this.ab.F_}dB(){return!this.j.Ec()&&this.ab.gP}eB(){return!this.j.Ec()&&this.ab.hP}gK(c){if(this.Ka()){const f=this.zs;for(let k=0,g=f.length;k<g;++k)if(!f[k].oT(c))return!1}return!0}*WU(c){if(this.Ka()){const f=
this.zs;for(let k=0,g=f.length;k<g;++k)if(!(yield*f[k].KQ(c)))return!1}return!0}lV(c,f,k){0<f.length?k?(f=f.map(g=>g.la(0)),c.Ld.Za(),this.He.Yw(f)):this.He.L3(f):k&&c.Ld.Za()}P9(c,f){let k,g;const l=0<c.length;var m=this.j;const q=this.oe,r=m.wa(),p=1<r.Kx();this.lV(r,f,p);l&&r.xh(c);f=q.Za(this);this.gK(f)&&(m.vm(),f.Bh(this),(m=this.He.uh())&&([g,k]=this.He.SJ()),this.lD(f),m&&this.He.Mw(g));q.Sa();p&&r.Ld.Sa();l&&r.Wb(c);r.Fx();return k}*r2(c,f){let k,g;if(this.sq()||this.j.Ec())yield this;const l=
0<c.length;var m=this.j;const q=this.oe,r=m.wa(),p=1<r.Kx();this.lV(r,f,p);l&&r.xh(c);f=q.Za(this);if(yield*this.WU(f))m.vm(),f.Bh(this),(m=this.He.uh())&&([g,k]=this.He.SJ()),yield*this.oK(f),m&&this.He.Mw(g);q.Sa();p&&r.Ld.Sa();l&&r.Wb(c);r.Fx();return k}Q9(c){const f=this.Td(),k=0<f.length,g=this.j,l=this.oe,m=g.wa(),q=1<m.Kx();q&&m.Ld.Za();this.He.Yw(c);k&&m.xh(f);c=l.Za(this);this.gK(c)&&(g.vm(),c.Bh(this),this.lD(c));l.Sa();q&&m.Ld.Sa();k&&m.Wb(f);m.Fx()}*s2(c){if(this.sq()||this.j.Ec())yield this;
const f=this.Td(),k=0<f.length,g=this.j,l=this.oe,m=g.wa(),q=1<m.Kx();q&&m.Ld.Za();this.He.Yw(c);k&&m.xh(f);c=l.Za(this);if(yield*this.WU(c))g.vm(),c.Bh(this),yield*this.oK(c);l.Sa();q&&m.Ld.Sa();k&&m.Wb(f);m.Fx()}nT(c,f,k,...g){let l,m;const q=0<c.length,r=this.j,p=this.oe,u=r.wa(),t=1<u.Kx();t&&u.Ld.Za();0<g.length&&this.He.Yw(g);q&&u.xh(c);g=p.Za(this);g.i6(f,k);p.l9(g);r.wC(!1);this.gK(g)&&(r.vm(),g.Bh(this),(f=this.He.uh())&&([m,l]=this.He.SJ()),this.lD(g),f&&this.He.Mw(m));r.wC(!0);p.Sa();p.d9();
t&&u.Ld.Sa();q&&u.Wb(c);u.Fx();return l||g.AM}}}
{"use strict";const d=self.C,a=[];let b=!1;d.hB=class extends d.qa{constructor(e,c,f){super();const k=e.K(),g=e.wa();this.ud=e;this.Fa=g;this.j=e.K();this.Tc=c;this.Wa=k.ri(f[1]);this.su=f[2];this.ud.AW(this,this.su);this.ab=k.Jb?{xd:f[3][0],vP:f[3][1]}:null}static fb(e,c,f){return d.D(d.hB,e,c,f)}Xb(){const e=this.Wa,c=this.j.wa().IV(this);this.Wa=e.bind(null,this.j.uk,c)}Ka(){return this.Tc}it(){return this.Tc}HI(){return this.ab&&this.ab.vP}sq(){return this.HI()&&this.ab.xd}ZB(){return!1}Sd(){return a}Td(){return this.Tc?
this.Tc.Td():a}Ba(e){e.Bh(this);this.Fa.gH(this.Kha())}async Kha(){try{await this.Wa()}catch(e){console.error(`Unhandled exception running script %c${this.ud.Ha()}, event ${this.su}:`,"font-size: 1.2em; font-weight: bold;",e),self.ih&&self.ih.Cia(this),b||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),b=!0)}}*wb(e){e.Bh(this);if(this.sq()||this.j.Ec())yield this;
this.Ba(e)}pf(){return!this.sq()&&!this.j.Ec()}static v5(){return b}static A$(){b=!0}}}
{"use strict";const d=self.C;d.ew=class extends d.qa{constructor(a,b,e){super();this.ud=a;this.j=a.K();this.Tc=b;const c=e[1];this.zE=c[0];this.rp=c[1];this.Ph=c[2].map(f=>d.iB.fb(a,this,f));this.ga=c[3];this.PM=[];this.Zy=c[4];this.Cka=0;this.uy=-1;this.jy=new Map;this.De=d.Vn.fb(a,b,e);this.De.Iia(this)}static fb(a,b,e){return d.D(d.ew,a,b,e)}Xb(){for(const a of this.Ph)a.Xb();this.De.Xb(!1)}qV(){return this.Ph}gha(a){this.PM.push(a)}L3(a){const b=this.Ph;for(let e=0,c=b.length;e<c;++e)b[e].Ch(a[e].la(0))}Yw(a){const b=
this.Ph;for(let e=0,c=b.length;e<c;++e)b[e].Ch(a[e])}F1(){return this.Ph.map(a=>a.ke())}Ka(){return this.Tc}it(){return this.Tc}wf(){return this.ga}RH(){switch(this.rp){case 0:return null;case 2:return"";default:return 0}}Yf(){return this.De}uh(){return this.Zy}SJ(){const a=this.Cka++;this.uy=a;let b;const e=new Promise(c=>b=c);this.jy.set(a,{resolve:b,IP:0});return[a,e]}Mw(a){const b=this.jy.get(a);0===b.IP&&(b.resolve(),this.jy.delete(a));this.uy=-1}Y8(){this.jy.get(this.uy).IP++;return this.uy}O9(a){this.uy=
a;this.jy.get(a).IP--}}}
{"use strict";const d=self.C,a=[];d.iB=class extends d.qa{constructor(b,e,c){super();const f=b.wa();this.ud=b;this.Fa=f;this.j=b.K();this.Tc=e;this.Ld=f.Ld;this.Na=c[1];this.Da=c[2];this.Jr=c[3];this.Xi=!!c[4];this.Gb=!!c[5];this.mka=e instanceof d.ew;this.jb=c[6];this.kz=this.j.Fj(c[8]);this.Rka=k=>this.Ch(k);this.Pka=()=>this.ke();this.yY=!this.Tc||this.Xi||this.Gb;this.Od=this.Jr;this.FN=-1;this.cS()&&(this.Od=this.Od?1:0);!this.RI()||this.Xi||this.Gb||(this.FN=f.zea(this));f.dha(this)}static fb(b,
e,c){return d.D(d.iB,b,e,c)}Xb(){if(this.RI()&&!this.Xi&&!this.Gb&&!this.mka){const b=this.Fa.IH(this);b&&b.gha(this)}}Ha(){return this.Na}Fj(){return this.kz}Ka(){return this.Tc}it(){return this.Ka()}wh(){return!this.Ka()}RI(){return!this.wh()}ko(){return 0===this.Da}Lj(){return 1===this.Da}cS(){return 2===this.Da}ZB(){return!1}Sd(){return a}Ba(){!this.RI()||this.Xi||this.Gb||this.Ch(this.Jr)}pf(){return!0}*wb(b){this.Ba(b)}Ch(b){this.ko()?"number"!==typeof b&&(b=parseFloat(b)):this.Lj()?"string"!==
typeof b&&(b=b.toString()):this.cS()&&(b=b?1:0);this.yY?this.Od=b:this.Ld.Zs()[this.FN]=b}ke(){return this.yY?this.Od:this.Ld.Zs()[this.FN]}L9(){this.Od=this.Jr}LV(){return{configurable:!1,enumerable:!0,get:this.Pka,set:this.Rka}}}}
{"use strict";const d=self.C,a=[];d.RQ=class extends d.qa{constructor(b,e,c){super();const f=b.wa();this.ud=b;this.Fa=f;this.j=b.K();this.Tc=e;this.Ry=null;this.fka=c[1];this.Fb=!0}static fb(b,e,c){return d.D(d.RQ,b,e,c)}Xb(){this.Ry=this.Fa.lR(this.fka);this.ud.Rba(this);let b=this.Ka();for(;b;)b instanceof d.Vn&&b.wk&&b.Jba(this),b=b.Ka();this.tU();this.j.Jb&&this.ud.Fk.children.push(this.Ry.Fk)}Ka(){return this.Tc}Sd(){return a}Ba(){const b=!!this.Ka(),e=this.j.qd;b&&this.Fa.xh(e);this.Ry.Ba();
b&&this.Fa.Wb(e)}*wb(){const b=!!this.Ka(),e=this.j.qd;b&&this.Fa.xh(e);yield*this.Ry.wb();b&&this.Fa.Wb(e)}pf(){return!1}tU(){let b=this.Ka();for(;b;){if(b instanceof d.Vn&&b.wk&&!b.kt()){this.Fb=!1;return}b=b.Ka()}this.Fb=!0}}}
{"use strict";const d=self.C;d.bq=class extends d.qa{constructor(g){super();this.zc=g;this.j=g.K()}Xb(){}static h2(g,l){return d.D([f,e,c,k,a,b][l[0]],g,l)}};class a extends d.bq{constructor(g,l){super(g);this.Ke=this.j.xw();this.Wa=this.j.ri(l[1]);this.Wa!==d.F.qb.Pd.random&&this.Wa!==d.F.qb.Pd.pla||this.zc.NJ()}}class b extends d.bq{constructor(g,l){super(g);this.Dy=null;this.zE=l[1];this.zc.NJ()}Xb(){const g=this.j.wa();this.Dy=g.BB(this.zE);this.zE=null;const l=this.Dy.Yf();this.Oo=[...new Set([...this.zc.Yf().Td(),
...l.Td()])];this.Oo=g.TC(this.Oo)}}class e extends d.bq{constructor(g,l){super(g);this.V=this.j.Zf(l[1]);this.Wa=this.j.ri(l[2]);this.mO=!!l[3];this.oe=this.j.wa().Bd();this.zc.QK(this.V)}}class c extends d.bq{constructor(g,l){super(g);this.V=this.j.Zf(l[1]);this.mO=!!l[2];this.zc.QK(this.V)}}class f extends d.bq{constructor(g,l){super(g);this.V=this.j.Zf(l[1]);this.rd=this.V.oB(l[2]);this.Mi=this.V.hw(l[2]);this.Wa=this.j.ri(l[3]);this.mO=!!l[4];this.oe=this.j.wa().Bd();this.zc.QK(this.V)}R3(){const g=
this.V;var l=g.ia().w4(),m=l.length;if(0===m)return this.mO?"":0;var q=this.zc.WF;q>=m?m=q%m:(0>q&&(q<=-m&&(q%=m),0>q&&(q+=m)),m=q);this.oe.Xf().t$(g);l=l[m];m=0;g.ib&&(m=l.J().Zn(g.Ui));return this.Wa.apply(l.Sc[this.Mi+m].ra,[])}}class k extends d.bq{constructor(g,l){super(g);this.Ro=null;this.qM=l[1]}Xb(){this.Ro=this.j.wa().WH(this.qM)}}}
{"use strict";const d=self.C;d.xf=class extends d.qa{constructor(z,D,G){super();this.zc=z;this.cb=G;this.Da=D;this.la=null;this.Gb=this.Pf=!1}static fb(z,D,G){const N=D[0];return d.D([b,e,q,f,g,c,l,b,f,f,r,p,q,t,e,m,k,u,w,x][N],z,N,G,D)}Xb(){}NJ(){this.Pf=!0}QK(z){this.Pf||!z||z.Lb().Yo||(this.Pf=!0)}Oa(){return this.cb}K(){return this.zc.K()}Yf(){return this.zc.Yf()}};function a(z){z=self.x1[z];if(!z)throw Error("invalid expression number");return z}class b extends d.xf{constructor(z,D,G,N){super(z,
D,G);this.WF=0;z=N[1];this.sM=z[0];this.Uu=[];this.pE=null;for(let B=1,H=z.length;B<H;++B)this.Uu.push(d.bq.h2(this,z[B]));this.Uu.length?this.la=this.v4:(this.la=a(this.sM),this.Gb=!0)}Hx(){if(0>=this.Uu.length)throw new RangeError("invalid numbered node");return this.Uu[0]}Xb(){for(var z of this.Uu)z.Xb();z=a(this.sM);this.pE=this.Uu.length?z(this):z}v4(z){this.WF=z;return this.pE()}}class e extends b{constructor(z,D,G,N){super(z,D,G,N);this.la=this.m5;14===D&&(this.Yf().b$(),this.zc instanceof
d.OA&&this.Yf().nx())}m5(z){this.WF=z;z=this.pE();return"string"===typeof z?z:""}tea(){return a(this.sM)()}}class c extends b{constructor(z,D,G,N){super(z,D,G,N);this.la=this.ba;this.Gb=!1}ba(z){this.WF=z;z=this.pE();return this.K().Ra().ba(z)}}class f extends d.xf{constructor(z,D,G,N){super(z,D,G);this.Rja=N[1];this.la=this.l4;this.Gb=!0}l4(){return this.Rja}}class k extends d.xf{constructor(z,D,G,N){super(z,D,G);this.Hja=N[1];this.la=this.h4;this.Gb=!0}h4(){return this.Hja}}class g extends d.xf{constructor(z,
D,G,N){super(z,D,G);this.V=this.K().Zf(N[1]);this.la=this.J;z=this.Yf();z.KU(this.V);this.zc instanceof d.OA?z.nx():z.Ka()&&z.Ka().nx();this.Gb=!0}J(){return this.V}}class l extends d.xf{constructor(z,D,G,N){super(z,D,G);this.Dk=this.K().nb.ct(N[1]);this.la=this.tc;this.Gb=!0}tc(){return this.Dk}}class m extends d.xf{constructor(z,D,G,N){super(z,D,G);this.yp=this.K().Ob.KB(N[1]);this.la=this.Fc;this.Gb=!0}Fc(){return this.yp}}class q extends d.xf{constructor(z,D,G,N){super(z,D,G);this.aka=N[1];this.la=
this.z4;this.Gb=!0}z4(){return this.aka}}class r extends d.xf{constructor(z,D,G,N){super(z,D,G);this.HY=N[1];(z=this.zc.J())&&z.ib?(this.la=this.x4,this.NJ()):(this.la=this.O4,this.Gb=!0)}O4(){return this.HY}x4(z){z=z||0;const D=this.zc.J();var G=D.ia();const N=G.ta();if(N.length)z=N[z%N.length].J();else if(G.y5())G=G.yc,z=G[z%G.length].J();else if(0<D.H.length)G=D.ta(),z=G[z%G.length].J();else return 0;return this.HY+z.mR(D.Ui)}}class p extends d.xf{constructor(z,D,G,N){super(z,D,G);this.qM=N[1];
this.Ro=null;this.la=this.u4;this.Gb=!0}Xb(){this.Ro=this.K().wa().WH(this.qM)}u4(){return this.Ro}}class u extends d.xf{constructor(z,D,G,N){super(z,D,G);this.jY=N[1];this.Dy=null;this.la=this.I4;this.Gb=!0}Xb(){this.Dy=this.K().wa().BB(this.jY);this.jY=null}I4(){return this.Dy}}class t extends d.xf{constructor(z,D,G,N){super(z,D,G);this.FO=[];this.u_=[];this.Gb=!0;for(let B=1,H=N.length;B<H;++B)z=d.xf.fb(this.zc,N[B],0),this.FO.push(z),this.u_.push(0),z.Gb||(this.Gb=!1);this.la=this.s5}Xb(){for(const z of this.FO)z.Xb()}s5(){const z=
this.FO,D=this.u_;for(let G=0,N=z.length;G<N;++G)D[G]=z[G].la(0);return D}}class w extends d.xf{constructor(z,D,G,N){super(z,D,G);this.Xja=N[1];this.la=this.Yn;this.Gb=!0}Yn(){return this.Xja}}class x extends d.xf{constructor(z,D,G,N){super(z,D,G);this.Nja=N[1];this.la=this.o5;this.Gb=!0}o5(){return this.Nja}}}
{"use strict";const d=self.C;function a(c,f){for(let k=0,g=c.length;k<g;++k)f[k]=c[k].la(0)}const b=[],e=function(){};d.BQ=class extends d.qa{constructor(c,f,k){super();this.De=c;this.j=c.K();this.cb=k;this.Wa=this.j.ri(f[1]);this.jN=0<f[3];this.JY=2===f[3];this.WE=!!f[4];this.Wi=!!f[5];this.Xi=!!f[6];this.jb=f[7];this.KY=this.De.qe;this.rd=this.V=null;this.Mi=-1;this.Ke=null;this.wb=this.Ba=e;this.Qa=[];this.Hb=[];this.Pm=!1;this.nj=this.Nb=null;this.ab=this.j.Jb?{xd:f[8][0],ug:f[8][1]}:null;-1===
f[0]?this.Ke=this.j.xw():(this.V=this.j.Zf(f[0]),f[2]&&(this.rd=this.V.oB(f[2]),this.Mi=this.V.hw(f[2])),this.De.Ka()&&this.De.Ka().nx());if(10===f.length){c=f[9];for(let g of c)this.Qa.push(d.xf.fb(this,g,this.Qa.length)),this.Hb.push(0)}0===this.Qa.length&&(this.Hb=this.Qa=b);this.De.wa().bha(this)}static fb(c,f,k){return d.D(d.BQ,c,f,k)}Xb(){for(const c of this.Qa)c.Xb(),c.Pf&&(this.Pm=!0);this.JY?(this.Ba=this.Aha,this.wb=this.lda):this.Ke?(this.hL(),this.wb=this.qK):this.V.Lb().Yo?(this.gL(),
this.wb=this.pK):this.Xi?(this.Ba=this.Hha,this.wb=this.sda):(this.Ba=this.OW,this.wb=this.mda)}hL(){this.Zx(this.Ke,this.Ke,this.$K)}gL(){const c=this.V.Lb(),f=this.V.tm().ra;this.Zx(c,f,this.ZK)}Zx(c,f,k){const g=this.Wa,l=this.Wi,m=this.Qa;if(0===m.length){const q=c.zo(g,f);this.Ba=l?function(){return d.xor(q(),l)}:q}else if(1===m.length){const q=m[0];if(!l&&q.Gb)this.Ba=c.vV(g,f,q.la(0));else{const r=c.zo(g,f);this.Ba=function(){return d.xor(r(q.la(0)),l)}}}else if(2===m.length){const q=m[0],
r=m[1];if(!l&&q.Gb&&r.Gb)this.Ba=c.wV(g,f,q.la(0),r.la(0));else{const p=c.zo(g,f);this.Ba=function(){return d.xor(p(q.la(0),r.la(0)),l)}}}else if(3===m.length){const q=m[0],r=m[1],p=m[2];if(!l&&q.Gb&&r.Gb&&p.Gb)this.Ba=c.xV(g,f,q.la(0),r.la(0),p.la(0));else{const u=c.zo(g,f);this.Ba=function(){return d.xor(u(q.la(0),r.la(0),p.la(0)),l)}}}else this.Ba=k}J(){return this.V}oi(){return this.rd}Yf(){return this.De}K(){return this.j}Oa(){return this.cb}iR(){return this.Oa()}wq(){return this.jN}pf(){return!this.ab.xd&&
!this.j.Ec()&&!this.ab.ug}uf(){this.Nb||(this.Nb=new Map);return this.Nb}zw(){this.nj||(this.nj=new Map);return this.nj}$K(){const c=this.Hb;a(this.Qa,c);return d.xor(this.Wa.apply(this.Ke,c),this.Wi)}*qK(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){var c=this.Hb;a(this.Qa,c);c=this.Wa.apply(this.Ke,c);d.jo(c)&&(c=yield*c);return d.xor(c,this.Wi)}return this.Ba()}ZK(){const c=this.Hb;a(this.Qa,c);const f=this.V.tm().ra;return d.xor(this.Wa.apply(f,c),this.Wi)}*pK(){if(this.ab.xd||this.j.Ec())yield this;
if(this.ab.ug){var c=this.Hb;a(this.Qa,c);const f=this.V.tm().ra;c=this.Wa.apply(f,c);d.jo(c)&&(c=yield*c);return d.xor(c,this.Wi)}return this.Ba()}Aha(){return!0}*lda(){if(this.ab.xd||this.j.Ec())yield this;return!0}Hha(){var c=this.Hb;a(this.Qa,c);c=this.Wa.apply(this.rd||this.V,c);this.V.rc();return c}*sda(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){var c=this.Hb;a(this.Qa,c);c=this.Wa.apply(this.rd||this.V,c);d.jo(c)&&(c=yield*c);this.V.rc();return c}return this.Ba()}OW(){const c=this.Qa,
f=this.Hb,k=this.V.ia();for(let g=0,l=c.length;g<l;++g){const m=c[g];m.Pf||(f[g]=m.la(0))}return k.kc?this.Bha(k):this.Cha(k)}*mda(){if(this.ab.xd||this.j.Ec())yield this;return this.OW()}BK(c){const f=this.Qa,k=this.Hb;for(let g=0,l=f.length;g<l;++g){const m=f[g];m.Pf&&(k[g]=m.la(c))}}Bha(c){const f=this.V,k=f.ib,g=f.Ui,l=this.Mi,m=0<=l,q=f.ta(),r=this.Pm,p=this.Hb,u=this.Wa,t=this.Wi,w=this.KY&&!this.jN;c.VA();for(let z=0,D=q.length;z<D;++z){const G=q[z];r&&this.BK(z);var x=void 0;m?(x=k?G.J().Zn(g):
0,x=u.apply(G.Sc[l+x].ra,p)):x=u.apply(G.ra,p);d.xor(x,t)?c.Uq(G):w&&c.Do(G)}f.bw(!0);c.Ve(!1);f.rc();return c.wI()}Cha(c){const f=this.V;var k=f.ib;const g=f.Ui,l=f.nc(),m=this.Mi,q=0<=m,r=this.Pm,p=this.Hb,u=this.Wa,t=this.Wi,w=this.KY&&!this.jN,x=c.H,z=c.yc,D=w&&!this.De.V6(this),G=D?z:x;let N=0,B=!1;for(let I=0,K=G.length;I<K;++I){const Q=G[I];r&&this.BK(I);var H=void 0;q?(H=k?Q.J().Zn(g):0,H=u.apply(Q.Sc[m+H].ra,p)):H=u.apply(Q.ra,p);d.xor(H,t)?(B=!0,D?(x.push(Q),l&&Q.Yga()):(G[N]=Q,l&&Q.Kia(N),
++N)):D?(G[N]=Q,l&&Q.Jia(N),++N):w&&(z.push(Q),l&&Q.Xga())}d.Ad(G,N);l&&f.ija(D,N);k=B;D&&!B&&(B=this.Pga(x));f.bw(k||w);return w?B:c.wI()}Pga(c){var f=this.V;const k=f.ib;f=f.Ui;const g=this.Pm,l=this.Mi,m=0<=l,q=this.Hb,r=this.Wa,p=this.Wi;for(let t=0,w=c.length;t<w;++t){var u=c[t];g&&this.BK(t);if(m){const x=k?u.J().Zn(f):0;u=r.apply(u.Sc[l+x].ra,q)}else u=r.apply(u.ra,q);if(d.xor(u,p))return!0}return!1}Sw(c,f){return this.Qa[c].la(f)}y4(){const c=this.Qa;if(!c.length)throw Error("no parameters");
return c[0].tea()}ya(){if(!this.Nb||!this.Nb.size)return null;const c={};for(const [f,k]of this.Nb.entries()){let g=k;"collmemory"===f&&(g=[...k.entries()].map(l=>[l[0].tb,l[1].tb,l[2]]));c[f]=g}return{ex:c}}Ca(c){this.Nb&&(this.Nb.clear(),this.Nb=null);if(c){var f=this.j,k=c.ex;if(k){c=this.uf();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.D(d.Ow,l.map(m=>[f.Qe(m[0]),f.Qe(m[1]),m[2]]).filter(m=>m[0]&&m[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.C;function a(f,k){for(let g=0,l=f.length;g<l;++g)k[g]=f[g].la(0)}const b=[],e=function(){},c=function*(){};d.OA=class extends d.qa{constructor(f,k,g){super();this.De=f;this.j=f=f.K();this.cb=g;this.jb=4<=k.length?k[3]:-1;this.vD=5<=k.length?k[4]:0;this.rd=this.V=this.Wa=null;this.Mi=-1;this.Ke=null;this.QD="";this.Oo=this.PD=null;this.wb=this.Ba=e;this.Qa=[];this.Hb=[];this.Pm=!1;this.nj=this.Nb=null;const l=(g=-3===k[0])?k[2]:k[5];this.ab=f.Jb||g?{xd:l[0],ug:l[1],index:l[2]}:
null;-1===k[0]?(this.Ke=f.xw(),this.Wa=f.ri(k[1])):-2===k[0]?this.QD=k[1]:g?(this.Wa=f.ri(k[1]),this.Ba=this.oJ,this.wb=this.w2,this.vD=1):(this.Wa=f.ri(k[1]),this.V=f.Zf(k[0]),k[2]&&(this.rd=this.V.oB(k[2]),this.Mi=this.V.hw(k[2])));if(7===k.length){k=k[6];for(const m of k)this.Qa.push(d.xf.fb(this,m,this.Qa.length)),this.Hb.push(0)}0===this.Qa.length&&(this.Hb=this.Qa=b);this.De.wa().aha(this)}static fb(f,k,g){return d.D(d.OA,f,k,g)}Xb(){for(var f of this.Qa)f.Xb(),f.Pf&&(this.Pm=!0);if(this.Ke)this.hL(),
this.wb=this.qK;else if(this.QD)this.hia(),this.QD="";else if(this.Ba===this.oJ){f=this.Wa;const k=this.j.wa().IV(this.De);this.Wa=f.bind(null,this.j.uk,k)}else this.rd?this.uh()?(this.Ba=this.MW,this.wb=this.ida):(this.Ba=this.LW,this.wb=this.hda):this.V.Lb().Yo?(this.gL(),this.wb=this.pK):this.uh()?(this.Ba=this.QW,this.wb=this.oda):this.Qa.length?this.Qa.every(k=>k.Pf)?(this.Ba=this.PW,this.wb=this.nda):this.Pm?(this.Ba=this.SW,this.wb=this.qda):this.Qa.every(k=>k.Gb)?(a(this.Qa,this.Hb),this.Ba=
this.YK,this.wb=this.XU):(this.Ba=this.RW,this.wb=this.pda):(this.Ba=this.YK,this.wb=this.XU)}hL(){this.Zx(this.Ke,this.Ke,this.$K)}gL(){const f=this.V.Lb(),k=this.V.tm().ra;this.Zx(f,k,this.ZK)}hia(){const f=this.De.wa(),k=f.BB(this.QD);k.wf()?(this.PD=k.Yf(),this.Oo=[...new Set([...this.De.Td(),...this.PD.Td()])],this.Oo=f.TC(this.Oo),this.Ba=d.Vn.prototype.P9.bind(this.PD,this.Oo,this.Qa),this.wb=this.jda):(this.Ba=e,this.wb=c)}Zx(f,k,g){const l=this.Wa,m=this.Qa;if(0===m.length)this.Ba=f.zo(l,
k);else if(1===m.length){const q=m[0];if(q.Gb)this.Ba=f.vV(l,k,q.la(0));else{const r=f.zo(l,k);this.Ba=function(){return r(q.la(0))}}}else if(2===m.length){const q=m[0],r=m[1];if(q.Gb&&r.Gb)this.Ba=f.wV(l,k,q.la(0),r.la(0));else{const p=f.zo(l,k);this.Ba=function(){return p(q.la(0),r.la(0))}}}else if(3===m.length){const q=m[0],r=m[1],p=m[2];if(q.Gb&&r.Gb&&p.Gb)this.Ba=f.xV(l,k,q.la(0),r.la(0),p.la(0));else{const u=f.zo(l,k);this.Ba=function(){return u(q.la(0),r.la(0),p.la(0))}}}else this.Ba=g}uh(){return 1===
this.vD}sQ(){return 2===this.vD}G5(){return 0!==this.vD}J(){return this.V}Yf(){return this.De}K(){return this.j}Oa(){return this.cb}iR(){return this.ab.index}pf(){return!this.ab.xd&&!this.j.Ec()&&!this.ab.ug}uf(){this.Nb||(this.Nb=new Map);return this.Nb}zw(){this.nj||(this.nj=new Map);return this.nj}$K(){const f=this.Hb;a(this.Qa,f);return this.Wa.apply(this.Ke,f)}*qK(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const f=this.Hb;a(this.Qa,f);return yield*this.Wa.apply(this.Ke,f)}return this.Ba()}*jda(){if(this.ab.xd||
this.j.Ec())yield this;return yield*this.PD.r2(this.Oo,this.Qa)}ZK(){const f=this.Hb;a(this.Qa,f);return this.Wa.apply(this.V.tm().ra,f)}*pK(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const f=this.Hb;a(this.Qa,f);return yield*this.Wa.apply(this.V.tm().ra,f)}return this.Ba()}YK(){const f=this.Hb,k=this.V.ia().ta();for(let g=0,l=k.length;g<l;++g)this.Wa.apply(k[g].ra,f)}*XU(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const f=this.Hb,k=this.V.ia().ta();for(let g=0,l=k.length;g<
l;++g)yield*this.Wa.apply(k[g].ra,f)}else this.YK()}RW(){const f=this.Hb;a(this.Qa,f);const k=this.V.ia().ta();for(let g=0,l=k.length;g<l;++g)this.Wa.apply(k[g].ra,f)}*pda(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const f=this.Hb;a(this.Qa,f);const k=this.V.ia().ta();for(let g=0,l=k.length;g<l;++g)yield*this.Wa.apply(k[g].ra,f)}else this.RW()}PW(){const f=this.Qa,k=this.Hb,g=this.Wa,l=this.V.ia().ta();for(let m=0,q=l.length;m<q;++m){const r=l[m];for(let p=0,u=f.length;p<u;++p)k[p]=f[p].la(m);
g.apply(r.ra,k)}}*nda(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const f=this.Qa,k=this.Hb,g=this.Wa,l=this.V.ia().ta();for(let m=0,q=l.length;m<q;++m){const r=l[m];for(let p=0,u=f.length;p<u;++p)k[p]=f[p].la(m);yield*g.apply(r.ra,k)}}else this.PW()}SW(){const f=this.Qa,k=this.Hb,g=this.Wa,l=this.V.ia().ta();for(let q=0,r=f.length;q<r;++q){var m=f[q];m.Pf||(k[q]=m.la(0))}for(let q=0,r=l.length;q<r;++q){m=l[q];for(let p=0,u=f.length;p<u;++p){const t=f[p];t.Pf&&(k[p]=t.la(q))}g.apply(m.ra,
k)}}*qda(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const k=this.Qa,g=this.Hb,l=this.Wa,m=this.V.ia().ta();for(let q=0,r=k.length;q<r;++q){var f=k[q];f.Pf||(g[q]=f.la(0))}for(let q=0,r=m.length;q<r;++q){f=m[q];for(let p=0,u=k.length;p<u;++p){const t=k[p];t.Pf&&(g[p]=t.la(q))}yield*l.apply(f.ra,g)}}else this.SW()}LW(){var f=this.V;const k=f.ib,g=f.Ui,l=this.Qa,m=this.Pm,q=this.Hb,r=this.Wa,p=this.Mi;f=f.ia().ta();for(let w=0,x=l.length;w<x;++w){var u=l[w];u.Pf||(q[w]=u.la(0))}for(let w=
0,x=f.length;w<x;++w){u=f[w];if(m)for(let z=0,D=l.length;z<D;++z){var t=l[z];t.Pf&&(q[z]=t.la(w))}t=k?u.J().Zn(g):0;r.apply(u.Sc[p+t].ra,q)}}*hda(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){var f=this.V;const l=f.ib,m=f.Ui,q=this.Qa,r=this.Pm,p=this.Hb,u=this.Wa,t=this.Mi;f=f.ia().ta();for(let w=0,x=q.length;w<x;++w){var k=q[w];k.Pf||(p[w]=k.la(0))}for(let w=0,x=f.length;w<x;++w){k=f[w];if(r)for(let z=0,D=q.length;z<D;++z){var g=q[z];g.Pf&&(p[z]=g.la(w))}g=l?k.J().Zn(m):0;yield*u.apply(k.Sc[t+
g].ra,p)}}else this.LW()}QW(){const f=this.Qa,k=this.Hb,g=this.Wa,l=this.V.ia().ta(),m=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let u=0,t=f.length;u<t;++u)k[u]=f[u].la(q);m.push(g.apply(p.ra,k))}return Promise.all(m)}*oda(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){const f=this.Qa,k=this.Hb,g=this.Wa,l=this.V.ia().ta(),m=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let u=0,t=f.length;u<t;++u)k[u]=f[u].la(q);m.push(yield*g.apply(p.ra,k))}return Promise.all(m)}return this.QW()}MW(){var f=
this.V;const k=f.ib,g=f.Ui,l=this.Qa,m=this.Hb,q=this.Wa,r=this.Mi;f=f.ia().ta();const p=[];for(let u=0,t=f.length;u<t;++u){const w=f[u];for(let z=0,D=l.length;z<D;++z)m[z]=l[z].la(u);const x=k?w.J().Zn(g):0;p.push(q.apply(w.Sc[r+x].ra,m))}return Promise.all(p)}*ida(){if(this.ab.xd||this.j.Ec())yield this;if(this.ab.ug){var f=this.V;const k=f.ib,g=f.Ui,l=this.Qa,m=this.Hb,q=this.Wa,r=this.Mi;f=f.ia().ta();const p=[];for(let u=0,t=f.length;u<t;++u){const w=f[u];for(let z=0,D=l.length;z<D;++z)m[z]=
l[z].la(u);const x=k?w.J().Zn(g):0;p.push(yield*q.apply(w.Sc[r+x].ra,m))}return Promise.all(p)}return this.MW()}async oJ(){try{await this.Wa()}catch(f){console.error(`Unhandled exception running script %c${this.De.ud.Ha()}, event ${this.De.su}, action ${this.iR()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.ih&&self.ih.Cia(this),d.hB.v5()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.hB.A$())}}*w2(){if(this.ab.xd||this.j.Ec())yield this;return this.oJ()}ya(){return this.Nb&&this.Nb.size?{ex:d.YJ(this.Nb)}:null}Ca(f){this.Nb&&(this.Nb.clear(),this.Nb=null);f&&(f=f.ex)&&(this.Nb=d.JH(f))}}}
{"use strict";const d=self.C,a=new d.Ua;function b(L,O){return d.compare(this.B().L(),L,O)}function e(L,O){return d.compare(this.B().M(),L,O)}function c(){const L=this.B(),O=L.ba();return O.bo()?L.lt(O.Jx()):L.jS(O.rg,L.tc().VR(),L.tc().lg)}function f(){var L=this.B();const O=L.tc();L=L.Tb();return 0>L.Z||0>L.X||L.T>O.R()||L.O>O.P()}function k(L,O,V){const ba=this.ia(),ia=ba.ta();if(!ia.length)return!1;let ja=ia[0];var la=ja.B();let va=ja,na=d.N_(la.L(),la.M(),O,V);for(let wa=1,xa=ia.length;wa<xa;++wa)if(ja=
ia[wa],la=ja.B(),la=d.N_(la.L(),la.M(),O,V),0===L&&la<na||1===L&&la>na)na=la,va=ja;ba.mo(va);return!0}function g(L){const O=this.B();O.L()!==L&&(O.Fi(L),O.Pa())}function l(L){const O=this.B();O.M()!==L&&(O.Gi(L),O.Pa())}function m(L,O){const V=this.B();V.HH(L,O)||(V.Dh(L,O),V.Pa())}function q(L,O){if(L&&(L=L.h5(this.N))){var [V,ba]=L.Wk(O);O=this.B();if(O.L()!==V||O.M()!==ba)O.Dh(V,ba),O.Pa()}}function r(L){if(0!==L){var O=this.B();O.ut(O.QH()*L,O.pI()*L);O.Pa()}}function p(L,O){if(0!==O){var V=this.B();
L=d.Ga(L);V.ut(Math.cos(L)*O,Math.sin(L)*O);V.Pa()}}function u(){return this.B().L()}function t(){return this.B().M()}function w(){return this.j.fq(this.N)}function x(L,O){return d.compare(this.B().R(),L,O)}function z(L,O){return d.compare(this.B().P(),L,O)}function D(L){const O=this.B();O.R()!==L&&(O.Af(L),O.Pa())}function G(L){const O=this.B();O.P()!==L&&(O.eg(L),O.Pa())}function N(L,O){const V=this.B();if(V.R()!==L||V.P()!==O)V.cc(L,O),V.Pa()}function B(){return this.B().R()}function H(){return this.B().P()}
function I(){return this.B().Tb().T}function K(){return this.B().Tb().O}function Q(){return this.B().Tb().Z}function R(){return this.B().Tb().X}function U(L,O){return d.Ln(this.B().ea(),d.Ga(O))<=d.Ga(L)}function Z(L){return d.kf(this.B().ea(),d.Ga(L))}function ca(L,O){L=d.Ga(L);O=d.Ga(O);const V=this.B().ea();return d.kf(O,L)?d.kf(V,L)&&!d.kf(V,O):!(!d.kf(V,L)&&d.kf(V,O))}function Y(L){const O=this.B();L=d.ue(d.Ga(L));isNaN(L)||O.ea()===L||(O.Jc(L),O.Pa())}function ha(L){if(!isNaN(L)&&0!==L){var O=
this.B();O.Jc(O.ea()+d.Ga(L));O.Pa()}}function ka(L){if(!isNaN(L)&&0!==L){var O=this.B();O.Jc(O.ea()-d.Ga(L));O.Pa()}}function za(L,O){const V=this.B(),ba=V.ea();L=d.eP(ba,d.Ga(O),d.Ga(L));isNaN(L)||ba===L||(V.Jc(L),V.Pa())}function Oa(L,O,V){const ba=this.B(),ia=ba.ea();O-=ba.L();V-=ba.M();L=d.eP(ia,Math.atan2(V,O),d.Ga(L));isNaN(L)||ia===L||(ba.Jc(L),ba.Pa())}function ab(L,O){const V=this.B(),ba=V.ea();L-=V.L();O-=V.M();O=Math.atan2(O,L);isNaN(O)||ba===O||(V.Jc(O),V.Pa())}function Ua(){return d.he(this.B().ea())}
function bb(L,O){return d.compare(d.s0(100*this.B().Rd()),L,O)}function mb(){return this.B().Oc()}function Va(L){const O=this.B();L=2===L?!O.Oc():0!==L;O.Oc()!==L&&(O.Lg(L),this.j.U())}function Pa(L){L=d.aa(L/100,0,1);const O=this.B();O.Rd()!==L&&(O.Bi(L),this.j.U())}function fb(L){a.Js(L);L=this.B();L.xa.cm(a)||(L.LJ(a),this.j.U())}function cb(){const L=this.B().xa;return d.kC(L.Ya,L.Xa,L.Va,L.$a)}function ub(){return d.s0(100*this.B().Rd())}function vb(L){return L?this.B().ba()===L:!1}function wb(L){const O=
this.ia(),V=O.ta();if(!V.length)return!1;let ba=V[0];for(let ia=1,ja=V.length;ia<ja;++ia){const la=V[ia],va=la.B(),na=ba.B(),wa=va.ba().Oa(),xa=na.ba().Oa();if(0===L){if(wa>xa||wa===xa&&va.hl()>na.hl())ba=la}else if(wa<xa||wa===xa&&va.hl()<na.hl())ba=la}O.mo(ba);return!0}function gb(L,O,V){const ba=this.B();L=0===L?ba.gb():ba.Ud();return d.compare(L,O,V)}function xb(){this.B().Fba()}function yb(){this.B().Dba()}function zb(L){L&&this.B().Eba(L)}function Ab(L,O){L=0===L;O&&(O=O.Dj(this.Ja()))&&this.B().DU(O,
L)}function Bb(L){const O=this.B();O.gb()!==L&&(O.Bf(L),this.j.U())}function Cb(){return this.B().ba().Oa()}function Db(){return this.B().ba().Ha()}function hb(){return this.B().hl()}function Eb(){return this.B().gb()}function Fb(){return this.B().Ud()}function Gb(L,O){if(O=this.J().bb.nm(O)){O=O.Oa();L=1===L;var V=this.B().Ze;V.Hw(O)!==L&&(V.FT(O,L),V.yo(),this.j.U())}}function Hb(L,O,V){var ba=this.J().bb.nm(L);if(ba){L=ba.Oa();var ia=this.B().Ze,ja=ia.ph(L);O=Math.floor(O);if(!(0>O||O>=ja.length)){ba=
ba.rb.EB(O);if("color"===ba){a.Js(V);O=ja[O];if(a.cm(O))return;O.qj(a)}else{"percent"===ba&&(V/=100);if(ja[O]===V)return;ja[O]=V}ia.Hw(L)&&this.j.U()}}}const ib=d.D(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(L,O,V,ba){O.tb<V.tb?L.Set(O,V,ba):L.Set(V,O,ba)}function qa(L,O,V){O.tb<V.tb?L.$p(O,V):L.$p(V,O)}function Ka(L,O,V){return O.tb<V.tb?L.la(O,V):L.la(V,O)}function Ib(L,O,V,ba){if(!O)return!1;L=L.Ja();const ia=0!==V||0!==ba,ja=L.B(),la=L.K(),va=la.hg;var na=la.Vf();
const wa=na.Yf().qe;var xa=na.J();na=na.Wi;const Ha=O.ia();xa=xa!==O;Wa=O;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.kc?(ib.ua(ja.Tb()),ib.offset(V,ba),va.tB(ja.ba(),O,ib,jb),O=jb):wa?la.T6()&&!Ha.yc.length&&Ha.H.length?O=Ha.H:(O=Ha.yc,lb=!0):O=Ha.H;ia&&(La=ja.L(),Ca=ja.M(),ja.ut(V,ba),ja.Pa());for(const ea of O)if(va.WJ(L,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Dh(La,Ca),ja.Pa());d.G(jb);return ma}function Ob(L,O){if(kb){if(O){{L=L.K().Pb().qe;O=Wa.ia();const V=O.H,ba=O.yc;O.kc?(O.mx(Ma),L&&(d.G(ba),
O.gQ(Ma,Wa.ta()))):L?lb?O.aba(Ma):(O.gQ(Ma,V),O.mx(Ma)):O.mx(Ma);Wa.rc()}}Ma.clear();Wa=null;kb=!1}}function Pb(L){if(this.j.bf)return Qb.call(this,L);if(!L)return!1;var O=this.j;const V=O.hg,ba=O.wa(),ia=ba.Bd();var ja=ba.Vf();const la=ja.J();var va=ja.uf(),na=ja.zw();ja=ia.Xf();const wa=O.Tl,xa=wa-1,Ha=ja.Pb(),La=ia.Za(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.D(d.Ow),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),O.Db().addEventListener("instancedestroy",
Na=>{Ca.MQ(Na.instance)}));O=L.ia();va=la.ia().ta();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];O.kc?(V.tB(Ba.B().ba(),L,Ba.B().Tb(),Sa),na=Sa,V.hQ(Ba,L,na)):na=O.ta();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(V.WJ(Ba,Ja)||V.xQ(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Sd(),ba.yf(ma),oa=la.ia(),ea=L.ia(),oa.Ve(!1),ea.Ve(!1),la===L?(ea=oa.H,d.G(ea),ea.push(Ba),ea.push(Ja),la.rc()):(oa=oa.H,ea=ea.H,d.G(oa),
d.G(ea),oa.push(Ba),ea.push(Ja),la.rc(),L.rc()),Ha.zh(ja,La),ba.Wb(ma))}else qa(Ca,Ba,Ja)}d.G(Sa)}ia.Sa();return!1}function*Qb(L){if(!L)return!1;var O=this.j;const V=O.hg,ba=O.wa(),ia=ba.Bd(),ja=ia.Xf(),la=O.Tl,va=la-1,na=ja.Pb(),wa=ia.Za(na);var xa=ba.Vf();const Ha=xa.J();var La=xa.uf();xa=xa.zw();let Ca=La.get("collmemory");Ca||(Ca=d.D(d.Ow),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),O.Db().addEventListener("instancedestroy",
Na=>{Ca.MQ(Na.instance)}));O=L.ia();La=Ha.ia().ta();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];O.kc?(V.tB(Ba.B().ba(),L,Ba.B().Tb(),Sa),xa=Sa,V.hQ(Ba,L,xa)):xa=O.ta();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(V.WJ(Ba,Ja)||V.xQ(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Sd(),ba.yf(ma),oa=Ha.ia(),ea=L.ia(),oa.Ve(!1),ea.Ve(!1),Ha===L?(ea=oa.H,d.G(ea),ea.push(Ba),ea.push(Ja),Ha.rc()):(oa=oa.H,ea=ea.H,d.G(oa),
d.G(ea),oa.push(Ba),ea.push(Ja),Ha.rc(),L.rc()),yield*na.kh(ja,wa),ba.Wb(ma))}else qa(Ca,Ba,Ja)}d.G(Sa)}ia.Sa();return!1}function Rb(L){return Ib(this,L,0,0)}function Sb(L,O,V){return Ib(this,L,O,V)}function ob(){return this.B().il()}function pb(){return this.B().$f()}function qb(L,O){const V=this.ia().ta();if(0===V.length)return!1;const ba=L.ia();var ia=ba.ta();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=V.length;va<na;++va){var la=V[va];if(1===O)for(const wa of la.CA())wa.Us(L)&&
ia.has(wa)&&ja.add(wa);else{if(0===O){if(la=la.Ka(),null===la)continue}else la=la.LB();la.Us(L)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.mx(ja);L.rc();return!0}function rb(L,O){const V=this.ia().ta();if(0===V.length)return!1;const ba=L.ia();var ia=ba.ta();if(ba.kc){var ja=[...this.j.tP(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=V.length;la<va;++la){const na=V[la];2===O&&!na.$f()&&na.Us(L)&&ia.has(na)&&ja.add(na);for(const wa of 0===
O?na.children():na.Zl())2===O&&wa.$f()||wa.Us(L)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.mx(ja);L.rc();return!0}function db(L,O){const V=this.ia().ta();if(0===V.length)return!1;const ba=L.ia();var ia=ba.ta();if(ba.kc){var ja=[...this.j.tP(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=V.length;la<va;++la){const na=V[la].PH(O);null!==na&&na.Us(L)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Tw(ja);L.rc();return!0}function h(L,
O){return d.compare(this.N.sB(),L,O)}function n(L,O,V,ba,ia,ja,la,va){const na=this.N,wa=this.j.jw().J();for(const xa of L.B_(na,wa)){if(!xa.Lb().k_)break;na.Sn(xa,{Mv:O,Nv:V,Os:ba,Ns:ia,Lv:ja,Ov:la,qA:va})}}function v(L){const O=this.N,V=this.j.jw().J();for(const ba of L.B_(O,V))O.nl(ba)}function y(){this.N.il()&&this.N.Ka().nl(this.N)}function A(){return this.N.sB()}function E(L,O){L=Math.floor(L);O=Math.floor(O);const V=this.B();2>L||2>O||!isFinite(L)||!isFinite(O)?(V.oC(),V.Pa()):V.yH(L,O)}function F(L,
O,V,ba,ia,ja,la,va){const na=this.B();na.QT(L,O,{mode:0===V?"absolute":"relative",x:ba,y:ia,NA:ja,E0:la,F0:va})&&na.Pa()}function J(){const L=this.B();return L.ag()?L.el().Jl:0}function M(){const L=this.B();return L.ag()?L.el().Wl:0}function P(L){const O=this.B();L=2===L?!O.Oc():0!==L;O.Oc()!==L&&O.Lg(L)}function S(L,O){this.q$(L,O)}function T(L,O){this.p$(L,""+O)}function X(L){this.v9(L)}function W(){this.YQ()}function fa(){this.mQ()}function da(){return this.nM}function aa(L){this.Zt(0!==L)}function ua(){return this.ga}
function pa(L,O,V){return d.compare(this.Ja().sf(L),O,V)}function sa(L){return!!this.Ja().sf(L)}function ta(L,O){const V=this.ia(),ba=V.ta();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.sf(O);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.sf(O);if(0===L&&wa<la||1===L&&wa>la)la=wa,ja=ia}V.mo(ja);return!0}function ra(L){if(this.j.Vf().Wi){{const ba=this.ia();if(ba.kc){ba.Ve(!1);ba.VA();var O=this.ta();for(let ia=0,ja=O.length;ia<ja;++ia){var V=O[ia];V.tb===L?ba.Do(V):ba.Uq(V)}this.rc();
L=!!ba.H.length}else{O=ba.H;V=0;for(let ia=0,ja=O.length;ia<ja;++ia){const la=O[ia];O[V]=la;la.tb===L?ba.Do(la):++V}d.Ad(O,V);this.rc();L=!!O.length}}}else L=Da(this,L);return L}function Da(L,O){O=L.K().Qe(O);if(!O)return!1;const V=L.ia();if(!V.kc&&!V.H.includes(O))return!1;if(L.ib){if(O.J().oH(L))return V.mo(O),L.rc(),!0}else if(O.J()===L)return V.mo(O),L.rc(),!0;return!1}function Ea(){this.j.Sk(this.N)}function Fa(){return!0}function Ga(){return!0}function Ia(L,O){this.Ja().uo(L,O)}function Qa(L,
O){const V=this.Ja(),ba=V.sf(L);"number"===typeof ba&&"number"!==typeof O?O=parseFloat(O):"string"===typeof ba&&"string"!==typeof O&&(O=O.toString());V.uo(L,ba+O)}function Ra(L,O){const V=this.Ja(),ba=V.sf(L);"number"===typeof ba&&("number"!==typeof O&&(O=parseFloat(O)),V.uo(L,ba-O))}function Aa(L,O){this.Ja().uo(L,O?1:0)}function Jb(L){const O=this.Ja();O.uo(L,0===O.sf(L)?1:0)}function Kb(L){let O;try{O=JSON.parse(L)}catch(V){console.error("Failed to load from JSON string: ",V);return}L=this.Ja();
L.Xt("state");L.ac(O,"state")}function pc(){return JSON.stringify(this.Ja().oc("state"))}function qc(){return this.Ja().J().Ha()}function rc(){const L=this.j.Wf().tM;let O=L.H.length;for(const V of this.j.tP(L))++O;return O}function sc(){return this.j.Wf().tM.ia().ta().length}function tc(){return this.N.gq()}function uc(){return this.N.tb}d.Q0=function(L,O){const V=L[1],ba=L[4],ia=L[5],ja=L[6],la=L[7],va=L[8],na=L[10],wa=L[11],xa=L[12],Ha=L[13],La=L[14],Ca=L[15],ma=O.I,ea=O.kb,oa=O.Pd;L[3]&&(ma.Xoa=
b,ma.Yoa=e,ma.bra=c,ma.cra=f,ma.Usa=k,ea.Fi=g,ea.Gi=l,ea.uwa=m,ea.Y$=q,ea.Qra=r,ea.Pra=p,oa.BU=u,oa.CU=t,oa.P_=w);ba&&(ma.Woa=x,ma.Noa=z,ea.Af=D,ea.eg=G,ea.cc=N,oa.jya=B,oa.fqa=H,oa.ioa=I,oa.koa=K,oa.joa=Q,oa.hoa=R);ia&&(ma.f1=U,ma.Q6=Z,ma.P6=ca,ea.Jc=Y,ea.Nua=ha,ea.Oua=ka,ea.Pua=za,ea.Qua=Oa,ea.Bwa=ab,oa.Pna=Ua);ja&&(ma.Oc=mb,ma.Qoa=bb,ea.Lg=Va,ea.Bi=Pa,ea.rva=fb,oa.Opacity=ub,oa.Eoa=cb);la&&(ma.$qa=vb,ma.bta=wb,ma.Zoa=gb,ea.Tra=xb,ea.Rra=yb,ea.Sra=zb,ea.zya=Ab,ea.Bf=Bb,oa.ura=Cb,oa.tra=Db,oa.yya=
hb,oa.xya=Eb,oa.Dxa=Fb);va&&(ea.uva=Gb,ea.vva=Hb);Ha&&(ma.il=ob,ma.$f=pb,ma.$sa=qb,ma.Tsa=rb,ma.Ysa=db,ma.Loa=h,ea.Sn=n,ea.nl=v,ea.Qta=y,oa.Coa=A);La&&(ea.lwa=E,ea.QT=F,oa.Lra=J,oa.Mra=M);na&&(ma.Oc=mb,ea.Lg=P,ea.kva=S,ea.yva=T,ea.Pta=X);wa&&(ma.Qqa=da,ea.Bva=W,ea.gva=fa);xa&&(ma.wf=ua,ea.Fm=aa);Ca&&(ma.g8=Pb,ma.Z6=Rb,ma.fra=Sb,O.W3=Ob);V||(ma.Ooa=pa,ma.Fqa=sa,ma.Vsa=ta,ma.Ssa=ra,ea.Jva=Ia,ea.Ana=Qa,ea.uxa=Ra,ea.hva=Aa,ea.Axa=Jb,ma.h8=Fa,ma.i8=Ga,ea.Wv=Ea,ea.VI||(ea.VI=Kb),oa.p1||(oa.p1=pc),oa.dpa=
rc,oa.cta=sc,oa.hqa=tc,oa.Lxa=uc,oa.fsa=qc)}}
{"use strict";const d=self.C;d.pJ=class extends d.qa{constructor(a){super();this.Fa=a;this.Da="";this.md=-1;this.Qz="";this.bF=!1;this.mk=null;this.Mg=0;this.Kf=[];this.os=new Map;this.Tm=null;this.iy=-1;this.zM=this.Ph=null;this.Pz=!1}A(){this.Da="";this.md=-1;this.Qz="";this.zM=this.Ph=this.Tm=this.mk=null;this.iy=-1;d.G(this.Kf);for(const a of this.os.values())a.A();this.os.clear()}Vj(){var a=this.Fa,b=a.K().qd;const e=a.Wf();this.mk=e.Pb();this.Mg=e.Mg+1;if(a=a.IH(this.mk))this.Tm=a,this.Ph=a.F1(),
this.zM=a.PM.map(c=>c.ke()),a.uh()&&(this.iy=a.Y8());for(const c of b)if(b=c.ia(),!b.kc||this.mk.I5(c))this.Kf.push(c),this.os.set(c,d.D(d.kU,b))}J6(a){this.Da="timer";this.Vj();this.md=this.Fa.K().rf()+a}H6(a){this.Da="signal";this.Vj();this.Qz=a.toLowerCase()}v6(a){this.Da="promise";this.Vj();a.then(()=>this.EJ()).catch(b=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",b);this.EJ()})}k7(){return"timer"===this.Da}i7(){return"signal"===this.Da}d7(){return"promise"===
this.Da}EJ(){this.bF=!0}mX(){return this.k7()?this.md<=this.Fa.K().rf():this.bF}KW(a){a.XK(this.mk,this.Mg);for(const [b,e]of this.os.entries())e.XK(b.ia());if(a=this.Tm)a.Yw(this.Ph),a.PM.map((b,e)=>b.Ch(this.zM[e])),a.uh()&&a.O9(this.iy)}xha(a){this.KW(a);this.mk.wha(a);this.Tm&&this.Tm.uh()&&this.Tm.Mw(this.iy);this.Fa.Vs(this.Kf);this.Pz=!0}async eda(a){this.KW(a);for(const b of this.mk.dda(a))await this.Fa.K().Ws(b);this.Tm&&this.Tm.uh()&&this.Tm.Mw(this.iy);this.Fa.Vs(this.Kf);this.Pz=!0}Eq(a){for(const b of this.os.values())b.Eq(a)}ya(){const a=
{},b={t:this.md,st:this.Qz,s:this.bF,ev:this.mk.jb,sm:this.Kf.map(e=>e.jb),sols:a};this.mk.Mea(this.Mg)&&(b.act=this.mk.ZQ(this.Mg).jb);for(const [e,c]of this.os)a[e.jb.toString()]=c.ya();return b}static Fca(a,b){const e=a.K();var c=a.s4(b.ev);if(!c)return null;let f=0;if(b.hasOwnProperty("act")){var k=a.b4(b.act);if(!k)return null;f=k.Oa()}k=d.D(d.pJ,a);k.md=b.t;k.Da=-1===k.md?"signal":"timer";k.Qz=b.st;k.bF=b.s;k.mk=c;k.Mg=f;for(var g of b.sm)(c=e.qw(g))&&k.Kf.push(c);for(const [l,m]of Object.entries(b.sols))if(b=
e.qw(parseInt(l,10)))g=d.D(d.kU,null),g.Ca(a,m),k.os.set(b,g);return k}}}{"use strict";const d=self.C;d.kU=class extends d.qa{constructor(a){super();this.V=null;this.aF=!0;this.H=[];a&&(this.V=a.J(),this.aF=a.kc,d.nd(this.H,a.H))}A(){this.V=null;d.G(this.H)}XK(a){a.Ve(this.aF);d.nd(a.H,this.H)}Eq(a){d.ji(this.H,a)}ya(){return{sa:this.aF,insts:this.H.map(a=>a.tb)}}Ca(a,b){a=a.K();this.aF=!!b.sa;d.G(this.H);for(const e of b.insts)(b=a.Qe(e))&&this.H.push(b)}}}
{"use strict";const d=self.C;function a(b,e){let c=b.get(e);c||(c=new Map,b.set(e,c));return c}d.Ah=class extends d.qa{constructor(b){super();this.j=b.Xc;this.Yo=!!b.$_;this.mg=!!b.hma;this.rka=!!b.gma;this.Aka=!!b.vma;this.cka=!!b.Tla;this.k_=!!b.Tma;this.Uka=!!b.Sma;this.ZZ=null;this.LX=new Map;this.Ija=new Map;this.Jja=new Map;this.Kja=new Map}A(){this.j=null}K(){return this.j}Vb(){}ot(){return this.rka}lo(){return this.Aka}yI(){return this.cka}zo(b,e){if(!e)throw Error("missing 'this' binding");
let c=this.LX.get(b);if(c)return c;c=b.bind(e);this.LX.set(b,c);return c}vV(b,e,c){if(!e)throw Error("missing 'this' binding");const f=a(this.Ija,b);let k=f.get(c);if(k)return k;k=b.bind(e,c);f.set(c,k);return k}wV(b,e,c,f){if(!e)throw Error("missing 'this' binding");var k=a(this.Jja,b);k=a(k,c);let g=k.get(f);if(g)return g;g=b.bind(e,c,f);k.set(f,g);return g}xV(b,e,c,f,k){if(!e)throw Error("missing 'this' binding");var g=a(this.Kja,b);g=a(g,c);g=a(g,f);let l=g.get(k);if(l)return l;l=b.bind(e,c,f,
k);g.set(k,l);return l}Lia(b){if(!this.Yo)throw Error("must be single-global plugin");this.ZZ=b}tm(){if(!this.Yo)throw Error("must be single-global plugin");return this.ZZ.tm()}}}
{"use strict";const d=self.C;d.V9=class extends d.Ah{constructor(a,b){super(a);this.Qo=b;this.Eka=0;this.QM=new Map;this.hH("elem-focused",e=>e.iga());this.hH("elem-blurred",e=>{e&&e.hga()})}A(){super.A()}Lba(a){const b=this.Eka++;this.QM.set(b,a);return b}mha(a){this.QM.delete(a)}hH(a,b){this.j.wj(this.Qo,a,e=>{const c=this.QM.get(e.elementId);b(c,e)})}}}{"use strict";const d=self.C;d.Ai=class extends d.qa{constructor(a){super();this.V=a;this.j=a.K();this.cj=a.Lb()}A(){this.cj=this.j=this.V=null}J(){return this.V}K(){return this.j}Lb(){return this.cj}Nc(){return this.V.Nc()}bw(){}ll(){}wi(){}jC(){}bJ(){}Dg(){return null}}}
{"use strict";const d=self.C;d.Fq=class extends d.qa{constructor(a,b){super();this.N=a;this.Qo=b;this.j=a.K();this.V=this.N.J();this.Ta=this.V.Ta;this.An=this.Cn=null;this.jn=this.hn=!1;this.Zd=null;this.Kn=!1}A(){this.Kn=!0;this.Eo();this.Yq();this.An=this.Cn=null;this.Zd&&(this.Zd.A(),this.Zd=null);this.Ta=this.V=this.j=this.N=null}yx(){return this.Kn}Ja(){return this.N}K(){return this.j}J(){return this.V}Lb(){return this.Ta.Lb()}vw(){return this.N.pi()}oa(a){return this.j.oa(a,this.N,null)}Te(a){return this.j.Te(a,
this.N,null)}Rs(a,b){this.j.wj(this.Qo,a,b)}fQ(a){for(const [b,e]of a)this.Rs(b,e)}lb(a,b){this.j.Aq(this.Qo,a,b)}Cm(a,b){return this.j.Bq(this.Qo,a,b)}jD(a,b){this.j.cn?this.lb(a,b):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Qo,handler:a,data:b,responseId:null})}bd(){}Oq(){}fg(){this.hn||(this.Cn||(this.Cn=()=>this.bd()),this.j.Db().addEventListener("tick",this.Cn),this.hn=!0)}Eo(){this.hn&&(this.j.Db().removeEventListener("tick",this.Cn),this.hn=!1)}Xq(){this.jn||
(this.An||(this.An=()=>this.Oq()),this.j.Db().addEventListener("tick2",this.An),this.jn=!0)}Yq(){this.jn&&(this.j.Db().removeEventListener("tick2",this.An),this.jn=!1)}oc(){return null}ac(){}Qb(){}me(){}YI(a,b){if(0!==b){var e=this.Qb(a);if("number"!==typeof e)throw Error("expected number");this.me(a,e+b)}}Dg(){return null}}}
{"use strict";const d=self.C;d.Gq=class extends d.Fq{constructor(a,b){super(a,b);this.ub=a.B();this.zG=this.tv=null}A(){if(this.tv){const a=this.j.Db();a.removeEventListener("webglcontextlost",this.tv);a.removeEventListener("webglcontextrestored",this.zG);this.zG=this.tv=null}this.ub=null;super.A()}SR(){if(!this.tv){this.tv=()=>this.zq();this.zG=()=>this.$I();var a=this.j.Db();a.addEventListener("webglcontextlost",this.tv);a.addEventListener("webglcontextrestored",this.zG)}}zq(){}$I(){}B(){return this.ub}uq(){return!1}al(){if(!this.uq())throw Error("original size not known");
const a=this.nh();if(a)return a.R()}$k(){if(!this.uq())throw Error("original size not known");const a=this.nh();if(a)return a.P()}nh(){return null}uB(){var a=this.nh();return a&&(a=a.$b())?[a.R(),a.P()]:[100,100]}vB(){const a=this.nh();return a?a.vf():null}Wk(){const a=this.N.B();return[a.L(),a.M()]}wt(){return!0}}}
{"use strict";const d=self.C,a=d.D(d.Rect);d.U9=class extends d.Gq{constructor(b,e){super(b,e);this.Ay=this.Lb().Lba(this);this.YM=!0;this.ky=this.nM=!1;this.Ku=d.D(d.Rect,0,0,-1,-1);b=this.j.fa;this.cZ=b.Jp;this.bZ=b.Ip;this.hN=!1;this.fg()}A(){this.Lb().mha(this.Ay);this.Cq("destroy");this.Ay=-1;super.A()}Cq(b,e){e||(e={});e.elementId=this.Ay;this.lb(b,e)}yW(b){b||(b={});b.elementId=this.Ay;this.jD("focus",b)}e2(b){b||(b={});const e=this.B().Oc();b.elementId=this.Ay;b.isVisible=e;Object.assign(b,
this.UH());this.YM=!!b.isVisible;this.jD("create",b);this.zX(!0)}yC(b){b=!!b;this.YM!==b&&(this.YM=b,this.Cq("set-visible",{isVisible:b}))}bd(){this.zX(!1)}Sia(){const b=this.j.fa.AB();return"Android"===d.Cd.tt&&("scale-inner"===b||"scale-outer"===b||"crop"===b)}zX(b){var e=this.B();const c=e.ba();var f=e.L(),k=e.M();let [g,l]=c.xq(f,k),[m,q]=c.xq(f+e.R(),k+e.P());f=this.j.fa;k=f.td;const r=f.ed;if(e.Oc()&&c.Oc()){if(!this.Sia()){if(0>=m||0>=q||g>=k||l>=r){this.yC(!1);return}1>g&&(g=1);1>l&&(l=1);
m>=k&&(m=k-1);q>=r&&(q=r-1)}a.set(g,l,m,q);e=f.Jp;k=f.Ip;!b&&a.Wc(this.Ku)&&this.cZ===e&&this.bZ===k?this.yC(!0):(this.Ku.ua(a),this.cZ=e,this.bZ=k,this.yC(!0),b=null,this.ky&&(b=c.mm()-.2),this.Cq("update-position",{left:Math.round(this.Ku.T)+f.cq(),top:Math.round(this.Ku.O)+f.eq(),width:Math.round(this.Ku.width()),height:Math.round(this.Ku.height()),fontSize:b}))}else this.yC(!1)}YQ(){this.yW({focus:!0})}mQ(){this.yW({focus:!1})}iga(){this.nM=!0}hga(){this.nM=!1}q$(b,e){this.Cq("set-css-style",
{prop:d.z1(b),val:e})}p$(b,e){this.Cq("set-attribute",{name:b,val:e})}v9(b){this.Cq("remove-attribute",{name:b})}Qj(){this.hN||(this.hN=!0,Promise.resolve().then(()=>{this.hN=!1;this.Cq("update-state",this.UH())}))}UH(){}}}
{"use strict";const d=self.C,a=self.WR;d.pC=class extends d.qa{constructor(b){super();this.j=b.Xc;this.ON=d.D(d.mH);this.BF=d.D(d.mH);this.Ly=null;this.Qka=b.Nma||null}A(){this.BF.A();this.ON.A();this.j=null}K(){return this.j}Vb(){}Mba(b){this.ON.Yc(b)}hI(){return this.ON.MH()}Ih(b){this.BF.Yc(b)}Vq(b){this.BF.$p(b)}ta(){return this.BF.MH()}J4(){if(null===this.Ly){const b=this.Qka;if(b){if(this.Ly=new b(this),!(this.Ly instanceof a))throw new TypeError("script interface class must derive from IBehavior");
}else this.Ly=new a(this)}return this.Ly}}}{"use strict";const d=self.C;d.rC=class extends d.qa{constructor(a){super();this.j=a.K();this.rd=a;this.V=a.J();this.bk=a.Qd();this.bk.Mba(this.V)}A(){this.bk=this.V=this.rd=this.j=null}oi(){return this.rd}J(){return this.V}K(){return this.j}Qd(){return this.bk}}}
{"use strict";const d=self.C;d.qC=class extends d.qa{constructor(a,b){super();this.ID=a;this.Qo=b;this.N=a.N;this.j=a.K();this.rd=a.oi();this.Ta=this.rd.Ta;this.NY=this.jn=this.hn=!1;this.Zd=null}A(){this.Eo();this.Yq();this.$ia();this.Zd&&(this.Zd.A(),this.Zd=null);this.Ta=this.rd=this.j=this.N=this.ID=null}Qd(){return this.rd.Qd()}J(){return this.N.J()}B(){return this.N.B()}K(){return this.j}oi(){return this.rd}vw(){return this.ID.vw()}oa(a){return this.j.oa(a,this.N,this.rd)}Te(a){return this.j.Te(a,
this.N,this.rd)}lC(){}bd(){}Oq(){}fg(){this.hn||(this.j.Gba(this),this.hn=!0)}Eo(){this.hn&&(this.j.jha(this),this.hn=!1)}Xq(){this.jn||(this.j.Hba(this),this.jn=!0)}Yq(){this.jn&&(this.j.kha(this),this.jn=!1)}$ia(){this.NY&&(this.j.iha(this),this.NY=!1)}Rs(a,b){this.j.wj(this.Qo,a,b)}oc(){return null}ac(){}Qb(){}me(){}YI(a,b){if(0!==b){var e=this.Qb(a);if("number"!==typeof e)throw Error("expected number");this.me(a,e+b)}}Dg(){return null}}}
{"use strict";const d=self.C;d.F={};d.na={};d.a9=class extends d.qa{constructor(a){super();this.j=a;this.Eja=[];this.FZ=new Map;this.Ke=null;this.Bja=[];this.SL=new Map;this.UY=this.b_=null}k2(a){const b=this.j.ri(a[0]);if(!b)throw Error("missing plugin");d.Q0(a,b);a=d.D(b,{Xc:this.j,$_:a[1],hma:a[2],gma:a[5],Tla:a[8],vma:a[9],Tma:a[13],Sma:a[14]});a.Vb();this.Eja.push(a);this.FZ.set(b,a)}n2(){this.Ke=d.D(d.F.qb,{Xc:this.j,$_:!0});this.Ke.Vb()}c2(a){a=this.j.ri(a[1]);if(!a)throw Error("missing behavior");
const b=d.D(a,{Xc:this.j});b.Vb();this.Bja.push(b);this.SL.set(a,b);!this.b_&&d.na.Xp&&b instanceof d.na.Xp?this.b_=b:!this.UY&&d.na.jma&&b instanceof d.na.jma&&(this.UY=b)}j5(a){return this.FZ.get(a)||null}B5(a){return this.SL.has(a)}bR(a){return this.SL.get(a)||null}xw(){return this.Ke}}}
{"use strict";const d=self.C,a=new Set;d.UB=class extends d.qa{constructor(){super();this.Vl="";this.Y=this.$=this.Wu=this.Vu=this.Ie=0;this.Iy=this.$E=!1;this.If=null;this.zn="";this.Zg=d.D(d.Rect);this.hs=d.D(d.Ic);a.add(this)}A(){this.yh();this.If=null;a.delete(this)}static zq(){for(const b of a)b.zn="",b.Zg.set(0,0,0,0),b.hs.yg(b.Zg)}uS(b){this.Vl=b[0];this.Ie=b[1];this.Vu=b[2];this.Wu=b[3];this.$=b[4];this.Y=b[5];this.$E=b[6];this.Iy=!0}y7(b,e){if(this.If)throw Error("already loaded asset");
this.Vl=e;const c={};d.FI(e)&&(c.zA="remote");this.Kw(b,c);return this.If.tS()}E9(b){if(b===this)throw Error("cannot replace with self");this.yh();this.Vl=b.Vl;this.Ie=b.Ie;this.Vu=b.Vu;this.Wu=b.Wu;this.$=b.$;this.Y=b.Y;this.Iy=b.Iy;this.If=b.If;this.zn=b.zn;this.Zg=b.Zg;this.hs=b.hs}Jj(){return this.Ie}R(){return this.$}P(){return this.Y}Kw(b,e){if(this.If)throw Error("already got asset");e=Object.assign({},e,{url:this.Vl,size:this.Jj()});this.If=b.Lw(e)}QI(){return this.If&&this.If.QI()}async yq(b,
e){if(!this.If)throw Error("no asset");if(this.zn)throw Error("already loaded texture");this.zn="loading";b=await this.If.yq(b,e);if(!b)return this.zn="",null;this.zn="loaded";this.Iy||(this.$=b.R(),this.Y=b.P(),this.Iy=!0);this.Zg.set(this.Vu,this.Wu,this.Vu+(this.$E?this.Y:this.$),this.Wu+(this.$E?this.$:this.Y));this.Zg.am(b.R(),b.P());this.hs.yg(this.Zg);this.$E&&this.hs.Jma();return b}yh(){this.zn&&(this.If&&this.If.yh(),this.zn="",this.Zg.set(0,0,0,0),this.hs.yg(this.Zg))}$b(){return this.If?
this.If.$b():null}vf(){return this.Zg}JB(){return this.hs}async TQ(){const b=await this.If.wS(),e=d.nf(this.$,this.Y);e.getContext("2d").drawImage(b,this.Vu,this.Wu,this.$,this.Y,0,0,this.$,this.Y);return e}}}
{"use strict";const d=self.C;d.h1=class extends d.qa{constructor(a){super();this.Na=a[0];this.Kk=a[1];this.WE=!!a[2];this.hv=a[3];this.RZ=a[4];this.qka=!!a[5];this.jb=a[6];this.pe=a[7].map(b=>d.D(d.g1,b))}A(){for(const a of this.pe)a.A();d.G(this.pe)}v7(a){for(const b of this.pe)b.Nc().Kw(a)}w7(a,b){return Promise.all(this.pe.map(e=>e.Nc().yq(a,b)))}s9(){for(const a of this.pe)a.Nc().yh()}Ha(){return this.Na}$n(a){a=Math.floor(a);if(0>a||a>=this.pe.length)throw new RangeError("invalid frame");return this.pe[a]}um(){return this.Kk}ao(){return this.hv}}}
{"use strict";const d=self.C;d.g1=class extends d.qa{constructor(a){super();this.Rg=d.D(d.UB);this.Rg.uS(a);this.YX=a[7];this.yZ=d.D(d.xx,a[8],a[9]);this.HE=a[10].map(b=>d.D(d.d6,this,b));this.CY=new Map;for(const b of this.HE)this.CY.set(b.Ha().toLowerCase(),b);this.mr=null;a=a[11];6<=a.length&&(this.mr=d.D(d.Tn,a))}A(){this.mr&&(this.mr.A(),this.mr=null);this.Rg.A();this.Rg=null}Nc(){return this.Rg}Yk(){return this.yZ.W}Zk(){return this.yZ.S}L4(a){return this.CY.get(a.toLowerCase())||null}K4(a){a=
Math.floor(a);return 0>a||a>=this.HE.length?null:this.HE[a]}bI(){return this.HE.length}}}{"use strict";const d=self.C;d.d6=class extends d.qa{constructor(a,b){super();this.Na=b[0];this.eO=d.D(d.xx,b[1],b[2])}A(){}Ha(){return this.Na}L(){return this.eO.W}M(){return this.eO.S}nq(){return this.eO}}}
{"use strict";const d=self.C,a=self.ih,b=self.Fw;d.XI=class extends d.qa{constructor(e,c,f){super();const k=e.ri(f[1]);this.j=e;this.cj=e.op.j5(k);this.Ta=null;this.LE=k.Instance;this.cb=c;this.jb=f[11];this.Na=f[0];this.kz=this.j.Fj(f[14]);this.nka=!!f[9];this.ib=!!f[2];this.fN=!!f[10];this.vk=f[3].map(g=>({w0:g[0],type:g[1],name:g[2],ima:e.Fj(g[3])}));this.Gja=f[4];this.Yja=f[5];this.mg=this.cj.mg;this.bb=null;this.UD=d.D(d.Laa,e.Xh,e.Wh);this.JL=!0;this.KL=!1;this.wM=this.To=null;this.Ui=-1;this.vM=
this.qE=this.rE=this.uM=this.Ti=null;this.$M=!1;this.Mh=null;this.JX=f[8].map(g=>d.jQ.fb(this,g));this.JD=[];this.TL=new Map;this.RL=new Map;this.s_=new Set;this.tp=d.D(d.Iaa,this);this.ED=this.DD=this.ne=this.Rg=this.Mh=this.qu=null;this.ov=0;this.Nb=new Map;this.nj=new Map;this.H=[];this.MM=!0;this.cj.yI()&&(this.bb=d.D(d.jm,this,f[12]));f[6]&&(this.Rg=d.D(d.UB),this.Rg.uS(f[6]));if(f[7]){this.ne=f[7].map(g=>d.D(d.h1,g));this.DD=new Map;this.ED=new Map;for(const g of this.ne)this.DD.set(g.Ha().toLowerCase(),
g),this.ED.set(g.jb,g)}this.ib?(this.To=[],this.wM=new Set,this.Ui=this.j.yea()):(this.Ti=[],this.uM=new Set,this.rE=[],this.qE=[],this.vM=[]);this.Ta=d.D(k.Ae,this,f[15]);this.IY=this.Ny=null;this.Ne=d.D(d.Event.Db);if(c=this.Ta.Dg()){if(this.Ny=new c(this),!(this.Ny instanceof b))throw new TypeError("script interface class must derive from IObjectClass");}else this.Ny=new b(this);this.j.vG&&!this.ib&&!this.fN&&this.mg||this.Vb();this.cj.Yo&&(this.cj.Lia(this),this.Sca(f))}static fb(e,c,f){return d.D(d.XI,
e,c,f)}A(){this.Rg&&(this.Rg.A(),this.Rg=null);if(this.ne){for(const e of this.ne)e.A();d.G(this.ne);this.DD.clear();this.ED.clear()}this.tp.A();this.tp=null;this.Nb.clear();this.nj.clear();this.j=this.Mh=null}ufa(e){for(let c=1,f=e.length;c<f;++c){const k=this.j.Zf(e[c]);this.To.push(k);this.wM.add(k);k.Ti.push(this);k.uM.add(this)}}jia(e){this.$M=!0;this.Mh=e}nc(){return this.$M}bga(){var e=0;if(!this.ib)for(var c of this.Ti)for(var f of c.JX){const l=f.Ha().toLowerCase();this.TL.set(l,f);this.RL.set(l,
e);this.JD.push(f);++e}for(var k of this.JX)c=k.Ha().toLowerCase(),this.TL.set(c,k),this.RL.set(c,e),this.JD.push(k),++e;for(var g of this.JD)this.s_.add(g.Qd().constructor);if(!this.ib&&this.Ti.length){e=this.j.dY;d.IG(this.rE,e,0);d.IG(this.qE,e,0);d.IG(this.vM,e,0);e=[];c=g=k=0;for(const l of this.Ti)if(f=l.Ui,this.rE[f]=k,k+=l.vk.length,this.qE[f]=g,g+=l.Gja,this.vM[f]=c,c+=l.Yja,(f=l.bb)&&this.bb)for(const m of f.mh())e.push(m.O1(this.bb));this.bb&&this.bb.g9(e)}}Sca(e){const c=this.j.xea(),
f=d.D(d.Instance,{Xc:this.j,FP:this,uid:c});f.RC(e[16],[]);this.j.Nfa(c,f);this.H.push(f)}Vb(){this.ib||this.Ta.Vb()}F5(){return 0<this.ov}ll(e){if(this.ib)return Promise.resolve();this.ov++;return 1===this.ov?this.Ta.ll(e)||Promise.resolve():Promise.resolve()}wi(){if(!this.ib){this.ov--;if(0>this.ov)throw Error("released textures too many times");0===this.ov&&this.Ta.wi()}}jC(){if(this.ib)throw Error("not applicable to family");this.Ta.jC()}bJ(e){return this.ib?Promise.resolve():this.Ta.bJ(e)}K(){return this.j}Lb(){return this.cj}Ha(){return this.Na}Fj(){return this.kz}Oa(){return this.cb}wh(){return this.nka}vU(e){return e&&
this.s_.has(e)}R4(){return this.vk.map(e=>e.w0)}Q4(e){return this.vk.findIndex(c=>c.w0===e)}P4(e){return this.vk.findIndex(c=>c.name===e)}mea(){return this.vk.map(e=>e.ima)}ow(e){e=Math.floor(e);if(0>e||e>=this.vk.length)throw new RangeError("invalid instance variable index");return this.vk[e].type}qR(e){e=Math.floor(e);if(0>e||e>=this.vk.length)throw new RangeError("invalid instance variable index");return this.vk[e].name}oB(e){return this.TL.get(e.toLowerCase())||null}hw(e){e=this.RL.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}yI(){return this.cj.yI()}wU(){return this.bb&&this.bb.x5()}ia(){return this.tp.ia()}Nc(){return this.Rg}CT(e){this.qu=e}oH(e){return this.uM.has(e)}UQ(e){return this.wM.has(e)}Zn(e){return this.qE[e]}mR(e){return this.rE[e]}aR(e){if(!this.ne)throw Error("no animations");return this.DD.get(e.toLowerCase())||null}d4(e){if(!this.ne)throw Error("no animations");return this.ED.get(e)||null}B4(){if(!this.ne)throw Error("no animations");return this.ne[0].$n(0)}o4(){if(this.ne){const e=
this.B4().Nc();return[e.R(),e.P()]}return this.Rg?[this.Rg.R(),this.Rg.P()]:[100,100]}tm(){if(!this.cj.Yo)throw Error("not a single-global plugin");return this.H[0]}ta(){return this.H}*Y_(){yield*this.H}*Yla(){yield*this.H;for(const e of this.j.bn)e.J()===this&&(yield e)}Ih(e){this.H.push(e)}Vx(){this.MM=!0}uD(){if(this.MM&&!this.ib){var e=this.H,c=0;for(let f=e.length;c<f;++c)e[c].cX(c);e=this.j.bn;for(const f of e)f.J()===this&&f.cX(c++);this.MM=!1}}pR(e){var c=this.H;if(e<c.length)return c[e];
e-=c.length;c=this.j.bn;for(const f of c)if(f.J()===this){if(0===e)return f;--e}return null}Dj(e){if(e&&e.nc()&&e.J()!==this)for(const c of e.ae)if(c.J()===this)return c;e=this.ia().ta();return e.length?e[0]:null}h5(e){const c=this.ia().ta();return 0<c.length?c[e.gq()%c.length]:null}*B_(e,c){const f=this.ia().ta();var k=f.length;const g=c.ia(),l=c.ia().ta(),m=l.length;var q=e.gq();if(c.ib||!g.kc)q=l.indexOf(e);e=Math.ceil(k/m);k%=m;0===k||q<k?(q*=e,k=e):(q=k*e+(q-k)*(e-1),k=e-1);for(let r=q,p=q+k;r<
p;++r)yield f[r]}bw(e){this.Ta.bw(e)}rc(){if(this.$M&&!this.ib){this.uD();var e=this.ia(),c=e.H,f=e.kc,k=this.j.Wf();k=k&&k.Pb()&&k.Pb().qe;for(const m of this.Mh.rn)if(m!==this){m.uD();var g=m.ia();g.Ve(f);if(!f){var l=g.H;d.G(l);for(const q of c)l.push(m.pR(q.gq()));if(k){l=e.yc;g=g.yc;d.G(g);for(const q of l)g.push(m.pR(q.gq()))}}}}}ija(e,c){for(const f of this.Mh.rn){const k=f.ia();e?d.Ad(k.yc,c):d.Ad(k.H,c)}}VW(){this.JL=!0}aL(e){this.KL=!!e}tX(){if(this.JL&&this.mg){for(const e of this.H)e.B().oL();
for(const e of this.j.bn)e.J()===this&&e.B().oL();this.JL=!1}}uf(){this.Nb||(this.Nb=new Map);return this.Nb}zw(){this.nj||(this.nj=new Map);return this.nj}TR(){return this.vU(d.na.bsa)}zI(){return this.vU(d.na.Nsa)}ya(){const e={instances:this.H.map(c=>c.oc())};this.Nb&&this.Nb.size&&(e.ex=d.YJ(this.Nb));return e}Ca(e){this.Nb&&(this.Nb.clear(),this.Nb=null);var c=e.ex;c&&(this.Nb=d.JH(c));c=this.H;e=e.instances;for(let f=0,k=Math.min(c.length,e.length);f<k;++f)c[f].ac(e[f]);for(let f=e.length,k=
c.length;f<k;++f)this.j.Sk(c[f]);for(let f=c.length,k=e.length;f<k;++f){c=e[f];let g=null;if(this.mg&&(g=this.j.Ub().DB(c.w.l),!g))continue;this.j.Aj(this.qu||this,g,!1,0,0,!0).ac(c)}this.Vx()}mi(e){var c=this.j;(c=c.Jb&&!c.wa().$B())&&a.TJ();this.Ne.dispatchEvent(e);c&&a.kH()}}}{"use strict";const d=self.C;d.V1=class extends d.qa{constructor(a,b){super();this.j=a;this.rn=b;for(const e of this.rn)e.jia(this)}A(){this.j=null}K(){return this.j}A5(){return this.rn.some(a=>a.mg)}}}
{"use strict";const d=self.C,a=self.ih,b=self.pq,e=[];let c=0;const f=new WeakMap,k=new WeakMap;d.Instance=class extends d.qa{constructor(g){super();this.j=g.Xc;this.Ee=g.FP;this.Ye=this.ra=this.ub=null;this.BY=0;this.tb=g.uid;this.LZ=c++;this.za=0;this.Sc=this.ig=e;var l=this.Ee.JD;0<l.length&&(this.Sc=l.map((m,q)=>d.D(d.QA,{Xc:this.j,fP:m,instance:this,index:q})));this.ae=this.Ee.nc()?[]:null;this.Dd=-1;this.fc=null;l=this.Lb();l.lo()&&(this.za|=4);if(l.mg)if(this.ub=d.D(d.Aba,this,g.we),g.H0)this.ub.Kj(g.H0);
else{this.ub.t6();const [m,q]=this.Ee.o4();this.ub.cc(m,q);this.J().wU()&&this.ub.Ze.x7()}g.X_?this.yfa(g.X_):this.sfa()}A(){this.Ye&&(this.Ye.Ux(),this.Ye=null);if(0<this.Sc.length){for(var g of this.Sc)g.A();d.G(this.Sc)}this.ra.A();this.ra=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.ae&&d.G(this.ae);this.fc&&(this.fc.A(),this.fc=null);this.Ee=this.j=null;0<this.ig.length&&d.G(this.ig);this.ub&&(this.ub.A(),this.ub=null)}yfa(g){0<g.length&&(this.ig=
[],d.nd(this.ig,g))}sfa(){const g=this.Ee.vk.length;if(0!==g){this.ig=[];var l=[0,0,""];for(let m=0;m<g;++m)this.ig.push(l[this.Ee.ow(m)])}}RC(g,l){if(this.ra)throw Error("already got sdk instance");for(let m=0,q=this.Sc.length;m<q;++m)this.Sc[m].RC(l?l[m]:null);this.ra=d.D(this.Ee.LE,this,g);if(!(this.ra instanceof d.Fq))throw Error("sdk type must derive from SDKInstanceBase");for(let m=0,q=this.Sc.length;m<q;++m)this.Sc[m].lC();this.Ee.IY&&this.ZV()}B(){return this.ub}K(){return this.j}$Q(){const g=
this.Dd;return-1===g?this.K().Dd:g}JJ(g){g=+g;if(0>g||!isFinite(g))g=0;this.Dd=g}N9(){this.Dd=-1}Db(){this.fc||(this.fc=d.D(d.Event.Db));return this.fc}Mc(g){this.ra.Mc(g)}Vb(g){this.ra.Vb(g)}wia(){this.za|=2}si(){return 0!==(this.za&2)}OK(){this.za|=1}YB(){return 0!==(this.za&1)}lo(){return 0!==(this.za&4)}R$(){this.za|=32}BS(){return 0!==(this.za&32)}jfa(){return 0!==(this.za&8)}Mia(g){this.za=g?this.za|8:this.za&-9}Xw(g,l){g<<=16;this.za=l?this.za|g:this.za&~g}ZH(g){return 0!==(this.za&g<<16)}nh(){return this.ra.nh()}uB(){return this.ra.uB()}vB(){return this.ra.vB()}Wk(g){return this.ra.Wk(g)}J(){return this.Ee}wt(){return this.ra.wt()}Us(g){return g.ib?
g.UQ(this.J()):this.J()===g}xU(){if(!this.Lb().k_)throw Error("object does not support scene graph");}il(){return null!==this.Ka()}Ka(){var g=this.B();return g?(g=g.Ka())?g.Ja():null:null}LB(){var g=this.B();return g?(g=g.LB())?g.Ja():null:null}*CA(){const g=this.B();if(g)for(const l of g.CA())yield l.Ja()}$f(){const g=this.B();return g?g.$f():!1}Uf(){const g=this.B();return g?g.Uf().map(l=>l.Ja()):[]}*children(){const g=this.B();if(g)for(const l of g.children())yield l.Ja()}*Zl(){const g=this.B();
if(g)for(const l of g.Zl())yield l.Ja()}sB(){const g=this.B();return g?g.sB():0}PH(g){const l=this.B();return l?(g=l.PH(g))?g.Ja():null:null}Sn(g,l){this.xU();g.xU();this.B().Sn(g.B(),l||{})}nl(g){const l=this.B();l&&l.nl(g.B())}xB(){const g=this.B();return g?g.xB():!1}Caa(){var g=this.B();if(g&&(g=g.qO))for(const l of g)if(g=this.j.Qe(l[2])){const m=l[3];this.Sn(g,{Mv:!!(m>>0&1),Nv:!!(m>>1&1),Os:!!(m>>2&1),Ns:!!(m>>3&1),Lv:!!(m>>4&1),qA:!!(m>>5&1),Ov:!!(m>>6&1)})}}nc(){return null!==this.ae}Qt(g){this.ae.push(g)}H5(g){return!!this.LR(g)}LR(g){const l=
this.ae;if(null===l||0===l.length)return!1;for(const m of l)if(m.J()===g)return m;return null}Pj(){for(const g of this.ae)g.J().ia().ql(g)}Yga(){for(const g of this.ae)g.J().ia().Uq(g)}Kia(g){for(const l of this.ae)l.J().ia().H[g]=l}Xga(){for(const g of this.ae)g.J().ia().Do(g)}Jia(g){for(const l of this.ae)l.J().ia().yc[g]=l}Lb(){return this.Ee.Lb()}cX(g){this.BY=g}gq(){this.Ee.uD();return this.BY}f4(g){if(!g)return null;for(const l of this.Sc)if(l.Qd()instanceof g)return l;return null}cR(g){const l=
this.Sc;for(let m=0,q=l.length;m<q;++m)if(l[m].oi().jb===g)return m;return-1}sf(g){g|=0;const l=this.ig;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}vea(g){const l=this.ig[g];return 0===this.Ee.ow(g)?!!l:l}uo(g,l){g|=0;const m=this.ig;if(0>g||g>=m.length)throw new RangeError("invalid instance variable");switch(this.Ee.ow(g)){case 0:m[g]=l?1:0;break;case 1:m[g]="number"===typeof l?l:parseFloat(l);break;case 2:m[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");
}}G$(g,l){if(0!==l){g|=0;var m=this.ig;if(0>g||g>=m.length)throw new RangeError("invalid instance variable");var q=m[g];if("number"===typeof q)m[g]="number"===typeof l?m[g]+l:m[g]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}uf(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}zw(){let g=k.get(this);if(g)return g;
g=new Map;k.set(this,g);return g}TV(g){const l=this.J();if(l.Ne.vI(g))return!0;for(const m of l.Ti)if(m.Ne.vI(g))return!0;return this.j.Ne.vI(g)?!0:!1}tD(){const g=new Set;g.add(this);const l=this.B();if(l&&l.$f())for(const m of this.Zl())if(g.add(m),m.nc())for(const q of m.ae)g.add(q);if(this.nc())for(const m of this.ae)g.add(m);for(const m of g.values())m.mL()}mL(){if(this.TV("instancecreate")){const g=this.J(),l=new d.Event("instancecreate");l.instance=this.pi();g.mi(l);for(const m of g.Ti)m.mi(l);
this.j.mi(l)}this.j.oa(this.Lb().constructor.I.h8,this,null)}gja(){this.j.oa(this.Lb().constructor.I.i8,this,null)}dea(g){if(this.Ye){var l=new d.Event("destroy");l.cma=g;this.mi(l)}if(this.TV("instancedestroy")){l=this.J();var m=new d.Event("instancedestroy");m.instance=this.pi();m.cma=g;l.mi(m);for(const q of l.Ti)q.mi(m);this.j.mi(m)}}oc(g="full"){const l={};"full"===g?l.uid=this.tb:l.c3=!0;if("visual-state"!==g){var m=f.get(this);m&&m.size&&(l.ex=d.YJ(m));-1!==this.Dd&&(l.mts=this.Dd);if(0<this.Ee.vk.length){m=
{};var q=this.Ee.R4();for(let r=0,p=this.ig.length;r<p;++r)m[q[r].toString()]=this.ig[r];l.ivs=m}if(this.Sc.length){m={};for(const r of this.Sc)(q=r.oc())&&(m[r.oi().jb.toString()]=q);l.behs=m}}this.ub&&(l.w=this.ub.ya(g));(g=this.ra.oc())&&(l.data=g);return l}Xt(g="full"){this.ub&&this.ub.Xt(g)}ac(g,l="full"){if("full"===l)this.tb=g.uid;else if(!g.c3)return;if("visual-state"!==l){var m=f.get(this);m&&(m.clear(),f.delete(this));if(m=g.ex)m=d.JH(m),f.set(this,m);this.Dd=g.hasOwnProperty("mts")?g.mts:
-1;if(m=g.ivs)for(const [p,u]of Object.entries(m))if(m=this.Ee.Q4(parseInt(p,10)),!(0>m||m>=this.ig.length)){var q=u;null===q&&(q=NaN);this.ig[m]=q}}if(this.Lb().mg){m=g.w;var r=m.l;this.ub.ba().jb!==r&&(q=this.ub.ba(),(r=q.tc().DB(r))?(this.ub.Wx(r),q.Vq(this,!0),r.Ih(this,!0),r.Eh(),this.ub.Pa()):"full"===l&&this.j.Sk(this));this.ub.Ca(m,l)}if("visual-state"!==l&&(l=g.behs))for(const [p,u]of Object.entries(l))l=this.cR(parseInt(p,10)),0>l||l>=this.Sc.length||this.Sc[l].ac(u);(g=g.data)&&this.ra.ac(g)}pi(){return this.Ye||
this.ZV()}ZV(){var g=this.ub?self.Gw:b;const l=this.ra.Dg(),m=this.Ee.IY,q=m||l||g;b.Vj(this);this.Ye=new q;b.Vj(null);if(l&&!(this.Ye instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(m&&(g=l||g,!(this.Ye instanceof g)))throw new TypeError(`setInstanceClass(): class '${m.name}' does not extend the right base class '${g.name}'`);return this.Ye}uea(g){if(0!==this.ig.length){var l={},m=this.Ee.mea();for(let q=0,r=m.length;q<r;++q)l[m[q]]=
{configurable:!1,enumerable:!0,get:d.Instance.prototype.vea.bind(this,q),set:d.Instance.prototype.uo.bind(this,q)};l=Object.create(Object.prototype,l);g.Nza={value:l,writable:!1}}}nea(g){var l=this.Sc;if(0!==l.length){var m={};for(const q of l)m[q.oi().Fj()]={value:q.vw(),writable:!1};l=Object.create(Object.prototype,m);g.oA={value:l,writable:!1}}}mi(g){g.instance=this.pi();var l=this.j;(l=l.Jb&&!l.wa().$B())&&a.TJ();this.pi().dispatchEvent(g);l&&a.kH()}}}
{"use strict";const d=self.C;d.Y9=class extends d.qa{constructor(a){super();this.zc=a;this.Tc=null;this.SD=[];this.eG=a.R();this.dG=a.P();this.EO=this.DO=1;this.EF=0}A(){this.Tc=null;d.G(this.SD)}UT(a){this.EF=(this.Tc=a)?a.ea():0}Ka(){return this.Tc}$f(){return 0<this.SD.length}Uf(){return this.SD}gaa(a){this.DO=a}haa(a){this.EO=a}bl(){return this.zc.kq()?this.Tc.R()/this.Tc.Rb.eG:1}cl(){return this.zc.jq()?this.Tc.P()/this.Tc.Rb.dG:1}ya(){return{sw:this.eG,sh:this.dG,sx:this.DO,sy:this.EO,psa:this.EF,
c:this.SD.map(a=>{let b="";a.lq()&&(b+="x");a.mq()&&(b+="y");a.kq()&&(b+="w");a.jq()&&(b+="h");a.NB()&&(b+="a");a.OB()&&(b+="z");a.xB()&&(b+="d");return{uid:a.Ja().tb,f:b}})}}Ca(a){this.eG=a.sw;this.dG=a.sh;this.DO=a.sx;this.EO=a.sy;this.EF=a.psa}Lm(a){const b=this.zc,e=b.K();for(const c of a.c){a=e.Qe(c.uid).B();const f=c.f,k={};k.Mv=f.includes("x");k.Nv=f.includes("y");k.Os=f.includes("w");k.Ns=f.includes("h");k.Lv=f.includes("a");k.Ov=f.includes("z");k.qA=f.includes("d");b.Sn(a,k)}}}}
{"use strict";const d=self.C,a=d.D(d.Rect),b=d.D(d.Ic),e=d.D(d.Event,"bboxchange",!1),c=d.D(d.Ua,0,0,0,0),f=d.D(d.Tn),k=d.D(d.Ua,1,1,1,1),g=d.D(d.Rect,0,0,-1,-1),l=d.D(d.Rect,0,0,-1,-1),m=new Set(["absolute","relative"]),q=[];let r=!0;d.Aba=class extends d.qa{constructor(p,u){super();this.N=p;this.V=p.J();this.j=p.K();this.Nl=u;this.Yl=-1;this.za=196635;this.V.Lb().ot()&&(this.za|=128);this.Yu=this.Xu=this.aM=this.uO=this.$a=this.Hf=this.sk=this.Ok=this.wd=this.S=this.W=NaN;this.Sm=d.D(d.Rect);this.MD=
d.D(d.Ic);this.TD=l;this.Iz=g;this.Ik=this.qv=this.YF=null;this.qr=this.xa=k;this.Ze=this.ts=null;this.N.J().wU()&&(this.Ze=d.D(d.L6,this.N,this));this.qO=this.Rb=null;this.ns=this.WZ=NaN;this.bj=null}OK(){this.za|=256}A(){this.ts&&(this.j.xb().aT(this.ts),this.ts=null);this.YF=null;this.qv&&(this.qv.n0.A(),this.qv=null);this.Ik&&(this.Ik.clear(),this.Ik=null);this.oC();this.il()&&this.Ka().nl(this);if(this.$f()){const p=[...this.Uf()];for(const u of p)this.nl(u)}this.kD();this.Nl=this.j=this.V=this.N=
null}Kj(p){r=!1;this.Dh(p[0],p[1]);this.Bf(p[2]);this.cc(p[3],p[4]);this.Hf=0;this.ot()?this.Jc(p[6]):this.$a=0;c.uj(p[7]);this.mD(c);this.Gt(p[8]);this.Ht(p[9]);this.Se(p[10]);this.Ze&&this.Ze.tfa(p[12]);p[14]&&(this.qO=p[14][1],this.WZ=p[14][2]);if(p[15]){var u=p[15];this.yH(u[0],u[1]);p=this.el();u=u[2];for(let t=0,w=u.length;t<w;++t){const x=u[t];for(let z=0,D=x.length;z<D;++z){const G=x[z],N=p.et(z,t);N.Fi(G[0]);N.Gi(G[1]);N.Bf(G[2]);N.KJ(G[3]);N.MJ(G[4])}}}r=!0;this.$t()}t6(){this.uO=this.$a=
this.Hf=this.sk=this.Ok=this.wd=this.S=this.W=0;this.aM=1;this.Yu=this.Xu=0;this.$t()}K(){return this.j}J(){return this.V}Ja(){return this.N}Ix(){return this.NB()?this.Ka().ea()-this.Rb.EF:0}Fi(p){p=+p;if(this.lq()){const u=this.Rb;p-=this.L();const t=-this.Ix();0===t?this.W+=p/u.bl():(this.W+=Math.cos(t)*p/u.bl(),this.mq()&&(this.S+=Math.sin(t)*p/u.cl()))}else this.W=p}X7(p){p=+p;this.lq()?this.Fi(this.L()+p):this.W+=p}L(){if(this.lq()){let p=this.W;const u=this.Rb,t=this.Ka(),w=this.Ix();0===w?
p*=u.bl():(p=p*u.bl()*Math.cos(w),this.mq()&&(p-=this.S*u.cl()*Math.sin(w)));return t.L()+p}return this.W}Gi(p){p=+p;if(this.mq()){const u=this.Rb;p-=this.M();const t=-this.Ix();0===t?this.S+=p/u.cl():(this.lq()&&(this.W-=Math.sin(t)*p/u.bl()),this.S+=Math.cos(t)*p/u.cl())}else this.S=p}Y7(p){p=+p;this.mq()?this.Gi(this.M()+p):this.S+=p}M(){if(this.mq()){let p=this.S;const u=this.Rb,t=this.Ka(),w=this.Ix();0===w?p*=u.cl():(p=p*u.cl()*Math.cos(w),this.lq()&&(p+=this.W*u.bl()*Math.sin(w)));return t.M()+
p}return this.S}Dh(p,u){p=+p;u=+u;if(this.QR()){const w=this.lq(),x=this.mq(),z=this.Rb,D=p-this.L(),G=u-this.M();var t=-this.Ix();if(0===t)this.W=w?this.W+D/z.bl():p,this.S=x?this.S+G/z.cl():u;else{const N=Math.sin(t);t=Math.cos(t);this.W=w?x?this.W+(t*D-N*G)/z.bl():this.W+t*D/z.bl():p;this.S=x?w?this.S+(N*D+t*G)/z.cl():this.S+t*G/z.cl():u}}else this.W=p,this.S=u}ut(p,u){p=+p;u=+u;this.QR()?this.Dh(this.L()+p,this.M()+u):(this.W+=p,this.S+=u)}HH(p,u){return this.L()===p&&this.M()===u}Bf(p){p=+p;
this.OB()&&(p-=this.Ka().gb());this.wd!==p&&(this.wd=p,this.DX(),p=this.ba(),0!==this.wd&&p.WW(),p.Eh())}DX(){this.$t();if(this.$f()){const p=this.Uf();for(let u=0,t=p.length;u<t;u++){const w=p[u];w.OB()&&w.DX()}}}Z7(p){this.Bf(this.gb()+p)}gb(){return this.OB()?this.Ka().gb()+this.wd:this.wd}Ud(){return this.ba().gb()+this.gb()}Af(p){p=+p;this.Ok=this.kq()?this.Ok*(p/this.R()):p}ES(p){p=+p;this.kq()?this.Af(this.R()+p):this.Ok+=p}R(){return this.kq()?this.Ka().R()*this.Ok:this.Ok}eg(p){p=+p;this.sk=
this.jq()?this.sk*(p/this.P()):p}DS(p){p=+p;this.jq()?this.eg(this.P()+p):this.sk+=p}P(){return this.jq()?this.Ka().P()*this.sk:this.sk}cc(p,u){p=+p;u=+u;this.Ok=this.kq()?this.Ok*(p/this.R()):p;this.sk=this.jq()?this.sk*(u/this.P()):u}IB(){if(this.il()){const p=this.Rb;return Math.min(p.bl(),p.cl())}return 1}ot(){return 0!==(this.za&128)}Jc(p){p=+p;this.ot()&&(this.NB()&&(p-=this.Ka().ea()),p=d.ue(p),this.$a!==p&&(this.$a=p,this.PK()))}T7(p){p=+p;0!==p&&this.ot()&&(this.$a=d.ue(this.$a+p),this.PK())}PK(){this.za|=
262144;if(this.$f()){const p=this.Uf();for(let u=0,t=p.length;u<t;u++)p[u].PK()}}ea(){return this.NB()?d.ue(this.Ka().ea()+this.$a):this.$a}oW(){const p=this.za;if(0!==(p&262144)){var u=this.ea();this.uO=Math.sin(u);this.aM=Math.cos(u);this.za=p&-262145}}pI(){this.oW();return this.uO}QH(){this.oW();return this.aM}Gt(p){this.Xu=+p}V7(p){this.Xu+=+p}Yk(){return this.Xu}Ht(p){this.Yu=+p}W7(p){this.Yu+=+p}Zk(){return this.Yu}mD(p){this.xa.Wc(p)||(this.xa===k?(this.xa=d.D(d.Ua,p),this.qr=d.D(d.Ua,p),this.qr.EA()):
p.sA(1,1,1,1)?this.qr=this.xa=k:(this.xa.set(p),this.qr.set(p),this.qr.EA()),this.$t())}Bi(p){p=d.aa(+p,0,1);this.xa.Kp!==p&&(c.qj(this.xa),c.Kp=p,this.mD(c))}U7(p){this.Bi(this.Rd()+p)}Rd(){return this.xa.Kp}LJ(p){this.xa.cm(p)||(c.qj(p),c.Kp=this.xa.Kp,this.mD(c))}taa(p,u,t){c.Vp(p,u,t);this.LJ(c)}jI(){return this.qr}xB(){return 0!==(this.za&512)}n$(p){this.Df(512,p)}lq(){return 0!==(this.za&1024)}oaa(p){this.Df(1024,p)}mq(){return 0!==(this.za&2048)}QR(){return 0!==(this.za&3072)}paa(p){this.Df(2048,
p)}kq(){return 0!==(this.za&4096)}naa(p){this.Df(4096,p)}jq(){return 0!==(this.za&8192)}maa(p){this.Df(8192,p)}NB(){return 0!==(this.za&16384)}laa(p){this.Df(16384,p)}OB(){return 0!==(this.za&32768)}qaa(p){this.Df(32768,p)}PU(){this.za&=-65025}Sn(p,u){if(p!==this&&!p.il()&&!this.VV(p)&&!this.UV(p)){var t=p.L(),w=p.M(),x=p.R(),z=p.P(),D=p.ea(),G=p.gb();p.fX(this);p.oaa(u.Mv);p.paa(u.Nv);p.naa(u.Os);p.maa(u.Ns);p.laa(u.Lv);p.qaa(u.Ov);p.n$(u.qA);u.Mv&&(p.W=t-this.L(),u.Os&&(p.W/=this.R()/this.Rb.eG));
u.Nv&&(p.S=w-this.M(),u.Ns&&(p.S/=this.P()/this.Rb.dG));u.Os&&(p.Ok=x/this.R(),p.Rb.gaa(p.Ok));u.Ns&&(p.sk=z/this.P(),p.Rb.haa(p.sk));u.Lv&&(p.$a=D-this.ea());u.Ov&&(p.wd=G-this.gb());this.Iba(p);this.Pa()}}nl(p){if(p.Ka()===this){var u=p.L(),t=p.M(),w=p.R(),x=p.P(),z=p.ea(),D=p.gb();p.fX(null);p.PU();p.Dh(u,t);p.cc(w,x);p.Jc(z);p.Bf(D);this.lha(p);this.Pa()}}uha(){for(var p of this.children())this.nl(p);(p=this.Ka())&&p.nl(this);this.PU()}il(){return null!==this.Ka()}Ka(){const p=this.Rb;return null!==
p?p.Ka():null}LB(){let p=this;for(;p.il();)p=p.Ka();return p}*CA(){let p=this.Ka();for(;p;)yield p,p=p.Ka()}C5(p){return this.Uf().includes(p)}$f(){const p=this.Rb;return null!==p?p.$f():!1}Uf(){const p=this.Rb;return null!==p?p.Uf():q}children(){return this.Uf()}*Zl(){for(const p of this.children())yield p,yield*p.Zl()}sB(){return this.Uf().length}PH(p){const u=this.Uf();p=Math.floor(+p);return 0>p||p>=u.length?null:u[p]}mK(p){this.Rb||(this.Rb=d.D(d.Y9,this));p&&this.Rb.UT(p)}kD(){this.Rb&&(this.Rb.A(),
this.Rb=null)}fX(p){p?(p.mK(null),this.mK(p)):(this.Rb&&this.Rb.UT(null),this.$f()||this.kD())}UV(p){if(!this.il())return!1;const u=this.Ka();return u===p?!0:u.UV(p)}VV(p){if(this.C5(p))return!0;for(const u of this.Uf())if(u.VV(p))return!0;return!1}Iba(p){this.Rb.Uf().push(p)}lha(p){const u=this.Rb.Uf(),t=u.indexOf(p);-1!==t&&u.splice(t,1);0!==u.length||this.il()||this.kD();p.$f()||p.kD()}DJ(p){this.ns=p}$t(){if(r){var p=this.j.xb();this.ts&&p.aT(this.ts);this.ts=p.O0(0!==(this.za&524288)?p.ZF||"<point>":
p.$F||"<default>",this.Cj(),this.qr,this.gb())}}co(){return this.xa===k}Se(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Cj()!==p&&(this.za=this.za&-2080374785|p<<26,this.$t())}Cj(){return(this.za&2080374784)>>26}Wx(p){this.Nl=p;0!==this.gb()&&this.Nl.WW()}ba(){return this.Nl}tc(){return this.ba().tc()}rD(p){this.Yl=p|0}hl(){this.Nl.ey();return this.Yl}Df(p,u){this.za=u?this.za|p:this.za&~p}Oc(){return 0!==(this.za&1)}Lg(p){this.Df(1,p)}vh(){return 0!==(this.za&8)}Vw(p){p=!!p;
this.vh()!==p&&(this.Df(8,p),p?this.Pa():this.FW())}FJ(p,u){this.Df(32,p);this.Ik&&this.Ik.clear();if(u.trim()){this.Ik||(this.Ik=new Set);for(const t of u.split(" "))t&&this.Ik.add(t.toLowerCase())}else this.Ik=null}Pa(){this.za|=65554;this.V.VW();this.j.U();this.Nl.Pq()&&(this.Rv(this.Sm,this.MD,!0),this.za&=-3,this.BX());0!==(this.za&4)&&this.N.Db().dispatchEvent(e);if(null!==this.Rb){const p=this.Rb.Uf();for(let u=0,t=p.length;u<t;++u)p[u].Pa()}}Rv(p,u,t){const w=this.L(),x=this.M(),z=this.R(),
D=this.P(),G=this.ea();p.vj(w-this.Xu*z,x-this.Yu*D,z,D);t&&this.ag()&&this.Zda(p);0===G?u.yg(p):(p.offset(-w,-x),u.YG(p,this.pI(),this.QH()),u.offset(w,x),u.rP(p));p.normalize()}vX(){const p=this.za;0!==(p&2)&&(this.Rv(this.Sm,this.MD,!0),this.za=p&-3)}Tb(){this.vX();return this.Sm}Tf(){this.vX();return this.MD}aJ(p){var u=this.L(),t=this.M();u=Math.round(u)-u;t=Math.round(t)-t;if(0===u&&0===t)return p;b.ua(p);b.offset(u,t);return b}T8(p){this.Sm.ua(p);this.MD.yg(this.Sm);this.za&=-3;this.oL();this.BX()}wT(p){this.Df(4,
p)}bS(){return 0!==(this.za&4)}jS(p,u,t){return u&&0!==this.Hf?this.lt(this.ba().Jx()):0===this.gb()||t?p.wA(this.Tb()):this.gfa()}gfa(){const p=this.ba(),u=this.Ud();if(u>=p.qB())return!1;p.QB(u,a);return a.wA(this.Tb())}lt(p){var u=this.Tb();const t=u.T,w=u.Z,x=u.O;u=u.X;const z=this.Ud();return p.W1(t,x,z,w,u,z+this.Hf)}nD(p){this.Df(1048576,p)}pD(p){this.Df(2097152,p)}GJ(p){this.YF=p;this.uK();this.ag()&&(this.bj.zP=null)}Dw(){return null!==this.YF||this.ag()}fl(){return this.AV(this.R(),this.P(),
this.ea(),this.pI(),this.QH())}n4(p,u){return this.AV(p,u,0,0,1)}AV(p,u,t,w,x){let z=this.qv;null===z&&(this.qv=z={n0:d.D(d.Tn),width:NaN,height:NaN,angle:NaN});const D=z.n0;if(z.width===p&&z.height===u&&z.angle===t)return D;const G=this.YF;if(this.ag()){const N=this.Yk(),B=this.Zk(),H=this.el();let I=this.bj.zP;I||(G?(f.ua(G),f.offset(N,B)):f.Oma(),I=H.K6(f),this.bj.zP=I);H.bba(I,D);D.offset(-N,-B);D.dQ(p,u,w,x)}else G?(D.ua(G),D.dQ(p,u,w,x)):D.VP(this.Tf(),-this.L(),-this.M());z.width=p;z.height=
u;z.angle=t;return D}uK(){this.XT(!0);const p=this.qv;null!==p&&(p.width=NaN)}yH(p,u){p=Math.floor(p);u=Math.floor(u);if(!this.Ja().Lb().Uka)throw Error("object does not support mesh");this.oC();this.bj={ZP:d.D(d.ja.AS,p,u),A0:d.D(d.ja.AS,p,u),zP:null}}ag(){return null!==this.bj}el(){if(!this.ag())throw Error("no mesh");return this.bj.ZP}RR(){if(!this.ag())throw Error("no mesh");return this.bj.A0}BJ(p){this.Df(65536,p)}mS(){return 0!==(this.za&65536)}XT(p){this.Df(131072,p)}c7(){return 0!==(this.za&
131072)}Zda(p){const u=this.bj.ZP,t=Math.min(u.e5(),0),w=Math.min(u.f5(),0),x=Math.max(u.Z4(),1),z=Math.max(u.a5(),1),D=p.width(),G=p.height();p.offsetLeft(t*D);p.offsetTop(w*G);p.yma((x-1)*D);p.xma((z-1)*G);this.Hf=u.b5()}oC(){this.bj&&(this.bj.ZP.A(),this.bj.A0.A(),this.bj=null,this.uK())}QT(p,u,t){p=Math.floor(p);u=Math.floor(u);var w=t.mode||"absolute";if(!m.has(w))throw Error("invalid mode");w="relative"===w;let x=t.x,z=t.y;const D=t.NA;let G="number"===typeof t.E0?t.E0:w?0:-1;t="number"===typeof t.F0?
t.F0:w?0:-1;if(!this.ag())return!1;const N=this.el(),B=N.et(p,u);if(null===B)return!1;let H=!1;"number"===typeof D&&B.gb()!==D&&(B.Bf(D),H=!0);w&&(x+=p/(N.Jl-1),z+=u/(N.Wl-1));-1!==G||w?(w&&(G+=p/(N.Jl-1)),G=d.aa(G,0,1)):G=B.gi;-1!==t||w?(w&&(t+=u/(N.Wl-1)),t=d.aa(t,0,1)):t=B.ii;if(B.L()===x&&B.M()===z&&B.gi===G&&B.ii===t)return H;B.Fi(x);B.Gi(z);B.KJ(G);B.MJ(t);this.uK();return!0}si(){return this.N.si()}Vv(p,u){return this.Tb().vg(p,u)&&this.Tf().vg(p,u)?this.si()?void 0:this.Dw()?this.fl().vg(p-
this.L(),u-this.M()):!0:!1}dfa(){return 0!==(this.za&16)}oL(){if(this.dfa()&&this.vh()&&0===(this.za&256)){var p=this.Tb(),u=this.V.UD,t=this.TD;a.set(u.Rj(p.T),u.Sj(p.O),u.Rj(p.Z),u.Sj(p.X));t.Wc(a)||(p=this.N,t===l?(u.Hh(p,null,a),this.TD=d.D(d.Rect,a)):(u.Hh(p,t,a),t.ua(a)),this.za&=-17)}}FW(){const p=this.TD;p!==l&&(this.V.UD.Hh(this.N,p,null),this.TD=l)}BX(){const p=this.ba();if(p.Pq()&&0===(this.za&256)){var u=p.gv,t=this.Tb(),w=this.Iz;a.set(u.Rj(t.T),u.Sj(t.O),u.Rj(t.Z),u.Sj(t.X));w.Wc(a)||
(t=this.N,w===g?(u.Hh(t,null,a),this.Iz=d.D(d.Rect,a)):(u.Hh(t,w,a),w.ua(a)),p.$$())}}GW(){const p=this.Iz;p!==g&&(this.ba().gv.Hh(this.N,p,null),this.Iz=g)}Fba(){const p=this.N,u=this.Nl,t=u.H;t.length&&t.Oe(-1)===p||(u.Vq(p,!1),u.Ih(p,!1),this.j.U())}Dba(){const p=this.N,u=this.Nl,t=u.H;t.length&&t[0]===p||(u.Vq(p,!1),u.Uga(p),this.j.U())}Eba(p){const u=this.N,t=this.Nl;if(t.tc()!==p.tc())throw Error("layer from different layout");p!==t&&(t.Vq(u,!0),this.Wx(p),p.Ih(u,!0),this.j.U())}DU(p,u){const t=
this.N;let w=!1;const x=this.Nl;if(p.tb!==t.tb){var z=p.B();if(!z)throw Error("expected world instance");z=z.ba();x.Oa()!==z.Oa()&&(x.Vq(t,!0),this.Wx(z),z.Ih(t,!0),w=!0);p=z.M7(t,p,!!u);(w||p)&&this.j.U()}}via(p){this.Df(64,p)}Cw(){return 0!==(this.za&64)}ya(p){const u={x:this.L(),y:this.M(),w:this.R(),h:this.P(),l:this.ba().jb,zi:this.hl()};0!==this.gb()&&(u.ze=this.gb());0!==this.ea()&&(u.a=this.ea());this.co()||(u.c=this.xa.toJSON());.5!==this.Yk()&&(u.oX=this.Yk());.5!==this.Zk()&&(u.oY=this.Zk());
0!==this.Cj()&&(u.bm=this.Cj());this.Oc()||(u.v=this.Oc());this.vh()||(u.ce=this.vh());this.bS()&&(u.be=this.bS());this.Ze&&(u.fx=this.Ze.ya());const t=0!==(this.za&32);t&&(u.sfi=t);this.Ik&&(u.sft=[...this.Ik].join(" "));this.Rb&&"visual-state"!==p&&(u.sgi=this.Rb.ya());this.ag()&&(u.mesh=this.el().oc());return u}Xt(p){"visual-state"!==p&&this.uha()}Ca(p,u){r=!1;this.Fi(p.x);this.Gi(p.y);this.Af(p.w);this.eg(p.h);this.rD(p.zi);this.Bf(p.hasOwnProperty("ze")?p.ze:0);this.Jc(p.hasOwnProperty("a")?
p.a:0);p.hasOwnProperty("c")?c.uj(p.c):p.hasOwnProperty("o")?(c.qj(this.xa),c.Kp=p.o):c.Wp(1,1,1,1);this.mD(c);this.Gt(p.hasOwnProperty("oX")?p.oX:.5);this.Ht(p.hasOwnProperty("oY")?p.oY:.5);this.Se(p.hasOwnProperty("bm")?p.bm:0);this.Lg(p.hasOwnProperty("v")?p.v:!0);this.Vw(p.hasOwnProperty("ce")?p.ce:!0);this.wT(p.hasOwnProperty("be")?p.be:!1);this.FJ(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Ze&&p.hasOwnProperty("fx")&&this.Ze.Ca(p.fx);if(p.hasOwnProperty("sgi")&&
"visual-state"!==u){this.mK(null);const t=this.Rb,w=p.sgi;t.Ca(w);const x=this.K().Db(),z=()=>{x.removeEventListener("afterload",z);0===(this.za&256)&&t.Lm(w)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.yH(p.cols,p.rows),this.el().ac(p)):this.oC();this.Pa();r=!0;this.$t()}}}
{"use strict";const d=self.C;d.jQ=class extends d.qa{constructor(a,b){super();const e=a.K(),c=e.op,f=e.ri(b[1]);c.B5(f)||c.c2(b);this.j=e;this.V=a;this.bk=c.bR(f);this.Ta=null;this.LE=f.Instance;this.jb=b[2];this.Na=b[0];this.kz=this.j.Fj(b[3]);this.Ta=d.D(f.Ae,this);this.Vb()}static fb(a,b){return d.D(d.jQ,a,b)}A(){this.bk=this.j=null;this.Ta.A();this.LE=this.Ta=null}Vb(){this.Ta.Vb()}K(){return this.j}J(){return this.V}Qd(){return this.bk}Ha(){return this.Na}Fj(){return this.kz}}}
{"use strict";const d=self.C,a=self.XR;d.QA=class extends d.qa{constructor(b){super();this.j=b.Xc;this.rd=b.fP;this.bk=this.rd.Qd();this.N=b.instance;this.cb=b.index;this.Ye=this.ra=null;this.bk.Ih(this.N)}A(){this.Ye&&(this.Ye.Ux(),this.Ye=null);this.bk.Vq(this.N);this.ra.A();this.N=this.bk=this.rd=this.j=this.Ye=this.ra=null}RC(b){if(this.ra)throw Error("already got sdk instance");this.ra=d.D(this.rd.LE,this,b);this.Wea()}K(){return this.j}oi(){return this.rd}Qd(){return this.bk}Hi(){return this.cb}lC(){this.ra.lC()}oc(){return this.ra.oc()}ac(b){return this.ra.ac(b)}static RJ(b,
e){var c=b.N,f=e.N;const k=c.J().Oa(),g=f.J().Oa();if(k!==g)return k-g;c=c.LZ;f=f.LZ;return c!==f?c-f:b.ID.Hi()-e.ID.Hi()}Wea(){const b=this.ra.Dg(),e=b||a;a.Vj(this);this.Ye=new e;a.Vj(null);if(b&&!(this.Ye instanceof a))throw new TypeError(`script interface class '${b.name}' does not extend the right base class '${a.name}'`);}vw(){return this.Ye}}}
{"use strict";const d=self.C;d.jm=class extends d.qa{constructor(a,b){super();this.zc=a;this.Lh=[];this.Xj=[];this.kE=new Map;this.Si=[];this.av=!0;for(const e of b)a=d.D(d.PQ,this,e,this.Lh.length),this.Lh.push(a),this.kE.set(a.Ha().toLowerCase(),a),3<=e.length&&this.Si.push(this.MK(e[2]));this.K().Kba(this)}A(){d.G(this.Lh);d.G(this.Xj);this.kE.clear();d.G(this.Si);this.zc=null}g9(a){if(a.length){this.Lh=a.concat(this.Lh);for(const b of a)this.kE.set(b.Ha().toLowerCase(),b);for(let b=0,e=this.Lh.length;b<
e;++b)this.Lh[b].zia(b)}}MK(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.D(d.Ua);f.uj(c);a[b]=f}}return a}K(){return this.zc.K()}yo(){d.G(this.Xj);let a=!0;for(const b of this.Lh)b.Fb&&(this.Xj.push(b),b.rb.av||(a=!1));this.av=a}mh(){return this.Lh}x5(){return 0<this.Lh.length}nm(a){return this.kE.get(a.toLowerCase())||null}jR(a){a=Math.floor(+a);if(0>a||a>=this.Lh.length)throw new RangeError("invalid effect type index");return this.Lh[a]}Hw(a){return this.jR(a).Fb}FT(a,
b){this.jR(a).uC(b)}Cw(){return 0<this.Xj.length}ph(a){return this.Si[a]}static W9(a){return a&&a instanceof d.Ua?{t:"color",v:a.toJSON()}:a}static A7(a){if("object"===typeof a){if("color"===a.t){const b=d.D(d.Ua);b.uj(a.v);return b}throw Error("invalid effect parameter type");}return a}static rT(a){return a.map(d.jm.W9)}static vS(a){return a.map(d.jm.A7)}oc(){return this.Lh.map(a=>({name:a.Ha(),active:a.Fb,params:d.jm.rT(this.Si[a.Oa()])}))}ac(a){for(const b of a)if(a=this.nm(b.name))a.uC(b.active),
this.Si[a.Oa()]=d.jm.vS(b.params);this.yo()}}}
{"use strict";const d=self.C;d.PQ=class extends d.qa{constructor(a,b,e){super();this.bb=a;this.gd=b[0];this.Na=b[1];this.cb=e;this.rb=null;this.Fb=!0}A(){this.rb=this.bb=null}O1(a){a=d.D(d.PQ,a,[this.gd,this.Na],-1);a.rb=this.rb;a.Fb=this.Fb;return a}XV(a){a=a.KR(this.gd);if(!a)throw Error("failed to find shader program '"+this.gd+"'");this.rb=a}Ha(){return this.Na}zia(a){this.cb=a}Oa(){return this.cb}K(){return this.bb.K()}uC(a){this.Fb=!!a}p4(){const a=[];for(let b=0,e=this.rb.Cs.length;b<e;++b){const c=
this.rb.EB(b);if("float"===c||"percent"===c)a.push(0);else if("color"===c)a.push(d.D(d.Ua,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return a}}}
{"use strict";const d=self.C;d.L6=class extends d.qa{constructor(a,b){super();this.N=a;this.$ka=b;this.bb=a.J().bb;this.Zq=[];this.Xj=[];this.av=!0;this.Si=[];for(const e of this.bb.mh())this.Zq.push(!0);this.yo()}A(){d.G(this.Zq);d.G(this.Xj);d.G(this.Si);this.bb=this.N=null}tfa(a){for(const b of a)this.Si.push(this.MK(b))}MK(a){a=a.slice(0);for(let b=0,e=a.length;b<e;++b){const c=a[b];if(Array.isArray(c)){const f=d.D(d.Ua);f.uj(c);a[b]=f}}return a}x7(){for(const a of this.bb.mh())this.Si.push(a.p4())}K(){return this.N.K()}yo(){d.G(this.Xj);
const a=this.bb.mh(),b=this.Xj,e=this.Zq;let c=!0;for(let f=0,k=a.length;f<k;++f)if(e[f]){const g=a[f];b.push(g);g.rb.av||(c=!1)}this.av=c;this.$ka.via(!!b.length)}ph(a){return this.Si[a]}Hw(a){return this.Zq[a]}FT(a,b){this.Zq[a]=!!b}mh(){return this.bb.mh()}ya(){return this.bb.mh().map(a=>({name:a.Ha(),active:this.Zq[a.Oa()],params:d.jm.rT(this.Si[a.Oa()])}))}Ca(a){for(const b of a)if(a=this.bb.nm(b.name))this.Zq[a.Oa()]=b.active,this.Si[a.Oa()]=d.jm.vS(b.params);this.yo()}}}
{"use strict";const d=self.C,a=[],b=d.D(d.Tn),e=d.D(d.Tn),c=d.D(d.Ic);d.D(d.Rect);d.D(d.Rect);let f=null,k=null,g=null;d.P1=class extends d.qa{constructor(l){super();this.j=l;this.Hz=[]}A(){this.j=null}r9(l,m){const q=l.B(),r=m.B();q&&r&&q.vh()&&r.vh()&&this.Hz.push([l,m])}hQ(l,m,q){for(const [r,p]of this.Hz){let u;if(l===r)u=p;else if(l===p)u=r;else continue;u.Us(m)&&(q.includes(u)||q.push(u))}}xQ(l,m){if(!this.Hz.length)return!1;for(const [q,r]of this.Hz)if(l===q&&m===r||l===r&&m===q)return!0;return!1}yQ(){d.G(this.Hz)}WJ(l,
m){if(!l||!m||l===m)return!1;l=l.B();m=m.B();if(!l.vh()||!m.vh())return!1;const q=l.ba(),r=m.ba();return q.m7(r)?this.cja(l,m):this.bja(l,m)}cja(l,m){if(!l.Tb().wA(m.Tb())||!l.Tf().uP(m.Tf())||l.si()&&m.si())return!1;if(l.si())return this.XJ(l,m);if(m.si())return this.XJ(m,l);if(!l.Dw()&&!m.Dw())return!0;const q=l.fl(),r=m.fl();return q.vA(r,m.L()-l.L(),m.M()-l.M())}bja(l,m){var q=l.si(),r=m.si();if(q&&!r)return this.mU(l,m);if(r&&!q)return this.mU(m,l);if(r||q)return!1;r=l.ba();q=m.ba();b.ua(l.fl());
e.ua(m.fl());var p=b.Ac;for(let u=0,t=p.length;u<t;u+=2){const w=u+1,x=p[w],[z,D]=r.xq(p[u]+l.L(),x+l.M());p[u]=z;p[w]=D}l=e.Ac;for(let u=0,t=l.length;u<t;u+=2){r=u+1;p=l[r];const [w,x]=q.xq(l[u]+m.L(),p+m.M());l[u]=w;l[r]=x}b.UP();e.UP();return b.vA(e,0,0)}mU(l,m){var q=l.ba(),r=m.ba();f||(f=d.D(d.Tn));k||(k=d.D(d.Rect));g||(g=d.D(d.Ic));var p=m.L(),u=m.M();const [t,w]=r.xq(p,u),[x,z]=q.jh(t,w);q=x-p;u=z-u;k.ua(m.Tb());k.offset(q,u);if(!l.Tb().wA(k))return!1;g.ua(m.Tf());g.offset(q,u);if(!l.Tf().uP(g))return!1;
f.ua(m.fl());r=f.Ac;for(let D=0,G=r.length;D<G;D+=2)p=D+1,r[D]+=q,r[p]+=u;f.UP();return this.XJ(l,m,x,z,f,k,g)}XJ(l,m,q,r,p,u,t){u=void 0!==u?u:m.Tb();const w=l.L(),x=l.M();var z=l.Ja().ra;q=void 0!==q?q:m.L();r=void 0!==r?r:m.M();l=m.Dw();t=void 0!==t?t:m.Tf();z.k4(u,a);for(let N=0,B=a.length;N<B;++N){var D=a[N];z=D.CR();if(u.Zla(z,w,x)&&(c.yg(z),c.offset(w,x),c.uP(t)))if(l){var G=void 0!==p?p:m.fl();if(D=D.iI()){if(D.vA(G,q-(w+z.T),r-(x+z.O)))return d.G(a),!0}else if(b.VP(c,0,0),b.vA(G,q,r))return d.G(a),
!0}else if(G=D.iI()){if(b.VP(t,0,0),G.vA(b,-(w+z.T),-(x+z.O)))return d.G(a),!0}else return d.G(a),!0}d.G(a);return!1}Nt(l,m,q,r){const p=l.ia();var u=this.j.Pb();if(!u)throw Error("cannot call outside event");u=u.qe;if(p.kc){r||(p.Ve(!1),d.G(p.H));for(var t of l.ta()){var w=t.B(),x=w.ba();const [z,D]=x.jh(m,q,w.Ud());if(w.Vv(z,D)){if(r)return!1;p.Uq(t)}else u&&p.Do(t)}}else{t=u?p.yc:p.H;w=0;for(let z=0,D=t.length;z<D;++z){x=t[z];const G=x.B(),N=G.ba(),[B,H]=N.jh(m,q,G.Ud());if(G.Vv(B,H)){if(r)return!1;
u?p.Uq(x):t[w++]=x}else u&&(t[w++]=x)}r||(t.length=w)}l.rc();return r?!0:p.wI()}tB(l,m,q,r){l=l?1!==l.Fe||1!==l.Ge:!1;if(m.ib)for(const p of m.To)l||p.KL?d.$l(r,p.ta()):(p.tX(),p.UD.nC(q,r));else l||m.KL?d.$l(r,m.ta()):(m.tX(),m.UD.nC(q,r))}g5(l,m,q,r){for(const p of m)this.tB(l,p,q,r)}}}
{"use strict";const d=self.C;d.Laa=class extends d.qa{constructor(a,b){super();this.YL=a;this.XL=b;this.dk=d.D(d.Ow)}A(){this.dk.A();this.dk=null}Xn(a,b,e){let c=this.dk.la(a,b);return c?c:e?(c=d.D(d.u5,this,a,b),this.dk.Set(a,b,c),c):null}Rj(a){a=Math.floor(a/this.YL);return isFinite(a)?a:0}Sj(a){a=Math.floor(a/this.XL);return isFinite(a)?a:0}Hh(a,b,e){if(b)for(let c=b.T,f=b.Z;c<=f;++c)for(let k=b.O,g=b.X;k<=g;++k){if(e&&e.vg(c,k))continue;const l=this.Xn(c,k,!1);l&&(l.xi(a),l.tq()&&this.dk.$p(c,
k))}if(e)for(let c=e.T,f=e.Z;c<=f;++c)for(let k=e.O,g=e.X;k<=g;++k)b&&b.vg(c,k)||this.Xn(c,k,!0).EI(a)}nC(a,b){let e=this.Rj(a.T);const c=this.Sj(a.O),f=this.Rj(a.Z);a=this.Sj(a.X);if(isFinite(f)&&isFinite(a))for(;e<=f;++e)for(let k=c;k<=a;++k){const g=this.Xn(e,k,!1);g&&g.DH(b)}}}}{"use strict";const d=self.C;d.u5=class extends d.qa{constructor(a,b,e){super();this.W=b;this.S=e;this.H=d.D(d.mH)}A(){this.H.A();this.H=null}tq(){return this.H.tq()}EI(a){this.H.Yc(a)}xi(a){this.H.$p(a)}DH(a){d.$l(a,this.H.MH())}}}
{"use strict";const d=self.C;d.Gta=class{constructor(){this.rect=new d.Rect;this.rA=0}Set(a,b,e,c){this.rect.set(a,b,e,c);this.rect.normalize();this.rA=0;return this}}}
{"use strict";const d=self.C,a=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),b=new Set(["high","low"]),e=self.fm.Rp,c=e.create(),f=d.D(d.Ic),k=d.D(d.Rect);d.vQ=class extends d.qa{constructor(g){super();this.j=g;this.Dl=null;this.RY=!1;this.Pk=this.pb=null;this.DM="high-performance";this.Mo=this.Lo=this.Oi=this.Pi=this.ed=this.td=this.Ip=this.Jp=0;this.uu=!0;this.jk=this.Hl=this.IO=0;this.Wja=this.iY="letterbox-scale";this.Vja=this.Uja=0;this.bE=e.create();
this.rk=this.$O="high";this.Eu=!1;this.my=[];this.uG=new Set;this.RF=self.C3_Shaders;this.Qg=this.Vo=0;this.zu=NaN;this.BE=null;this.xN=new Map;this.Ey=NaN;this.AG=new Map;this.VF="";this.vO=1;this.$Z=d.D(d.Rect);this.wO="";this.a_=this.Rz=null;this.uz=this.pka=0;this.gf=-1;this.gp=0;this.DN=l=>this.gp=l.progress;this.pg=null;this.qg={AA:null,DA:null,MA:null};this.zO=this.e_=this.AO=0;this.Lk="fade-in";this.yO=null;this.d_=new Promise(l=>this.yO=l)}uia(g){this.DM=g}Ria(g){this.RY=!!g}async nf(g){this.Dl=
g.canvas;this.j.wj("runtime","window-resize",q=>this.Oga(q));this.j.wj("runtime","fullscreenchange",q=>this.jga(q));this.j.wj("runtime","fullscreenerror",q=>this.kga(q));this.Dl.addEventListener("webglcontextlost",q=>this.Tx(q));this.Dl.addEventListener("webglcontextrestored",()=>this.TK());this.Eu=!!g.isFullscreen;var l=navigator.gpu&&this.RY;let m=!1;if(l)try{await this.aW(!0)}catch(q){this.Pk=null}if(!this.xb())try{await this.$V(!0)}catch(q){this.pb=null}this.xb()||(m=!0);if(!this.xb()&&l)try{await this.aW(!1)}catch(q){this.Pk=
null}if(!this.xb())try{await this.$V(!1)}catch(q){this.pb=null}l=this.xb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.B$(m);this.cc(g.windowInnerWidth,g.windowInnerHeight,!0);this.Pk?await this.Zea():this.pb&&await this.Yea();l.CJ(this.uu);l.sl()&&(this.zu=0);g=!1;for(const q of this.j.EL){for(const r of q.mh())r.XV(l),r.rb.hA&&(g=!0);q.yo()}this.j.Pia(g)}async aW(g){g={powerPreference:this.DM,depth:this.j.Jn,failIfMajorPerformanceCaveat:g};this.Pk=d.D(d.ja.dya);
await this.Pk.fb(this.Dl,g)}async $V(g){g={powerPreference:this.DM,R_:!0,depth:this.j.Jn,failIfMajorPerformanceCaveat:g};"Android"===d.Cd.tt&&"Chromium"===d.Cd.SA&&75>d.Cd.qH&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.d0=1);"standard"===this.j.ju?g.alpha=!0:(g.alpha=!1,g.yP=!0);this.pb=d.D(d.ja.yba,this.Dl,g);await this.pb.VB()}async Zea(){if(this.RF){const g=[];for(const [l,m]of Object.entries(this.RF))g.push(this.Pk.AH(l,
m.G0,d.ja.eya.wB()));await Promise.all(g)}}async Yea(){if(this.RF){const g=[];for(const [l,m]of Object.entries(this.RF))m.src=m.W_,g.push(this.pb.AH(m,d.ja.zx.wB(),l));await Promise.all(g);this.pb.J9();this.pb.Kg()}this.pb.sl()&&(this.BE=d.D(d.ja.AU,this.pb))}A(){this.Dl=this.pb=this.j=null}Oga(g){const l=this.j,m=g.devicePixelRatio;l.cn&&(self.devicePixelRatio=m);l.nia(m);this.Eu=!!g.isFullscreen;this.cc(g.innerWidth,g.innerHeight);l.U();l.Jb&&(l.Ew()||self.ih.Kqa())&&l.gJ()}jga(g){this.Eu=!!g.isFullscreen;
this.cc(g.innerWidth,g.innerHeight,!0);this.j.U()}kga(g){this.Eu=!!g.isFullscreen;this.cc(g.innerWidth,g.innerHeight,!0);this.j.U()}cc(g,l,m=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.Jp!==g||this.Ip!==l||m){this.Jp=g;this.Ip=l;m=this.kw();"letterbox-scale"===m?this.lca(g,l):"letterbox-integer-scale"===m?this.kca(g,l):"off"===m?this.ica(g,l):this.jca(g,l);this.nja(m);this.Dl.width=this.Pi;this.Dl.height=this.Oi;this.j.Aq("canvas","update-size",{marginLeft:this.Lo,
marginTop:this.Mo,styleWidth:this.td,styleHeight:this.ed});g=this.xb();g.cc(this.Pi,this.Oi,!0);for(var q of this.my)g.B2(q);d.G(this.my);g.Tv(this.bE,this.oh()/this.Cg());q=this.j.nb;q.At();q.zt()}}lca(g,l){const m=this.j.lm(),q=this.j.Xh,r=this.j.Wh,p=q/r;g/l>p?(this.td=Math.round(l*p),this.ed=l,this.Lo=Math.floor((g-this.td)/2),this.Mo=0):(this.td=g,this.ed=Math.round(g/p),this.Lo=0,this.Mo=Math.floor((l-this.ed)/2));this.Pi=Math.round(this.td*m);this.Oi=Math.round(this.ed*m);this.j.ux(q,r)}kca(g,
l){const m=this.j.lm();1!==m&&(g+=1,l+=1);const q=this.j.Xh,r=this.j.Wh;var p=q/r;p=g/l>p?l*p*m/q:g/p*m/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.Pi=Math.round(q*p);this.Oi=Math.round(r*p);this.td=this.Pi/m;this.ed=this.Oi/m;this.Lo=Math.max(Math.floor((g-this.td)/2),0);this.Mo=Math.max(Math.floor((l-this.ed)/2),0);this.j.ux(q,r)}jca(g,l){const m=this.j.lm();this.td=g;this.ed=l;this.Pi=Math.round(this.td*m);this.Oi=Math.round(this.ed*m);this.Mo=this.Lo=0;g=this.mm();this.j.ux(this.td/g,
this.ed/g)}ica(g,l){const m=this.j.lm();this.td=this.j.tg;this.ed=this.j.sg;this.Pi=Math.round(this.td*m);this.Oi=Math.round(this.ed*m);this.Eu?(this.Lo=Math.floor((g-this.td)/2),this.Mo=Math.floor((l-this.ed)/2)):this.Mo=this.Lo=0;this.j.ux(this.j.tg,this.j.sg)}nja(g){if("high"===this.$O)this.Hl=this.Pi,this.jk=this.Oi,this.rk="high";else{let m;if("off"===this.kw()){var l=this.j.tg;m=this.j.sg}else l=this.j.Xh,m=this.j.Wh;this.Pi<l&&this.Oi<m?(this.Hl=this.Pi,this.jk=this.Oi,this.rk="high"):(this.Hl=
l,this.jk=m,this.rk="low","scale-inner"===g?(g=l/m,l=this.Jp/this.Ip,l<g?this.Hl=this.jk*l:l>g&&(this.jk=this.Hl/l)):"scale-outer"===g&&(g=l/m,l=this.Jp/this.Ip,l>g?this.Hl=this.jk*l:l<g&&(this.jk=this.Hl/l)))}}y$(g){if(!a.has(g))throw Error("invalid fullscreen mode");this.iY=g;g=this.j.nb;g.At();g.zt()}AB(){return this.iY}kw(){return this.Eu?this.Wja:this.AB()}GT(g){if(!b.has(g))throw Error("invalid fullscreen scaling quality");this.$O=g;this.j.nb.At()}static lea(g){switch(g){case 0:return"off";
case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}oh(){return this.Hl}Cg(){return this.jk}CJ(g){this.uu=!!g}Nia(g){this.IO=g}e7(){return this.xb().eo()}Tx(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.my=[];this.uG.clear();this.pb.Am();this.j.Tx()}async TK(){await this.pb.ZI();await this.Bya();for(const g of this.j.EL)for(const l of g.mh())l.XV(this.pb);
await this.j.TK();console.log("[Construct 3] WebGL context restored")}oq(){return this.pb}Bw(){return this.Pk}xb(){return this.Pk||this.pb}dl(){return"low"===this.rk?1/this.j.lm():this.mm()}mm(){const g=this.kw();if("off"===g||"crop"===g)return 1;const l=this.j.Xh,m=this.j.Wh,q=l/m,r=this.Pi/this.Oi;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.ed/m:this.td/l}wJ(g,l,m){l=l||this.Hl;m=m||this.jk;const q=l/2+this.Uja,r=m/2+this.Vja;{let p=this.bE;if(l!==this.Hl||m!==this.jk)g.Tv(c,l/m),
p=c;g.Jt(p)}l=g.Sv(q,r,100*this.j.lm(),q,r,m||this.jk);g.Ft(l)}j$(g){var l=this.td/2;const m=this.ed/2;g.Jt(this.bE);l=g.Sv(l,m,100,l,m);g.Ft(l)}cq(){return this.Lo}eq(){return this.Mo}fw(g){g.depth=this.j.Jn;const l=this.my,m=l.findIndex(r=>r.R6(g));let q;-1!==m?(q=l[m],l.splice(m,1)):q=this.xb().l2(g);this.uG.add(q);return q}oo(g){if(!this.uG.has(g))throw Error("render target not in use");this.uG.delete(g);this.my.push(g)}*CG(){for(const g of this.j.nb.IA())for(const l of g.qc){const m=this.xN.get(l);
m&&(yield m)}}tR(g){if(!this.xb().sl())return null;let l=this.xN.get(g);l||(l={name:g.Ha(),$P:d.D(d.ja.AU,this.pb),EG:0,c0:0},this.xN.set(g,l));return l.$P}kja(){const g=this.xb();if(g.sl()&&0===this.Qg){this.Qg=g.Vi;this.Ey=NaN;for(const l of this.CG())l.EG=NaN}}qja(){this.pb&&this.pb.sl()&&this.rja();this.Pk&&this.Pk.sl()&&this.sja()}rja(){if(isNaN(this.Ey)&&(this.Ey=this.BE.oR(this.Vo,this.Qg),!isNaN(this.Ey))){if(this.j.Jb)for(const g of this.CG())if(g.EG=g.$P.oR(this.Vo,this.Qg),isNaN(g.EG))return;
this.BE.LQ(this.Qg);this.zu=Math.min(this.Ey,1);if(this.j.Jb){for(const g of this.CG())g.$P.LQ(this.Qg),g.c0=Math.min(g.EG,1);self.ih.lba(this.zu,[...this.CG()])}this.Vo=this.Qg;this.Qg=0}}sja(){if(0!==this.Qg){for(var g=this.Vo;g<this.Qg;++g){var l=this.AG.get(g);if(l&&!l.TB())return}l=this.j.Ub();g=d.F7(l.qc.length+1);for(var m=this.Vo;m<this.Qg;++m){var q=this.AG.get(m);if(q){q=q.HB();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const u=q[2*r],t=q[2*r+1];g[r]=0===Number(u)||0===Number(t)?
NaN:g[r]+Number(t-u)/1E9}}}this.zu=d.aa(g[0],0,1);if(this.j.Jb){m=[];l=l.qc;for(let r=0,p=Math.min(l.length,g.length-1);r<p;++r)m.push({name:l[r].Ha(),c0:d.aa(g[r+1],0,1)});self.ih.lba(this.zu,m)}for(g=this.Vo;g<this.Qg;++g)this.AG.delete(g);this.Vo=this.Qg;this.Qg=0}}Uba(g){this.AG.set(this.Pk.Vi,g)}CB(){return this.zu}jU(g,l,m,q,r,p){this.VF=g;this.vO=l;this.$Z.vj(m,q,r,p);return this.Rz?this.Rz:this.Rz=new Promise(u=>{this.a_=u})}Tfa(){if(this.VF){var g=this.Dl,l=this.$Z,m=d.aa(Math.floor(l.T),
0,g.width),q=d.aa(Math.floor(l.O),0,g.height),r=l.width();r=0===r?g.width-m:d.aa(Math.floor(r),0,g.width-m);l=l.height();l=0===l?g.height-q:d.aa(Math.floor(l),0,g.height-q);(0!==m||0!==q||r!==g.width||l!==g.height)&&0<r&&0<l&&(g=d.nf(r,l),g.getContext("2d").drawImage(this.Dl,m,q,r,l,0,0,r,l));d.Uv(g,this.VF,this.vO).then(p=>{this.wO=URL.createObjectURL(p);this.Rz=null;this.a_(this.wO)});this.VF="";this.vO=1}}a7(){return 0<this.pka}s6(g){this.pb&&(2===g?(this.pg=d.D(d.ja.iJ,this.xb()),this.pg.LT(),
this.pg.xJ("Arial"),this.pg.yJ(16),this.pg.IT("center"),this.pg.hU("center"),this.pg.cc(300,200)):0===g?(g=this.j.Ou)&&g.yq(this.pb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.Ffa().then(l=>{"done"===this.Lk?this.pb.Pe(l):this.qg.AA=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.fW("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Lk?this.pb.Pe(l):this.qg.DA=l}).catch(l=>console.warn("Failed to load splash image: ",
l)),this.fW("splash-images/splash-website-512.png").then(l=>{"done"===this.Lk?this.pb.Pe(l):this.qg.MA=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async Ffa(){var g=(new URL("splash-images/splash-logo.svg",this.j.OH())).toString();g=await d.km(g);g=await this.j.n9(g);return await this.pb.aB(g,{BA:"high"})}async fW(g){g=(new URL(g,this.j.OH())).toString();g=await d.km(g);return await this.pb.aB(g,{BA:"high"})}AI(){this.j.Aq("runtime","hide-cordova-splash")}Oaa(){this.uz=Date.now();
this.j.Db().addEventListener("loadingprogress",this.DN);this.gf=requestAnimationFrame(()=>this.jV());3!==this.j.Nu&&this.AI()}async J3(){if(this.pb){this.gp=1;var g=this.j.Nu;4===g&&await this.d_;this.d_=this.yO=null;-1!==this.gf&&(cancelAnimationFrame(this.gf),this.gf=-1);this.j.Db().removeEventListener("loadingprogress",this.DN);this.DN=null;this.pg&&(this.pg.A(),this.pg=null);this.j.u9();this.pb.wx();this.qg.AA&&(this.pb.Pe(this.qg.AA),this.qg.AA=null);this.qg.DA&&(this.pb.Pe(this.qg.DA),this.qg.DA=
null);this.qg.MA&&(this.pb.Pe(this.qg.MA),this.qg.MA=null);this.pb.XA();this.pb.Ys();this.Lk="done";this.Vo=this.pb.Vi;3===g&&this.AI()}}jV(){if(-1!==this.gf){var g=this.pb;if(g){g.wx();this.gf=-1;var l=this.j.Eb.HM,m=this.j.Nu;3!==m&&(this.j$(g),g.XA(),g.yt(),g.Kg(),g.Wd(null));if(0===m)this.Qda(l);else if(1===m)this.VC(l,120,0);else if(2===m)this.Pda(l);else if(3!==m)if(4===m)this.Rda(l);else throw Error("invalid loader style");g.Ys();this.gf=requestAnimationFrame(()=>this.jV())}}}Pda(g){g?this.pg.zT(1,
0,0):this.pg.zT(.6,.6,.6);this.pg.rl(Math.round(100*this.gp)+"%");g=this.td/2;const l=this.ed/2;f.v0(g-150,l-100,g+150,l+100);this.pb.Wd(this.pg.$b());this.pb.Nj(f,this.pg.vf())}VC(g,l,m){const q=this.pb;q.Ww();g?q.dg(1,0,0,1):q.dg(.118,.565,1,1);g=this.td/2;const r=this.ed/2,p=l/2;k.vj(g-p,r-4+m,Math.floor(l*this.gp),8);q.Rect(k);k.vj(g-p,r-4+m,l,8);k.offset(-.5,-.5);k.LG(.5,.5);q.dg(0,0,0,1);q.rS(k);k.LG(1,1);q.dg(1,1,1,1);q.rS(k)}Qda(g){var l=this.j.Ou;if(l)if(l=l.$b()){var m=l.R(),q=l.P(),r=this.td/
2,p=this.ed/2,u=m/2;q/=2;f.v0(r-u,p-q,r+u,p+q);this.pb.Wd(l);this.pb.Ic(f);this.VC(g,m,q+16)}else this.VC(g,120,0);else this.VC(g,120,0)}Rda(g){const l=this.pb,m=this.qg.AA,q=this.qg.DA,r=this.qg.MA,p=Date.now();0===this.AO&&(this.uz=p);const u=this.j.nt()||this.j.kka&&!this.j.S6(),t=u?0:200,w=u?0:3E3;let x=1;"fade-in"===this.Lk?x=Math.min((p-this.uz)/300,1):"fade-out"===this.Lk&&(x=Math.max(1-(p-this.zO)/300,0));l.Ww();l.dg(.231*x,.251*x,.271*x,x);k.set(0,0,this.td,this.ed);l.Rect(k);const z=Math.ceil(this.td),
D=Math.ceil(this.ed);let G;256<this.ed?(l.dg(.302*x,.334*x,.365*x,x),G=Math.max(.005*D,2),k.vj(0,.8*D-G/2,z,G),l.Rect(k),g?l.dg(x,0,0,x):l.dg(.161*x,.953*x,.816*x,x),g=z*this.gp,k.vj(.5*z-g/2,.8*D-G/2,g,G),l.Rect(k),l.dg(x,x,x,x),l.Kg(),q&&(g=1.5*d.aa(.22*D,105,.6*z),G=g/8,k.vj(.5*z-g/2,.2*D-G/2,g,G),l.Wd(q),l.Rect(k)),m&&(G=g=Math.min(.395*D,.95*z),k.vj(.5*z-g/2,.485*D-G/2,g,G),l.Wd(m),l.Rect(k)),r&&(g=1.5*d.aa(.22*D,105,.6*z),G=g/8,k.vj(.5*z-g/2,.868*D-G/2,g,G),l.Wd(r),l.Rect(k))):(l.dg(.302*x,
.334*x,.365*x,x),G=Math.max(.005*D,2),k.vj(0,.85*D-G/2,z,G),l.Rect(k),g?l.dg(x,0,0,x):l.dg(.161*x,.953*x,.816*x,x),g=z*this.gp,k.vj(.5*z-g/2,.85*D-G/2,g,G),l.Rect(k),l.dg(x,x,x,x),l.Kg(),m&&(G=g=.55*D,k.vj(.5*z-g/2,.45*D-G/2,g,G),l.Wd(m),l.Rect(k)));this.AO++;"fade-in"===this.Lk&&300<=p-this.uz&&2<=this.AO&&(this.Lk="wait",this.e_=p);"wait"===this.Lk&&p-this.e_>=w&&1<=this.gp&&(this.Lk="fade-out",this.zO=p);("fade-out"===this.Lk&&p-this.zO>=300+t||u&&1<=this.gp&&500>p-this.uz)&&this.yO()}}}
{"use strict";const d=self.C,a=self.ih,b={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.qT=class extends d.qa{constructor(c){c=Object.assign({},b,c);super();this.zz=c.messagePort;this.Fja=c.baseUrl;this.cn=!!c.isInWorker;e=c.ife;this.So=c.exportType;this.lN=!!c.isiOSCordova;this.kka=!!c.isFBInstantAvailable;this.Hka=c.opusWasmScriptUrl;this.xZ=c.opusWasmBinaryUrl;this.bf=this.Mja=this.Jb=!("preview"!==this.So||!c.isDebug);this.gM=
0;this.zD=[];this.Aja=[];this.iO=this.KZ=this.LF="";this.Wh=this.Xh=0;this.UX=self.devicePixelRatio;this.Nu=this.sg=this.tg=this.ZN=this.YN=0;this.vG=!1;this.xk=!0;this.XO=!1;this.Ou=null;this.Eb=d.D(d.r1,this,c);this.nb=d.D(d.r7,this);this.Fa=d.D(d.N3,this);this.op=d.D(d.a9,this);this.hg=d.D(d.P1,this);this.Ob=d.D(d.Zaa,this);this.KO=d.D(d.cba,this);this.qd=[];this.RN=new Map;this.SN=new Map;this.dY=0;this.Cja=[];this.EL=[];this.xy=[];this.bn=[];this.NE=new Map;this.EE=!1;this.Bz=this.TN=0;this.Kr=
new Map;this.Lr=new Set;this.OE=new Set;this.CF=[];this.TY=[];this.fa=null;this.Jn=!1;this.xM="vsync";this.ju="standard";this.Vc="trilinear";this.yk=!1;this.PN=!0;this.gN=this.DZ=!1;this.Vka={h0:f=>{this.xn=this.gf=-1;this.bd(f)},Vma:f=>{this.xn=-1;this.bd(f,!1,"skip-render")},Ima:()=>{this.gf=-1;this.gJ()}};this.xn=this.gf=-1;this.wu=this.Bn=this.Tl=0;this.zY=this.VE=this.GE=!1;this.cN=!0;this.mv=0;this.Nka=()=>Math.random();this.eE=this.fE=this.mF=this.wp=0;this.Dd=1;this.qZ=30;this.BM=d.D(d.Jw);
this.CM=d.D(d.Jw);this.ZO=d.D(d.Jw);this.yE=-1;this.xF=this.ln=this.xE=this.Fr=0;this.Ll=!1;this.sz=this.Kz="";this.Mu=null;this.Vr="";this.pO=this.hO=null;this.fc=d.D(d.Event.Db);this.lM=new Map;this.aO=new Map;this.Dka=0;this.OY=this.VX=this.WX=!1;this.YO=[];this.Dr={pretick:d.D(d.Event,"pretick",!1),tick:d.D(d.Event,"tick",!1),tick2:d.D(d.Event,"tick2",!1),instancedestroy:d.D(d.Event,"instancedestroy",!1),beforelayoutchange:d.D(d.Event,"beforelayoutchange",!1),layoutchange:d.D(d.Event,"layoutchange",
!1)};this.Dr.instancedestroy.instance=null;this.Ne=d.D(d.Event.Db);this.t_=null;this.Io=d.D(d.Dq,d.QA.RJ);this.ir=d.D(d.Dq,d.QA.RJ);this.Jo=d.D(d.Dq,d.QA.RJ);this.iz=d.D(d.o7,this,c.jobScheduler);c.canvas&&(this.fa=d.D(d.vQ,this));this.zz.onmessage=f=>this._OnMessageFromDOM(f.data);this.wj("runtime","visibilitychange",f=>this.Mga(f));this.wj("runtime","opus-decode",f=>this.wja(f.arrayBuffer));this.wj("runtime","get-remote-preview-status-info",()=>this.Cea());this.wj("runtime","js-invoke-function",
f=>this.eD(f));this.wj("runtime","go-to-last-error-script",self.goToLastErrorScript);this.fc.addEventListener("window-blur",f=>this.UK(f));this.fc.addEventListener("window-focus",()=>this.Nga());this.Ob.c1();this.uk=null;this.gka=new WeakMap;this.hu={keyboard:null,BP:null,bQ:null}}static fb(c){return d.D(d.qT,c)}A(){d.G(this.qd);this.RN.clear();this.SN.clear();this.nb.A();this.nb=null;this.Fa.A();this.Fa=null;this.op.A();this.op=null;this.Eb.A();this.Eb=null;this.hg.A();this.hg=null;this.Ob.A();this.Ob=
null;this.KO.A();this.KO=null;this.fa&&(this.fa.A(),this.fa=null);this.fc.A();this.fc=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.qW(c);else if("result"===f)this.Ega(c);else throw Error(`unknown message '${f}'`);}qW(c){if(this.OY){var f=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,m=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(m&&(c=new d.Event(k),c.data=g,this.fc.Dla(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.mi(c)}if(c=this.lM.get(f))if(c=c.get(k)){m=null;try{m=c(g)}catch(r){console.error(`Exception in '${f}' handler '${k}':`,r);null!==q&&this.iD(q,!1,""+r);return}null!==q&&(m&&m.then?m.then(r=>this.iD(q,!0,r)).catch(r=>{console.error(`Rejection from '${f}' handler '${k}':`,r);this.iD(q,!1,""+r)}):this.iD(q,!0,m))}else m||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else m||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.YO.push(c)}iD(c,
f,k){this.zz.postMessage({type:"result",responseId:c,isOk:f,result:k})}Ega(c){const f=c.responseId,k=c.isOk;c=c.result;const g=this.aO.get(f);k?g.resolve(c):g.reject(c);this.aO.delete(f)}wj(c,f,k){let g=this.lM.get(c);g||(g=new Map,this.lM.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,k)}Aq(c,f,k){this.zz.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}Bq(c,f,k){const g=this.Dka++,l=new Promise((m,q)=>{this.aO.set(g,{resolve:m,
reject:q})});this.zz.postMessage({type:"event",component:c,handler:f,data:k,responseId:g});return l}async Kj(c){this.Jb?await a.Kj(this):self.ih&&self.ih.tqa(this);var [f]=await Promise.all([this.Eb.VQ("data.json"),this.Sfa(),this.iz.Kj()]);this.rfa(f);await this.$ea(c);this.nt()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.oq()?(f=this.oq(),console.info(`[C3 runtime] Hosted in ${this.cn?"worker":"DOM"}, rendering with WebGL ${f.ee} [${f.fA}] (${f.U6()?
"desynchronized":"standard"} compositing)`)):this.Bw()&&console.info(`[C3 runtime] Hosted in ${this.cn?"worker":"DOM"}, rendering with experimental WebGPU`);this.xb().IM&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.OY=!0;for(const k of this.YO)this.qW(k);d.G(this.YO);this.fa&&this.fa.Oaa();for(const k of c.runOnStartupFunctions)this.zD.push(this.Dha(k));await Promise.all([this.Eb.yU(),
...this.zD]);d.G(this.zD);if(this.Eb.HM)this.fa&&this.fa.AI();else return this.fa&&await this.fa.J3(),await this.fc.mP(new d.Event("beforeruntimestart")),await this.wx(),this.zz.postMessage({type:"runtime-ready"}),this}async Dha(c){try{await c(this.uk)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}rfa(c){c=c.project;this.LF=c[0];this.KZ=c[16];this.iO=c[31];const f=c[39]||"loading-logo.png";this.yk=!!c[9];this.Xh=this.tg=c[10];this.Wh=this.sg=c[11];this.YN=this.Xh/2;this.ZN=
this.Wh/2;this.ju=c[36];this.xM=c[37];"low-latency"===this.ju&&this.O6()&&77>=d.Cd.qH&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.ju="standard");this.Jn=!!c[40];this.Vc=c[14];this.vG=!!c[18];this.Nu=c[19];this.Bz=c[21];this.DZ=c[22];const k=this.Eb;k.fia(c[7],c[25]);k.Fia(c[8]);k.tia(c[32]);k.xia(c[28]);k.Qia(c[29]);if(0===this.Nu){let r=
"";this.nt()?k.cD(f)&&(r=k.eI(f)):r=k.AY+f;r&&(this.Ou=k.Lw({url:r}))}this.fa&&(this.fa.y$(d.vQ.lea(c[12])),this.fa.GT(c[23]?"high":"low"),this.fa.CJ(0!==c[24]),this.fa.uia(c[34]),this.fa.Nia(c[41]),this.fa.Ria(c[13]));this.op.n2();this.CF=self.oQ();for(var g of c[2])this.op.k2(g);this.CF=self.oQ();this.zfa();for(var l of c[3])g=d.XI.fb(this,this.qd.length,l),this.qd.push(g),this.RN.set(g.Ha().toLowerCase(),g),this.SN.set(g.jb,g);for(const r of c[4])this.qd[r[0]].ufa(r);for(var m of c[27])l=m.map(r=>
this.qd[r]),this.Cja.push(d.D(d.V1,this,l));for(const r of this.qd)r.bga();for(const r of c[5])this.nb.fb(r);(m=c[1])&&(m=this.nb.ct(m))&&this.nb.u$(m);for(var q of c[33])this.Ob.fb(q);for(const r of c[35])this.KO.fb(r);this.Xea();for(const r of c[6])this.Fa.fb(r);this.Fa.Xb();this.Tea();d.G(this.CF);this.xe();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Aq("runtime","set-target-orientation",{targetOrientation:q})}PA(c){this.zD.push(c)}yea(){return this.dY++}Kba(c){this.EL.push(c)}async $ea(c){this.fa&&
(await this.fa.nf(c),this.fa.s6(this.Nu))}async Sfa(){if(!this.Eb.aS("audio/webm; codecs=opus")){var c=null;try{c=this.lN&&this.Eb.bz?await this.Eb.FQ(this.xZ):await this.Eb.$v(this.xZ)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.W0(c):this.V0();await this.X0([this.Hka])}}async wja(c){return await this.iH("OpusDecode",{arrayBuffer:c},[c])}async wx(){this.GE=!0;this.wp=Date.now();if(this.vG){for(var c of this.qd)c.ib||c.fN||!c.mg||
c.Vb();this.Eb.yU().then(()=>{this.xk=!1;this.uW()})}else this.xk=!1;this.Eb.E$();this.Jb&&a.Rua(e);for(const f of this.nb.Zj)f.Hca();c=this.nb.E4();await c.LK(null,this.xb());await c.pX(!0);this.Fr=performance.now();this.vG||this.uW();(await this.Bq("runtime","before-start-ticking")).isSuspended?this.mv++:this.bd()}uW(){this.oa(d.F.qb.I.y8,null,null);this.Aq("runtime","register-sw")}ri(c){c=Math.floor(c);const f=this.CF;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}zfa(){for(const c of self.y1){const f=
d.first(Object.keys(c));this.TY.push(f)}}Fj(c){c=Math.floor(c);const f=this.TY;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}OH(){return this.Fja}wa(){return this.Fa}Bd(){return this.Fa.Bd()}Wf(){return this.Fa.Wf()}Pb(){return this.Fa.Pb()}Vf(){return this.Fa.Vf()}T6(){return 0===this.Wf().Um}jw(){return this.Fa.jw()}xw(){return this.op.xw()}Zf(c){c=Math.floor(c);if(0>c||c>=this.qd.length)throw new RangeError("invalid index");return this.qd[c]}fI(c){return this.RN.get(c.toLowerCase())||
null}qw(c){return this.SN.get(c)||null}*cla(){for(const c of this.qd)c.ib||(yield*c.Y_())}Db(){return this.fc}mi(c){c.Xc=this.uk;const f=this.Jb&&!this.Fa.$B();f&&a.TJ();this.Ne.dispatchEvent(c);f&&a.kH()}aq(c){c.Xc=this.uk;return this.Ne.mP(c)}T$(c,f){if(this.Xh!==c||this.Wh!==f)this.Xh=c,this.Wh=f,c=this.nb,c.At(),c.zt()}ux(c,f){if(this.tg!==c||this.sg!==f)this.tg=c,this.sg=f,c=this.nb,c.At(),c.zt()}nia(c){this.UX=c}lm(){return this.UX}oh(){return this.fa?this.fa.oh():this.tg}Cg(){return this.fa?
this.fa.Cg():this.sg}dl(){return this.fa?this.fa.dl():1}mm(){return this.fa?this.fa.mm():1}cq(){return this.fa?this.fa.cq():0}eq(){return this.fa?this.fa.eq():0}fR(){return this.fa?this.fa.td:0}eR(){return this.fa?this.fa.ed:0}AB(){return this.fa?this.fa.AB():"off"}fw(c){return this.fa?this.fa.fw(c):null}oo(c){this.fa&&this.fa.oo(c)}Pia(c){this.XO=!!c}CB(){return this.fa?this.fa.CB():NaN}OI(){return"nearest"!==this.Vc}u9(){this.Ou&&(this.Ou.A(),this.Ou=null)}Ub(){return this.nb.Ub()}Lw(c){return this.Eb.Lw(c)}$A(c,
f,k,g,l){return this.Aj(c,f,!1,k,g,!1,l,void 0,l)}Aj(c,f,k,g,l,m,q,r,p){var u=null;let t=null;c instanceof d.XI?(t=c,t.ib&&(u=t.To,t=u[Math.floor(this.no()*u.length)]),u=t.qu):(u=c,t=this.Zf(u[1]));c=t.Lb().mg;if(this.xk&&c&&!t.fN)return null;const w=f;c||(f=null);var x=k&&!m&&u&&!this.Kr.has(u[2])?u[2]:this.Bz++;const z=u?u[0]:null,D=d.D(d.Instance,{Xc:this,FP:t,we:f,H0:z,X_:u?u[3]:null,uid:x});this.Kr.set(x,D);x=null;c&&(x=D.B(),"undefined"!==typeof g&&"undefined"!==typeof l&&(x.Fi(g),x.Gi(l)),
t.VW());f&&(p||f.Ih(D,!0),1===f.Fe&&1===f.Ge||t.aL(!0),f.tc().yS(t));this.TN++;let G=!0;r&&(r=r.J(),r.nc()&&t.nc()&&t.Mh===r.Mh&&(G=!1));if(t.nc()&&!k&&!m&&G){for(var N of t.Mh.rn)N!==t&&(r=this.Aj(N,w,!1,x?x.L():g,x?x.M():l,!0,!1,void 0,p),D.Qt(r));for(var B of D.ae){B.Qt(D);for(const H of D.ae)B!==H&&B.Qt(H)}}c&&!k&&q&&this.jK(D,z,x,f,g,l,p);if(t.nc()&&!k&&!m&&q)for(const H of D.ae)if(k=H.B())N=H.Lb(),B=H.J().qu[0],N.mg?this.jK(H,B,k,f,k.L(),k.M(),p):this.jK(H,B,k,f,void 0,void 0,p);!m&&q&&("undefined"===
typeof g&&(g=z[0]),"undefined"===typeof l&&(l=z[1]),f=x.LB(),g=g-x.L()+f.L(),l=l-x.M()+f.M(),f.Dh(g,l));t.Vx();l=u?d.DG(u[5]):null;u=u?u[4].map(H=>d.DG(H)):null;c&&z&&z[13]&&D.wia();D.RC(l,u);this.bn.push(D);this.EE=!0;this.Jb&&a.yqa(D);return D}jK(c,f,k,g,l,m,q){var r=k.WZ,p=k.qO;c.B().DJ(r);if(p){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof m&&(m=f[1]);r=new Set;k=f[0];f=f[1];for(const z of p){var u=z[1],t=z[2];p=z[3];var w=!!z[4];const D=z[5];t=this.nb.dI(z[0]).ba(u).M4(t);u=this.Zf(t[1]);
var x=c.H5(u);const G=r.has(u);x&&!G&&w?(w=c.LR(u),x=l+t[0][0]-k,t=m+t[0][1]-f,w.B().Dh(x,t),w.B().DJ(D),c.Sn(w,{Mv:!!(p>>0&1),Nv:!!(p>>1&1),Os:!!(p>>2&1),Ns:!!(p>>3&1),Lv:!!(p>>4&1),qA:!!(p>>5&1),Ov:!!(p>>6&1)}),r.add(u)):(u=this.Aj(t,g,!1,l+t[0][0]-k,m+t[0][1]-f,!1,!0,c,q),u.B().DJ(D),c.Sn(u,{Mv:!!(p>>0&1),Nv:!!(p>>1&1),Os:!!(p>>2&1),Ns:!!(p>>3&1),Lv:!!(p>>4&1),qA:!!(p>>5&1),Ov:!!(p>>6&1)}))}}}Sk(c){if(!this.Lr.has(c)){var f=c.J(),k=this.NE.get(f);if(k){if(k.has(c))return;k.add(c)}else k=new Set,
k.add(c),this.NE.set(f,k);this.Jb&&a.zqa(c);c.OK();this.EE=!0;if(c.nc())for(const g of c.ae)this.Sk(g);for(const g of c.children())g.xB()&&this.Sk(g);this.nb.gS()||this.Ll||(f=this.wa(),f.mf(!0),c.gja(),f.mf(!1));c.dea(this.nb.gS())}}xe(){this.EE&&(this.fea(),this.gea(),this.EE=!1,this.U())}fea(){for(const c of this.bn){const f=c.J();f.Ih(c);for(const k of f.Ti)k.Ih(c),k.Vx()}d.G(this.bn)}gea(){this.fc.Ct(!0);for(const [c,f]of this.NE.entries())this.hea(c,f),f.clear();this.NE.clear();this.fc.Ct(!1)}hea(c,
f){for(const g of f){var k=this.Dr.instancedestroy;k.instance=g;this.fc.dispatchEvent(k);this.Kr.delete(g.tb);if(k=g.B())k.FW(),k.GW(),k.OK();this.Lr.add(g);this.TN--}d.ji(c.ta(),f);c.Vx();this.OE.add(c);0===c.ta().length&&c.aL(!1);for(const g of c.Ti)d.ji(g.ta(),f),g.Vx(),this.OE.add(g);if(c.Lb().mg){c=new Set([...f].map(g=>g.B().ba()));for(const g of c)g.hha(f)}}*tP(c){for(const f of this.bn)c.ib?f.J().oH(c)&&(yield f):f.J()===c&&(yield f)}xea(){return this.Bz++}Nfa(c,f){this.Kr.set(c,f)}Tx(){this.fc.dispatchEvent(d.D(d.Event,
"webglcontextlost"));this.rx(!0);for(var c of this.qd)!c.ib&&c.F5()&&c.wi();(c=this.Ub())&&c.Tx();d.UB.zq();d.YR.zq()}async TK(){await this.Ub().LK(null,this.oq());this.fc.dispatchEvent(d.D(d.Event,"webglcontextrestored"));this.rx(!1);this.U()}Mga(c){this.rx(c.hidden)}UK(c){this.nt()&&this.DZ&&!d.Cd.aC&&!c.data.parentHasFocus&&(this.rx(!0),this.gN=!0)}Nga(){this.gN&&(this.rx(!1),this.gN=!1)}HW(){const c=this.Vka;"vsync"===this.xM?-1===this.gf&&(this.gf=self.requestAnimationFrame(c.h0)):"unlimited-tick"===
this.xM?(-1===this.xn&&(this.xn=d.kJ(c.Vma)),-1===this.gf&&(this.gf=self.requestAnimationFrame(c.Ima))):-1===this.xn&&(this.xn=d.kJ(c.h0))}sca(){-1!==this.gf&&(self.cancelAnimationFrame(this.gf),this.gf=-1);-1!==this.xn&&(d.E1(this.xn),this.xn=-1)}vq(){return 0<this.mv}rx(c){var f=this.vq();this.mv+=c?1:-1;0>this.mv&&(this.mv=0);c=this.vq();!f&&c?(console.log("[Construct 3] Suspending"),this.sca(),this.fc.dispatchEvent(d.D(d.Event,"suspend")),this.oa(d.F.qb.I.K8,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),
this.Fr=this.mF=f=performance.now(),this.ln=this.xF=this.xE=this.yE=0,this.fc.dispatchEvent(d.D(d.Event,"resume")),this.oa(d.F.qb.I.H8,null,null),this.Ew()||this.bd(f))}Gba(c){this.Io.Yc(c)}Hba(c){this.Jo.Yc(c)}jha(c){this.Io.xi(c)}iha(c){this.ir.xi(c)}kha(c){this.Jo.xi(c)}dca(){this.Io.Ci(!0);for(const c of this.Io)c.bd();this.Io.Ci(!1)}cca(){this.ir.Ci(!0);for(const c of this.ir);this.ir.Ci(!1)}eca(){this.Jo.Ci(!0);for(const c of this.Jo)c.Oq();this.Jo.Ci(!1)}*Wca(){this.Io.Ci(!0);for(const c of this.Io){const f=
c.bd();d.jo(f)&&(yield*f)}this.Io.Ci(!1)}*Vca(){this.ir.Ci(!0);for(const c of this.ir)d.jo(void 0)&&(yield*void 0);this.ir.Ci(!1)}*Xca(){this.Jo.Ci(!0);for(const c of this.Jo){const f=c.Oq();d.jo(f)&&(yield*f)}this.Jo.Ci(!1)}async bd(c,f,k){this.zY=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.GE&&(!this.vq()||f||g)&&(f=performance.now(),this.VE=!0,this.Vfa(c||0),c=this.Raa(),this.bf&&await c,c=this.fc.Ela(this.Dr.pretick),c instanceof Promise&&await c,c=this.Qaa(),
this.bf&&await c,this.$fa()&&await this.Lea(),this.nb.mt()&&await this.Pfa(),c=this.Saa(),this.bf&&await c,k&&this.gJ(),this.vq()||g||this.HW(),this.Tl++,this.Bn++,this.wu++,this.VE=!1,this.ln+=performance.now()-f)}async Raa(){const c=this.Fa,f=this.Jb;this.xe();c.mf(!0);this.Qw(this.Ub());f&&a.Mt();this.bf?await c.v2():c.T9();f&&a.U0();this.Pw();c.mf(!1);this.xe();c.mf(!0)}async Qaa(){const c=this.Jb,f=this.bf,k=this.fc,g=this.Dr,l=this.t_;c&&a.Mt();f?await this.fB(this.Wca()):this.dca();f?await this.fB(this.Vca()):
this.cca();c&&a.P0();c&&a.Mt();f?await this.JQ(g.tick):k.dispatchEvent(g.tick);c&&a.Z0();this.Fa.mf(!1);this.mi(l.tick)}async Saa(){const c=this.Fa,f=this.fc,k=this.Dr,g=this.Jb,l=this.bf;g&&a.Mt();l?await c.t2(this.nb):c.R9(this.nb);g&&a.U0();this.hg.yQ();this.DW();this.cN=!1;c.mf(!0);g&&a.Mt();l?await this.fB(this.Xca()):this.eca();g&&a.P0();g&&a.Mt();l?await this.JQ(k.tick2):f.dispatchEvent(k.tick2);g&&a.Z0();c.mf(!1);l&&await c.pT()}DW(){if(0!==this.Lr.size){var c=this.fc;c.Ct(!0);for(const f of this.OE)f.tp.Eq(this.Lr);
this.OE.clear();this.Fa.w9(this.Lr);for(const f of this.Lr)f.A();this.Lr.clear();c.Ct(!1)}}async Pfa(){const c=this.nb;let f=0;for(;c.mt()&&10>f++;)await this.bV(c.Cz)}Vfa(c){let f=0;0!==this.mF&&(f=Math.max(c-this.mF,0)/1E3,.5<f&&(f=0),this.fE=Math.min(f,1/this.qZ));this.mF=c;this.eE=this.fE*this.Dd;this.BM.Yc(this.eE);this.CM.Yc(f*this.Dd);this.ZO.Yc(this.fE);this.fa&&this.fa.qja();1E3<=c-this.Fr&&(this.Fr+=1E3,1E3<=c-this.Fr&&(this.Fr=c),this.xE=this.yE,this.yE=0,this.xF=Math.min(this.ln/1E3,1),
this.ln=0,this.fa&&this.fa.kja(),this.Jb&&a.Uxa());this.yE++}async bV(c){const f=this.fc,k=this.nb.Ub();await k.aja();k.jja(c,this.xb());k===c&&this.Fa.UA();this.hg.yQ();this.DW();f.dispatchEvent(this.Dr.beforelayoutchange);d.hm.HT(!0);await c.LK(k,this.xb());d.hm.HT(!1);await c.pX(!1);f.dispatchEvent(this.Dr.layoutchange);this.U();this.cN=!0;this.xe()}U(){this.PN=!0}oq(){return this.fa?this.fa.oq():null}Bw(){return this.fa?this.fa.Bw():null}xb(){return this.fa?this.fa.xb():null}gJ(){const c=this.fa;
if(c&&!c.e7()){var f=this.xb(),k=f.sl(),g=k&&f.Iw();k=k&&!1;g&&f.G1();if(this.PN){var l=this.nb.Ub();f.wx();var m=this.Jb;m&&a.Mt();this.PN=!1;var q=null;g&&(q=c.BE.lH(),f.UJ(q));g=null;k&&(g=f.fxa(2*(1+l.qc.length)),f.Cba(0));this.Jn&&"low"===c.rk?f.v$(c.oh(),c.Cg()):f.e$();this.sha(this.xb(),l);q&&f.FH(q);k&&(f.Cba(1),this.fa.Uba(g));f.Ys();m&&(a.wna(),a.Vxa());c&&c.Tfa()}else f.f6()}}sha(c,f){c.Kg();c.qJ();c.dg(1,1,1,1);c.zf(null);c.Wd(null);c.so(this.Jn);f.Mc(c)}oa(c,f,k){if(!this.GE)return!1;
var g=!this.VE&&!this.Fa.NI();let l=0;g&&(l=performance.now());const m=this.Jb;m&&this.wC(!1);c=this.Fa.cy(this.nb,c,f,k);g&&(g=performance.now()-l,this.ln+=g,m&&a.Ina(g));m&&this.wC(!0);return c}async Te(c,f,k){if(!this.bf)return this.oa(c,f,k);if(!this.GE)return!1;if(this.Ew())return this.Fa.m9(c,f,k);if(!this.Ub())return this.Fa.eJ(c,f,k);const g=performance.now();c=this.Fa.Ex(this.nb,c,f,k);for(f=c.next();!f.done;)await this.Ws(f.value),f=c.next();this.vq()||this.Fa.NI()||(await this.Fa.pT(),
this.zY&&!this.VE&&this.HW());this.ln+=performance.now()-g;return f.value}Qw(c){this.xy.push(c)}Pw(){if(!this.xy.length)throw Error("layout stack empty");this.xy.pop()}Ra(){return this.xy.length?this.xy.Oe(-1):this.Ub()}fq(c){return c&&-1!==c.Dd?this.fE*c.Dd:this.eE}JJ(c){if(isNaN(c)||0>c)c=0;this.Dd=c}RT(c){this.qZ=d.aa(c,1,120)}rf(){return this.BM.la()}aI(){return this.CM.la()}Aw(){return this.ZO.la()}vm(){++this.wu}Qe(c){if(this.Ll)throw Error("cannot call while loading state - wait until afterload event");
return this.Kr.get(c)||null}zW(){this.Kr.clear();for(const c of this.qd)if(!c.ib)for(const f of c.ta())this.Kr.set(f.tb,f)}nt(){return"preview"===this.So}S6(){return"cordova"===this.So}O6(){return"Android"===d.Cd.tt&&("cordova"===this.So||"playable-ad"===this.So||"instant-games"===this.So)}X$(c){c=!!c;this.yk!==c&&(this.yk=c,this.nb.zt(),this.U())}X9(c){this.Kz=c}z7(c){this.sz=c}VI(c){this.Mu=c}$fa(){return!(!this.Kz&&!this.sz&&null===this.Mu)}async Lea(){this.Kz&&(this.xe(),await this.yda(this.Kz),
this.hK());this.sz&&(await this.xda(this.sz),this.hK(),this.Jb&&a.gxa());if(null!==this.Mu){this.xe();try{await this.gV(this.Mu),this.Vr=this.Mu,await this.Te(d.F.qb.I.NS,null),this.Vr=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.Te(d.F.qb.I.OS,null)}this.hK()}}hK(){this.sz=this.Kz="";this.Mu=null}Bea(){this.hO||(this.hO=localforage.jP({name:"c3-localstorage-"+this.iO,description:this.LF}));return this.hO}KV(){this.pO||(this.pO=localforage.jP({name:"c3-savegames-"+
this.iO,description:this.LF}));return this.pO}async yda(c){const f=await this.Wha();try{await this.KV().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+f.length+" chars)"),this.Vr=f,await this.Te(d.F.qb.I.I8,null),this.Vr=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.Te(d.F.qb.I.J8,null)}}async xda(c){try{const f=await this.KV().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+f.length+
" chars)");await this.gV(f);this.Vr=f;await this.Te(d.F.qb.I.NS,null);this.Vr=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.Te(d.F.qb.I.OS,null)}}async Wha(){const c={c3save:!0,version:1,rt:{time:this.rf(),timeRaw:this.aI(),walltime:this.Aw(),timescale:this.Dd,tickcount:this.Tl,execcount:this.wu,next_uid:this.Bz,running_layout:this.Ub().jb,start_time_offset:Date.now()-this.wp},types:{},layouts:{},events:this.Fa.ya(),timelines:this.Ob.ya(),user_script_data:null};
for(var f of this.qd)f.ib||f.TR()||(c.types[f.jb.toString()]=f.ya());for(const k of this.nb.Zj)c.layouts[k.jb.toString()]=k.ya();f=this.nK("save");f.saveData=null;await this.aq(f);c.user_script_data=f.saveData;return JSON.stringify(c)}async gV(c){var f=this.nb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.fc.dispatchEvent(d.D(d.Event,"beforeload"));
for(var k of this.cla())k.Xt();this.Ll=!0;k=c.rt;this.BM.Set(k.time);k.hasOwnProperty("timeRaw")&&this.CM.Set(k.timeRaw);this.ZO.Set(k.walltime);this.Dd=k.timescale;this.Tl=k.tickcount;this.wu=k.execcount;this.wp=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Ub().jb)if(g=f.dI(g))await this.bV(g);else return;for(const [l,m]of Object.entries(c.types))g=this.qw(parseInt(l,10)),!g||g.ib||g.TR()||g.Ca(m);this.xe();this.zW();this.Ll=!1;this.Bz=k.next_uid;for(const [l,m]of Object.entries(c.layouts))(k=
f.dI(parseInt(l,10)))&&k.Ca(m);this.Fa.Ca(c.events);for(const l of this.qd)if(!l.ib&&l.nc())for(const m of l.ta()){k=m.gq();for(const q of l.Mh.rn)if(q!==l){g=q.ta();if(0>k||k>=g.length)throw Error("missing sibling instance");m.Qt(g[k])}}this.Ob.Ca(c.timelines);f.At();f.zt();this.fc.dispatchEvent(d.D(d.Event,"afterload"));f=this.nK("load");f.saveData=c.user_script_data;await this.aq(f);this.U()}async X0(c){c=(await Promise.all(c.map(f=>this.Eb.km(f)))).map(f=>URL.createObjectURL(f));this.iz.e6(c)}V0(){this.iz.Z9()}W0(c){this.iz.a$(c)}iH(c,
f,k){return this.iz.iH(c,f,k)}async n9(c){var f=f||2048;var k=k||2048;return this.cn?(await this.Bq("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}xt(){this.WX||(this.WX=!0,this.Aq("runtime","enable-device-orientation"))}po(){this.VX||(this.VX=!0,this.Aq("runtime","enable-device-motion"))}no(){return this.Nka()}Cea(){const c=this.oq();return{fps:this.xE,cpu:this.xF,
gpu:this.CB(),layout:this.Ub()?this.Ub().Ha():"",renderer:c?c.fA:"<unavailable>"}}Ew(){return this.Jb?a.Ew():!1}Ws(c){return this.bf?a.Ws(c):Promise.resolve()}Ec(){return this.bf?a.qoa():!1}wC(c){c?this.gM--:this.gM++;this.mja()}mja(){this.bf=this.Jb&&this.Mja&&0===this.gM}GI(){return this.Jb&&a.GI()}KI(){return this.Jb&&this.xb().sl()&&a.KI()}async fB(c){if(c)for(const f of c)await this.Ws(f)}JQ(c){return this.fB(this.fc.Fla(c))}eD(c){return this.Fa.eD(c.name,c.params)}nK(c){c=d.D(d.Event,c,!1);
c.Xc=this.uk;return c}Xea(){var c={};for(const f of this.qd)c[f.Fj()]={value:f.Ny,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.uk=new self.V5(this,c);this.t_={tick:this.nK("tick")}}Tea(){const c={};for(const f of this.wa().FL)c[f.Fj()]=f.LV();this.uk.Uea(c)}hW(c,f){this.gka.set(c,f)}};self.C3_CreateRuntime=d.qT.fb;self.C3_InitRuntime=(c,f)=>c.Kj(f)}
{"use strict";const d=self.C;d.o7=class extends d.qa{constructor(a,b){super();this.j=a;this.Rr=new Map;this.Fka=0;this.Xy=b.inputPort;b.outputPort.onmessage=e=>this.tW(e);this.iZ=b.maxNumWorkers;this.jz=1;this.sY=this.$y=!1}async Kj(){}e6(a){this.Xy.postMessage({type:"_import_scripts",scripts:a})}Z9(){this.Xy.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}a$(a){this.Xy.postMessage({type:"_send_buffer",buffer:a,id:"opus-decoder-wasm"},[a])}iH(a,b,e){e||(e=[]);const c=this.Fka++;
a={type:a,isBroadcast:!1,jobId:c,params:b,transferables:e};b=new Promise((f,k)=>{this.Rr.set(c,{resolve:f,progress:void 0,reject:k,iP:!1})});this.Xy.postMessage(a,e);this.iW();return b}tW(a){a=a.data;const b=a.type,e=a.jobId;switch(b){case "result":this.qga(e,a.result);break;case "progress":this.pga(e,a.progress);break;case "error":this.oga(e,a.error);break;case "ready":this.rga();break;default:throw Error(`unknown message from worker '${b}'`);}}qga(a,b){const e=this.Rr.get(a);if(!e)throw Error("invalid job ID");
e.iP||e.resolve(b);this.Rr.delete(a)}pga(a,b){a=this.Rr.get(a);if(!a)throw Error("invalid job ID");!a.iP&&a.progress&&a.progress(b)}oga(a,b){const e=this.Rr.get(a);if(!e)throw Error("invalid job ID");e.iP||e.reject(b);this.Rr.delete(a)}rga(){this.$y&&(this.$y=!1,this.jz++,this.jz<this.iZ?this.iW():this.Xy.postMessage({type:"_no_more_workers"}))}async iW(){if(!(this.jz>=this.iZ||this.$y||this.sY||this.Rr.size<=this.jz))try{this.$y=!0,(await this.j.Bq("runtime","create-job-worker")).outputPort.onmessage=
a=>this.tW(a)}catch(a){this.sY=!0,this.$y=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.jz} so far)`,a)}}}}self.C3_Shaders={};
self.C3_Shaders.exposure={W_:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float exposure;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\ngl_FragColor = vec4(front.rgb * pow(2.0, exposure), front.a);\n}",G0:"",S_:0,T_:0,K_:!1,e0:!1,o0:!0,C_:!1,parameters:[["exposure",0,"percent"]]};
self.C3_Shaders.hsladjust={W_:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",G0:"",
S_:0,T_:0,K_:!1,e0:!1,o0:!0,C_:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]};
{"use strict";const d=self.C;let a=null,b="",e="",c=[],f="",k="",g="";const l=d.D(d.o1);function m(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.F.qb=class extends d.Ah{constructor(q){super(q);this.og=this.j.wa().og;this.oe=this.j.wa().Bd();this.Qy=this.Ir=0;this.kY=new Map}A(){super.A()}U(){this.j.U()}oa(q){this.j.oa(q,null,null)}GB(q,r){a&&q===b&&r===e||(a=new RegExp(q,r),b=q,e=r);a.lastIndex=0;return a}DR(q,r,p){if(q===f&&r===k&&
p===g)return c;const u=this.GB(r,p);c=q.match(u);f=q;k=r;g=p;return c}async NK(q,r){if(r.length){this.Ir+=r.length;var p=[];for(const u of r)p.push(q.yS(u));await d.i9(p,()=>{this.Qy++});this.Qy++;this.Qy===this.Ir&&(this.j.oa(d.F.qb.I.t8,null,null),this.Ir=this.Qy=0)}}rX(q,r){for(const p of r)0===p.H.length&&q.K7(p)}EV(){return l}tha(q){var r=this.j.wa();const p=r.Bd(),u=p.Xf(),t=u.Pb(),w=t.Sd();var x=u.jl();const z=p.Za(t),D=r.og,G=D.Za();if(x)for(x=0;x<q&&!G.Kc;++x)r.yf(w),G.$c(x),t.zh(u,z),r.Wb(w);
else for(r=0;r<q&&!G.Kc;++r)G.$c(r),t.zh(u,z);p.Sa();D.Sa();return!1}*cda(q){var r=this.j.wa();const p=r.Bd(),u=p.Xf(),t=u.Pb(),w=t.Sd();var x=u.jl();const z=p.Za(t),D=r.og,G=D.Za();if(x)for(x=0;x<q&&!G.Kc;++x)r.yf(w),G.$c(x),yield*t.kh(u,z),r.Wb(w);else for(r=0;r<q&&!G.Kc;++r)G.$c(r),yield*t.kh(u,z);p.Sa();D.Sa();return!1}xja(){var q=this.j.wa();const r=q.Bd(),p=r.Xf(),u=p.Pb(),t=u.Sd();var w=p.jl();const x=r.Za(u),z=q.og,D=z.Za();if(w)for(w=0;!D.Kc;++w)q.yf(t),D.$c(w),u.zh(p,x)||D.Fh(),q.Wb(t);
else for(q=0;!D.Kc;++q)D.$c(q),u.zh(p,x)||D.Fh();r.Sa();z.Sa();return!1}*vda(){var q=this.j.wa();const r=q.Bd(),p=r.Xf(),u=p.Pb(),t=u.Sd();var w=p.jl();const x=r.Za(u),z=q.og,D=z.Za();if(w)for(w=0;!D.Kc;++w)q.yf(t),D.$c(w),(yield*u.kh(p,x))||D.Fh(),q.Wb(t);else for(q=0;!D.Kc;++q)D.$c(q),(yield*u.kh(p,x))||D.Fh();r.Sa();z.Sa();return!1}iea(q,r,p){var u=this.j.wa();const t=u.Bd(),w=t.Xf(),x=w.Pb(),z=x.Sd(),D=w.jl(),G=t.Za(x),N=u.og,B=N.Za();B.IC(q);if(p<r)if(D)for(q=r;q>=p&&!B.Kc;--q)u.yf(z),B.$c(q),
x.zh(w,G),u.Wb(z);else for(u=r;u>=p&&!B.Kc;--u)B.$c(u),x.zh(w,G);else if(D)for(q=r;q<=p&&!B.Kc;++q)u.yf(z),B.$c(q),x.zh(w,G),u.Wb(z);else for(u=r;u<=p&&!B.Kc;++u)B.$c(u),x.zh(w,G);t.Sa();N.Sa();return!1}*$ca(q,r,p){var u=this.j.wa();const t=u.Bd(),w=t.Xf(),x=w.Pb(),z=x.Sd(),D=w.jl(),G=t.Za(x),N=u.og,B=N.Za();B.IC(q);if(p<r)if(D)for(q=r;q>=p&&!B.Kc;--q)u.yf(z),B.$c(q),yield*x.kh(w,G),u.Wb(z);else for(u=r;u>=p&&!B.Kc;--u)B.$c(u),yield*x.kh(w,G);else if(D)for(q=r;q<=p&&!B.Kc;++q)u.yf(z),B.$c(q),yield*x.kh(w,
G),u.Wb(z);else for(u=r;u<=p&&!B.Kc;++u)B.$c(u),yield*x.kh(w,G);t.Sa();N.Sa();return!1}jea(q){var r=this.j.wa();const p=r.Bd(),u=p.Xf(),t=u.Pb(),w=t.Sd();var x=u.jl();const z=p.Za(t),D=r.og,G=D.Za(),N=q.nc(),B=q.ia(),H=l.Za();d.nd(H,B.ta());if(x)for(let I=0,K=H.length;I<K&&!G.Kc;++I)r.yf(w),x=H[I],q.ia().ql(x),N&&x.Pj(),G.$c(I),t.zh(u,z),r.Wb(w);else{B.Ve(!1);q=B.H;d.G(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.Kc;++I)r=H[I],q[0]=r,N&&r.Pj(),G.$c(I),t.zh(u,z)}p.Sa();D.Sa();d.G(H);l.Sa();return!1}*ada(q){var r=
this.j.wa();const p=r.Bd(),u=p.Xf(),t=u.Pb(),w=t.Sd();var x=u.jl();const z=p.Za(t),D=r.og,G=D.Za(),N=q.nc(),B=q.ia(),H=l.Za();d.nd(H,B.ta());if(x)for(let I=0,K=H.length;I<K&&!G.Kc;++I)r.yf(w),x=H[I],q.ia().ql(x),N&&x.Pj(),G.$c(I),yield*t.kh(u,z),r.Wb(w);else{B.Ve(!1);q=B.H;d.G(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.Kc;++I)r=H[I],q[0]=r,N&&r.Pj(),G.$c(I),yield*t.kh(u,z)}p.Sa();D.Sa();d.G(H);l.Sa();return!1}kea(q,r){var p=this.j.wa();const u=p.Bd(),t=p.Vf(),w=u.Xf(),x=w.Pb(),z=x.Sd(),D=w.jl(),
G=u.Za(x),N=p.og,B=N.Za(),H=q.nc(),I=q.ia(),K=l.Za();d.G(K);const Q=I.ta();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Sw(1,R)]);K.sort(m);1===r&&K.reverse();if(D)for(let R=0,U=K.length;R<U&&!B.Kc;++R)p.yf(z),r=K[R][0],q.ia().ql(r),H&&r.Pj(),B.$c(R),x.zh(w,G),p.Wb(z);else{I.Ve(!1);q=I.H;d.G(q);q.push(null);for(let R=0,U=K.length;R<U&&!B.Kc;++R)p=K[R][0],q[0]=p,H&&p.Pj(),B.$c(R),x.zh(w,G)}u.Sa();N.Sa();d.G(K);l.Sa();return!1}*bda(q,r){var p=this.j.wa();const u=p.Bd(),t=p.Vf(),w=u.Xf(),x=w.Pb(),z=
x.Sd(),D=w.jl(),G=u.Za(x),N=p.og,B=N.Za(),H=q.nc(),I=q.ia(),K=l.Za();d.G(K);const Q=I.ta();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Sw(1,R)]);K.sort(m);1===r&&K.reverse();if(D)for(let R=0,U=K.length;R<U&&!B.Kc;++R)p.yf(z),r=K[R][0],q.ia().ql(r),H&&r.Pj(),B.$c(R),yield*x.kh(w,G),p.Wb(z);else{I.Ve(!1);q=I.H;d.G(q);q.push(null);for(let R=0,U=K.length;R<U&&!B.Kc;++R)p=K[R][0],q[0]=p,H&&p.Pj(),B.$c(R),yield*x.kh(w,G)}u.Sa();N.Sa();d.G(K);l.Sa();return!1}ZC(q,r){let p=this.kY.get(q);if(p)return p;
if(!r)return null;p={Np:null,cH:new Map};this.kY.set(q,p);return p}wda(q,r,p,u,t){r.Yf().Q9(p);u&&q.Wb(t)}*Yca(q,r,p,u,t){yield*r.Yf().s2(p);u&&q.Wb(t)}}}{"use strict";const d=self.C;d.F.qb.Ae=class extends d.qa{constructor(a){super();this.V=a;this.j=a.K();this.cj=a.Lb()}Vb(){}A(){this.cj=this.j=this.V=null}}}{"use strict";const d=self.C;d.F.qb.Instance=class extends d.qa{constructor(a){super();this.N=a;this.V=this.N.J();this.Ta=this.V.Ta;this.j=this.N.K()}A(){this.j=this.Ta=this.V=this.N=null}}}
{"use strict";const d=self.C,a=[];d.F.qb.I={Q3(){return!0},MS(){return!0},v8(){return!0},K8(){return!0},H8(){return!0},vq(){return this.j.vq()},QQ(){const b=this.j.Wf();return b.oM?!1:!b.Sr},Jxa(){const b=this.j.Vf().uf();let e=b.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,b.set("TriggerOnce_lastTick",-1));const c=this.j.Tl;b.set("TriggerOnce_lastTick",c);return this.j.cN||e!==c-1},P3(b){const e=this.j.Vf().uf(),c=e.get("Every_lastTime")||0,f=this.j.rf();e.has("Every_seconds")||e.set("Every_seconds",
b);const k=e.get("Every_seconds");if(f>=c+k)return e.set("Every_lastTime",c+k),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",b),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},kt(b){return(b=this.j.wa().kR(b))&&b.kt()},nt(){return this.j.nt()},aC(){return d.Cd.aC},y8(){return!0},e8(){return!0},ppa(){return!0},I8(){return!0},J8(){return!0},NS(){return!0},OS(){return!0},gsa(b){return!!this.j.Qe(b)},ara(b){switch(b){case 0:return"browser"===d.Cd.vH;case 1:return"iOS"===
d.Cd.tt;case 2:return"Android"===d.Cd.tt;case 8:return"cordova"===d.Cd.vH;case 9:return"scirra-arcade"===this.j.So;case 10:return"nwjs"===d.Cd.vH;case 13:return"windows-uwp"===this.j.So;default:return!1}},Mta(b,e,c){return this.GB(e,c).test(b)},R1(b,e,c){return d.compare(b,e,c)},Joa(b,e,c){return b>=e&&b<=c},S1(b,e,c){return d.compare(b.ke(),e,c)},Koa(b){return!!b.ke()},Soa(b,e){const c=this.j.rf();return 0===b?(b=this.j.Vf().uf(),!b.get("CompareTime_executed")&&c>=e?(b.set("CompareTime_executed",
!0),!0):!1):d.compare(c,b,e)},Yqa(b){return isNaN(b)},f1(b,e,c){return d.Ln(d.Ga(b),d.Ga(c))<=d.Ga(e)},Q6(b,e){return d.kf(d.Ga(b),d.Ga(e))},P6(b,e,c){b=d.Ga(b);e=d.Ga(e);c=d.Ga(c);return d.kf(c,e)?d.kf(b,e)&&!d.kf(b,c):!(!d.kf(b,e)&&d.kf(b,c))},mra(b,e){return"number"===typeof b?0===e:1===e},vpa(b){return!!b},Qsa(b,e,c,f){if(!b)return!1;const k=this.EV(),g=k.Za(),l=b.ia();d.nd(g,l.ta());l.kc&&d.G(l.yc);const m=this.j.Vf();let q=0;for(let r=0,p=g.length;r<p;++r){const u=g[r];g[q]=u;e=m.Sw(1,r);f=
m.Sw(3,r);d.compare(e,c,f)?++q:l.Do(u)}d.Ad(g,q);l.Tw(g);e=!!g.length;d.G(g);k.Sa();b.rc();return e},Rsa(b,e){if(!b)return!1;const c=this.EV(),f=c.Za(),k=b.ia();d.nd(f,k.ta());k.kc&&d.G(k.yc);const g=this.j.Vf();let l=0;for(let m=0,q=f.length;m<q;++m){const r=f[m];f[l]=r;(e=g.Sw(1,m))?++l:k.Do(r)}d.Ad(f,l);k.Tw(f);e=!!f.length;d.G(f);c.Sa();b.rc();return e},Xsa(b,e){if(!b)return!1;const c=b.ia(),f=c.ta();e=Math.floor(e);if(e>=f.length)return!1;c.mo(f[e]);b.rc();return!0},ata(b){if(!b)return!1;const e=
b.ia(),c=e.ta(),f=Math.floor(this.j.no()*c.length);if(f>=c.length)return!1;e.mo(c[f]);b.rc();return!0},Psa(b){if(!b||!b.H.length)return!1;b.ia().Ve(!0);b.rc();return!0},Zsa(b,e,c){if(!b)return!1;const f=b.ia();var k=f.ta();const g=this.j.Pb().qe,l=this.j.Vf().Wi;f.kc?(d.nd(a,k),f.VA(),f.Ve(!1)):g?(d.nd(a,f.yc),d.G(f.yc)):(d.nd(a,f.H),d.G(f.H));for(let m=0,q=a.length;m<q;++m)k=a[m],d.xor(k.B().Vv(e,c),l)?f.Uq(k):f.Do(k);b.rc();return d.xor(!!f.H.length,l)},Wsa(b){if(!b)return!1;var e=b.ib;let c=null;
const f=this.j.bn;for(let k=f.length-1;0<=k;--k){const g=f[k];if(e){if(g.J().oH(b)){c=g;break}}else if(g.J()===b){c=g;break}}c||(e=b.ta(),e.length&&(c=e.Oe(-1)));if(!c)return!1;b.ia().mo(c);b.rc();return!0},Sta(b){return this.j.bf?this.cda(b):this.tha(b)},hya(){return this.j.bf?this.vda():this.xja()},Dpa(b,e,c){return this.j.bf?this.$ca(b,e,c):this.iea(b,e,c)},Epa(b){return this.j.bf?this.ada(b):this.jea(b)},Fpa(b,e,c){return this.j.bf?this.bda(b,c):this.kea(b,c)},vra(b){return b?b.Oc():!1},sra(b){return b?
!b.H.length:!1},rra(b,e,c){return b?d.compare(100*b.Rd(),e,c):!1},t8(){return!0},Wqa(){return 0<this.Ir}}}
{"use strict";const d=self.C;function a(g,l){const m=g[0]-l[0];return 0!==m?m:g[1]-l[1]}function b(g,l){return g[1]-l[1]}const e=[],c=[],f=d.D(d.Rect),k=d.D(d.Ua);d.F.qb.kb={xaa(g,l){g.Ch(l)},d1(g,l){g.ko()&&"number"!==typeof l&&(l=parseFloat(l));g.Ch(g.ke()+l)},Taa(g,l){g.ko()&&g.Ch(g.ke()-l)},iva(g,l){g.Ch(!!l)},Bxa(g){g.Ch(!g.ke())},Gua(){this.j.wa().F9()},i2(g,l,m,q,r){g&&l&&(m=this.j.$A(g,l,m,q,r))&&(r&&l.QJ(m),l=this.j.wa(),l.mf(!0),m.tD(),l.mf(!1),g.ia().ql(m),m.nc()&&m.Pj())},gpa(g,l,m,q,
r){g&&l&&(g=this.j.fI(g))&&d.F.qb.kb.i2.call(this,g,l,m,q,r)},Rw(g,l,m,q,r,p,u,t,w,x){if(g){var z=this.j.Ra();if(p&&(z=this.j.nb.ct(p),!z))return;p=null;if("number"!==typeof u||0<=u)if(p=z.ba(u),!p)return;f.set(l,m,q,r);l=z.Rw(g,f,p,t,w,x);g.ia().Tw(l);g.rc()}},jxa(){const g=this.og;g.iS()&&g.Zs().Fh()},Kq(g,l){(g=this.j.wa().kR(g))&&(0===l?g.Kq(!1):1===l?g.Kq(!0):g.Kq(!g.kt()))},zwa(g){this.j.JJ(g)},owa(g,l){0>l&&(l=0);if(g){g=g.ia().ta();for(const m of g)m.JJ(l)}},Lua(g){if(g){g=g.ia().ta();for(const l of g)l.N9()}},
$J(g){if(!(0>g))return this.j.wa().jH().J6(g),!0},$xa(g){this.j.wa().jH().H6(g);return!0},Zxa(){const g=this.j.wa();g.jH().v6(g.l5());return!0},Jwa(g){g=g.toLowerCase();for(const l of this.j.wa().ah)l.i7()&&l.Qz===g&&l.EJ()},async jU(g,l,m,q,r,p){const u=this.j.fa;u&&(this.U(),await u.jU(0===g?"image/png":"image/jpeg",l/100,m,q,r,p),await this.j.Te(d.F.qb.I.e8,null))},lva(g,l){if(!(0>=g||0>=l)){this.j.ux(g,l);var m=this.j.Ra();m.RA();for(const q of m.qc)q.ZJ();if(m=this.j.fa)"off"!==m.kw()&&this.j.T$(g,
l),m.cc(m.Jp,m.Ip,!0),this.j.U()}},Fva(g){const l=this.j.fa;l&&"off"!==l.kw()&&(l.GT(0!==g?"high":"low"),l.cc(l.Jp,l.Ip,!0))},Hq(g){this.j.X9(g)},Dra(g){this.j.z7(g)},Era(g){this.j.VI(g)},Hva(){},Hua(){for(const g of this.j.nb.Zj)g.K9()},YT(g){this.j.X$(0!==g)},RT(g){this.j.RT(g)},Mwa(g,l){if(g){var m=g.ia().ta(),q=this.j.Ra(),r=g.ib;g=g.Ui;for(let u=0,t=m.length;u<t;++u){var p=m[u];const w=p.B();if(!w)continue;let x;x=r?p.sf(l+p.J().mR(g)):p.sf(l);e.push([w.ba().Oa(),w.hl()]);c.push([p,x])}if(e.length){e.sort(a);
c.sort(b);l=!1;for(let u=0,t=e.length;u<t;++u)m=c[u][0],r=q.pw(e[u][0]),g=e[u][1],p=r.H,p[g]!==m&&(p[g]=m,m.B().Wx(r),r.Eh(),l=!0);l&&this.j.U();d.G(e);d.G(c)}}},$pa(g){if(!this.j.xk){var l=this.j.nb;l.mt()||l.TA(g)}},aqa(g){if(!this.j.xk){var l=this.j.nb;l.mt()||(g=l.ct(g))&&l.TA(g)}},Yra(g){if(!this.j.xk){var l=this.j.nb;if(!l.mt()){var m=l.Zj,q=m.indexOf(l.Ub());g&&0===q||(g||q!==m.length-1)&&l.TA(m[q+(g?-1:1)])}}},M9(){if(!this.j.xk){var g=this.j.nb;g.mt()||(g.TA(g.Ub()),this.j.wa().G9())}},Wva(g,
l){g&&g.Lg(l)},Qva(g,l){g&&g.Bi(l/100)},Sva(g,l){g&&g.TT(l)},Tva(g,l){g&&g.aaa(l)},Kva(g,l){g&&g.Jc(d.Ga(+l))},Uva(g,l,m){g&&(g.cx(!0),g.Di(l),g.Ei(m))},Kua(g){g&&g.cx(!1)},Rva(g,l,m){g&&g.U$(l/100,m/100)},Xva(g,l){g&&g.Bf(+l)},Lva(g,l){g&&(k.Js(l),k.aa(),g=g.Qm,g.cm(k)||(g.qj(k),this.U()))},Vva(g,l){g&&g.raa(l)},Mva(g,l){g&&g.Se(l)},Nva(g,l,m){g&&(g=g.bb,m=g.nm(m))&&(l=1===l,m.Fb!==l&&(m.uC(l),g.yo(),this.j.U()))},Ova(g,l,m,q){if(g&&(g=g.bb,l=g.nm(l))&&(g=g.ph(l.Oa()),m=Math.floor(m),!(0>m||m>=g.length))){var r=
l.rb.EB(m);if("color"===r){k.Js(q);m=g[m];if(k.cm(m))return;m.qj(k)}else{"percent"===r&&(q/=100);if(g[m]===q)return;g[m]=q}l.Fb&&this.j.U()}},Pva(g,l){g&&g.x$(l)},bwa(g){this.j.Ra().Lq(+g)},Yva(g){this.j.Ra().Jc(d.Ga(+g))},Zva(g,l){const m=this.j.Ra().bb;if(l=m.nm(l))g=1===g,l.Fb!==g&&(l.uC(g),m.yo(),this.j.U())},$va(g,l,m){var q=this.j.Ra().bb;if(g=q.nm(g))if(q=q.ph(g.Oa()),l=Math.floor(l),!(0>l||l>=q.length)){var r=g.rb.EB(l);if("color"===r){k.Js(m);l=q[l];if(k.cm(l))return;l.qj(k)}else{"percent"===
r&&(m/=100);if(q[l]===m)return;q[l]=m}g.Fb&&this.j.U()}},cwa(g,l){this.j.Ra().waa(g/100,l/100)},awa(g){const l=this.j.Ra();0===g?l.WT():l.ST()},Zua(g){this.j.Ra().Di(g)},$ua(g){this.j.Ra().Ei(g)},Wua(g,l){const m=this.j.Ra();m.Di(g);m.Ei(l)},Yua(g){if(g&&(g=g.Dj())&&(g=g.B())){var l=this.j.Ra();l.Di(g.L());l.Ei(g.M())}},async B7(g){const l=this.j.Ub();l&&g&&!this.j.xk&&await this.NK(l,g.ib?g.To:[g])},async Cra(g){await d.F.qb.kb.B7.call(this,this.j.fI(g))},Qxa(g){const l=this.j.Ub();l&&g&&this.rX(l,
g.ib?g.To:[g])},gba(g){d.F.qb.kb.gba.call(this,this.j.fI(g))},Rxa(){const g=this.j.Ub();if(g){var l=g.Jea();this.rX(g,l)}},async Ara(g){const l=this.j.Ub();g&&l&&!this.j.xk&&await this.NK(l,g.GV())},async Bra(g){const l=this.j.Ub();(g=this.j.nb.ct(g))&&l&&!this.j.xk&&await this.NK(l,g.GV())},zC(g){const l=this.oe.m4();if(l)switch(l.lY){case 1:"number"===typeof g&&l.zC(g);break;case 2:"string"===typeof g&&l.zC(g);break;case 3:l.zC(g)}},Hra(g,l,m){var q=this.ZC(g.toLowerCase(),!0);const r=q.cH,p=l.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.Np)&&0!==q.rp!==(0!==m.rp)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,m)},Ira(g,l){const m=this.ZC(g.toLowerCase(),!0);m.Np&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(m.cH.values())||m.Np;q&&
0!==q.rp!==(0!==l.rp)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):m.Np=l},toa(g,l,m){m=Math.floor(m);var q=this.ZC(g.toLowerCase(),!1);if(q){var r=q.cH.get(l.toLowerCase());if(!r)if(q.Np)r=q.Np,m=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(r.wf())if(0!==r.rp)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.j;l=g.wa();var p=l.Pb();q=p.Td();var u=0<q.length;u&&l.xh(q);var t=[];if(p=l.IH(p)){p=p.Ph;for(let w=m,x=p.length;w<x;++w)t.push(p[w].ke())}m=r.Ph;for(let w=t.length,x=m.length;w<x;++w)t.push(m[w].Jr);return g.bf?this.Yca(l,r,t,u,q):this.wda(l,r,t,u,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.C;d.F.qb.Pd={Oza:function(a){"string"===typeof a&&(a=parseInt(a,10),isNaN(a)&&(a=0));return Math.floor(a)},hza:function(a){"string"===typeof a&&(a=parseFloat(a),isNaN(a)&&(a=0));return a},Qn(a){return a.toString()},yA(a){return"string"===typeof a?a.length:0},random(a,b){return"undefined"===typeof b?this.j.no()*a:this.j.no()*(b-a)+a},pla(...a){return a[Math.floor(this.j.no()*a.length)]},EAa(){return Math.PI},Mza(){return Infinity},sqrt(a){return Math.sqrt(a)},abs(a){return Math.abs(a)},
round(a){return Math.round(a)},eBa(a,b){b=Math.max(Math.floor(b),0);b=Math.pow(10,b);return Math.round((a+Number.EPSILON)*b)/b},floor(a){return Math.floor(a)},ceil(a){return Math.ceil(a)},sign(a){return Math.sign(a)},sin(a){return Math.sin(d.Ga(a))},cos(a){return Math.cos(d.Ga(a))},tan(a){return Math.tan(d.Ga(a))},asin(a){return d.he(Math.asin(a))},acos(a){return d.he(Math.acos(a))},atan(a){return d.he(Math.atan(a))},exp(a){return Math.exp(a)},oma(a){return Math.log(a)},log10(a){return Math.log(a)/
Math.LN10},max(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b<f&&(b=f)}return b},min(...a){let b=a[0];"number"!==typeof b&&(b=0);for(let e=1,c=a.length;e<c;++e){let f=a[e];"number"===typeof f&&b>f&&(b=f)}return b},aa(a,b,e){return d.aa(a,b,e)},rA(a,b,e,c){return d.Rf(a,b,e,c)},angle(a,b,e,c){return d.he(d.Gd(a,b,e,c))},Hd(a,b,e){return d.Hd(a,b,e)},dH(a,b,e){return d.dH(a,b,e)},VG(a,b,e,c){return d.VG(a,b,e,c)},L_(a,b,e,c,f){return d.L_(a,
b,e,c,f)},J_(a,b,e){return d.J_(a,b,e)},Eya(a,b){return d.he(d.Ln(d.Ga(a),d.Ga(b)))},Fya(a,b,e){return d.he(d.dP(d.Ga(a),d.Ga(b),e))},Gya(a,b,e){return d.he(d.eP(d.Ga(a),d.Ga(b),d.Ga(e)))},pBa(a,b,e){b|=0;return(a|0)&~(1<<b)|(0!==e?1:0)<<b},FBa(a,b){return(a|0)^1<<(b|0)},Gza(a,b){return(a|0)&1<<(b|0)?1:0},tAa(){return"\n"},MBa(a){return"string"===typeof a?a.toUpperCase():""},mAa(a){return"string"===typeof a?a.toLowerCase():""},left(a,b){return"string"===typeof a?a.substr(0,b):""},mid(a,b,e){return"string"!==
typeof a?"":0>e?a.substr(b):a.substr(b,e)},right(a,b){return"string"===typeof a?a.substr(a.length-b):""},trim(a){return"string"===typeof a?a.trim():""},GBa(a,b,e){if("string"!==typeof a||"string"!==typeof e)return"";a=a.split(e);b=Math.floor(b);return 0>b||b>=a.length?"":a[b]},HBa(a,b){return"string"===typeof a&&"string"===typeof b&&a.length?a.split(b).length:0},find(a,b){return"string"===typeof a&&"string"===typeof b?a.search(new RegExp(d.Zv(b),"i")):-1},gza(a,b){return"string"===typeof a&&"string"===
typeof b?a.search(new RegExp(d.Zv(b),"")):-1},replace(a,b,e){return"string"===typeof a&&"string"===typeof b&&"string"===typeof e?a.replace(new RegExp(d.Zv(b),"gi"),e):"string"===typeof a?a:""},QAa(a,b,e){b=this.GB(b,e);return a?a.search(b):-1},PAa(a,b,e,c){b=this.GB(b,e);return a?a.replace(b,c):""},OAa(a,b,e){return(a=this.DR(a.toString(),b,e))?a.length:0},NAa(a,b,e,c){c=Math.floor(c);a=this.DR(a.toString(),b,e);return!a||0>c||c>=a.length?"":a[c]},$Ba(a,b){let e=0>a?"-":"";0>a&&(a=-a);e+="0".repeat(Math.max(b-
a.toString().length,0));return e+a.toString()},OBa(a){return encodeURIComponent(a)},NBa(a){return decodeURIComponent(a)},P_(){return this.j.eE},DBa(){return this.j.Dd},XBa(){return(Date.now()-this.j.wp)/1E3},KBa(){return Date.now()},time(){return this.j.rf()},CBa(){return this.j.Tl},yAa(){return this.j.TN},jza(){return this.j.xE},Vya(){return this.j.xF},Hza(){return this.j.CB()},ZBa(){return this.j.fa.Pi},YBa(){return this.j.fa.Oi},CAa(){return this.j.Xh},BAa(){return this.j.Wh},AAa(){return this.j.Xh},
zAa(){return this.j.Wh},gBa(){return this.j.Ra().Eg()},hBa(){return this.j.Ra().Fg()},gAa(){return this.j.Ra().Ha()},hAa(){return this.j.Ra().jc},eAa(){return d.he(this.j.Ra().ea())},iAa(){return this.j.Ra().R()},fAa(){return this.j.Ra().P()},TBa(a){return(a=this.j.Ra().ba(a))?a.Hp.T:0},VBa(a){return(a=this.j.Ra().ba(a))?a.Hp.O:0},UBa(a){return(a=this.j.Ra().ba(a))?a.Hp.Z:0},RBa(a){return(a=this.j.Ra().ba(a))?a.Hp.X:0},WBa(a){return(a=this.j.Ra().ba(a))?a.Hp.width():0},SBa(a){return(a=this.j.Ra().ba(a))?
a.Hp.height():0},Qya(a,b,e){return(a=this.j.Ra().ba(a))?a.jh(b,e)[0]:0},Rya(a,b,e){return(a=this.j.Ra().ba(a))?a.jh(b,e)[1]:0},bAa(a,b,e){return(a=this.j.Ra().ba(a))?a.xq(b,e)[0]:0},cAa(a,b,e){return(a=this.j.Ra().ba(a))?a.xq(b,e)[1]:0},Yza(a){return(a=this.j.Ra().ba(a))?a.jc:0},Tza(a){return(a=this.j.Ra().ba(a))?d.he(a.Qc):0},Vza(a){return(a=this.j.Ra().ba(a))?100*a.Rd():0},Zza(a){return(a=this.j.Ra().ba(a))?a.Hk:0},$za(a){return(a=this.j.Ra().ba(a))?a.Eg():0},aAa(a){return(a=this.j.Ra().ba(a))?
a.Fg():0},Wza(a){return(a=this.j.Ra().ba(a))?100*a.Fe:0},Xza(a){return(a=this.j.Ra().ba(a))?100*a.Ge:0},dAa(a){return(a=this.j.Ra().ba(a))?a.gb():0},Uza(a){return(a=this.j.Ra().ba(a))?a.Oa():-1},Pya(){const a=this.j.fa;return a?a.wO:""},lAa(a){const b=this.og;return b.iS()?a?(a=b.V3(a))?a.Oa():0:b.Zs().Oa():0},fBa(){return this.j.Vr},Oya(a,b,...e){var c=this.ZC(a.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${a}' not found; returning 0`),0;var f=c.cH.get(b.toLowerCase());
if(!f)if(c.Np)f=c.Np;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${a}' string '${b}'; returning 0 (consider setting a default)`),0;c=f.rp;const k=f.RH();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${a}' string '${b}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.wf())return k;a=this.j.wa();b=a.Pb().Td();const g=0<b.length;g&&a.xh(b);const l=f.Ph;for(let m=e.length,q=l.length;m<q;++m)e.push(l[m].Jr);
f=f.Yf();e=f.nT(f.Td(),c,k,...e);g&&a.Wb(b);return e},kAa(){return this.j.Eb.kF},Kza(){return 0===this.Ir?1:this.Qy/this.Ir},Sf(){return this.j.Bw()?"webgpu":"webgl"},TAa(){return this.j.Bw()?"<unavailable>":this.j.oq().fA},Lza(){let a=this.j.xb().r4();return Math.round(100*a/1048576)/100},UAa(a,b,e){return d.U8(a,b,e)},XAa(a,b,e){return d.TS(a/100,b/100,e/100)},VAa(a,b,e,c){return d.kC(a/100,b/100,e/100,c/100)},YAa(a,b,e){return d.TS(a/255,b/255,e/255)},WAa(a,b,e,c){return d.kC(a/255,b/255,e/255,
c/255)},HAa(){return this.j.LF},IAa(){return this.j.KZ},Xya(){return this.j.Pb().ud.Ha()},Wya(){return this.j.Pb().su}}}{"use strict";const d=self.C;d.F.Xd=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.F.Xd.Ae=class extends d.Ai{constructor(a){super(a);this.ne=a.ne}A(){d.G(this.ne);super.A()}Vb(){for(const a of this.ne)a.v7(this.j)}ll(a){const b={ge:this.j.Vc};return Promise.all(this.ne.map(e=>e.w7(a,b)))}wi(){for(const a of this.ne)a.s9()}jC(){this.uX()}uX(){for(const a of this.V.Yla())a.ra.pL()}bw(a){d.F.Xd.W3(this,a)}}}
{"use strict";const d=self.C,a=d.D(d.Rect),b=d.D(d.Ic),e=d.D(d.xx);d.F.Xd.Instance=class extends d.Gq{constructor(f,k){super(f);let g=!0,l="",m=0,q=!0;k&&(g=!!k[0],l=k[1],m=k[2],q=k[3]);this.ec=this.V.aR(l)||this.V.ne[0];this.Ib=d.aa(m,0,this.ec.pe.length-1);this.Gf=this.ec.$n(this.Ib);k=this.Gf.Nc();this.mu=k.$b();this.cM=k.vf();this.yy=k.JB();this.SR();f.Xw(2,!0);f.Xw(1,0<=this.ec.um());this.Fl=Math.abs(this.ec.um());this.lu=this.ec.RZ;this.CD=d.D(d.Jw);this.Bl=this.qk=0;this.HX="";this.ty=-1;this.fu=
"";this.NX=0;f=this.B();this.Lja=f.Tf();f.Lg(g);f.Vw(q);f.Gt(this.Gf.Yk());f.Ht(this.Gf.Zk());f.GJ(this.Gf.mr);f.Pa();1===this.V.ne.length&&1===this.V.ne[0].pe.length||0===this.Fl||this.fg()}A(){this.CD=this.mu=this.Gf=this.ec=null;super.A()}nh(){return this.Gf.Nc()}uq(){return!0}zq(){this.mu=null}$I(){this.pL()}Mc(f){var k=this.mu;null!==k&&(f.Wd(k),k=this.B(),k.ag()?this.zK(k,f):this.AK(k,f))}AK(f,k){let g=this.Lja;this.j.yk&&(g=f.aJ(g));k.dJ(g,this.yy)}zK(f,k){const g=f.RR();if(f.mS()){f.Rv(a,
b,!1);let l=b;this.j.yk&&(l=f.aJ(l));g.qQ(f.el(),l,this.yy);f.BJ(!1)}g.Mc(k)}gw(){return this.CD.la()}WB(){return this.N.ZH(2)}Bt(f){this.N.Xw(2,f)}bC(){return this.N.ZH(1)}ix(f){this.N.Xw(1,f)}MI(){return this.N.ZH(4)}JT(f){this.N.Xw(4,f)}bd(){this.fu&&this.aV();0<=this.ty&&this.xK();const f=this.Fl;if(this.WB()&&0!==f){this.CD.Yc(this.j.fq(this.N));var k=this.gw(),g=this.Gf,l=g.YX/f;if(!(k<this.qk+l)){var m=this.ec,q=this.lu,r=m.pe.length,p=m.ao(),u=m.WE,t=m.qka;this.bC()?this.Ib++:this.Ib--;this.qk+=
l;this.Ib>=r&&(t?(this.ix(!1),this.Ib=r-2):u?this.Ib=q:(this.Bl++,this.Bl>=p?this.DK(!1):this.Ib=q));0>this.Ib&&(t?(this.Ib=1,this.ix(!0),u||(this.Bl++,this.Bl>=p&&this.DK(!0))):u?this.Ib=q:(this.Bl++,this.Bl>=p?this.DK(!0):this.Ib=q));this.Ib=d.aa(this.Ib,0,r-1);l=m.$n(this.Ib);k>this.qk+l.YX/f&&(this.qk=k);this.gD(g,l)}}else this.Eo()}DK(f){this.Ib=f?0:this.ec.pe.length-1;this.Bt(!1);this.HX=this.ec.Ha();this.JT(!0);this.oa(d.F.Xd.I.b8);this.oa(d.F.Xd.I.a8);this.JT(!1);this.Bl=0}gD(f,k){if(f!==
k){var g=this.B(),l=f.Nc();f=k.Nc();var m=l.R();l=l.P();var q=f.R(),r=f.P();m!==q&&g.Af(g.R()*(q/m));l!==r&&g.eg(g.P()*(r/l));g.Gt(k.Yk());g.Ht(k.Zk());g.GJ(k.mr);g.Pa();this.Gf=k;this.mu=f.$b();this.cM=f.vf();this.yy=f.JB();k=this.Ja().Sc;for(let p=0,u=k.length;p<u;++p);this.oa(d.F.Xd.I.o8);this.j.U()}}Zia(f){this.Bt(!0);this.qk=this.gw();1===f&&0!==this.Ib&&(this.ty=0,this.MI()||this.xK());this.fg()}bia(f,k){this.fu=f;this.NX=k;this.fg();this.MI()||this.aV()}zV(){return this.fu?this.fu:this.ec.Ha()}cia(f){isFinite(f)&&
(this.ty=f,this.MI()||this.xK())}eia(f){this.Fl=Math.abs(f);this.ix(0<=f);0<this.Fl&&this.fg()}tV(){return this.bC()?this.Fl:-this.Fl}dia(f){this.lu=f=d.aa(Math.floor(f),0,this.ec.pe.length-1)}aV(){const f=this.Gf;var k=this.V.aR(this.fu);this.fu="";!k||k===this.ec&&this.WB()||(this.ec=k,this.ix(0<=k.um()),this.Fl=Math.abs(k.um()),this.lu=k.RZ,this.Ib=d.aa(this.Ib,0,this.ec.pe.length-1),1===this.NX&&(this.Ib=0),this.Bt(!0),this.qk=this.gw(),k=this.ec.$n(this.Ib),this.gD(f,k))}xK(){const f=this.Gf;
var k=this.Ib;this.Ib=d.aa(Math.floor(this.ty),0,this.ec.pe.length-1);this.ty=-1;k!==this.Ib&&(k=this.ec.$n(this.Ib),this.gD(f,k),this.qk=this.gw())}pL(){const f=this.Gf.Nc();this.mu=f.$b();this.cM=f.vf();this.yy=f.JB();this.B().BJ(!0)}$b(){return this.mu}vf(){return this.cM}JB(){return this.yy}bI(){return this.Gf.bI()}Wk(f){const k=this.Gf,g=this.B();if("string"===typeof f)f=k.L4(f);else if("number"===typeof f)f=k.K4(f-1);else throw new TypeError("expected string or number");if(!f)return[g.L(),g.M()];
e.ua(f.nq());if(g.ag()){const [l,m]=g.el().qU(e.W,e.S);e.set(l,m)}e.offset(-k.Yk(),-k.Zk());e.scale(g.R(),g.P());e.rotate(g.ea());e.offset(g.L(),g.M());return[e.W,e.S]}j4(){return this.B().fl().Gv()}gR(f){f=Math.floor(f);const k=this.B();var g=k.fl();const l=g.Gv();f===l&&(f=0);if(0>f||f>=l)return[0,0];g=g.Ac;return[g[2*f]+k.L(),g[2*f+1]+k.M()]}oc(){const f={a:this.ec.jb};0!==this.qk&&(f.fs=this.qk);var k=this.gw();0!==k&&(f.at=k);0!==this.Ib&&(f.f=this.Ib);0!==this.Fl&&(f.cas=this.Fl);1!==this.Bl&&
(f.ar=this.Bl);0!==this.lu&&(f.rt=this.lu);this.WB()||(f.ap=this.WB());this.bC()||(f.af=this.bC());k=this.B();k.vh()&&(f.ce=k.vh());return f}ac(f){var k=this.J().d4(f.a);k&&(this.ec=k);this.qk=f.hasOwnProperty("fs")?f.fs:0;this.CD.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.Ib=d.aa(k,0,this.ec.pe.length-1);this.Fl=f.hasOwnProperty("cas")?f.cas:0;this.Bl=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.lu=d.aa(k,0,this.ec.pe.length-1);this.Bt(f.hasOwnProperty("ap")?
!!f.ap:!0);this.ix(f.hasOwnProperty("af")?!!f.af:!0);this.Gf=k=this.ec.$n(this.Ib);this.pL();const g=this.B();g.Gt(k.Yk());g.Ht(k.Zk());g.GJ(k.mr);g.Vw(!!f.ce)}Qb(f){const k=this.B();switch(f){case 3:return k.vh();case 2:return d.aa(this.Ib,0,this.ec.pe.length-1)}}me(f,k){var g=this.B();switch(f){case 3:g.Vw(!!k);break;case 2:this.Bt(!1);f=this.ec.pe.length-1;g=k=d.aa(k,0,f);k=this.ec.$n(this.Ib);const l=this.ec.$n(g);this.gD(k,l);this.Ib=d.aa(g,0,f)}}Dg(){return self.X5}};const c=new WeakMap;self.X5=
class extends self.Gw{constructor(){super();c.set(this,self.pq.Ao().ra)}get animationName(){return c.get(this).zV()}get imageWidth(){return c.get(this).nh().R()}get imageHeight(){return c.get(this).nh().P()}}}
{"use strict";const d=self.C;d.F.Xd.I={Aqa(a){return d.lf(this.zV(),a)},Moa(a,b){return d.compare(this.Ib,a,b)},Hoa(a,b){return d.compare(this.tV(),a,b)},a8(a){return d.lf(this.HX,a)},b8(){return!0},o8(){return!0},Xqa(){return 0>this.B().R()},Pqa(){return 0>this.B().P()},SS(){return!0},Q8(){return!0},vh(){return this.B().vh()}}}
{"use strict";const d=self.C;d.F.Xd.kb={Nwa(a,b,e,c){if(a&&b){var [f,k]=this.Wk(e);if(e=this.j.$A(a,b,f,k,c)){c&&b.QJ(e);a.Lb().ot()&&(b=e.B(),b.Jc(this.B().ea()),b.Pa());b=this.j.wa();b.mf(!0);e.tD();b.mf(!1);c=this.j.jw().uf();b=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.wu)b=!0,c.set("Spawn_LastExec",this.j.wu);if(a!==this.J()&&(a=a.ia(),a.Ve(!1),a=a.H,b&&d.G(a),a.push(e),e.nc()))for(const g of e.ae)e=g.J().ia(),b?e.ql(g):(e.Ve(!1),e.Uq(g))}}},ixa(){this.Bt(!1)},exa(a){this.Zia(a)},
dva(a,b){this.bia(a,b)},d$(a){this.cia(a)},fva(a){this.eia(a)},eva(a){this.dia(a)},mwa(a){const b=this.B(),e=b.R();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.Af(a),b.Pa())},Ava(a){const b=this.B(),e=b.P();a=Math.abs(e)*(0===a?-1:1);e!==a&&(b.eg(a),b.Pa())},Lq(a){const b=this.Gf.Nc(),e=this.B();var c=0>e.R()?-1:1;const f=0>e.P()?-1:1;c*=b.R()*a;a=b.P()*a*f;if(e.R()!==c||e.P()!==a)e.cc(c,a),e.Pa()},async Fra(a,b){const e=this.Gf.Nc(),c=this.B(),f=this.j;if(e.Vl===a)0===b&&(c.cc(e.R(),e.P()),c.Pa()),this.oa(d.F.Xd.I.SS);
else{var k=d.D(d.UB);try{await k.y7(f,a);if(!k.QI())throw Error("image failed to load");await k.yq(f.xb(),{ge:this.j.Vc})}catch(g){console.error("Load image from URL failed: ",g);this.oa(d.F.Xd.I.Q8);return}e.E9(k);this.Ta.uX();this.yx()||0!==b||(c.cc(e.R(),e.P()),c.Pa());f.U();this.yx()||await this.Te(d.F.Xd.I.SS)}},ova(a){this.B().Vw(a)},FJ(a,b){this.B().FJ(0===a,b)},xC(a){this.B().Se(a);this.j.U()}}}"use strict";
self.C.F.Xd.Pd={Una(){return this.Ib},Vna(){return this.ec.pe.length},Wna(){return this.ec.Ha()},Xna(){return this.tV()},Dsa(){return this.ec.um()},mqa(d){return this.Wk(d)[0]},nqa(d){return this.Wk(d)[1]},lqa(){return this.bI()},oqa(){return this.nh().R()},kqa(){return this.nh().P()},qta(d){return this.gR(d)[0]},rta(d){return this.gR(d)[1]},pta(){return this.j4()}};{"use strict";const d=self.C;d.F.qt=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.F.qt.Ae=class extends d.Ai{constructor(a){super(a);this.mM=this.xp=null}A(){this.wi();super.A()}Vb(){this.Nc().Kw(this.j)}async ll(){this.mM=await this.Nc().TQ()}IQ(a,b,e,c){!this.xp&&this.mM&&(this.xp=new self.N7(this),this.xp.o2(this.mM,a,b,e,c))}wi(){this.xp&&(this.xp.A(),this.xp=null)}}}
{"use strict";const d=self.C,a=d.D(d.Rect),b=d.D(d.Rect),e=d.D(d.Ic);d.F.qt.Instance=class extends d.Gq{constructor(c,f){super(c);this.KD=this.kG=this.PF=this.qF=16;this.gY=this.ZX=1;this.PY=!0;this.RD=null;f&&(this.qF=f[0],this.PF=f[1],this.kG=f[2],this.KD=f[3],this.ZX=f[4],this.gY=f[5],this.PY=!!f[8],this.B().Lg(!!f[6]));this.Ta.IQ(this.qF,this.PF,this.kG,this.KD)}A(){super.A()}Mc(c){const f=this.B(),k=f.Tf();this.Bda(c,k.zb,k.Ab,f.R(),f.P())}Bda(c,f,k,g,l){let m=this.Ta.xp;if(!m&&(this.Ta.IQ(this.qF,
this.PF,this.kG,this.KD),m=this.Ta.xp,!m))return;const q=this.qF,r=this.PF,p=this.kG,u=this.KD,t=m.Py-r,w=m.Oy-u;var x=this.PY?1:0;const z=this.ZX,D=this.gY;0<q&&0<p&&this.Jm(c,m.$b(),0,0,q+x,p+x,f,k,q+x,p+x);0<r&&0<p&&this.Jm(c,m.$b(),t-x,0,r+x,p+x,f+g-r-x,k,r+x,p+x);0<r&&0<u&&this.Jm(c,m.$b(),t-x,w-x,r+x,u+x,f+g-r-x,k+l-u-x,r+x,u+x);0<q&&0<u&&this.Jm(c,m.$b(),0,w-x,q+x,u+x,f,k+l-u-x,q+x,u+x);0===z?(x=2===D?0:x,0<q&&w>p&&this.by(c,m.rF,f,k+p,q+x,l-p-u,0,0),0<r&&w>p&&this.by(c,m.QF,f+g-r-x,k+p,r+
x,l-p-u,x,0),0<p&&t>q&&this.by(c,m.lG,f+q,k,g-q-r,p+x,0,0),0<u&&t>q&&this.by(c,m.LD,f+q,k+l-u-x,g-q-r,u+x,0,x)):1===z&&(0<q&&w>p&&this.Jm(c,m.$b(),0,p,q,w-p,f,k+p,q,l-p-u),0<r&&w>p&&this.Jm(c,m.$b(),t,p,r,w-p,f+g-r,k+p,r,l-p-u),0<p&&t>q&&this.Jm(c,m.$b(),q,0,t-q,p,f+q,k,g-q-r,p),0<u&&t>q&&this.Jm(c,m.$b(),q,w,t-q,u,f+q,k+l-u,g-q-r,u));w>p&&t>q&&(0===D?this.by(c,m.sE,f+q,k+p,g-q-r,l-p-u,0,0):1===D&&this.Jm(c,m.$b(),q,p,t-q,w-p,f+q,k+p,g-q-r,l-p-u))}Jm(c,f,k,g,l,m,q,r,p,u){const t=f.R(),w=f.P();c.Wd(f);
a.set(q,r,q+p,r+u);b.set(k/t,g/w,(k+l)/t,(g+m)/w);null===this.RD?(f=this.B(),g=f.Tf(),k=g.zb,g=g.Ab,a.offset(-k,-g),e.WP(a,f.ea()),e.offset(k,g),c.Nj(e,b)):this.RD(a,b)}by(c,f,k,g,l,m,q,r){const p=f.R(),u=f.P();c.Wd(f);a.set(k,g,k+l,g+m);b.set(-q/p,-r/u,(l-q)/p,(m-r)/u);null===this.RD?(f=this.B(),g=f.Tf(),k=g.zb,g=g.Ab,a.offset(-k,-g),e.WP(a,f.ea()),e.offset(k,g),c.Nj(e,b)):this.RD(a,b)}nh(){}Qb(){}me(){}}}"use strict";self.C.F.qt.I={};"use strict";self.C.F.qt.kb={xC(d){this.B().Se(d);this.j.U()}};
"use strict";self.C.F.qt.Pd={};
{"use strict";const d=self.C;function a(b){const e=d.nf(b.width,b.height);e.getContext("2d").drawImage(b,0,0);return e}self.N7=class{constructor(b){this.Ta=b;this.j=this.Ta.K();this.LD=this.lG=this.QF=this.rF=this.sE=this.ob=null;this.Oy=this.Py=0;this.ma=this.j.xb();this.Kn=this.xk=!1}A(){this.ma.eo()||(this.ma.Pe(this.ob),this.ma.Pe(this.sE),this.ma.Pe(this.rF),this.ma.Pe(this.QF),this.ma.Pe(this.lG),this.ma.Pe(this.LD));this.ma=this.Ta=this.LD=this.lG=this.QF=this.rF=this.sE=this.ob=null;this.Kn=
!0}yx(){return this.Kn}o2(b,e,c,f,k){this.Wia(b,e,c,f,k)}Wia(b,e,c,f,k){if(!this.Kn){var g=b.width,l=b.height;this.Py=g;this.Oy=l;var m=g-c,q=l-k,r=this.j.Vc,p=this.j.fa.IO;this.ob=this.ma.Bj(a(b),{ge:r,Lp:p});m>e&&q>f&&(this.sE=this.ma.Bj(this.ay(a(b),e,f,m,q),{Ps:"repeat",Qs:"repeat",ge:r,Lp:p}));0<e&&q>f&&(this.rF=this.ma.Bj(this.ay(a(b),0,f,e,q),{Qs:"repeat",ge:r,Lp:p}));0<c&&q>f&&(this.QF=this.ma.Bj(this.ay(a(b),m,f,g,q),{Qs:"repeat",ge:r,Lp:p}));0<f&&m>e&&(this.lG=this.ma.Bj(this.ay(a(b),e,
0,m,f),{Ps:"repeat",ge:r,Lp:p}));0<k&&m>e&&(this.LD=this.ma.Bj(this.ay(a(b),e,q,m,l),{Ps:"repeat",ge:r,Lp:p}))}}ay(b,e,c,f,k){f-=e;k-=c;const g=d.nf(f,k);g.getContext("2d").drawImage(b,e,c,f,k,0,0,f,k);return g}$b(){return this.ob}}}{"use strict";const d=self.C;d.F.Audio=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.F.Audio.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}Dg(){return self.M5}};self.M5=class extends self.Fw{constructor(a){super(a)}}}
{"use strict";const d=self.C,a=["interactive","balanced","playback"];d.F.Audio.Instance=class extends d.Fq{constructor(b,e){super(b,"audio");this.Vh=0;this.MO="";this.Jz=this.m_=0;this.bO=!1;this.XX=this.zZ=1;this.cp=this.j.tg/2;this.ep=this.j.sg/2;this.Xr=-600;this.OZ=600;this.hZ=1E4;this.TZ=1;this.$i=null;this.sF=-1;this.Su=1;this.Ug=!1;this.VZ=0;this.jE=new Map;this.fO=this.gO=0;this.vn=new Map;b="interactive";e&&(this.m_=e[0],this.Jz=e[1],this.bO=e[2],b=a[e[3]],this.zZ=e[4],this.XX=e[5],this.Xr=
-e[6],this.OZ=e[7],this.hZ=e[8],this.TZ=e[9]);this.Rh=[];this.Ju=[];this.iF=[];this.fQ([["state",c=>this.Lga(c)],["fxstate",c=>this.Kga(c)],["trigger",c=>this.Jga(c)]]);e=this.K().Db();this.Zd=new d.Un(d.Kb.mc(e,"instancedestroy",c=>this.Rx(c.instance)),d.Kb.mc(e,"afterload",()=>this.Lm()),d.Kb.mc(e,"suspend",()=>this.Gga()),d.Kb.mc(e,"resume",()=>this.Fga()));this.j.PA(this.Cm("create-audio-context",{preloadList:this.j.Eb.e4().map(c=>({originalUrl:c.zma,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.lN,timeScaleMode:this.m_,latencyHint:b,panningModel:this.zZ,distanceModel:this.XX,refDistance:this.OZ,maxDistance:this.hZ,rolloffFactor:this.TZ,listenerPos:[this.cp,this.ep,this.Xr]}).then(c=>{this.VZ=c.sampleRate}));this.fg()}A(){this.$i=null;super.A()}Rx(b){this.$i===b&&(this.$i=null)}bB(b){return Math.pow(10,b/20)}Id(b){b=this.bB(b);return isFinite(b)?Math.max(Math.min(b,1),0):0}u7(b){return Math.log(b)/Math.log(10)*20}sS(b){return this.u7(Math.max(Math.min(b,1),0))}Gga(){this.bO||
this.lb("set-suspended",{isSuspended:!0})}Fga(){this.bO||this.lb("set-suspended",{isSuspended:!1})}Lga(b){const e=b.tickCount,c=this.Rh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>e||-1===f.placeholder));this.Rh=b.audioInstances;this.iF=b.analysers;0<c.length&&d.$l(this.Rh,c)}Kga(b){this.Ju=b.fxstate}YC(b){for(const e of this.Rh)if(d.lf(e.tag,b))return e;return null}dW(b){return this.Rh.some(e=>d.lf(b,e.tag)&&e.isPlaying)}Wt(b,e,c,f){if(this.dW(b))return null;b={tag:b,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.Rh.push(b);return b}async Jga(b){const e=b.type;this.MO=b.tag;b=b.aiid;if("ended"===e){for(const c of this.Rh)if(c.aiid===b){c.isPlaying=!1;break}await this.Te(d.F.Audio.I.m8)}else"fade-ended"===e&&await this.Te(d.F.Audio.I.n8)}bd(){const b={timeScale:this.j.Dd,gameTime:this.j.aI(),instPans:this.N4(),tickCount:this.j.Bn};
if(this.$i){const e=this.$i.B();this.cp=e.L();this.ep=e.M();b.listenerPos=[this.cp,this.ep,this.Xr]}this.lb("tick",b)}PP(b,e,c,f,k){if(0===c)return[b,e];const g=Math.sin(c);c=Math.cos(c);b-=f;e-=k;const l=b*g;b=b*c-e*g;return[b+f,e*c+l+k]}N4(){return this.Rh.filter(b=>-1!==b.uid).map(b=>this.j.Qe(b.uid)).filter(b=>b).map(b=>{const e=b.B(),c=e.ba().ea(),[f,k]=this.PP(e.L(),e.M(),-c,this.cp,this.ep);return{uid:b.tb,x:f,y:k,angle:e.ea()-c}})}mB(b,e){for(const c of this.iF)if(c.index===e&&d.lf(c.tag,
b))return c;return null}Ii(b){this.jE.set(b,(this.jE.get(b)||0)+1)}Tia(b){return b.hasOwnProperty("placeholder")||3===this.Jz?!1:b.isMusic&&1===this.Jz?!1:b.isMusic||2!==this.Jz?!0:!1}oc(){return{isSilent:this.Ug,masterVolume:this.Su,listenerZ:this.Xr,listenerUid:this.$i?this.$i.tb:-1,remoteUrls:[...this.vn.entries()],playing:this.Rh.filter(b=>this.Tia(b)),effects:this.Ju,analysers:this.iF}}ac(b){this.Ug=b.isSilent;this.Su=b.masterVolume;this.Xr=b.listenerZ;this.$i=null;this.sF=b.listenerUid;this.vn.clear();
if(b.remoteUrls)for(const [e,c]of b.remoteUrls)this.vn.set(e,c);this.Rh=b.playing;this.Ju=b.effects;this.iF=b.analysers}Lm(){if(-1!==this.sF&&(this.$i=this.j.Qe(this.sF),this.sF=-1,this.$i)){var b=this.$i.B();this.cp=b.L();this.ep=b.M()}for(var e of this.Rh)(b=this.j.Eb.qh(e.bufferOriginalUrl))?(e.bufferUrl=b.url,e.bufferType=b.type):e.bufferUrl=null;for(const c of Object.values(this.Ju))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(e=this.j.Eb.qh(f.bufferOriginalUrl))&&(f.bufferUrl=e.url,
f.bufferType=e.type);this.lb("load-state",{saveLoadMode:this.Jz,timeScale:this.j.Dd,gameTime:this.j.aI(),listenerPos:[this.cp,this.ep,this.Xr],isSilent:this.Ug,masterVolume:this.Su,playing:this.Rh.filter(c=>null!==c.bufferUrl),effects:this.Ju})}}}{"use strict";const d=self.C;d.F.Audio.I={m8(a){return d.lf(this.MO,a)},n8(a){return d.lf(this.MO,a)},vta(){return this.fO===this.gO},Jna(){return!0},hra(){return this.Ug},Bqa(){for(const a of this.Rh)if(a.isPlaying)return!0;return!1},kra(a){return this.dW(a)}}}
{"use strict";const d=self.C,a="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.F.Audio.kb={async Play(b,e,c,f){if(!this.Ug){var k=b[1],g=this.j.Eb.qh(b[0]);if(g){var l=this.Vh;this.Vh=0;var m=this.Wt(f.toLowerCase(),k,0!==e,this.Id(c));try{await this.Cm("play",{originalUrl:b[0],url:g.url,type:g.type,isMusic:k,tag:f.toLowerCase(),isLooping:0!==e,vol:this.Id(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{m&&(m.placeholder=this.j.Bn)}}}},async jta(b,
e,c,f,k,g,l,m,q,r){if(!this.Ug){var p=b[1],u=this.j.Eb.qh(b[0]);if(u){var t=this.Vh;this.Vh=0;var w=this.Wt(r.toLowerCase(),p,0!==e,this.Id(c));try{await this.Cm("play",{originalUrl:b[0],url:u.url,type:u.type,isMusic:p,tag:r.toLowerCase(),isLooping:0!==e,vol:this.Id(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:k,angle:d.Ga(g),innerAngle:d.Ga(l),outerAngle:d.Ga(m),outerGain:this.Id(q)}})}finally{w&&(w.placeholder=this.j.Bn)}}}},async hta(b,e,c,f,k,g,l,m){if(!this.Ug&&
f&&(f=f.Dj())&&f.B()){var q=f.B(),r=q.ba().ea(),[p,u]=this.PP(q.L(),q.M(),-r,this.cp,this.ep),t=b[1],w=this.j.Eb.qh(b[0]);if(w){var x=this.Vh;this.Vh=0;var z=this.Wt(m.toLowerCase(),t,0!==e,this.Id(c));try{await this.Cm("play",{originalUrl:b[0],url:w.url,type:w.type,isMusic:t,tag:m.toLowerCase(),isLooping:0!==e,vol:this.Id(c),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:u,angle:q.ea()-r,innerAngle:d.Ga(k),outerAngle:d.Ga(g),outerGain:this.Id(l),uid:f.tb}})}finally{z&&
(z.placeholder=this.j.Bn)}}}},async lta(b,e,c,f,k){if(!this.Ug){b=1===b;var g=this.j.Eb.qh(e)||this.vn.get(e.toLowerCase());if(g){var l=this.Vh;this.Vh=0;var m=this.Wt(k.toLowerCase(),b,0!==c,this.Id(f));try{await this.Cm("play",{originalUrl:e,url:g.url,type:g.type,isMusic:b,tag:k.toLowerCase(),isLooping:0!==c,vol:this.Id(f),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{m&&(m.placeholder=this.j.Bn)}}}},async kta(b,e,c,f,k,g,l,m,q,r,p){if(!this.Ug){b=1===b;var u=this.j.Eb.qh(e)||
this.vn.get(e.toLowerCase());if(u){var t=this.Vh;this.Vh=0;var w=this.Wt(p.toLowerCase(),b,0!==c,this.Id(f));try{await this.Cm("play",{originalUrl:e,url:u.url,type:u.type,isMusic:b,tag:p.toLowerCase(),isLooping:0!==c,vol:this.Id(f),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:k,y:g,angle:d.Ga(l),innerAngle:d.Ga(m),outerAngle:d.Ga(q),outerGain:this.Id(r)}})}finally{w&&(w.placeholder=this.j.Bn)}}}},async ita(b,e,c,f,k,g,l,m,q){if(!this.Ug&&!this.Ug&&k&&(k=k.Dj())&&k.B()){var r=
k.B(),p=r.ba().ea(),[u,t]=this.PP(r.L(),r.M(),-p,this.cp,this.ep);b=1===b;var w=this.j.Eb.qh(e)||this.vn.get(e.toLowerCase());if(w){var x=this.Vh;this.Vh=0;var z=this.Wt(q.toLowerCase(),b,0!==c,this.Id(f));try{await this.Cm("play",{originalUrl:e,url:w.url,type:w.type,isMusic:b,tag:q.toLowerCase(),isLooping:0!==c,vol:this.Id(f),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:t,angle:r.ea()-p,innerAngle:d.Ga(g),outerAngle:d.Ga(l),outerGain:this.Id(m),uid:k.tb}})}finally{z&&
(z.placeholder=this.j.Bn)}}}},jwa(b,e){this.lb("set-looping",{tag:b.toLowerCase(),isLooping:0===e})},nwa(b,e){this.lb("set-muted",{tag:b.toLowerCase(),isMuted:0===e})},Cwa(b,e){this.lb("set-volume",{tag:b.toLowerCase(),vol:this.Id(e)})},ypa(b,e,c,f){this.lb("fade-volume",{tag:b.toLowerCase(),vol:this.Id(e),duration:c,stopOnEnd:0===f})},async tta(b){const e=b[1],c=this.j.Eb.qh(b[0]);c&&(this.gO++,await this.Cm("preload",{originalUrl:b[0],url:c.url,type:c.type,isMusic:e}),this.fO++)},async uta(b,e){b=
1===b;const c=this.j.Eb.qh(e)||this.vn.get(e.toLowerCase());c&&(this.gO++,await this.Cm("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:b}),this.fO++)},gx(b,e){this.lb("set-playback-rate",{tag:b.toLowerCase(),rate:Math.max(e,0)})},Fh(b){this.lb("stop",{tag:b.toLowerCase()})},hxa(){this.lb("stop-all")},swa(b,e){this.lb("set-paused",{tag:b.toLowerCase(),paused:0===e})},ava(b,e){this.lb("seek",{tag:b.toLowerCase(),pos:e})},wwa(b){2===b&&(b=this.Ug?1:0);b=0===b;this.Ug!==b&&(this.Ug=b,this.lb("set-silent",
{isSilent:b}))},kwa(b){b=this.Id(b);this.Su!==b&&(this.Su=b,this.lb("set-master-volume",{vol:b}))},xna(b,e,c,f,k,g,l){b=b.toLowerCase();e=a[e];this.Ii(b);this.lb("add-effect",{type:"filter",tag:b,params:[e,c,f,k,g,d.aa(l/100,0,1)]})},una(b,e,c,f){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"delay",tag:b,params:[e,this.Id(c),d.aa(f/100,0,1)]})},yna(b,e,c,f,k,g){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"flanger",tag:b,params:[e/1E3,c/1E3,f,k/100,d.aa(g/100,0,1)]})},Dna(b,
e,c,f,k,g,l){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"phaser",tag:b,params:[e,c,f,k,g,d.aa(l/100,0,1)]})},tna(b,e,c,f){b=b.toLowerCase();const k=this.j.Eb.qh(e[0]);k&&(this.Ii(b),this.lb("add-effect",{type:"convolution",tag:b,bufferOriginalUrl:e[0],bufferUrl:k.url,bufferType:k.type,params:[0===c,d.aa(f/100,0,1)]}))},zna(b,e){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"gain",tag:b,params:[this.Id(e)]})},Cna(b){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"gain",
tag:b,params:[0]})},Hna(b,e,c){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"tremolo",tag:b,params:[e,d.aa(c/100,0,1)]})},Gna(b,e,c){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"ringmod",tag:b,params:[e,d.aa(c/100,0,1)]})},vna(b,e,c,f,k,g){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"distortion",tag:b,params:[this.bB(e),this.bB(c),f,this.bB(k),d.aa(g/100,0,1)]})},sna(b,e,c,f,k,g){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"compressor",tag:b,params:[e,
c,f,k/1E3,g/1E3]})},rna(b,e,c){b=b.toLowerCase();this.Ii(b);this.lb("add-effect",{type:"analyser",tag:b,params:[e,c]})},Ota(b){b=b.toLowerCase();this.jE.set(b,0);this.lb("remove-effects",{tag:b});this.Ju={}},wva(b,e,c,f,k,g){this.lb("set-effect-param",{tag:b.toLowerCase(),index:Math.floor(e),param:c,value:f,ramp:k,time:g})},hwa(b){b&&(b=b.Dj())&&b.B()&&(this.$i=b)},iwa(b){this.Xr=b},Vua(b){this.Vh=Math.max(b,0)},Oxa(b){const e=b[1];(b=this.j.Eb.qh(b[0]))&&this.lb("unload",{url:b.url,type:b.type,isMusic:e})},
Pxa(b,e){b=1===b;(e=this.j.Eb.qh(e)||this.vn.get(e.toLowerCase()))&&this.lb("unload",{url:e.url,type:e.type,isMusic:b})},Nxa(){this.lb("unload-all")},Fna(b,e,c){this.vn.set(c.toLowerCase(),{url:b,type:e})}}}"use strict";
self.C.F.Audio.Pd={npa(d){return(d=this.YC(d))?d.duration:0},nta(d){return(d=this.YC(d))?d.playbackTime:0},mta(d){return(d=this.YC(d))?d.playbackRate:0},Yxa(d){return(d=this.YC(d))?this.sS(d.volume):0},Kra(){return this.sS(this.Su)},opa(d){return this.jE.get(d.toLowerCase())||0},Mna(d,a){return(d=this.mB(d,Math.floor(a)))?d.binCount:0},Lna(d,a,b){d=this.mB(d,Math.floor(a));if(!d)return 0;b=Math.floor(b);return 0>b||b>=d.binCount?0:d.freqBins[b]},Nna(d,a){return(d=this.mB(d,Math.floor(a)))?d.peak:
0},Ona(d,a){return(d=this.mB(d,Math.floor(a)))?d.rms:0},Uua(){return this.VZ},ipa(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.C;d.F.im=class extends d.V9{constructor(a){super(a,"button");this.hH("click",(b,e)=>b.cga(e))}A(){super.A()}}}{"use strict";const d=self.C;d.F.im.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}}}
{"use strict";const d=self.C,a=self.Bg;d.F.im.Instance=class extends d.U9{constructor(e,c){super(e,"button");this.Ia="OK";this.Tg=this.PE=!1;this.gd=this.Dn="";this.ky=this.ga=!0;c&&(this.PE=1===c[0],this.Ia=c[1],this.Dn=c[2],this.B().Lg(c[3]),this.ga=c[4],this.ky=c[5],this.Tg=c[6],this.gd=c[7]);this.e2({id:this.gd})}A(){super.A()}UH(){return{text:this.Ia,isCheckbox:this.PE,isChecked:this.Tg,title:this.Dn,isVisible:this.B().Oc(),isEnabled:this.ga}}async cga(e){this.Tg=e.isChecked;this.vw().dispatchEvent(d.D(d.Event,
"click",!0));await this.Te(d.F.im.I.f8)}Ji(e){this.Ia!==e&&(this.Ia=e,this.Qj())}Oia(e){this.Dn!==e&&(this.Dn=e,this.Qj())}Zt(e){e=!!e;this.ga!==e&&(this.ga=e,this.Qj())}YW(e){this.PE&&(e=!!e,this.Tg!==e&&(this.Tg=e,this.Qj()))}Mc(){}oc(){return{text:this.Ia,checked:this.Tg,title:this.Dn,enabled:this.ga}}ac(e){this.Ia=e.text;this.Tg=e.checked;this.Dn=e.title;this.ga=e.enabled;this.Qj()}Qb(e){switch(e){case 1:return this.Ia;case 2:return this.Dn;case 4:return this.ga;case 5:return this.ky;case 6:return this.Tg;
case 7:return this.gd}}me(e,c){switch(e){case 1:if(this.Ia===c)break;this.Ia=c;this.Qj();break;case 2:if(this.Dn===c)break;this.Dn=c;this.Qj();break;case 4:if(this.ga===!!c)break;this.ga=!!c;this.Qj();break;case 5:this.ky=!!c;break;case 6:if(this.Tg===!!c)break;this.Tg=!!c;this.Qj();break;case 7:this.gd!==!!c&&(this.gd=c,this.Qj())}}Dg(){return self.N5}};const b=new WeakMap;self.N5=class extends self.O5{constructor(){super();b.set(this,self.pq.Ao().ra)}set text(e){a.Vd(e);b.get(this).Ji(e)}get text(){return b.get(this).Ia}set isEnabled(e){b.get(this).Zt(e)}get isEnabled(){return b.get(this).ga}set bma(e){b.get(this).YW(e)}get bma(){return b.get(this).Tg}}}
{"use strict";const d=self.C;d.F.im.I={f8(){return!0},Hqa(){return this.Tg},AQ(a,b){return b?this.Ia===a:d.lf(this.Ia,a)}}}"use strict";self.C.F.im.kb={rl(d){this.Ji(d)},Awa(d){this.Oia(d)},nva(d){this.YW(0!==d)},Cxa(){this.PE&&(this.Tg=!this.Tg,this.Qj())}};"use strict";self.C.F.im.Pd={Text(){return this.Ia}};{"use strict";const d=self.C;d.F.Qp=class extends d.Ah{constructor(a){super(a);this.QY=!1;this.j.PA(this.j.Bq("gamepad","is-supported").then(b=>this.QY=!!b))}A(){super.A()}}}
{"use strict";const d=self.C;d.F.Qp.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}}}
{"use strict";const d=self.C;class a{constructor(e,c){this.cb=e;this.gd=c;this.jj=new b;this.UN=new b;this.oy=[];this.qy=[]}Hh(e,c){const f=this.UN;this.UN=this.jj;this.jj=f;this.jj.Hh(e,c);d.WG(this.oy,this.jj.Uk(),!1);d.WG(this.qy,this.jj.Uk(),!1);for(let k=0,g=this.jj.Uk();k<g;++k)e=this.UN.Wn(k),c=this.jj.Wn(k),.5<=c&&.5>e&&(this.oy[k]=!0),.5>c&&.5<=e&&(this.qy[k]=!0)}Uk(){return this.jj.Uk()}nB(){return this.jj.nB()}SB(e){e=Math.floor(e);return 0>e||e>=this.oy.length?!1:this.oy[e]}xI(e){e=Math.floor(e);
return 0>e||e>=this.qy.length?!1:this.qy[e]}H9(){this.oy.fill(!1);this.qy.fill(!1)}Wn(e){return this.jj.Wn(e)}XB(e){return.5<=this.jj.Wn(e)}Tk(e){return this.jj.Tk(e)}}class b{constructor(){this.ND=[];this.HD=[]}Hh(e,c){const f=this.ND;let k=0;for(let g=e.length;k<g;++k){const l=e[k];k===f.length?f.push(l.value):f[k]=l.value}k<f.length&&d.Ad(f,k);d.nd(this.HD,c)}Uk(){return this.ND.length}nB(){return this.HD.length}Wn(e){e=Math.floor(e);return 0>e||e>=this.ND.length?0:this.ND[e]}Tk(e){e=Math.floor(e);
return 0>e||e>=this.HD.length?0:this.HD[e]}}d.F.Qp.Instance=class extends d.Fq{constructor(e,c){super(e,"gamepad");this.fM=25;this.Ml=0;this.mz=-1;this.Ym=new Map;c&&(this.fM=c[0]);this.Rs("gamepad-connected",f=>this.rW(f));this.Rs("gamepad-disconnected",f=>this.lga(f));this.Rs("input-update",f=>this.nga(f));e=this.K().Db();this.Zd=new d.Un(d.Kb.mc(e,"tick2",()=>this.Sx()));this.lb("ready")}A(){super.A()}rW(e){const c=e.index;this.mz=c;e=e.id;this.Ym.has(c)||(this.Ym.set(c,new a(c,e)),this.oa(d.F.Qp.I.p8),
this.mz=-1)}lga(e){this.mz=e=e.index;this.oa(d.F.Qp.I.q8);this.Ym.delete(e);this.mz=-1}nga(e){for(const c of e)this.mga(c)}mga(e){var c=e.index;this.Ym.has(c)||this.rW(e);c=this.Ym.get(c);c.Hh(e.buttons,e.axes);for(let f=0,k=c.Uk();f<k;++f)c.SB(f)&&(this.Ml=f)}Be(e){return this.Ym.get(Math.floor(e))||null}Sx(){for(const e of this.Ym.values())e.H9()}}}
{"use strict";const d=self.C;d.F.Qp.I={vxa(){return this.Lb().QY},p8(){return!0},q8(){return!0},XB(a,b){a=this.Be(a);if(!a)return!1;if(a=a.XB(b))this.Ml=b;return a},nsa(a,b){a=this.Be(a);if(!a)return!1;if(a=a.SB(b))this.Ml=b;return a},rsa(a,b){a=this.Be(a);if(!a)return!1;if(a=a.xI(b))this.Ml=b;return a},cqa(){return 0<this.Ym.size},Ioa(a,b,e,c){b=Math.floor(b);const f=this.Be(a);if(!f)return!1;a=f.Tk(b);b=0===b%2?f.Tk(b+1):f.Tk(b-1);a*=100;Math.hypot(a,100*b)<=this.fM&&(a=0);return d.compare(a,e,
c)},hsa(a){a=this.Be(a);if(!a)return!1;for(let b=0,e=a.Uk();b<e;++b)if(a.SB(b))return this.Ml=b,!0;return!1},isa(a){a=this.Be(a);if(!a)return!1;for(let b=0,e=a.Uk();b<e;++b)if(a.xI(b))return this.Ml=b,!0;return!1},Gqa(a,b){b=Math.floor(b);a=this.Be(a);if(!a)return!1;if(a=a.XB(b))this.Ml=b;return a},osa(a,b){b=Math.floor(b);a=this.Be(a);if(!a)return!1;if(a=a.SB(b))this.Ml=b;return a},qsa(a,b){b=Math.floor(b);a=this.Be(a);if(!a)return!1;if(a=a.xI(b))this.Ml=b;return a}}}
{"use strict";const d=self.C;d.F.Qp.kb={Xxa(a,b,e,c){this.lb("vibrate",{index:a,duration:b,weakMag:d.aa(e/100,0,1),strongMag:d.aa(c/100,0,1)})},Iua(a){this.lb("reset-vibrate",{index:a})}}}"use strict";
self.C.F.Qp.Pd={Rpa(){return this.Ym.size},Spa(d){return(d=this.Be(d))?d.gd:""},Tpa(){return this.mz},Ppa(d){d=this.Be(d);if(!d)return"";let a="";for(let b=0,e=d.nB();b<e;++b)a+=`Axis ${b}: ${Math.round(100*d.Tk(b))}\n`;return a},Qpa(d){d=this.Be(d);if(!d)return"";let a="";for(let b=0,e=d.Uk();b<e;++b)a+=`Button ${b}: ${Math.round(100*d.Wn(b))}\n`;return a},Eta(d,a){return(d=this.Be(d))?d.Wn(Math.floor(a)):0},Cta(d,a){return(d=this.Be(d))?d.Tk(Math.floor(a)):0},Fta(d){return(d=this.Be(d))?d.Uk():
0},Dta(d){return(d=this.Be(d))?d.nB():0},im(d,a){return(d=this.Be(d))?100*d.Wn(Math.floor(a)):0},goa(d,a){a=Math.floor(a);const b=this.Be(d);if(!b)return 0;d=b.Tk(a);a=0===a%2?b.Tk(a+1):b.Tk(a-1);d*=100;Math.hypot(d,100*a)<=this.fM&&(d=0);return d},pra(){return this.Ml}};{"use strict";const d=self.C;d.F.Keyboard=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.F.Keyboard.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}Dg(){return self.P5}};self.P5=class extends self.Fw{constructor(a){super(a);a.K().hu.keyboard=this}}}
{"use strict";const d=self.C;d.F.Keyboard.Instance=class extends d.Fq{constructor(a){super(a);this.Gu=new Set;this.Hu=new Set;this.Ul=0;this.eA=this.qG="";a=this.K().Db();this.Zd=new d.Un(d.Kb.mc(a,"keydown",b=>this.sga(b.data)),d.Kb.mc(a,"keyup",b=>this.tga(b.data)),d.Kb.mc(a,"window-blur",()=>this.wW()),d.Kb.mc(a,"keyboard-blur",()=>this.wW()))}A(){super.A()}sga(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Gu.has(e)||(this.Gu.add(e),this.Hu.add(b),this.qG=e,this.Ul=b,this.eA=a,this.oa(d.F.Keyboard.I.d8),
this.oa(d.F.Keyboard.I.IS),this.oa(d.F.Keyboard.I.w8),this.oa(d.F.Keyboard.I.u8))}tga(a){const b=a.which,e=a.code||b.toString();a=a.key;this.Gu.delete(e);this.Hu.delete(b);this.qG=e;this.Ul=b;this.eA=a;this.oa(d.F.Keyboard.I.FS);this.oa(d.F.Keyboard.I.KS);this.oa(d.F.Keyboard.I.x8);this.oa(d.F.Keyboard.I.JS)}wW(){for(const a of this.Hu)this.Hu.delete(a),this.Ul=a,this.oa(d.F.Keyboard.I.FS),this.oa(d.F.Keyboard.I.KS),this.oa(d.F.Keyboard.I.JS);this.Gu.clear()}lS(a){return this.Gu.has(a)}oc(){return{tk:this.Ul,
tkk:this.eA}}ac(a){this.Ul=a.tk;a.hasOwnProperty("tkk")&&(this.eA=a.tkk)}}}{"use strict";const d="ShiftLeft ShiftRight ControlLeft ControlRight AltLeft AltRight MetaLeft MetaRight".split(" ");self.C.F.Keyboard.I={lS(a){return this.Hu.has(a)},IS(a){return this.Ul===a},d8(){return!0},FS(){return!0},KS(a){return this.Ul===a},Tqa(a){a=Math.floor(a);return this.Hu.has(a)},u8(a){return this.Ul===a},JS(a){return this.Ul===a},w8(a){return this.qG===d[a]},x8(a){return this.qG===d[a]},Uqa(a){return this.Gu.has(d[a])}}}"use strict";
self.C.F.Keyboard.kb={};
{"use strict";function d(a){a=Math.floor(a);switch(a){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"\u2190";case 38:return"\u2191";case 39:return"\u2192";case 40:return"\u2193";case 45:return"insert";case 46:return"del";case 91:return"left window key";
case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";
case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(a)}}
self.C.F.Keyboard.Pd={qra(){return this.Ul},lxa(a){return d(a)},Kxa(){return this.eA}}}{"use strict";const d=self.C;d.F.le=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.F.le.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}Dg(){return self.S5}};self.S5=class extends self.Fw{constructor(a){super(a);a.K().hu.BP=this}}}
{"use strict";const d=self.C;d.F.le.Instance=class extends d.Fq{constructor(a){super(a,"mouse");this.jr=[!1,!1,!1];this.p_=this.rG=this.ys=this.kp=this.jp=0;this.FE=!1;this.NN=this.MN=0;this.fQ([["pointer-lock-change",b=>this.Cga(b)],["pointer-lock-error",b=>this.Dga(b)]]);a=this.K().Db();this.Zd=new d.Un(d.Kb.mc(a,"pointermove",b=>this.SK(b.data)),d.Kb.mc(a,"pointerdown",b=>this.RK(b.data)),d.Kb.mc(a,"pointerup",b=>this.hD(b.data)),d.Kb.mc(a,"dblclick",b=>this.gga(b.data)),d.Kb.mc(a,"wheel",b=>this.wga(b.data)),
d.Kb.mc(a,"window-blur",()=>this.UK()))}A(){super.A()}RK(a){"mouse"===a.pointerType&&(this.jp=a.pageX-this.j.cq(),this.kp=a.pageY-this.j.eq(),this.fK(a.lastButtons,a.buttons))}SK(a){this.MN=a.movementX;this.NN=a.movementY;this.oa(d.F.le.I.z8);this.NN=this.MN=0;"mouse"===a.pointerType&&(this.jp=a.pageX-this.j.cq(),this.kp=a.pageY-this.j.eq(),this.fK(a.lastButtons,a.buttons))}hD(a){"mouse"===a.pointerType&&this.fK(a.lastButtons,a.buttons)}fK(a,b){this.eK(a,b,1,0);this.eK(a,b,4,1);this.eK(a,b,2,2)}eK(a,
b,e,c){!(a&e)&&b&e?this.uga(c):a&e&&!(b&e)&&this.vga(c)}uga(a){this.jr[a]=!0;this.oa(d.F.le.I.c8);this.ys=a;this.rG=0;this.oa(d.F.le.I.GS);this.oa(d.F.le.I.PS)}vga(a){this.jr[a]&&(this.jr[a]=!1,this.ys=a,this.oa(d.F.le.I.QS))}gga(a){this.ys=a.button;this.rG=1;this.oa(d.F.le.I.GS);this.oa(d.F.le.I.PS)}wga(a){this.p_=0>a.deltaY?1:0;this.oa(d.F.le.I.S8)}UK(){for(let a=0,b=this.jr.length;a<b&&this.jr[a];++a)this.jr[a]=!1,this.ys=a,this.oa(d.F.le.I.QS)}xR(a){const b=this.j.Ub(),e=this.jp,c=this.kp;return"undefined"===
typeof a?b.pw(0).uQ(e,c):(a=b.ba(a))?a.jh(e,c):[0,0]}cW(){return 0<=this.jp&&0<=this.kp&&this.jp<this.j.fR()&&this.kp<this.j.eR()}Cga(a){this.yX(a["has-pointer-lock"])}Dga(a){this.yX(a["has-pointer-lock"]);this.oa(d.F.le.I.E8)}yX(a){this.FE!==a&&((this.FE=a)?this.oa(d.F.le.I.F8):this.oa(d.F.le.I.G8))}}}
{"use strict";const d=self.C;d.F.le.I={GS(a,b){return this.ys===a&&this.rG===b},c8(){return!0},XB(a){return this.jr[a]},QS(a){return this.ys===a},dra(a){if(!this.cW())return!1;const b=this.j.Vf().Wi;return d.xor(this.j.hg.Nt(a,this.jp,this.kp,b),b)},PS(a,b,e){return a===this.ys&&b===this.rG&&this.cW()?this.j.hg.Nt(e,this.jp,this.kp,!1):!1},S8(a){return this.p_===a},F8(){return!0},G8(){return!0},E8(){return!0},eqa(){return this.FE},z8(){return!0}}}
{"use strict";const d=self.C;let a=null;const b="auto pointer text crosshair move help wait none".split(" ");d.F.le.kb={pva(e){e=b[e];a!==e&&(a=e,this.lb("cursor",e))},qva(e){if(!d.Cd.aC&&e&&(e=e.Dj())){var c=e.B(),f=e.nh();c&&f&&a!==f&&(a=f,f.TQ().then(k=>d.Uv(k)).then(k=>{k=`url(${URL.createObjectURL(k)}) ${Math.round(c.Yk()*f.R())} ${Math.round(c.Zk()*f.P())}, auto`;this.lb("cursor","");this.lb("cursor",k)}))}},Wta(){this.jD("request-pointer-lock")},Nta(){this.lb("release-pointer-lock")}}}"use strict";
self.C.F.le.Pd={BU(d){return this.xR(d)[0]},CU(d){return this.xR(d)[1]},M0(){return this.jp},N0(){return this.kp},Ura(){return this.MN},Vra(){return this.NN}};{"use strict";const d=self.C;d.F.Touch=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C,a=self.Bg;d.F.Touch.Ae=class extends d.Ai{constructor(e){super(e)}A(){super.A()}Vb(){}Dg(){return self.a6}};let b=null;self.a6=class extends self.Fw{constructor(e){super(e);b=e;e.K().hu.bQ=this}requestPermission(e){a.Vd(e);const c=b.tm().ra;if("orientation"===e)return c.VK(0);if("motion"===e)return c.VK(1);throw Error("invalid type");}}}
{"use strict";const d=self.C;d.F.Touch.Instance=class extends d.Fq{constructor(a,b){super(a,"touch");this.Ed=new Map;this.XE=this.r_=!1;this.AE=this.Ri=this.Qi=this.LO=this.pG=this.rv=this.vL=this.uL=this.tL=this.yL=this.xL=this.wL=this.XN=this.WN=this.VN=this.DF=0;this.FF=[];b&&(this.r_=b[0]);this.Rs("permission-result",e=>this.Bga(e));a=this.K().Db();this.Zd=new d.Un(d.Kb.mc(a,"pointerdown",e=>this.RK(e.data)),d.Kb.mc(a,"pointermove",e=>this.SK(e.data)),d.Kb.mc(a,"pointerup",e=>this.hD(e.data,!1)),
d.Kb.mc(a,"pointercancel",e=>this.hD(e.data,!0)),d.Kb.mc(a,"deviceorientation",e=>this.ega(e.data)),d.Kb.mc(a,"deviceorientationabsolute",e=>this.fga(e.data)),d.Kb.mc(a,"devicemotion",e=>this.dga(e.data)),d.Kb.mc(a,"tick2",()=>this.Sx()))}A(){this.Ed.clear();super.A()}RK(a){if("mouse"===a.pointerType)if(this.r_)this.XE=!0;else return;const b=a.pointerId;if(!this.Ed.has(b)){var e=a.pageX-this.j.cq();a=a.pageY-this.j.eq();var c=performance.now(),f=this.Ed.size;this.rv=f;this.pG=b;var k=d.D(d.F.Touch.$aa);
k.Kj(c,e,a,b,f);this.Ed.set(b,k);this.oa(d.F.Touch.I.B8);this.oa(d.F.Touch.I.P8);this.Qi=e;this.Ri=a;this.oa(d.F.Touch.I.O8)}}SK(a){if("mouse"!==a.pointerType||this.XE){var b=this.Ed.get(a.pointerId);if(b){var e=performance.now();2>e-b.La()||b.Hh(e,a.pageX-this.j.cq(),a.pageY-this.j.eq(),a.width,a.height,a.pressure)}}}hD(a,b){if("mouse"===a.pointerType)if(this.XE)this.XE=!1;else return;const e=performance.now();a=a.pointerId;const c=this.Ed.get(a);c&&(this.rv=c.bh,this.pG=c.Vk(),this.oa(d.F.Touch.I.A8),
this.oa(d.F.Touch.I.N8),b||(b=c.Haa(e),"single-tap"===b?(this.oa(d.F.Touch.I.L8),this.Qi=c.L(),this.Ri=c.M(),this.oa(d.F.Touch.I.M8)):"double-tap"===b&&(this.oa(d.F.Touch.I.k8),this.Qi=c.L(),this.Ri=c.M(),this.oa(d.F.Touch.I.l8))),c.A(),this.Ed.delete(a))}VK(a){this.jD("request-permission",{type:a});return new Promise((b,e)=>{this.FF.push({type:a,resolve:b,reject:e})})}Bga(a){const b=a.result,e=a.type;this.LO=e;a=this.FF.filter(c=>c.type===e);for(const c of a)c.resolve(b?"granted":"denied");this.FF=
this.FF.filter(c=>c.type!==e);b?(this.oa(d.F.Touch.I.D8),0===e?this.j.xt():this.j.po()):this.oa(d.F.Touch.I.C8)}ega(a){"number"===typeof a.webkitCompassHeading?this.DF=a.webkitCompassHeading:a.absolute&&(this.DF=a.alpha);this.VN=a.alpha;this.WN=a.beta;this.XN=a.gamma}fga(a){this.DF=a.alpha}dga(a){const b=a.acceleration;b&&(this.wL=b.x,this.xL=b.y,this.yL=b.z);if(a=a.accelerationIncludingGravity)this.tL=a.x,this.uL=a.y,this.vL=a.z}Sx(){const a=performance.now();let b=0;for(const e of this.Ed.values())e.La()<=
a-50&&e.Dia(a),e.Gaa(a)&&(this.rv=e.bh,this.pG=e.Vk(),this.AE=b,this.oa(d.F.Touch.I.r8),this.Qi=e.L(),this.Ri=e.M(),this.oa(d.F.Touch.I.s8),this.AE=0),++b}Uj(a){a=Math.floor(a);for(const b of this.Ed.values()){if(0===a)return b;--a}return null}Lx(a,b){return 0<=a&&0<=b&&a<this.j.fR()&&b<this.j.eR()}}}
{"use strict";const d=self.C,a=[];d.F.Touch.I={P8(){return!0},N8(){return!0},Rqa(){return 0<this.Ed.size},O8(b){return b&&this.Lx(this.Qi,this.Ri)?this.j.hg.Nt(b,this.Qi,this.Ri,!1):!1},l7(b){if(!b)return!1;const e=b.ia();var c=e.ta();for(const f of c){c=f.B();const k=c.ba();for(const g of this.Ed.values()){if(!this.Lx(g.L(),g.M()))continue;const [l,m]=k.jh(g.L(),g.M(),c.Ud());if(c.Vv(l,m)){a.push(f);break}}}return a.length?(e.Tw(a),b.rc(),d.G(a),!0):!1},Toa(b,e,c){return(b=this.Uj(b))?d.compare(b.um(),
e,c):!1},Csa(){return!0},Ora(){return!0},Roa(b,e,c){this.j.xt();return d.compare(0===b?this.VN:1===b?this.WN:this.XN,e,c)},Foa(b,e,c){this.j.po();return d.compare(0===b?this.tL:1===b?this.uL:2===b?this.vL:3===b?this.wL:4===b?this.xL:this.yL,e,c)},B8(b){b=Math.floor(b);return b===this.rv},A8(b){b=Math.floor(b);return b===this.rv},dqa(b){b=Math.floor(b);return this.Ed.size>=b+1},r8(){return!0},L8(){return!0},k8(){return!0},s8(b){return b&&this.Lx(this.Qi,this.Ri)?this.j.hg.Nt(b,this.Qi,this.Ri,!1):
!1},M8(b){return b&&this.Lx(this.Qi,this.Ri)?this.j.hg.Nt(b,this.Qi,this.Ri,!1):!1},l8(b){return b&&this.Lx(this.Qi,this.Ri)?this.j.hg.Nt(b,this.Qi,this.Ri,!1):!1},D8(b){return this.LO===b},C8(b){return this.LO===b}}}"use strict";self.C.F.Touch.kb={Vta(d){this.VK(d)}};
{"use strict";const d=self.C;d.F.Touch.Pd={Exa(){return this.Ed.size},BU(a){const b=this.Uj(this.AE);return b?b.ht(this.j.Ra(),a,!0):0},CU(a){const b=this.Uj(this.AE);return b?b.ht(this.j.Ra(),a,!1):0},rya(a,b){return(a=this.Uj(a))?a.ht(this.j.Ra(),b,!0):0},uya(a,b){return(a=this.Uj(a))?a.ht(this.j.Ra(),b,!1):0},sya(a,b){return(a=this.Ed.get(a))?a.ht(this.j.Ra(),b,!0):0},vya(a,b){return(a=this.Ed.get(a))?a.ht(this.j.Ra(),b,!1):0},M0(){const a=this.Uj(0);return a?a.L():0},N0(){const a=this.Uj(0);return a?
a.M():0},hna(a){return(a=this.Uj(a))?a.L():0},jna(a){return(a=this.Uj(a))?a.M():0},ina(a){return(a=this.Ed.get(a))?a.L():0},kna(a){return(a=this.Ed.get(a))?a.M():0},Pwa(a){return(a=this.Uj(a))?a.um():0},Qwa(a){return(a=this.Ed.get(a))?a.um():0},Qna(a){return(a=this.Uj(a))?d.he(a.ea()):0},Rna(a){return(a=this.Ed.get(a))?d.he(a.ea()):0},$oa(){this.j.xt();return this.DF},Kna(){this.j.xt();return this.VN},moa(){this.j.xt();return this.WN},Upa(){this.j.xt();return this.XN},mna(){this.j.po();return this.tL},
ona(){this.j.po();return this.uL},qna(){this.j.po();return this.vL},lna(){this.j.po();return this.wL},nna(){this.j.po();return this.xL},pna(){this.j.po();return this.yL},Gxa(){return this.rv},Fxa(){return this.pG},kya(a){return(a=this.Ed.get(a))?a.R():0},gqa(a){return(a=this.Ed.get(a))?a.P():0},wta(a){return(a=this.Ed.get(a))?a.JZ:0}}}
{"use strict";const d=self.C;let a=-1E3,b=-1E3,e=-1E4;d.F.Touch.$aa=class extends d.qa{constructor(){super();this.JZ=this.Y=this.$=this.pF=this.oF=this.S=this.W=this.gG=this.fG=this.nF=this.md=this.wp=this.bh=this.GZ=0;this.dF=this.JM=!1}A(){}Kj(c,f,k,g,l){this.GZ=g;this.bh=l;this.wp=this.nF=this.md=c;this.fG=f;this.gG=k;this.W=f;this.S=k;this.oF=f;this.pF=k}Hh(c,f,k,g,l,m){this.nF=this.md;this.md=c;this.oF=this.W;this.pF=this.S;this.W=f;this.S=k;this.$=g;this.Y=l;this.JZ=m;!this.dF&&15<=d.Rf(this.fG,
this.gG,this.W,this.S)&&(this.dF=!0)}Vk(){return this.GZ}La(){return this.md}Dia(c){this.nF=c}L(){return this.W}M(){return this.S}um(){const c=d.Rf(this.W,this.S,this.oF,this.pF),f=(this.md-this.nF)/1E3;return 0<f?c/f:0}ea(){return d.Gd(this.oF,this.pF,this.W,this.S)}R(){return this.$}P(){return this.Y}Gaa(c){return this.JM?!1:500<=c-this.wp&&!this.dF&&15>d.Rf(this.fG,this.gG,this.W,this.S)?this.JM=!0:!1}Haa(c){if(this.JM)return"";if(333>=c-this.wp&&!this.dF&&15>d.Rf(this.fG,this.gG,this.W,this.S)){if(666>=
c-e&&25>d.Rf(a,b,this.W,this.S))return b=a=-1E3,e=-1E4,"double-tap";a=this.W;b=this.S;e=c;return"single-tap"}return""}ht(c,f,k){return"undefined"===typeof f?c.pw(0).uQ(this.W,this.S)[k?0:1]:(c=c.ba(f))?c.jh(this.W,this.S)[k?0:1]:0}}}{"use strict";const d=self.C;d.F.Iv=class extends d.Ah{constructor(a){super(a);this.Kka=this.j.Lw({url:"penumbra.png"});this.EZ=null;this.j.PA(this.Kka.wS().then(b=>this.EZ=b))}A(){super.A()}}}{"use strict";const d=self.C;d.F.Iv.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}ll(){}wi(){}}}
{"use strict";const d=self.C,a=[0,0,0],b=["all","same-tag","different-tag"],e=d.D(d.Ua),c=d.D(d.Tn),f=[],k=d.D(d.Rect);d.F.Iv.Instance=class extends d.Gq{constructor(g,l){super(g);g=this.B();this.Wg=g.L();this.Xg=g.M();this.Sh=0;this.df=1E3;this.Vg=0;this.xa=d.D(d.Ua);this.ck=0;this.ci="";this.Bk=g.L();this.Ck=g.M();this.Zh=null;l&&(this.Sh=l[0],this.Vg=0===this.Sh?l[1]:0,g=l[2],this.xa.Vp(g[0],g[1],g[2]),this.ck=l[3],this.ci=l[4]);this.ai=d.D(self.Daa);this.SR();this.Xq()}A(){this.EW();this.ai&&
(this.ai.A(),this.ai=null);this.xa=null;super.A()}oc(){return{lx:this.Wg,ly:this.Xg,lh:this.Sh,lr:this.Vg,lkx:this.Bk,lky:this.Ck,sc:this.xa.toJSON(),cf:this.ck,t:this.ci}}ac(g){g.hasOwnProperty("lx")&&(this.Wg=g.lx);g.hasOwnProperty("ly")&&(this.Xg=g.ly);this.Sh=g.lh;this.Vg=g.lr;g.hasOwnProperty("lkx")&&(this.Bk=g.lkx);g.hasOwnProperty("lky")&&(this.Ck=g.lky);this.xa.uj(g.sc);this.ck=g.cf;this.ci=g.t}EW(){this.Zh&&(this.j.xb().Pe(this.Zh),this.Zh=null)}zq(){this.Zh=null}$I(){}uca(g){switch(this.ck){case 0:return!0;
case 1:return d.lf(this.ci,g);case 2:return!d.lf(this.ci,g)}}Oq(){const g=this.B();if(this.Bk!==g.L()||this.Ck!==g.M())this.Wg=g.L(),this.Xg=g.M();g.ba().QB(g.Ud(),k);const l=k.ki(),m=k.li(),q=k.width()+this.df,r=k.height()+this.df;if(l!==g.L()||m!==g.M()||q!==g.R()||r!==g.P())g.Dh(l,m),g.cc(q,r),g.Pa();this.Bk=g.L();this.Ck=g.M();this.df=15*d.Rf(k.T,k.O,k.Z,k.X)}Eea(){var g=this.j.op.bR(d.na.qBa);if(!g)return[];var l=this.B();const m=l.ba();l=l.Tb();g=g.hI();const q=[];this.j.hg.g5(m,g,l,q);return[...new Set(q)]}oja(){this.ai.K$(this.Wg);
this.ai.L$(this.Xg);this.ai.M$(this.Sh);this.ai.J$(this.Vg);this.ai.yT(b[this.ck]);this.ai.eU(this.ci);this.ai.Q$(this.df)}Qfa(g){if(!this.Zh){var l=this.Lb().EZ,m=l.width,q=l.height,r=d.nf(m,q),p=r.getContext("2d");p.drawImage(l,0,0,m,q);l=p.getImageData(0,0,m,q);m=l.data;q=Math.floor(255*this.xa.Ya);var u=Math.floor(255*this.xa.Xa),t=Math.floor(255*this.xa.Va);for(let w=0,x=m.length;w<x;w+=4)m[w]=q,m[w+1]=u,m[w+2]=t;p.putImageData(l,0,0);this.Zh=g.Bj(r,{ge:this.j.Vc})}}Mc(g){this.oja();this.Qfa(g);
this.ai.W$(this.Zh);const l=this.B();e.qj(this.xa);e.gh(l.Rd());e.EA();g.bg(e);g.Ww();for(const m of this.Eea())this.Gda(g,m)}Gda(g,l){var m=l.uf();if(m.get("shadowcasterEnabled")&&this.uca(m.get("shadowcasterTag")))if(m=m.get("shadowcasterHeight"),l.si())this.Vda(g,l,m);else{l=l.B();const q=l.fl();c.ua(q);c.offset(l.L(),l.M());this.ai.bT(g,c,m)}}Vda(g,l,m){var q=this.B().Tb();l.ra.k4(q,f);q=l.B();l=q.L();q=q.M();for(let p=0,u=f.length;p<u;++p){var r=f[p];const t=r.CR();(r=r.iI())?(c.ua(r),c.offset(l+
t.T,q+t.O)):c.yg(t,-l,-q);this.ai.bT(g,c,m)}d.G(f)}Qb(g){switch(g){case 0:return this.Sh;case 1:return this.Vg;case 2:return a[0]=this.xa.Ya,a[1]=this.xa.Xa,a[2]=this.xa.Va,a.slice(0);case 3:return this.ck;case 4:return this.ci}}me(g,l){switch(g){case 0:this.Sh=l;break;case 1:this.Vg=l;break;case 2:this.xa.Vp(l[0],l[1],l[2]);break;case 3:this.ck=l;break;case 4:this.ci=l}}}}"use strict";self.C.F.Iv.I={};
{"use strict";const d=self.C,a=d.D(d.Ua);d.F.Iv.kb={fwa(b){this.Sh!==b&&(this.Sh=b,this.j.U())},ewa(b){a.Js(b);a.aa();this.xa.cm(a)||(this.xa.qj(a),this.EW(),this.j.U())},eU(b){this.ci!==b&&(this.ci=b,this.j.U())},yT(b){this.ck!==b&&(this.ck=b,this.j.U())}}}"use strict";self.C.F.Iv.Pd={xra(){return this.Wg},yra(){return this.Xg},wxa(){return this.ci}};
{"use strict";const d=self.C;let a=0,b=0,e=new d.Ic,c=new d.Ic;const f=new Set(["all","same-tag","different-tag"]);self.Daa=class{constructor(){this.Vg=this.Sh=this.Xg=this.Wg=0;this.ck="all";this.ci="";this.df=1E3;this.$j=[];this.OL=[];this.Me=[];this.$q=this.Om=this.tr=this.Gl=-1;this.$u=this.Zu=this.ZD=this.YD=this.yD=this.xD=this.eM=this.dM=this.BL=this.AL=0;this.Zh=null}A(){this.od();this.Zh=this.Me=this.OL=this.$j=null}od(){d.G(this.$j);d.G(this.OL);d.G(this.Me);this.$q=this.Om=this.tr=this.Gl=
-1;this.$u=this.Zu=this.ZD=this.YD=this.yD=this.xD=this.eM=this.dM=this.BL=this.AL=0}K$(k){this.Wg=k}L$(k){this.Xg=k}M$(k){this.Sh=k}J$(k){0>k&&(k=0);this.Vg=k}yT(k){if(!f.has(k))throw Error("invalid cast-from");this.ck=k}eU(k){this.ci=k}Q$(k){this.df=k}W$(k){this.Zh=k}bT(k,g,l){this.od();this.C1(g,l);k.Ww();6<=this.Me.length&&k.X1(this.Me);0<this.Vg&&this.Zh&&(-1<this.Gl&&-1<this.tr&&(k.Kg(),k.Wd(this.Zh),this.WQ(k,g,!0)),-1<this.Om&&-1<this.$q&&(k.Kg(),k.Wd(this.Zh),this.WQ(k,g,!1)))}C1(k,g){this.Zu=
k.c5();this.$u=k.d5();0<this.Vg?this.oca(k):this.pca(k,g)}oca(k){this.dK(k,-this.Vg);this.CK();d.nd(this.OL,this.$j);this.tr=this.Gl;this.$q=this.Om;d.G(this.$j);this.Om=this.Gl=-1;this.dK(k,this.Vg);this.CK();-1!==this.Gl&&-1!==this.Om&&-1!==this.tr&&-1!==this.$q&&this.gca(k)}pca(k,g){this.dK(k,0);this.CK();k=k.Ac;for(let l=0,m=k.length;l<m;l+=2)this.fca(l/2,this.Wg,this.Xg,k[l],k[l+1],g)}dK(k,g){let l=this.Wg,m=this.Xg,q=l,r=m,p=0;0!==g&&(p=d.Gd(l,m,this.Zu,this.$u)-Math.PI/2);k=k.Ac;for(let t=
0,w=k.length;t<w;t+=2){var u=t+2;u===w&&(u=0);let x=k[t],z=k[t+1],D=k[u];u=k[u+1];0!==g&&(q=l+Math.cos(p)*g,r=m+Math.sin(p)*g);this.$j.push(d.Ln(d.Gd(x,z,q,r),d.Gd(x,z,D,u)-Math.PI/2)>=Math.PI/2)}}uV(k){k%=this.$j.length;0>k&&(k+=this.$j.length);return this.$j[k]}CK(){for(let k=0,g=this.$j.length;k<g;++k){let l=this.$j[k],m=this.uV(k-1);m&&!l&&(this.Gl=k);!m&&l&&(this.Om=k)}}fca(k,g,l,m,q,r){var p=this.uV(k-1);let u=k===this.Gl,t=k===this.Om;this.$j[k]||p?(k=d.Gd(g,l,m,q),p=d.Rf(g,l,m,q),r=this.hca(g,
l,m,q,r),g+=Math.cos(k)*(p+r),l+=Math.sin(k)*(p+r)):(g=m,l=q);t&&(this.Me.push(m),this.Me.push(q));this.Me.push(g);this.Me.push(l);u&&(this.Me.push(m),this.Me.push(q))}hca(k,g,l,m,q){return q>=this.Sh?this.df:0>=q?0:d.aa(d.Rf(k,g,l,m)/(this.Sh-q)*q,0,this.df)}gca(k){for(var g=this.tr,l,m=k.k5(),q=k.Ac;g===m&&(g=0),l=2*g,k=q[l],l=q[l+1],this.Me.push(k),this.Me.push(l),g!==this.Om;++g);var r=this.Vg;g=k;k=l;var p=d.Gd(this.Wg,this.Xg,this.Zu,this.$u);l=this.Wg+Math.cos(p-Math.PI/2)*r;m=this.Xg+Math.sin(p-
Math.PI/2)*r;p=d.Gd(l,m,g,k);var u=d.Rf(l,m,g,k);l+=Math.cos(p)*(u+this.df);m+=Math.sin(p)*(u+this.df);p=2*this.tr;var t=q[p];q=q[p+1];p=d.Gd(this.Wg,this.Xg,this.Zu,this.$u);var w=this.Wg+Math.cos(p+Math.PI/2)*r,x=this.Xg+Math.sin(p+Math.PI/2)*r;p=d.Gd(w,x,t,q);u=d.Rf(w,x,t,q);r=w+Math.cos(p)*(u+this.df);p=x+Math.sin(p)*(u+this.df);this.AL=g;this.BL=k;this.dM=t;this.eM=q;{w=l-g;x=m-k;let z=r-t,D=p-q,G=-z*x+w*D;0===G?g=!1:(u=(-x*(g-t)+w*(k-q))/G,G=-z*x+w*D,0===G?g=!1:(t=(z*(k-q)-D*(g-t))/G,0<=u&&
1>=u&&0<=t&&1>=t?(a=g+t*w,b=k+t*x,g=!0):g=!1))}g?(this.Me.push(a),this.Me.push(b),this.xD=a,this.yD=b,this.YD=a,this.ZD=b):(this.Me.push(l),this.Me.push(m),this.Me.push(r),this.Me.push(p),this.xD=l,this.yD=m,this.YD=r,this.ZD=p)}WQ(k,g,l){var m=this.Wg,q=this.Xg,r=g.Ac;let p,u,t;l?(g=this.dM,p=this.eM,u=this.YD,t=this.ZD):(g=this.AL,p=this.BL,u=this.xD,t=this.yD);var w=this.Vg,x=d.Gd(m,q,this.Zu,this.$u),z=Math.PI/2;l&&(z=-z);m+=Math.cos(x+z)*w;q+=Math.sin(x+z)*w;z=w=0;if(l){if(l=this.Gl!==this.tr)w=
r[2*this.Gl],z=r[2*this.Gl+1]}else if(l=this.Om!==this.$q)w=r[2*this.$q],z=r[2*this.$q+1];x=l?d.Gd(w,z,g,p):d.Gd(m,q,g,p);r=g+Math.cos(x)*this.df;let D=p+Math.sin(x)*this.df,G=0,N=0,B=0,H=0,I=1;l&&(m=d.Gd(m,q,w,z),G=w+Math.cos(m)*this.df,N=z+Math.sin(m)*this.df,B=d.Ln(x,m)/d.Ln(d.Gd(g,p,u,t),m),m=d.Rf(w,z,g,p),m/=m+this.df,q=d.Gd(0,1,B,0),x=d.Rf(0,1,B,0),H+=Math.cos(q)*m*x,I+=Math.sin(q)*m*x);e.set(g,p,u,t,r,D,r,D);c.set(H,I,1,0,B,0,B,0);k.dJ(e,c);l&&(e.set(w,z,r,D,G,N,G,N),c.set(0,1,B,0,0,0,0,0),
k.dJ(e,c))}}}{"use strict";const d=self.C;d.F.Bm=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.F.Bm.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){this.Nc().Kw(this.j)}ll(a){return this.Nc().yq(a,{ge:this.j.Vc})}wi(){this.Nc().yh()}}}
{"use strict";const d=self.C,a=d.D(d.Rect);d.F.Bm.Instance=class extends d.Gq{constructor(b,e){super(b);this.cz=!0;this.Ma=b=d.D(self.X8);b.OG=()=>this.xga();this.aG=null;this.CZ=(f,k,g,l,m,q)=>this.Aga(f,k,g,l,m,q);this.AZ=f=>this.zga(f);this.EM=!0;e&&(b.jx(e[0]),b.ox(d.Ga(e[1])),b.IJ(e[2]?"one-shot":"continuous-spray"),this.eL(this.j.qw(e[3])),b.bx(e[4]),b.ax(e[5]),b.$w(e[6]/100),b.Zw(e[7]),b.DC(e[8]),b.EC(e[9]),b.CC(e[10]),b.BC(e[11]),b.AC(e[12]),b.sC(e[13]),b.Jq(e[14]),b.FC(e[15]),b.HC(e[16]),
b.GC(e[17]),b.vJ(e[18]),b.tx(e[19]));this.xX();this.aG&&(this.EM=!1);"one-shot"===b.vp?b.j2():b.qx(!0);const c=this.B();c.wT(!0);this.N.Db().addEventListener("bboxchange",()=>{c.T8(this.Ma.Tb())});this.fg()}A(){this.Ma.A();this.AZ=this.CZ=this.Ma=null;super.A()}eL(b){b===this.J()&&(b=null);this.aG=b;this.Ma.PG=b?e=>this.yga(e):null;this.aG||(this.EM=!0)}xX(){const b=this.Ma,e=this.B();b.N$(e.Rd());b.YT(this.j.yk);b.eaa(e.L());b.faa(e.M());b.daa(e.ea());b.D$(e.IB())}xga(){this.j.Sk(this.N)}Mc(b){if(this.EM){var e=
this.V.Nc(),c=e.$b();if(c){var f=this.B(),k=f.ba();this.j.fa.a7()?a.set(-Infinity,-Infinity,Infinity,Infinity):k.bo()?k.rQ(f.Ud(),a):k.QB(f.Ud(),a);b.Wd(c);c=k.KH(f.Ud());this.Ma.V$(k.dl()*c);this.Ma.Mc(b,e.vf(),a,k.bo())}}}oc(){const b=this.Ma;return{r:b.cv,sc:b.Tz,st:b.vp,isp:b.Vy,isz:b.Ty,io:b.Sy,gr:b.Gy,xr:b.mA,yr:b.nA,spr:b.Wy,szr:b.Uy,grnd:b.Fy,acc:b.fy,g:b.lw(),lar:b.oz,lsr:b.qz,lor:b.pz,dm:b.ru,to:b.lj,s:b.cC(),pcc:b.rr,ft:this.cz,p:b.Yh.map(e=>e.toJSON())}}ac(b){var e=this.Ma;e.jx(b.r);e.ox(b.sc);
e.IJ(b.st);e.bx(b.isp);e.ax(b.isz);e.$w(b.io);e.Zw(b.gr);e.DC(b.xr);e.EC(b.yr);e.CC(b.spr);e.BC(b.szr);e.AC(b.grnd);e.sC(b.acc);e.Jq(b.g);e.FC(b.lar);e.HC(b.lsr);e.GC(b.lor);e.vJ(b.dm);e.tx(b.to);e.qx(b.s);e.kia(b.pcc);this.cz=b.ft;b=b.p;e.VT(b.length);e=e.Yh;for(let c=0,f=e.length;c<f;++c)e[c].uj(b[c])}bd(){const b=this.j.fq(this.N);this.xX();this.cz&&"one-shot"===this.Ma.vp&&this.Ma.p9();this.Ma.bd(b);this.Ma.cC()&&this.j.U();this.B().Pa();this.cz=!1}yga(b){const e=this.j.$A(this.aG,this.B().ba(),
b.L(),b.M()),c=e.B();c.cc(b.Jj(),b.Jj());c.Jc(b.ea());c.Bi(b.Rd());c.LJ(this.B().xa);c.Pa();c.DU(this.Ja(),!0);e.mL();b.uaa(this.CZ);b.l$(this.AZ);return e}Aga(b,e,c,f,k,g){b.YB()||(b=b.B(),b.ut(e,c),b.cc(b.R()+f,b.P()+f),b.Jc(b.ea()+k),b.Bi(b.Rd()+g),b.Pa())}zga(b){b.YB()||this.j.Sk(b)}Qb(b){const e=this.Ma;switch(b){case 0:return e.cv;case 1:return d.he(e.Tz);case 2:return"one-shot"===e.vp?1:0;case 4:return e.Vy;case 5:return e.Ty;case 6:return 100*e.Sy;case 7:return e.Gy;case 8:return e.mA;case 9:return e.nA;
case 10:return e.Wy;case 11:return e.Uy;case 12:return e.Fy;case 13:return e.fy;case 14:return e.lw();case 15:return e.oz;case 16:return e.qz;case 17:return e.pz;case 18:return e.ru;case 19:return e.lj}}me(b,e){const c=this.Ma;switch(b){case 0:c.jx(e);break;case 1:c.ox(d.Ga(e));break;case 2:c.IJ(e?"one-shot":"continuous-spray");break;case 4:c.bx(e);break;case 5:c.ax(e);break;case 6:c.$w(e/100);break;case 7:c.Zw(e);break;case 8:c.DC(e);break;case 9:c.EC(e);break;case 10:c.CC(e);break;case 11:c.BC(e);
break;case 12:c.AC(e);break;case 13:c.sC(e);break;case 14:c.Jq(e);break;case 15:c.FC(e);break;case 16:c.HC(e);break;case 17:c.GC(e);break;case 18:c.vJ(e);break;case 19:c.tx(e)}}}}"use strict";self.C.F.Bm.I={cC(){return this.Ma.cC()}};
{"use strict";const d=self.C;d.F.Bm.kb={qx(a){this.Ma.qx(0!==a)},jx(a){this.Ma.jx(a);"one-shot"===this.Ma.vp&&this.cz&&this.Ma.VT(a)},rwa(a){this.eL(a)},Txa(){this.eL(null)},ox(a){this.Ma.ox(d.Ga(a))},bx(a){this.Ma.bx(a)},ax(a){this.Ma.ax(a)},$w(a){this.Ma.$w(a/100)},Zw(a){this.Ma.Zw(a)},Fwa(a){this.Ma.DC(a)},Gwa(a){this.Ma.EC(a)},ywa(a){this.Ma.CC(a)},xwa(a){this.Ma.BC(a)},Gva(a){this.Ma.AC(a)},qwa(a){this.Ma.sC(a)},Jq(a){this.Ma.Jq(a)},bva(a){this.Ma.FC(a)},dwa(a){this.Ma.HC(a)},pwa(a){this.Ma.GC(a)},
tx(a){this.Ma.tx(a)},xC(a){this.B().Se(a);this.j.U()}}}
{"use strict";const d=self.C;d.F.Bm.Pd={Hsa(){return this.Ma.Yh.length},Bta(){return this.Ma.cv},Twa(){return d.he(this.Ma.Tz)},wqa(){return this.Ma.Vy},uqa(){return this.Ma.Ty},sqa(){return 100*this.Ma.Sy},rqa(){return this.Ma.Gy},tya(){return this.Ma.mA},wya(){return this.Ma.nA},vqa(){return this.Ma.Uy},xqa(){return this.Ma.Wy},qqa(){return this.Ma.Fy},Fsa(){return this.Ma.fy},bqa(){return this.Ma.lw()},Gsa(){return this.Ma.oz},Jsa(){return this.Ma.qz},Isa(){return this.Ma.pz},zxa(){return this.Ma.lj}}}
{"use strict";const d=self.C,a=[],b=new Set(["continuous-spray","one-shot"]),e=["fade-to-invisible","timeout-expired","particle-stopped"];self.X8=class{constructor(){this.Tz=this.cv=0;this.vp="continuous-spray";this.Qr=!1;this.GN=0;this.LY=!1;this.Ty=this.Vy=this.c_=this.cG=this.bG=0;this.FY=1;this.rr=this.lj=this.ru=this.pz=this.qz=this.oz=this.pY=this.fy=this.Fy=this.Uy=this.Wy=this.nA=this.mA=this.Gy=this.Sy=0;this.BZ=1;this.PG=this.OG=null;this.Yh=[];this.Sm=new d.Rect;this.xa=new d.Ua}A(){this.sH();
d.G(this.Yh);this.xa=this.Sm=this.PG=this.OG=this.Yh=null}sH(){const c=this.Yh;for(let f=0,k=c.length;f<k;++f)c[f].Wv();d.$l(a,c);d.G(c);1E3<a.length&&d.Ad(a,1E3);this.Qr=!1}j2(){for(let c=0,f=this.cv;c<f;++c)this.lK();this.Yh.length&&(this.Qr=!0)}lK(){let c;a.length?(c=a.pop(),c.s$(this)):c=d.D(self.W8,this);this.Yh.push(c);c.Kj(this.PG)}p9(){const c=this.Yh,f=this.PG;for(let k=0,g=c.length;k<g;++k)c[k].Kj(f)}VT(c){var f=this.Yh;if(c<f.length){c=f.length-c;for(let k=0;k<c;++k){const g=f.pop();g.Wv();
a.push(g)}1E3<a.length&&d.Ad(a,1E3)}else if(c>f.length)for(f=c-f.length,c=0;c<f;++c)this.lK()}bd(c){this.Yia(c);this.dja(c);this.Rfa()}Yia(c){if("continuous-spray"===this.vp&&this.Qr){this.rr+=c*this.cv;c=Math.floor(this.rr);this.rr-=c;for(let f=0;f<c;++f)this.lK()}}kia(c){this.rr=c}dja(c){const f=this.Sm;f.set(this.bG,this.cG,this.bG,this.cG);const k=this.Yh;let g=0;for(let l=0,m=k.length;l<m;++l){const q=k[l];k[g]=q;q.bd(c);q.Fb?(++g,f.Hla(q.Tb())):(q.Wv(),a.push(q))}d.Ad(k,g);1E3<a.length&&d.Ad(a,
1E3)}Rfa(){"one-shot"===this.vp&&0===this.Yh.length&&this.Qr&&(this.OG&&this.OG(),this.Qr=!1)}Mc(c,f,k,g){c.Paa(f);this.xa.ua(c.iw());const l=this.Yh;for(let m=0,q=l.length;m<q;++m){const r=l[m];k.wA(r.Tb())&&r.Mc(c,f,g)}}iw(){return this.xa}jx(c){this.cv=+c}ox(c){this.Tz=+c}IJ(c){if(!b.has(c))throw Error("invalid spray type");this.vp=c}qx(c){this.Qr=!!c}cC(){return this.Qr}N$(c){this.GN=+c}YT(c){this.LY=!!c}eaa(c){this.bG=+c}faa(c){this.cG=+c}daa(c){this.c_=+c}bx(c){this.Vy=+c}ax(c){this.Ty=+c}D$(c){this.FY=
+c}$w(c){this.Sy=+c}Zw(c){this.Gy=+c}DC(c){this.mA=+c}EC(c){this.nA=+c}CC(c){this.Wy=+c}BC(c){this.Uy=+c}AC(c){this.Fy=+c}sC(c){this.fy=+c}Jq(c){this.pY=+c}lw(){return this.pY}FC(c){this.oz=+c}HC(c){this.qz=+c}GC(c){this.pz=+c}m$(c){c=e.indexOf(c);if(-1===c)throw Error("invalid destroy mode");this.ru=c}vJ(c){this.m$(e[c])}tx(c){this.lj=+c}V$(c){this.BZ=+c}Tb(){return this.Sm}}}
{"use strict";const d=self.C;function a(k){return Math.random()*k-k/2}const b=new d.Ic,e=new d.Ua,c=self.devicePixelRatio||1;let f=!1;self.W8=class{constructor(k){this.mE=k;this.Fb=!1;this.Qc=this.Kk=this.S=this.W=0;this.sn=1;this.Go=this.Au=this.DE=this.Ie=this.CE=this.oN=0;this.Ho=new d.Rect;this.dE=this.tG=this.Ds=null}s$(k){this.mE=k}Kj(k){const g=this.mE;this.Fb=!0;this.W=g.bG+a(g.mA);this.S=g.cG+a(g.nA);this.Kk=g.Vy+a(g.Wy);this.Qc=g.c_+a(g.Tz);this.oN=this.sn=g.Sy;this.Ie=(g.Ty+a(g.Uy))*g.FY;
this.DE=this.Ie/2;this.CE=g.Gy+a(g.Fy);this.Go=this.Au=0;this.nL();k?this.Ds||(this.Ds=k(this)):this.dE=this.tG=this.Ds=null}uaa(k){this.tG=k}l$(k){this.dE=k}Wv(){const k=this.dE;k&&k(this.Ds);this.dE=this.tG=this.Ds=null}toJSON(){return[this.W,this.S,this.Kk,this.Qc,this.sn,this.CE,this.Ie,this.Au,this.Go]}uj(k){this.W=k[0];this.S=k[1];this.Kk=k[2];this.Qc=k[3];this.sn=k[4];this.CE=k[5];this.Ie=k[6];this.Au=k[7];this.Go=k[8];this.DE=this.Ie/2;this.nL()}bd(k){var g=this.mE,l=this.Kk*k,m=this.Qc;const q=
Math.cos(m)*l;l=Math.sin(m)*l+this.Au*k;this.W+=q;this.S+=l;m=this.CE*k;this.Ie+=m;this.DE=this.Ie/2;this.Kk+=g.fy*k;this.Au+=g.lw()*k;this.Go+=k;this.nL();var r=g.oz,p=g.qz;const u=g.pz;let t=0;0!==r&&(t=a(r*k),this.Qc+=t);0!==p&&(this.Kk+=a(p*k));0!==u&&(this.sn=d.aa(this.sn+a(u*k),0,1));k=1<=this.Ie&&(2===g.ru?0<this.Kk:this.Go<g.lj);(r=this.tG)&&k&&(p=g.GN*this.sn,0===g.ru&&(p*=1-this.Go/g.lj),g=p-this.oN,this.oN=p,r(this.Ds,q,l,m,t,g));this.Fb=k}Tb(){return this.Ho}nL(){const k=this.W,g=this.S,
l=this.DE;this.Ho.set(k-l,g-l,k+l,g+l)}Mc(k,g,l){if(!this.Ds){var m=this.mE,q=m.GN*this.sn;0===m.ru&&(q*=1-this.Go/m.lj);if(!(0>=q)){var r=this.Ie*m.BZ*c;if(!(1>r)){var p=this.W,u=this.S;m.LY&&(p=p+.5|0,u=u+.5|0);l||r>k.zF||r<k.nZ?(e.ua(m.iw()),e.tma(q),k.bg(e),f=!0,b.yg(this.Ho),k.Nj(b,g)):(f&&(k.bg(m.iw()),f=!1),k.c9(p,u,r,q))}}}}L(){return this.W}M(){return this.S}Jj(){return this.Ie}ea(){return this.Qc}Rd(){return this.sn}}}{"use strict";const d=self.C;d.F.xo=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.F.xo.Ae=class extends d.Ai{constructor(a){super(a);this.Cb=d.D(self.lU)}A(){super.A()}Vb(){this.Nc().Kw(this.j)}ll(a){return this.Nc().yq(a,{ge:this.j.Vc})}wi(){this.Nc().yh()}nba(a,b,e,c){const f=this.Nc(),k=this.Cb;k.Af(f.R());k.eg(f.P());k.vC(a);k.tJ(b);k.uJ(e);k.HJ(c);k.uU()}}}
{"use strict";const d=self.C,a=self.Bg,b=["left","center","right"],e=["top","center","bottom"];d.F.xo.Instance=class extends d.Gq{constructor(k,g){super(k);this.Ia="";this.Ce=!0;this.Ng=this.Ef=16;this.No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.ek=1;this.Sb=this.hc=this.Lc=this.fk=0;this.fe=!0;this.Je=null;this.Nd=this.fi=-1;this.Mk=0;g&&(this.Ia=g[0],this.Ce=g[1],this.Ef=g[2],this.Ng=g[3],this.No=g[4],k=g[5],this.ek=
g[6],this.fk=g[7],this.Lc=g[8],this.hc=g[9],this.Sb=g[10],this.fe=0===g[11],this.B().Lg(g[12]));this.Ta.nba(this.Ef,this.Ng,this.No,k);this.Je=d.D(self.Naa,this.Ta.Cb);g=this.B();this.Je.cc(g.R(),g.P());this.Jh();this.N.R$()}A(){this.Ue();this.Je.A();this.Je=null;super.A()}Jh(){const k=this.Je;k&&(k.rJ(this.Ce),k.rl(this.Ia),k.OJ(this.fe?"word":"character"),k.C$(b[this.hc]),k.Aaa(e[this.Sb]),k.cU(this.fk),k.Et(this.Lc))}Mc(k){const g=this.V.Nc();var l=g.$b();if(l){k.Wd(l);l=this.B();var m=l.Tf(),
q=this.Je;q.Lq(this.ek);q.baa(l.IB());this.j.yk&&(m=l.aJ(m));q.cc(l.R(),l.P());q.Cb.iaa(g.vf());q.bg(l.xa);q.Mc(k,m.zb,m.Ab,l.ea())}}oc(){const k={t:this.Ia,ebbc:this.Ce,csc:this.ek,csp:this.fk,lh:this.Lc,ha:this.hc,va:this.Sb,w:this.fe,cw:this.Ta.Cb.Ef,ch:this.Ta.Cb.Ng,cs:this.Ta.Cb.No,sd:this.Ta.Cb.kv};-1!==this.Nd&&(k.tw={st:this.fi,en:this.Nd,l:this.Mk});return k}ac(k){this.Ue();this.Ia=k.t;this.Ce=k.ebbc;this.ek=k.csc;this.fk=k.csp;this.Lc=k.lh;this.hc=k.ha;this.Sb=k.va;this.fe=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.fi=g.st;this.Nd=g.en;this.Mk=k.l}g=this.Ta.Cb;g.vC(k.cw);g.tJ(k.ch);g.uJ(k.cs);g.HJ(k.sd);this.Jh();-1!==this.Nd&&this.fg()}Qb(k){switch(k){case 0:return this.Ia;case 1:return this.Ce;case 2:return this.Ta.Cb.Ef;case 3:return this.Ta.Cb.Ng;case 4:return this.Ta.Cb.No;case 5:return this.Ta.Cb.kv;case 6:return this.ek;case 7:return this.fk;case 8:return this.Lc;case 9:return this.hc;case 10:return this.Sb;case 11:return this.fe?1:0}}me(k,g){switch(k){case 0:if(this.Ia===g)break;this.Ia=g;
this.Jh();break;case 1:if(this.Ce===!!g)break;this.Ce=!!g;this.Jh();break;case 2:this.Ta.Cb.vC(g);break;case 3:this.Ta.Cb.tJ(g);break;case 4:this.Ta.Cb.uJ(g);break;case 5:this.Ta.Cb.HJ(g);break;case 6:if(this.ek===g)break;this.ek=g;this.Jh();break;case 7:if(this.fk===g)break;this.fk=g;this.Jh();break;case 8:if(this.Lc===g)break;this.Lc=g;this.Jh();break;case 9:if(this.hc===g)break;this.hc=g;this.Jh();break;case 10:if(this.Sb===g)break;this.Sb=g;this.Jh();break;case 11:this.fe!==(0===g)&&(this.fe=
0===g,this.Jh())}}Ji(k){this.Ia!==k&&(this.Ia=k,this.Je.rl(k),this.j.U())}kL(k,g){this.Ji(k);this.fi=this.j.Aw();this.Nd=this.fi+g/this.Ja().$Q();this.Mk=d.xj.JC(k).length;this.Je.Iq(0);this.fg()}Ue(){this.Nd=this.fi=-1;this.Mk=0;this.Je.Iq(-1);this.Eo()}EK(){-1!==this.Nd&&(this.Ue(),this.oa(d.F.xo.I.Nw),this.j.U())}Hia(k){this.ek!==k&&(this.ek=k,this.Je.Lq(this.ek),this.j.U())}iia(k){this.fk!==k&&(this.fk=k,this.Je.cU(this.fk),this.j.U())}Xx(k){this.Lc!==k&&(this.Lc=k,this.Je.Et(this.Lc),this.j.U())}HK(){return this.Lc}dL(k){this.hc!==
k&&(this.hc=k,this.Jh(),this.j.U())}$x(k){this.Sb!==k&&(this.Sb=k,this.Jh(),this.j.U())}iL(k){k=!!k;this.fe!==k&&(this.fe=k,this.Jh(),this.j.U())}bd(){var k=this.j.Aw();k>=this.Nd?(this.Ue(),this.oa(d.F.xo.I.Nw),this.j.U()):(k=d.r0(this.fi,this.Nd,k,this.Mk),k=Math.floor(k),k!==this.Je.Pg&&(this.Je.Iq(k),this.j.U()))}Dg(){return self.W5}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.W5=class extends self.Gw{constructor(){super();c.set(this,self.pq.Ao().ra)}get text(){return c.get(this).Ia}set text(k){a.Vd(k);
const g=c.get(this);g.Ue();g.Ji(k)}set lineHeight(k){a.yi(k);c.get(this).Xx(k)}get lineHeight(){return c.get(this).HK()}set verticalAlign(k){a.Vd(k);k=f.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).$x(k)}get verticalAlign(){return e[c.get(this).Sb]}}}{"use strict";const d=self.C;d.F.xo.I={AQ(a,b){return b?this.Ia===a:d.lf(this.Ia,a)},g7(){return-1!==this.Nd},Nw(){return!0}}}"use strict";
self.C.F.xo.kb={rl(d){this.Ue();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Ji(d.toString())},i1(d){this.Ue();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.Ji(this.Ia+d)},fba(d,a){this.Ue();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.kL(d.toString(),a)},eba(){this.EK()},Lq(d){this.Hia(d)},mva(d){this.iia(d)},Et(d){this.Xx(d)},vC(d,a){let b=!1;const e=this.Ta.Cb;for(const c of d)if(" "===c)e.caa(a),b=!0;else if(d=e.rB(c))d.ET(a),b=
!0;b&&e.h$();this.j.U()},xC(d){this.B().Se(d);this.j.U()},z$(d){this.dL(d)},vaa(d){this.$x(d)},Baa(d){this.iL(0===d)}};{"use strict";const d=self.C;d.F.xo.Pd={Aoa(a){return(a=this.Ta.Cb.rB(a))?a.SH():this.Ta.Cb.Ef},xoa(){return this.Ng},yoa(){return this.ek},zoa(){return this.fk},s7(){return this.Lc},Text(){return this.Ia},Z8(){return this.Ce?d.xj.JC(this.Ia):this.Ia},Waa(){const a=this.B();this.Je.cc(a.R(),a.P());return this.Je.sI()},Vaa(){const a=this.B();this.Je.cc(a.R(),a.P());return this.Je.rI()}}}
{"use strict";const d=self.C;self.Maa=class{constructor(a,b,e,c){b=a.Ef;let f=a.Ng;this.Cb=a;this.MZ=new d.Rect(e,c,e+b,c+f);this.Sl=new d.Rect;this.jM=-1;this.CX()}A(){this.Sl=this.MZ=this.Cb=null}CX(){let a=this.Cb.R(),b=this.Cb.P();this.Sl.ua(this.MZ);this.Sl.am(a,b);this.Sl.mma(this.Cb.vf())}vf(){return this.Sl}ET(a){this.jM=a}SH(){return 0>this.jM?this.Cb.Ef:this.jM}}}
{"use strict";const d=self.C,a=new d.Rect,b=new d.Ic,e=new d.Ua,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.Naa=class{constructor(g){this.Cb=g;this.Vm=this.Ff=0;this.Ia="";this.$e=!1;this.ak=null;this.Qf=d.D(d.Ax);this.Es="word";this.bP=!1;this.hc="left";this.Sb="top";this.Mz=this.jc=1;this.Lc=this.rs=0;this.xa=d.D(d.Ua);this.Pg=-1;this.Nh=0;this.yz=(l,m)=>this.Qx(l,m);this.Cb.Sba(this)}A(){this.Cb.rha(this);this.yz=this.xa=null;this.Qf.Zc();
this.ak=this.Cb=this.Qf=null}Qx(g,l){var m=this.dd(l,"scale"),q=(m?parseFloat(m.yd):this.jc)*this.Mz;m=this.dd(l,"scalex");m=(m?parseFloat(m.yd):1)*q;l=this.dd(l,"scaley");l=this.Cb.Ng*(l?parseFloat(l.yd):1)*q+this.Lc;const r=this.Cb;q=r.Ef*m;const p=this.rs;if(r.Bu){let t=0,w=0;for(var u of g){g=q;const x=r.rB(u);x?g=x.SH()*m:" "===u&&(g=r.MR()*m);w+=g;++t}return{width:w+t*p,height:l}}u=[...g].length;return{width:q*u+Math.max(u,0)*p,height:l}}zl(){this.bP=!0;this.Qf.Zc()}cc(g,l){0>=g||0>=l||this.Ff===
g&&this.Vm===l||(this.Ff!==g&&this.zl(),this.Ff=g,this.Vm=l)}Iq(g){this.Pg=Math.floor(g)}dd(g,l){for(let m=g.length-1;0<=m;--m){const q=g[m];if(q.tag===l)return q}return null}Bo(g,l){return!!this.dd(g,l)}Tq(){if(this.bP){!this.$e||this.ak&&this.ak.toString()===this.Ia||(this.ak=new d.xj(this.Ia,{g0:!0}));var g=-this.rs;this.Qf.Ax(this.$e?this.ak.z0():this.Ia,this.yz,this.Ff,this.Es,g);this.bP=!1}}Mc(g,l,m,q){this.Tq();let r=this.Nh=0;const p=this.Lc,u=d.DG(this.Qf.Ol),t=Math.sin(q);q=Math.cos(q);
var w=u.reduce((x,z)=>x+z.height,0)-p;"center"===this.Sb?r=Math.max(Math.floor(this.Vm/2-w/2),0):"bottom"===this.Sb&&(r=Math.floor(this.Vm-w));for(let x=0,z=u.length;x<z;++x){w=u[x];const D=w.height;if(0<x&&r>this.Vm-(D-p))break;0<=r&&this.Oda(g,w,l,m,r,t,q);r+=D}}Oda(g,l,m,q,r,p,u){const t=l.height;let w=0;"center"===this.hc?w=Math.max(Math.floor((this.Ff-l.width)/2),0):"right"===this.hc&&(w=Math.max(Math.floor(this.Ff-l.width),0));for(const x of l.nP)this.Fda(g,x,m,q,w,r,p,u,t),w+=x.width}Fda(g,
l,m,q,r,p,u,t,w){var x=l.text,z=l.width,D=l.zd;if(-1!==this.Pg){if(this.Nh>=this.Pg)return;this.Nh+x.length>this.Pg&&(x=x.substr(0,this.Pg-this.Nh),z=this.Qx(x,D).width);this.Nh+=x.length}var G=this.dd(D,"background");if(!(d.dC(x)&&!G||this.Bo(D,"hide"))){l=this.dd(D,"scale");var N=(l?parseFloat(l.yd):this.jc)*this.Mz;l=this.dd(D,"scalex");l=(l?parseFloat(l.yd):1)*N;var B=this.dd(D,"scaley");N*=this.Cb.Ng*(B?parseFloat(B.yd):1);p+=w-this.Lc-N;w=this.dd(D,"offsetx");r+=w?parseFloat(w.yd):0;w=this.dd(D,
"offsety");p+=w?parseFloat(w.yd):0;G&&(g.Ww(),e.l0(G.yd),e.gh(1),g.bg(e),a.set(r,p,r+z,p+N),a.Z>this.Ff&&a.Pma(this.Ff),b.YG(a,u,t),b.offset(m,q),g.Ic(b),g.Kg());(z=this.dd(D,"color"))?(e.l0(z.yd),e.gh(this.xa.$a)):e.ua(this.xa);(z=this.dd(D,"opacity"))&&e.gh(e.$a*parseFloat(z.yd)/100);e.EA();g.bg(e);z=this.Cb.Ef*l;D=Math.abs(this.rs);for(const H of x)if(x=this.Cb.rB(H)){G=x.SH()*l;if(r+G>this.Ff+D+1E-5)break;a.set(r,p,r+z,p+N);b.YG(a,u,t);b.offset(m,q);g.Nj(b,x.vf());r+=G+this.rs}else r+=this.Cb.MR()*
l+this.rs}}rJ(g){g=!!g;this.$e!==g&&(this.$e=g,this.zl())}rl(g){this.Ia!==g&&(this.Ia=g,this.zl())}OJ(g){if(!k.has(g))throw Error("invalid word wrap mode");this.Es!==g&&(this.Es=g,this.zl())}C$(g){if(!c.has(g))throw Error("invalid alignment");this.hc=g}Aaa(g){if(!f.has(g))throw Error("invalid alignment");this.Sb=g}Lq(g){this.jc!==g&&(this.jc=g,this.zl())}baa(g){this.Mz!==g&&(this.Mz=g,this.zl())}IB(){return this.Mz}cU(g){this.rs!==g&&(this.rs=g,this.zl())}Et(g){this.Lc=g;this.zl()}Bi(g){g=d.aa(g,
0,1);this.xa.Kp=g}bg(g){this.xa.Wc(g)||this.xa.ua(g)}iw(){return this.xa}sI(){this.Tq();return this.Qf.uR()}rI(){this.Tq();const g=this.Lc;return this.Qf.Ol.length*(this.Cb.Ng*this.jc+g)-g}}}
{"use strict";const d=self.C,a={width:256,height:256,H_:16,G_:16,characterSet:""};self.lU=class{constructor(b){b=Object.assign({},a,b);if(0>=b.width||0>=b.height||0>=b.H_||0>=b.G_)throw Error("invalid size");this.$=b.width;this.Y=b.height;this.Ef=b.H_;this.Ng=b.G_;this.No=b.characterSet;this.kv="";this.Sz=null;this.Bu=!1;this.qs=-1;this.Sl=new d.Rect(0,0,1,1);this.kr=new Map;this.hp=!0;this.dr=new Set}A(){this.Sl=null;this.BW();this.kr=null;this.dr&&this.dr.clear();this.dr=null}BW(){for(let b of this.kr.values())b.A();
this.kr.clear()}Sba(b){this.dr.add(b)}rha(b){this.dr.delete(b)}uU(){if(this.hp){this.BW();var b=[...this.No],e=Math.floor(this.$/this.Ef),c=e*Math.floor(this.Y/this.Ng);for(let f=0,k=b.length;f<k&&!(f>=c);++f){let g=b[f];this.kr.set(g,d.D(self.Maa,this,g,f%e*this.Ef,Math.floor(f/e)*this.Ng))}this.Bu=!1;this.qs=-1;if(Array.isArray(this.Sz))for(let f of this.Sz)if(Array.isArray(f)&&2===f.length&&(b=f[0],e=f[1],"number"===typeof b&&isFinite(b)&&"string"===typeof e&&b!==this.Ef))for(let k of e)(e=this.kr.get(k))?
(e.ET(b),this.Bu=!0):" "===k&&(this.qs=b,this.Bu=!0);this.hp=!1;for(let f of this.dr)f.zl()}}h$(){this.Bu=!0;for(const b of this.dr)b.zl()}rB(b){this.uU();return this.kr.get(b)||null}Af(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.$!==b&&(this.$=b,this.hp=!0)}R(){return this.$}eg(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.Y!==b&&(this.Y=b,this.hp=!0)}P(){return this.Y}iaa(b){if(!this.Sl.Wc(b)){this.Sl.ua(b);for(const e of this.kr.values())e.CX()}}vf(){return this.Sl}vC(b){b=
Math.floor(b);if(0>=b)throw Error("invalid size");this.Ef!==b&&(this.Ef=b,this.hp=!0)}tJ(b){b=Math.floor(b);if(0>=b)throw Error("invalid size");this.Ng!==b&&(this.Ng=b,this.hp=!0)}uJ(b){this.No!==b&&(this.No=b,this.hp=!0)}HJ(b){if(this.kv!==b&&(this.kv=b,this.hp=!0,this.Sz=null,this.kv.length))try{this.Sz=JSON.parse(this.kv)}catch(e){this.Sz=null}}caa(b){0>b&&(b=-1);this.qs!==b&&(this.qs=b,0<=this.qs&&(this.Bu=!0))}MR(){return 0>this.qs?this.Ef:this.qs}}}{"use strict";const d=self.C;d.F.Text=class extends d.Ah{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.F.Text.Ae=class extends d.Ai{constructor(a){super(a)}A(){super.A()}Vb(){}ll(){}wi(){}}}
{"use strict";const d=self.C,a=self.Bg,b=[0,0,0],e=["left","center","right"],c=["top","center","bottom"],f=new d.Rect,k=new d.Ic;new d.Ua;d.F.Text.Instance=class extends d.Gq{constructor(m,q){super(m);this.Ia="";this.Ce=!0;this.nk="Arial";this.Rl=12;this.Zi=0;this.kg=this.jg=!1;this.xa=d.D(d.Ua);this.Sb=this.hc=0;this.fe=!0;this.Nd=this.fi=-1;this.Mk=0;this.vd=d.D(d.ja.iJ,this.j.xb(),{timeout:5});this.vd.QG=()=>this.j.U();this.vd.LT();q&&(this.Ia=q[0],this.Ce=!!q[1],this.nk=q[2],this.Rl=q[3],this.Zi=
q[4],this.jg=!!q[5],this.kg=!!q[6],this.hc=q[8],this.Sb=q[9],this.fe=0===q[10],m=q[7],this.xa.Vp(m[0],m[1],m[2]),this.B().Lg(q[11]));this.Xe()}A(){this.Ue();this.vd.A();this.vd=null;super.A()}Xe(){const m=this.vd;m.rl(this.Ia);m.rJ(this.Ce);m.xJ(this.nk);m.Et(this.Zi);m.xT(this.jg);m.NT(this.kg);m.bg(this.xa);m.IT(e[this.hc]);m.hU(c[this.Sb]);m.OJ(this.fe?"word":"character")}rL(){const m=this.B();this.vd.yJ(this.Rl);this.vd.w$(m.IB());var q=m.ba();q=q.dl()*q.KH(m.Ud());this.vd.cc(m.R(),m.P(),q)}Mc(m){var q=
this.B();this.rL();const r=this.vd.$b();if(r){var p=q.ba();if(0===q.ea()&&0===p.ea()&&0===q.Ud()&&!q.ag()&&p.cT()){q=q.Tf();const [u,t]=p.kl(q.zb,q.Ab),[w,x]=p.kl(q.wc,q.xc);q=u-Math.round(u);const z=t-Math.round(t);f.set(u,t,w,x);f.offset(-q,-z);k.yg(f);const [D,G]=m.ER(m.uw());this.j.fa.wJ(m,D,G);m.Wd(r);m.Nj(k,this.vd.vf());p.qD(m)}else m.Wd(r),q.ag()?this.zK(q,m):this.AK(q,m)}}AK(m,q){m=m.Tf();this.j.yk&&(m=this.xW(m));q.Nj(m,this.vd.vf())}zK(m,q){const r=m.RR();if(m.mS()){m.Rv(f,k,!1);let p=
k;this.j.yk&&(p=this.xW(p));r.qQ(m.el(),p,this.vd.vf());m.BJ(!1)}r.Mc(q)}xW(m){const q=m.zb-Math.round(m.zb),r=m.Ab-Math.round(m.Ab);if(0===q&&0===r)return m;k.ua(m);k.offset(-q,-r);return k}oc(){const m={t:this.Ia,c:this.xa.toJSON(),fn:this.nk,ps:this.Rl};this.Ce&&(m.bbc=this.Ce);0!==this.hc&&(m.ha=this.hc);0!==this.Sb&&(m.va=this.Sb);this.fe||(m.wr=this.fe);0!==this.Zi&&(m.lho=this.Zi);this.jg&&(m.b=this.jg);this.kg&&(m.i=this.kg);-1!==this.Nd&&(m.tw={st:this.fi,en:this.Nd,l:this.Mk});return m}ac(m){this.Ue();
this.Ia=m.t;this.xa.uj(m.c);this.nk=m.fn;this.Rl=m.ps;this.Ce=m.hasOwnProperty("bbc")?m.bbc:!1;this.hc=m.hasOwnProperty("ha")?m.ha:0;this.Sb=m.hasOwnProperty("va")?m.va:0;this.fe=m.hasOwnProperty("wr")?m.wr:!0;this.Zi=m.hasOwnProperty("lho")?m.lho:0;this.jg=m.hasOwnProperty("b")?m.b:!1;this.kg=m.hasOwnProperty("i")?m.i:!1;m.hasOwnProperty("tw")&&(m=m.tw,this.fi=m.st,this.Nd=m.en,this.Mk=m.l);this.Xe();-1!==this.Nd&&this.fg()}Qb(m){switch(m){case 0:return this.Ia;case 1:return this.Ce;case 2:return this.nk;
case 3:return this.Rl;case 4:return this.Zi;case 5:return this.jg;case 6:return this.kg;case 7:return b[0]=this.xa.Ya,b[1]=this.xa.Xa,b[2]=this.xa.Va,b;case 8:return this.hc;case 9:return this.Sb;case 10:return this.fe?1:0}}me(m,q){switch(m){case 0:if(this.Ia===q)break;this.Ia=q;this.Xe();break;case 1:if(this.Ce===!!q)break;this.Ce=!!q;this.Xe();break;case 2:if(this.nk===q)break;this.nk=q;this.Xe();break;case 3:if(this.Rl===q)break;this.Rl=q;this.Xe();break;case 4:if(this.Zi===q)break;this.Zi=q;this.Xe();
break;case 5:if(this.jg===!!q)break;this.jg=!!q;this.Xe();break;case 6:if(this.kg===!!q)break;this.kg=!!q;this.Xe();break;case 7:m=this.xa;if(m.Ya===q[0]&&m.Xa===q[1]&&m.Va===q[2])break;this.xa.Vp(q[0],q[1],q[2]);this.Xe();break;case 8:if(this.hc===q)break;this.hc=q;this.Xe();break;case 9:if(this.Sb===q)break;this.Sb=q;this.Xe();break;case 10:this.fe!==(0===q)&&(this.fe=0===q,this.Xe())}}Ji(m){this.Ia!==m&&(this.Ia=m,this.vd.rl(m),this.j.U())}kL(m,q){this.Ji(m);this.fi=this.j.Aw();this.Nd=this.fi+
q/this.Ja().$Q();this.Mk=d.xj.JC(m).length;this.vd.Iq(0);this.fg()}Ue(){this.Nd=this.fi=-1;this.Mk=0;this.vd.Iq(-1);this.Eo()}EK(){-1!==this.Nd&&(this.Ue(),this.oa(d.F.Text.I.Nw),this.j.U())}ria(m){this.nk!==m&&(this.nk=m,this.vd.xJ(m),this.j.U())}gia(m){m=!!m;this.jg!==m&&(this.jg=m,this.vd.xT(m),this.j.U())}Bia(m){m=!!m;this.kg!==m&&(this.kg=m,this.vd.NT(m),this.j.U())}sia(m){this.Rl!==m&&(this.Rl=m,this.j.U())}qia(m){this.xa.cm(m)||(this.xa.qj(m),this.vd.bg(this.xa),this.j.U())}Xx(m){this.Zi!==
m&&(this.Zi=m,this.Xe(),this.j.U())}HK(){return this.Zi}dL(m){this.hc!==m&&(this.hc=m,this.Xe(),this.j.U())}$x(m){this.Sb!==m&&(this.Sb=m,this.Xe(),this.j.U())}iL(m){m=!!m;this.fe!==m&&(this.fe=m,this.Xe(),this.j.U())}Iea(){this.rL();return this.vd.sI()}Hea(){this.rL();return this.vd.rI()}bd(){var m=this.j.Aw();m>=this.Nd?(this.Ue(),this.oa(d.F.Text.I.Nw),this.j.U()):(m=d.r0(this.fi,this.Nd,m,this.Mk),m=Math.floor(m),m!==this.vd.Pg&&(this.vd.Iq(m),this.j.U()))}Dg(){return self.Z5}};const g=new WeakMap,
l=new Map([["top",0],["center",1],["bottom",2]]);self.Z5=class extends self.Gw{constructor(){super();g.set(this,self.pq.Ao().ra)}get text(){return g.get(this).Ia}set text(m){a.Vd(m);const q=g.get(this);q.Ue();q.Ji(m)}set lineHeight(m){a.yi(m);g.get(this).Xx(m)}get lineHeight(){return g.get(this).HK()}set verticalAlign(m){a.Vd(m);m=l.get(m);if("undefined"===typeof m)throw Error("invalid mode");g.get(this).$x(m)}get verticalAlign(){return c[g.get(this).Sb]}}}
{"use strict";const d=self.C;d.F.Text.I={AQ(a,b){return b?this.Ia===a:d.lf(this.Ia,a)},g7(){return-1!==this.Nd},Nw(){return!0}}}
{"use strict";const d=self.C,a=d.D(d.Ua);d.F.Text.kb={rl(b){this.Ue();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.Ji(b.toString())},i1(b){this.Ue();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);(b=b.toString())&&this.Ji(this.Ia+b)},fba(b,e){this.Ue();"number"===typeof b&&1E9>b&&(b=Math.round(1E10*b)/1E10);this.kL(b.toString(),e)},Dva(b,e){let c=!1,f=!1;switch(e){case 1:c=!0;break;case 2:f=!0;break;case 3:f=c=!0}if(b!==this.nk||c!==this.jg||f!==this.kg)this.ria(b),this.gia(c),
this.Bia(f)},yJ(b){this.sia(b)},Cva(b){a.Js(b);a.aa();this.qia(a)},Dwa(){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},xC(b){this.B().Se(b);this.j.U()},eba(){this.EK()},Et(b){this.Xx(b)},z$(b){this.dL(b)},vaa(b){this.$x(b)},Baa(b){this.iL(0===b)}}}{"use strict";const d=self.C;d.F.Text.Pd={Text(){return this.Ia},Z8(){return this.Ce?d.xj.JC(this.Ia):this.Ia},wpa(){return this.nk},xpa(){return this.Rl},Waa(){return this.Iea()},Vaa(){return this.Hea()},s7(){return this.Zi}}}
{"use strict";const d=self.C;let a=null,b=null,e=[],c=null;function f(k,g,l){var m=k.uf();const q=g.uf();l?((m=m.get("Physics_DisabledCollisions"))&&m.delete(g.jb),(g=q.get("Physics_DisabledCollisions"))&&g.delete(k.jb)):(l=m.get("Physics_DisabledCollisions"),l||(l=new Set,m.set("Physics_DisabledCollisions",l)),m=q.get("Physics_DisabledCollisions"),m||(m=new Set,q.set("Physics_DisabledCollisions",m)),l.add(g.jb),m.add(k.jb))}d.na.hb=class extends d.pC{constructor(k){k.Nma=self.T5;super(k);this.jf=
null;this.BG=10;this.Dc=.02;this.y_=null;this.$Y=-1;this.i_=1;this.v_=8;this.HZ=3;this.EX=!0;this.j.PA(this.pfa())}async pfa(){const k=await this.j.Eb.AR("box2d.wasm");await new Promise(g=>{self.Box2DWasmModule({wasmBinaryFile:k}).then(l=>{c=l;this.Sea();g()})})}Sea(){const k=this.j.hg;a=d.na.hb.nq(0,0);b=d.na.hb.nq(0,0);this.jf=new c.b2World(d.na.hb.qI(0,this.BG),!0);var g=new c.JSContactListener;g.BeginContact=l=>{var m=c.wrapPointer(l,c.b2Contact);l=d.na.hb.Instance.iC(m.GetFixtureA().GetBody());
m=d.na.hb.Instance.iC(m.GetFixtureB().GetBody());k.r9(l.N,m.N)};g.EndContact=()=>{};g.PreSolve=()=>{};g.PostSolve=()=>{};this.jf.SetContactListener(g);g=new c.JSContactFilter;g.ShouldCollide=(l,m)=>{if(this.EX)return!0;l=c.wrapPointer(l,c.b2Fixture);m=c.wrapPointer(m,c.b2Fixture);l=d.na.hb.Instance.iC(l.GetBody());m=d.na.hb.Instance.iC(m.GetBody());l=l.N.J();const q=m.N.J();m=l.jb;const r=q.jb;return(l=l.uf().get("Physics_DisabledCollisions"))&&l.has(r)?!1:(l=q.uf().get("Physics_DisabledCollisions"))&&
l.has(m)?!1:!0};this.jf.SetContactFilter(g);this.y_=new c.b2WorldManifold}A(){super.A()}i4(){return c}dU(k){this.i_=k}I$(k){this.$Y=k}zaa(k){this.v_=Math.max(k,1)}Z$(k){this.HZ=Math.max(k,1)}OT(k,g){this.zaa(k);this.Z$(g)}lw(){return this.BG}Jq(k){k!==this.BG&&(this.jf.SetGravity(d.na.hb.qI(0,k)),this.BG=k,this.vja())}vja(){for(const g of this.ta()){var k=d.na.hb.Instance.zm(g);k&&(k=k.Ea)&&k.SetAwake(!0)}}C2(){this.EX=!1}i$(k,g,l){l=!!l;if(k&&g){if(g.ib)for(const m of g.To)f(k,m,l);else f(k,g,l);
this.C2()}}static nq(k,g){if(e.length){const l=e.pop();l.set_x(k);l.set_y(g);return l}return new c.b2Vec2(k,g)}static lB(k){e.push(k)}static qI(k,g){a.set_x(k);a.set_y(g);return a}static n5(k,g){b.set_x(k);b.set_y(g);return b}static zH(k){const g=new c.b2PolygonShape,l=c._malloc(8*k.length);var m=0;for(let q=0;q<k.length;++q)c.HEAPF32[l+m>>2]=k[q].get_x(),c.HEAPF32[l+(m+4)>>2]=k[q].get_y(),m+=8;m=c.wrapPointer(l,c.b2Vec2);g.Set(m,k.length);c._free(l);return g}};self.T5=class extends self.WR{constructor(k){super(k)}}}
{"use strict";const d=self.C;d.na.hb.Ae=class extends d.rC{constructor(a){super(a)}A(){super.A()}Vb(){}}}
{"use strict";const d=self.C,a=self.Bg,b=self.XR,e=new WeakMap,c=new WeakMap,f=new WeakMap,k=d.na.hb.qI,g=d.na.hb.n5,l=d.D(d.Rect),m=d.D(d.Ic);d.na.hb.Instance=class extends d.qC{constructor(r,p){super(r);r=this.Qd();const u=this.B();this.Ni=r.i4();this.jf=r.jf;this.Dc=r.Dc;this.ez=!1;this.PX=0;this.pp=!1;this.zr=1;this.Gr=.5;this.ms=.2;this.Wr=0;this.er=.01;this.Xo=!1;this.ga=!0;this.Ea=null;this.yu=[];this.Uh=[];this.Jf=[];this.$o=new Set;this.Bk=u.L();this.Ck=u.M();this.Yi=u.ea();this.nN=this.wN=
0;this.nz=!1;p&&(this.ez=!!p[0],this.PX=p[1],this.pp=!!p[2],this.zr=p[3],this.Gr=p[4],this.ms=p[5],this.Wr=p[6],this.er=p[7],this.Xo=!!p[8],this.ga=!!p[9]);p=this.j.Db();this.Zd=new d.Un(d.Kb.mc(p,"instancedestroy",t=>this.Rx(t.instance)),d.Kb.mc(p,"beforeload",()=>this.Xt()),d.Kb.mc(p,"afterload",()=>this.Lm()));c.set(this.N,this);this.ga&&this.fg()}lC(){this.QC()}A(){this.UC();d.G(this.Jf);this.$o.clear();this.Ea&&(this.tK(),this.jf.DestroyBody(this.Ea),this.Ea=null);super.A()}Cx(r){this.Ea&&(r=
this.Ea.CreateFixture(r),this.yu.push(r))}tK(){if(this.Ea){for(const r of this.yu)this.Ea.DestroyFixture(r);d.G(this.yu)}}St(){const r=this.B();return r.ag()?(r.Rv(l,m,!1),m):r.Tf()}Tj(r){this.Ni.destroy(r)}QC(){if(this.ga){var r=this.Ni.b2FixtureDef,p=this.Ni.b2BodyDef,u=this.B();if(!this.Ea){p=new p;p.set_type(this.ez?0:2);var t=this.St();p.set_position(g(t.ki()*this.Dc,t.li()*this.Dc));p.set_angle(u.ea());p.set_fixedRotation(this.pp);p.set_linearDamping(this.Wr);p.set_angularDamping(this.er);p.set_bullet(this.Xo);
this.Ea=this.jf.CreateBody(p);this.Tj(p);e.set(this.Ea,this)}this.tK();r=new r;r.set_density(this.zr);r.set_friction(this.Gr);r.set_restitution(this.ms);p=this.PX;u.Dw()||this.N.si()||0!==p||(p=1);t=Math.max(Math.abs(u.R()),1);var w=Math.max(Math.abs(u.P()),1);0===p?this.N.si()?this.Uca(r):this.Nca(r,t,w):1===p?this.TU(r,t,w):this.Aca(r,t,w);this.wN=u.R();this.nN=u.P();u.XT(!1);this.Tj(r)}}TU(r,p,u){const t=new this.Ni.b2PolygonShape;t.SetAsBox(p*this.Dc*.5,u*this.Dc*.5);r.set_shape(t);this.Cx(r);
this.Tj(t)}Aca(r,p,u){const t=new this.Ni.b2CircleShape;t.set_m_radius(Math.min(p,u)*this.Dc*.5);r.set_shape(t);this.Cx(r);this.Tj(t)}Nca(r,p,u){var t=this.B(),w=0>t.R();const x=0>t.P(),z=this.Dc;var D=t.ea();0!==D&&(t.Jc(0),t.Pa());var G=this.St();const N=G.ki()-t.L();G=G.li()-t.M();0!==D&&(t.Jc(D),t.Pa());D=t.n4(w?-p:p,x?-u:u).Ac;const B=D.length/2;t=[];for(let H=0;H<B;++H)t.push(d.na.hb.nq(D[2*H]-N,D[2*H+1]-G));w!==x&&t.reverse();w=d.na.hb.uT.tT(t,p*u);for(const H of t)d.na.hb.lB(H);if(w.length)for(const H of w){for(const I of H)I.set_x(I.get_x()*
z),I.set_y(I.get_y()*z);p=d.na.hb.zH(H);r.set_shape(p);this.Cx(r);this.Tj(p);for(const I of H)d.na.hb.lB(I)}else this.TU(r,p,u)}Uca(r){var p=this.B(),u=this.St();const t=u.ki()-p.L();p=u.li()-p.M();u=this.Dc;const w=d.na.hb.nq,x=d.na.hb.lB,z=[];this.N.ra.Vpa(z);const D=[];for(let I=0,K=z.length;I<K;++I){var G=z[I],N=G.CR(),B=G.iI();if(B){var H=f.get(B);if(!H){H=B.Ac;const Q=B.Gv();for(let R=0;R<Q;++R)D.push(w(H[2*R],H[2*R+1]));G=G.Zpa()&3758096384;(-2147483648===G||1073741824===G||536870912===G||
G&-2147483648&&G&1073741824&&G&536870912)&&D.reverse();H=d.na.hb.uT.tT(D,N.width()*N.height());f.set(B,H);for(const R of D)x(R);d.G(D)}for(let Q=0,R=H.length;Q<R;++Q){B=H[Q];for(let U=0,Z=B.length;U<Z;++U)D.push(w((N.T+B[U].get_x()-t)*u,(N.O+B[U].get_y()-p)*u));B=d.na.hb.zH(D);r.set_shape(B);this.Cx(r);this.Tj(B);for(const U of D)x(U);d.G(D)}}else D.push(w((N.T-t)*u,(N.O-p)*u)),D.push(w((N.Z-t)*u,(N.O-p)*u)),D.push(w((N.Z-t)*u,(N.X-p)*u)),D.push(w((N.T-t)*u,(N.X-p)*u)),N=d.na.hb.zH(D),r.set_shape(N),
this.Cx(r),this.Tj(N);for(const Q of D)x(Q);d.G(D)}}$U(){this.Ea&&(this.UC(),e.delete(this.Ea),this.tK(),this.jf.DestroyBody(this.Ea),this.Ea=null)}UC(){for(const r of this.Uh)this.jf.DestroyJoint(r);d.G(this.Uh)}$ga(){for(const r of this.Jf)switch(r.type){case 0:this.cV(...r.Tp);break;case 1:this.fV(...r.Tp);break;case 2:this.dV(...r.Tp);break;case 3:this.eV(...r.Tp)}}ul(r){var p=this.B();return-1===r?[p.L(),p.M()]:0===r&&this.Ea?(r=this.Ea.GetPosition(),p=this.Ea.GetLocalCenter(),[(r.get_x()+p.get_x())/
this.Dc,(r.get_y()+p.get_y())/this.Dc]):this.N.Wk(r)}Bca(r,p,u,t,w){this.ga&&p&&p!==this.N&&d.na.hb.Instance.zm(p)&&(this.Jf.push({type:0,Tp:[r,p.tb,u,t,w]}),this.cV(r,p.tb,u,t,w))}cV(r,p,u,t,w){if(this.ga){var x=this.j.Qe(p);if(x&&x!==this.N&&c.has(x)){p=d.na.hb.Instance.zm(x);p.$o.add(this.N);this.Nm(!1);p.Nm(!1);var [z,D]=this.ul(r),[G,N]=x.Wk(u);r=z-G;u=D-N;x=this.Dc;var B=new this.Ni.b2DistanceJointDef;B.Initialize(this.Ea,p.Ea,k(z*x,D*x),g(G*x,N*x));B.set_length(Math.hypot(r,u)*x);B.set_dampingRatio(t);
B.set_frequencyHz(w);this.Uh.push(this.jf.CreateJoint(B));this.Tj(B)}}}Qca(r,p){this.ga&&p&&p!==this.N&&d.na.hb.Instance.zm(p)&&(this.Jf.push({type:1,Tp:[r,p.tb]}),this.fV(r,p.tb))}fV(r,p){if(this.ga&&(p=this.j.Qe(p))&&p!==this.N&&c.has(p)){p=d.na.hb.Instance.zm(p);p.$o.add(this.N);this.Nm(!1);p.Nm(!1);var [u,t]=this.ul(r);r=this.Dc;var w=new this.Ni.b2RevoluteJointDef;w.Initialize(this.Ea,p.Ea,k(u*r,t*r));this.Uh.push(this.jf.CreateJoint(w));this.Tj(w)}}Lca(r,p,u,t){this.ga&&p&&p!==this.N&&d.na.hb.Instance.zm(p)&&
(u=d.he(u),t=d.he(t),this.Jf.push({type:2,Tp:[r,p.tb,u,t]}),this.dV(r,p.tb,u,t))}dV(r,p,u,t){if(this.ga&&(p=this.j.Qe(p))&&p!==this.N&&c.has(p)){p=d.na.hb.Instance.zm(p);p.$o.add(this.N);this.Nm(!1);p.Nm(!1);var [w,x]=this.ul(r);r=this.Dc;var z=new this.Ni.b2RevoluteJointDef;z.Initialize(this.Ea,p.Ea,k(w*r,x*r));z.set_enableLimit(!0);z.set_lowerAngle(d.Ga(u));z.set_upperAngle(d.Ga(t));this.Uh.push(this.jf.CreateJoint(z));this.Tj(z)}}Oca(r,p,u,t,w,x,z,D,G){this.ga&&p&&p!==this.N&&d.na.hb.Instance.zm(p)&&
(u=d.he(u),D=d.he(D),this.Jf.push({type:3,Tp:[r,p.tb,u,t,w,x,z,D,G]}),this.eV(r,p.tb,u,t,w,x,z,D,G))}eV(r,p,u,t,w,x,z,D,G){if(this.ga&&(p=this.j.Qe(p))&&p!==this.N&&c.has(p)){p=d.na.hb.Instance.zm(p);p.$o.add(this.N);this.Nm(!1);p.Nm(!1);var [N,B]=this.ul(r);u=d.Ga(u);r=Math.cos(u);u=Math.sin(u);var H=this.Dc,I=new this.Ni.b2PrismaticJointDef;I.Initialize(this.Ea,p.Ea,k(N*H,B*H),g(r,u));I.set_enableLimit(!!t);I.set_lowerTranslation(w*H);I.set_upperTranslation(x*H);I.set_enableMotor(!!z);I.set_motorSpeed(d.Ga(D));
I.set_maxMotorForce(G);this.Uh.push(this.jf.CreateJoint(I));this.Tj(I)}}nha(){this.ga&&(this.UC(),d.G(this.Jf),this.$o.clear())}Rx(r){const p=r.tb;let u=0;for(let t=0,w=this.Jf.length;t<w;++t)this.Jf[u]=this.Jf[t],u<this.Uh.length&&(this.Uh[u]=this.Uh[t]),this.Jf[t].Tp[1]===p?t<this.Uh.length&&this.jf.DestroyJoint(this.Uh[t]):++u;d.Ad(this.Jf,u);u<this.Uh.length&&d.Ad(this.Uh,u);this.$o.delete(r)}static iC(r){return e.get(r)||null}static zm(r){return c.get(r)||null}oc(){const r={e:this.ga,pr:this.pp,
d:this.zr,fr:this.Gr,re:this.ms,ld:this.Wr,ad:this.er,b:this.Xo,mcj:this.Jf};if(this.ga){const p=this.Ea.GetLinearVelocity();r.vx=p.get_x();r.vy=p.get_y();r.om=this.Ea.GetAngularVelocity()}return r}Xt(){this.UC();d.G(this.Jf);this.$o.clear()}ac(r){this.$U();this.ga=r.e;this.pp=r.pr;this.zr=r.d;this.Gr=r.fr;this.ms=r.re;this.Wr=r.ld;this.er=r.ad;this.Xo=r.b;this.Jf=r.mcj;const p=this.B();this.Bk=p.L();this.Ck=p.M();this.Yi=p.ea();this.wN=p.R();this.nN=p.P();this.ga&&(this.QC(),this.Ea.SetLinearVelocity(k(r.vx,
r.vy)),this.Ea.SetAngularVelocity(r.om),0===r.vx&&0===r.vy&&0===r.om||this.Ea.SetAwake(!0),this.Jf=r.mcj);this.ga?this.fg():this.Eo()}Lm(){this.ga&&this.$ga()}bd(){if(this.ga){var r=this.j,p=this.Qd();if(0===p.i_)var u=r.Dd/60;else u=r.fq(this.N),u>1/30&&(u=1/30);var t=r.Bn;if(t>p.$Y&&0<r.Dd){r=this.j.Jb;let w=0;r&&(w=performance.now());0!==u&&this.jf.Step(u,p.v_,p.HZ);this.jf.ClearForces();r&&self.ih.Ena(performance.now()-w);p.I$(t)}this.Nm(!0)}}Nm(r){const p=this.N.B();var u=this.Dc;(p.R()!==this.wN||
p.P()!==this.nN||p.c7())&&this.QC();var t=this.Ea,w=p.L()!==this.Bk||p.M()!==this.Ck,x=p.ea()!==this.Yi;if(w){var z=this.St();const D=z.ki();z=z.li();const G=D-this.Bk,N=z-this.Ck;x?t.SetTransform(k(D*u,z*u),p.ea()):t.SetTransform(k(D*u,z*u),t.GetAngle());r&&(t.SetLinearVelocity(k(G,N)),this.nz=!0);t.SetAwake(!0)}else r&&this.nz&&(r=this.St(),this.nz=!1,t.SetLinearVelocity(k(0,0)),t.SetTransform(k(r.ki()*u,r.li()*u),t.GetAngle()));!w&&x&&(t.SetTransform(t.GetPosition(),p.ea()),t.SetAwake(!0));x=t.GetPosition();
w=x.get_x()/u;u=x.get_y()/u;t=t.GetAngle();if(w!==p.L()||u!==p.M()||t!==p.ea())if(p.Dh(w,u),p.Jc(t),p.Pa(),u=this.St(),t=u.ki()-p.L(),u=u.li()-p.M(),0!==t||0!==u)p.ut(-t,-u),p.Pa();this.Bk=p.L();this.Ck=p.M();this.Yi=p.ea()}Qb(r){switch(r){case 2:return this.pp;case 3:return this.BV();case 4:return this.FV();case 5:return this.CV();case 6:return this.HV();case 7:return this.rV();case 8:return this.Xo;case 9:return this.ga}}me(r,p){switch(r){case 2:this.gX(p);break;case 3:this.ZW(p);break;case 4:this.bX(p);
break;case 5:this.aX(p);break;case 6:this.dX(p);break;case 7:this.UW(p);break;case 8:this.XW(p);break;case 9:this.Zt(p)}}Zt(r){r=!!r;this.ga&&!r?(this.$U(),this.ga=!1,this.Eo()):!this.ga&&r&&(this.ga=!0,this.QC(),this.fg())}Vba(r,p,u){const [t,w]=this.ul(u);this.vK(r,p,t,w)}Xba(r,p,u,t){const [w,x]=this.ul(t);p=d.Gd(w,x,p,u);this.vK(Math.cos(p)*r,Math.sin(p)*r,w,x)}Wba(r,p,u){const [t,w]=this.ul(u);this.vK(Math.cos(p)*r,Math.sin(p)*r,t,w)}vK(r,p,u,t){if(this.ga){var w=this.Dc;this.Ea.ApplyForce(k(r,
p),g(u*w,t*w),!0)}}Yba(r,p,u){const [t,w]=this.ul(u);this.wK(r,p,t,w)}$ba(r,p,u,t){const [w,x]=this.ul(t);p=d.Gd(w,x,p,u);this.wK(Math.cos(p)*r,Math.sin(p)*r,w,x)}Zba(r,p,u){const [t,w]=this.ul(u);this.wK(Math.cos(p)*r,Math.sin(p)*r,t,w)}wK(r,p,u,t){if(this.ga){var w=this.Dc;this.Ea.ApplyLinearImpulse(k(r,p),g(u*w,t*w),!0);r=this.B();this.Bk=r.L();this.Ck=r.M();this.nz=!1}}cK(r){this.ga&&this.Ea.ApplyTorque(r,!0)}aca(r,p){p=d.kf(this.B().ea(),p)?-1:1;this.cK(r*p)}bca(r,p,u){var t=this.B();p=d.Gd(t.L(),
t.M(),p,u);t=d.kf(t.ea(),p)?-1:1;this.cK(r*t)}aia(r){this.ga&&(this.Ea.SetAngularVelocity(r),this.Ea.SetAwake(!0))}sV(){return this.ga?this.Ea.GetAngularVelocity():0}jX(r,p){if(this.ga){var u=this.Dc;this.Ea.SetLinearVelocity(k(r*u,p*u));this.Ea.SetAwake(!0);r=this.B();this.Bk=r.L();this.Ck=r.M();this.nz=!1}}Kea(){if(!this.ga)return[0,0];const r=this.Dc,p=this.Ea.GetLinearVelocity();return[p.get_x()/r,p.get_y()/r]}RV(){return this.ga?this.Ea.GetLinearVelocity().get_x()/this.Dc:0}SV(){return this.ga?
this.Ea.GetLinearVelocity().get_y()/this.Dc:0}ZW(r){if(this.ga&&this.zr!==r){this.zr=r;for(const p of this.yu)p.SetDensity(r);this.Ea.ResetMassData()}}BV(){return this.ga?this.zr:0}bX(r){if(this.ga&&this.Gr!==r){this.Gr=r;for(var p of this.yu)p.SetFriction(r);for(r=this.Ea.GetContactList();this.Ni.getPointer(r);r=r.get_next())(p=r.get_contact())&&p.ResetFriction()}}FV(){return this.ga?this.Gr:0}aX(r){if(this.ga&&this.ms!==r){this.ms=r;for(const p of this.yu)p.SetRestitution(r)}}CV(){return this.ga?
this.ms:0}dX(r){this.ga&&this.Wr!==r&&(this.Wr=r,this.Ea.SetLinearDamping(r))}HV(){return this.ga?this.Wr:0}UW(r){this.ga&&this.er!==r&&(this.er=r,this.Ea.SetAngularDamping(r))}rV(){return this.ga?this.er:0}yia(r){this.ga&&(r=!!r,this.ez!==r&&(this.ez=r,this.Ea.SetType(this.ez?0:2),this.Ea.SetAwake(!0)))}gX(r){this.ga&&(r=!!r,this.pp!==r&&(this.pp=r,this.Ea.SetFixedRotation(this.pp),this.Ea.SetAngularVelocity(0),this.Ea.SetAwake(!0)))}XW(r){this.ga&&(r=!!r,this.Xo!==r&&(this.Xo=r,this.Ea.SetBullet(this.Xo),
this.Ea.SetAwake(!0)))}JV(){return this.ga?this.Ea.GetMass()/this.Dc:0}pea(){return this.ga?(this.Ea.GetPosition().get_x()+this.Ea.GetLocalCenter().get_x())/this.Dc:0}qea(){return this.ga?(this.Ea.GetPosition().get_y()+this.Ea.GetLocalCenter().get_y())/this.Dc:0}ifa(){return this.ga?!this.Ea.IsAwake():!1}rea(){if(!this.ga)return 0;let r=0;for(let u=this.Ea.GetContactList();this.Ni.getPointer(u);u=u.get_next()){var p=u.get_contact();p&&(p=p.GetManifold().get_pointCount(),r+=p)}return r}yV(r){r=Math.floor(r);
if(!this.ga)return[0,0];var p=0;for(let t=this.Ea.GetContactList();this.Ni.getPointer(t);t=t.get_next()){var u=t.get_contact();if(!u)continue;const w=u.GetManifold().get_pointCount();if(r>=p&&r<p+w)return r-=p,p=this.Qd().y_,u.GetWorldManifold(p),u=p.get_points(r),[u.get_x()/this.Dc,u.get_y()/this.Dc];p+=w}return[0,0]}Dg(){return self.U5}};const q=new WeakMap;self.U5=class extends b{constructor(){super();q.set(this,b.Ao().ra)}get isEnabled(){return q.get(this).ga}set isEnabled(r){q.get(this).Zt(r)}setVelocity(r,
p){a.yi(r);a.yi(p);q.get(this).jX(r,p)}}}{"use strict";const d=self.C;d.na.hb.I={ira(){return this.ifa()},Uoa(a,b,e){if(!this.ga)return!1;if(0===a)a=this.RV();else if(1===a)a=this.SV();else{const [c,f]=this.Kea();a=Math.hypot(c,f)}return d.compare(a,b,e)},Goa(a,b){if(!this.ga)return!1;const e=d.he(this.sV());return d.compare(e,a,b)},Poa(a,b){if(!this.ga)return!1;const e=this.JV();return d.compare(e,a,b)},wf(){return this.ga}}}
{"use strict";const d=self.C;d.na.hb.kb={k1(a,b,e){this.Vba(a,b,e)},Zna(a,b,e,c){this.Xba(a,b,e,c)},Yna(a,b,e){this.Wba(a,d.Ga(b),e)},$na(a,b,e){this.Yba(a,b,e)},boa(a,b,e,c){this.$ba(a,b,e,c)},aoa(a,b,e){this.Zba(a,d.Ga(b),e)},l1(a){this.cK(d.Ga(a))},coa(a,b){this.aca(d.Ga(a),d.Ga(b))},doa(a,b,e){this.bca(d.Ga(a),b,e)},c$(a){this.aia(d.Ga(a))},d2(a,b,e,c,f){b&&(b=b.Dj(this.N),this.Bca(a,b,e,c,f))},m2(a,b){b&&(b=b.Dj(this.N),this.Qca(a,b))},fpa(a,b,e,c){b&&(b=b.Dj(this.N),this.Lca(a,b,d.Ga(e),d.Ga(c)))},
hpa(a,b,e,c,f,k,g,l,m){b&&(b=b.Dj(this.N),this.Oca(a,b,d.Ga(e),c,f,k,g,d.Ga(l),m))},Rta(){this.nha()},Ewa(a){this.Qd().Jq(a)},dU(a){this.Qd().dU(a)},OT(a,b){this.Qd().OT(a,b)},yaa(a,b){this.jX(a,b)},sva(a){this.ZW(a)},Eva(a){this.bX(a)},xva(a){this.aX(a)},gwa(a){this.dX(a)},cva(a){this.UW(a)},Iva(a){this.yia(a)},rpa(a,b){this.Qd().i$(this.J(),a,0!==b)},vwa(a){this.gX(0!==a)},jva(a){this.XW(0!==a)},Fm(a){this.Zt(0!==a)}}}
{"use strict";const d=self.C;d.na.hb.Pd={qba(){return this.RV()},Wxa(){return this.SV()},Tna(){return d.he(this.sV())},H7(){return this.JV()},voa(){return this.pea()},woa(){return this.qea()},kpa(){return this.BV()},Y3(){return this.FV()},qpa(){return this.CV()},zra(){return this.HV()},Sna(){return this.rV()},apa(){return this.rea()},bpa(a){return this.yV(a)[0]},cpa(a){return this.yV(a)[1]}}}
{"use strict";const d=self.C,a={};d.na.hb.uT=a;const b=d.na.hb.nq,e=d.na.hb.lB;function c(k){return b(k.get_x(),k.get_y())}a.Cla=function(k,g,l,m,q,r){return k*m+l*r+q*g-g*l-m*q-r*k};a.Ula=function(k,g,l,m,q,r,p,u){var t=l-k,w=m-g,x=p-q;const z=u-r;x=(x*(r-g)-z*(q-k))/(w*x-t*z);t=k+x*t;w=g+x*w;q=a.MG(t,w,q,r,p,u);return a.MG(l,m,k,g,t,w)&&q?b(t,w):null};a.MG=function(k,g,l,m,q,r){return(l+.1>=k&&k>=q-.1||l-.1<=k&&k<=q+.1)&&(m+.1>=g&&g>=r-.1||m-.1<=g&&g<=r+.1)&&a.ema(k,g,l,m,q,r)};a.ema=function(k,
g,l,m,q,r){return.1<Math.abs(q-l)?.1>Math.abs((r-m)/(q-l)*(k-l)+m-g):.1>Math.abs(k-l)};a.m0=function(k,g,l,m){return.1>Math.abs(l-k)&&.1>Math.abs(m-g)};a.tT=function(k,g){k=a.nla(k);let l=[];for(let m=0,q=k.length;m<q;++m){const r=k[m],p=[];let u=0;for(let t=0,w=r.length;t<w;++t){const x=r[t],z=r[(t+1)%w];u+=x.get_x()*z.get_y()-x.get_y()*z.get_x();p.push(b(x.get_x(),x.get_y()))}u=Math.abs(u/2);if(u>=.001*g)l.push(p);else for(let t=0,w=p.length;t<w;t++)e(p[t])}g=l;k=[];for(const m of g)8>=m.length?
k.push(m):k.push.apply(k,f(m));return l=k};a.nla=function(k){var g;let l;var m;let q;let r,p,u,t;let w;var x=0;let z=0,D,G=[],N=[];for(N.push(k);N.length;){k=N[0];l=k.length;D=!0;for(g=0;g<l;g++){r=g;p=g<l-1?g+1:g+1-l;var B=g<l-2?g+2:g+2-l;u=k[r];t=k[p];B=k[B];B=a.Cla(u.get_x(),u.get_y(),t.get_x(),t.get_y(),B.get_x(),B.get_y());if(0>B){D=!1;var H=1E9;for(m=0;m<l;m++)if(m!==r&&m!==p){g=m;B=m<l-1?m+1:0;var I=k[g];var K=k[B];if(I=a.Ula(u.get_x(),u.get_y(),t.get_x(),t.get_y(),I.get_x(),I.get_y(),K.get_x(),
K.get_y()))K=t.get_x()-I.get_x(),q=t.get_y()-I.get_y(),K=K*K+q*q,K<H?(z=g,x=B,w=I,H=K):e(I)}if(1E9===H)return[];m=[];H=[];g=z;B=x;I=k[g];K=k[B];x=!1;a.m0(w.get_x(),w.get_y(),K.get_x(),K.get_y())||(m.push(w),x=!0);a.m0(w.get_x(),w.get_y(),I.get_x(),I.get_y())||(H.push(w),x=!0);x||e(w);z=-1;for(x=r;;){if(x!==B)m.push(k[x]);else{if(0>z||z>=l)return[];a.MG(K.get_x(),K.get_y(),k[z].get_x(),k[z].get_y(),u.get_x(),u.get_y())||m.push(k[x]);break}z=x;0>x-1?x=l-1:x--}m.reverse();z=-1;for(x=p;;){if(x!==g)H.push(k[x]);
else{if(0>z||z>=l)return[];x!==g||a.MG(I.get_x(),I.get_y(),k[z].get_x(),k[z].get_y(),t.get_x(),t.get_y())||H.push(k[x]);break}z=x;x+1>l-1?x=0:x++}N.push(m,H);N.shift();break}}D&&G.push(N.shift())}return G};function f(k){const g=[];g.push(k.splice(0,8));const l=g[0][0];let m=g[0][7];for(;k.length;){const q=k.splice(0,Math.min(k.length,6));let r=q.Oe(-1);q.push(c(l));q.push(c(m));g.push(q);m=r}return g}}{"use strict";const d=self.C;d.na.Xp=class extends d.pC{constructor(a){super(a)}A(){super.A()}}}
{"use strict";const d=self.C;d.na.Xp.Ae=class extends d.rC{constructor(a){super(a)}A(){super.A()}Vb(){}}}
{"use strict";const d=self.C;d.na.Xp.Instance=class extends d.qC{constructor(a,b){super(a);this.Fm(!0);b&&(this.Fm(b[0]),this.Kt(b[1]))}A(){super.A()}Fm(a){this.N.Mia(!!a)}wf(){return this.N.jfa()}Kt(a){const b=this.N.uf();if(a.trim()){var e=b.get("solidTags");e||(e=new Set,b.set("solidTags",e));e.clear();for(const c of a.split(" "))c&&e.add(c.toLowerCase())}else b.delete("solidTags")}oc(){return{e:this.wf()}}ac(a){this.Fm(a.e)}Qb(a){switch(a){case 0:return this.wf()}}me(a,b){switch(a){case 0:this.Fm(b)}}}}"use strict";
self.C.na.Xp.I={wf(){return this.wf()}};"use strict";self.C.na.Xp.kb={Fm(d){this.Fm(d)},Kt(d){this.Kt(d)}};"use strict";self.C.na.Xp.Pd={};{"use strict";const d=self.C;d.na.ml=class extends d.pC{constructor(a){super(a)}A(){super.A()}}}{"use strict";const d=self.C;d.na.ml.Ae=class extends d.rC{constructor(a){super(a)}A(){super.A()}Vb(){}}}
{"use strict";const d=self.C;d.na.ml.Instance=class extends d.qC{constructor(a,b){super(a);this.Pl=null;this.GF=-1;this.Th="";this.es=new Set;this.Yi=this.iE=this.Po=this.ou=this.pu=this.hE=this.gE=this.Dz=this.$r=this.ff=0;this.cE=!1;b&&(this.cE=b[0]);a=this.j.Db();this.Zd=new d.Un(d.Kb.mc(a,"instancedestroy",e=>this.Rx(e.instance)),d.Kb.mc(a,"afterload",()=>this.Lm()))}A(){this.Pl=null;super.A()}Yx(a){a?(this.Pl=a,this.Xq()):(this.Pl=null,this.Yq())}Co(a,b,e){if(a&&(a=a.Dj(this.N)))if(this.Th=b,
this.Yx(a),b=this.N.B(),a=a.B(),"properties"===this.Th){const c=this.es;c.clear();for(const f of e)c.add(f);this.gE=b.L()-a.L();this.hE=b.M()-a.M();this.Po=b.ea()-a.ea();this.Yi=b.ea();this.iE=b.gb()-a.gb();c.has("x")&&c.has("y")&&(this.$r=d.Gd(a.L(),a.M(),b.L(),b.M())-a.ea(),this.ff=d.Rf(a.L(),a.M(),b.L(),b.M()));c.has("width-abs")?this.pu=b.R()-a.R():c.has("width-scale")&&(this.pu=b.R()/a.R());c.has("height-abs")?this.ou=b.P()-a.P():c.has("height-scale")&&(this.ou=b.P()/a.P())}else this.ff=d.Rf(a.L(),
a.M(),b.L(),b.M())}oc(){const a=this.es,b=this.Th,e={uid:this.Pl?this.Pl.tb:-1,m:b};if("rope"===b||"bar"===b)e.pd=this.ff;else if("properties"===b){e.ps=[...this.es];a.has("imagepoint")?e.ip=this.Dz:a.has("x")&&a.has("y")?(e.pa=this.$r,e.pd=this.ff):(a.has("x")&&(e.dx=this.gE),a.has("y")&&(e.dy=this.hE));a.has("angle")&&(e.da=this.Po,e.lka=this.Yi);if(a.has("width-abs")||a.has("width-scale"))e.dw=this.pu;if(a.has("height-abs")||a.has("height-scale"))e.dh=this.ou;a.has("z")&&(e.dz=this.iE)}return e}ac(a){const b=
a.m,e=this.es;e.clear();this.GF=a.uid;if("number"===typeof b)this.vfa(a);else if(this.Th=b,"rope"===b||"bar"===b)this.ff=a.pd;else if("properties"===b){for(const c of a.ps)e.add(c);e.has("imagepoint")?this.Dz=a.ip:e.has("x")&&e.has("y")?(this.$r=a.pa,this.ff=a.pd):(e.has("x")&&(this.gE=a.dx),e.has("y")&&(this.hE=a.dy));e.has("angle")&&(this.Po=a.da,this.Yi=a.lka||0);if(e.has("width-abs")||e.has("width-scale"))this.pu=a.dw;if(e.has("height-abs")||e.has("height-scale"))this.ou=a.dh;e.has("z")&&(this.iE=
a.dz)}}vfa(a){const b=this.es,e=a.msa,c=a.tsa,f=a.pa,k=a.pd;switch(a.m){case 0:this.Th="properties";b.add("x").add("y").add("angle");this.$r=f;this.ff=k;this.Po=e-c;this.Yi=a.lka;break;case 1:this.Th="properties";b.add("x").add("y");this.$r=f;this.ff=k;break;case 2:this.Th="properties";b.add("angle");this.Po=e-c;this.Yi=a.lka;break;case 3:this.Th="rope";this.ff=a.pd;break;case 4:this.Th="bar",this.ff=a.pd}}Lm(){-1===this.GF?this.Yx(null):(this.Yx(this.j.Qe(this.GF)),this.GF=-1)}Rx(a){this.Pl===a&&
(this.Yx(null),this.cE&&this.j.Sk(this.N))}Oq(){var a=this.Pl;if(a){var b=a.B(),e=this.N.B(),c=this.Th,f=!1;if("rope"===c||"bar"===c){if(a=d.Rf(e.L(),e.M(),b.L(),b.M()),a>this.ff||"bar"===c&&a<this.ff)f=d.Gd(b.L(),b.M(),e.L(),e.M()),e.Dh(b.L()+Math.cos(f)*this.ff,b.M()+Math.sin(f)*this.ff),f=!0}else{c=this.es;if(c.has("imagepoint")){const [k,g]=a.Wk(this.Dz);e.HH(k,g)||(e.Dh(k,g),f=!0)}else if(c.has("x")&&c.has("y")){a=b.L()+Math.cos(b.ea()+this.$r)*this.ff;const k=b.M()+Math.sin(b.ea()+this.$r)*
this.ff;e.HH(a,k)||(e.Dh(a,k),f=!0)}else a=b.L()+this.gE,c.has("x")&&a!==e.L()&&(e.Fi(a),f=!0),a=b.M()+this.hE,c.has("y")&&a!==e.M()&&(e.Gi(a),f=!0);c.has("angle")&&(this.Yi!==e.ea()&&(this.Po=d.ue(this.Po+(e.ea()-this.Yi))),a=d.ue(b.ea()+this.Po),a!==e.ea()&&(e.Jc(a),f=!0),this.Yi=e.ea());c.has("width-abs")&&(a=b.R()+this.pu,a!==e.R()&&(e.Af(a),f=!0));c.has("width-scale")&&(a=b.R()*this.pu,a!==e.R()&&(e.Af(a),f=!0));c.has("height-abs")&&(a=b.P()+this.ou,a!==e.P()&&(e.eg(a),f=!0));c.has("height-scale")&&
(a=b.P()*this.ou,a!==e.P()&&(e.eg(a),f=!0));c.has("z")&&(a=b.gb()+this.iE,a!==e.gb()&&(e.Bf(a),this.j.U()))}f&&e.Pa()}}}}"use strict";self.C.na.ml.I={gra(){return!!this.Pl},lya(){return this.cE}};"use strict";
self.C.na.ml.kb={dta(d,a){this.Co(d,0===a?"rope":"bar")},fta(d,a,b,e,c,f,k){const g=[];a&&g.push("x");b&&g.push("y");e&&g.push("angle");k&&g.push("z");1===c?g.push("width-abs"):2===c&&g.push("width-scale");1===f?g.push("height-abs"):2===f&&g.push("height-scale");0!==g.length&&this.Co(d,"properties",g)},eta(d,a,b,e,c,f){const k=["imagepoint"];b&&k.push("angle");f&&k.push("z");1===e?k.push("width-abs"):2===e&&k.push("width-scale");1===c?k.push("height-abs"):2===c&&k.push("height-scale");this.Dz=a;this.Co(d,
"properties",k)},twa(d){if("rope"===this.Th||"bar"===this.Th)this.ff=Math.max(d,0)},tva(d){this.cE=d},Sxa(){this.Yx(null);this.Th="";this.es.clear();this.Dz=""},ml(d,a){switch(a){case 0:this.Co(d,"properties",["x","y","angle"]);break;case 1:this.Co(d,"properties",["x","y"]);break;case 2:this.Co(d,"properties",["angle"]);break;case 3:this.Co(d,"rope");break;case 4:this.Co(d,"bar")}}};"use strict";self.C.na.ml.Pd={gta(){return this.Pl?this.Pl.tb:-1}};
{"use strict";const d=self.C;d.na.Hs=class extends d.pC{constructor(a){super(a);this.sO=this.UF=this.Oz=this.rO=0}A(){super.A()}$T(a){this.rO=a}bU(a){this.Oz=a}ZT(a){this.UF=a}aU(a){this.sO=a}}}{"use strict";const d=self.C;d.na.Hs.Ae=class extends d.rC{constructor(a){super(a)}A(){super.A()}Vb(){}}}
{"use strict";const d=self.C;d.na.Hs.Instance=class extends d.qC{constructor(a,b){super(a);this.ga=!0;b&&(this.ga=b[0]);this.ga&&this.Xq()}A(){super.A()}oc(){const a=this.Qd();return{e:this.ga,smg:a.rO,ss:a.Oz,se:a.UF,smd:a.sO}}ac(a){const b=this.Qd();b.$T(a.smg);b.bU(a.ss);b.ZT(a.se);b.aU(a.smd);(this.ga=a.e)?this.Xq():this.Yq()}wf(){return this.ga}Oq(){if(this.wf()){var a=this.Qd(),b=a.ta(),e=0,c=0,f=0;for(var k of b)(b=k.f4(d.na.Hs))&&b.ra.wf()&&(b=k.B(),e+=b.L(),c+=b.M(),++f);k=this.N.B().tc();
var g=this.j.rf(),l=b=0;g>=a.Oz&&g<a.UF&&(b=a.rO*Math.min(this.j.Dd,1),0===a.sO&&(b*=1-(g-a.Oz)/(a.UF-a.Oz)),a=this.j.no()*Math.PI*2,g=this.j.no()*b,b=Math.cos(a)*g,l=Math.sin(a)*g);k.Di(e/f+b);k.Ei(c/f+l)}}Qb(a){switch(a){case 0:return this.ga}}me(a,b){switch(a){case 0:(this.ga=!!b)?this.Xq():this.Yq()}}}}"use strict";self.C.na.Hs.I={wf(){return this.ga}};"use strict";
self.C.na.Hs.kb={Iwa(d,a,b){const e=this.Qd();e.$T(d);e.bU(this.j.rf());e.ZT(this.j.rf()+a);e.aU(b)},Fm(d){(this.ga=0!==d)?this.Xq():this.Yq()}};"use strict";self.C.na.Hs.Pd={};
{const d=self.C;self.oQ=function(){return[d.F.Xd,d.F.qt,d.F.Audio,d.F.im,d.F.Qp,d.F.Keyboard,d.F.le,d.F.Touch,d.F.Iv,d.na.hb,d.na.Xp,d.na.ml,d.F.Bm,d.na.Hs,d.F.xo,d.F.Text,d.F.qb.I.MS,d.F.qb.kb.xaa,d.F.qb.I.kt,d.F.Keyboard.I.lS,d.F.Touch.I.l7,d.F.qb.I.S1,d.F.qb.kb.d1,d.F.qb.I.QQ,d.F.qb.kb.Taa,d.F.qb.I.Q3,d.F.Xd.kb.Jc,d.na.hb.kb.l1,d.na.hb.kb.k1,d.F.qb.I.R1,d.na.hb.Pd.qba,d.F.Xd.I.Z6,d.na.hb.kb.c$,d.F.qb.kb.$J,d.F.qb.kb.M9,d.F.Xd.kb.d$,d.F.Keyboard.I.IS,d.F.qb.kb.Kq,d.F.Audio.kb.Play,d.F.Bm.kb.Y$,
d.na.hb.kb.m2,d.na.hb.kb.d2,d.na.hb.kb.yaa,d.na.ml.kb.ml,d.F.Xd.I.g8,d.F.qb.I.P3,d.F.Xd.kb.Wv,d.F.Bm.kb.qx,d.F.Xd.kb.Af,d.F.Text.kb.rl]};self.y1=[{wra:0},{Jua:0},{Mua:0},{"9patch":0},{Audio:0},{im:0},{soa:0},{Gamepad:0},{Keyboard:0},{le:0},{Touch:0},{Hwa:0},{Ys:0},{rBa:0},{Uwa:0},{Vwa:0},{Wwa:0},{Xwa:0},{Ywa:0},{hb:0},{Zwa:0},{$wa:0},{Kwa:0},{bxa:0},{cxa:0},{dxa:0},{ml:0},{poa:0},{spa:0},{Ipa:0},{loa:0},{Bm:0},{Ksa:0},{Xd:0},{Hxa:0},{Kya:0},{Lya:0},{Mya:0},{H7:0},{Xua:0},{Boa:0},{Y3:0},{Jpa:0},{Kpa:0},
{Lpa:0},{nra:0},{Nra:0},{Hta:0},{Ita:0},{Jta:0},{Kta:0},{Lta:0},{fya:0},{gya:0},{mya:0},{nya:0},{oya:0},{pya:0},{qya:0},{uza:0},{Npa:0},{uAa:0},{$ra:0},{Swa:0},{Rwa:0},{axa:0},{lU:0},{xBa:0},{yBa:0},{zBa:0},{ABa:0},{BBa:0},{xxa:0},{yxa:0},{asa:0},{ota:0},{Mpa:0},{Zra:0},{Owa:0}]}
self.x1=[()=>61,()=>"Speed",()=>140,d=>{const a=d.Hx().Ro;return()=>1-a.ke()/140},()=>0,()=>.5,d=>{const a=d.Hx().Ro;return()=>348+2.623*a.ke()*(100/140)},()=>"Controls",()=>5E3,()=>5,()=>10,d=>{const a=d.Hx();return()=>a.R3()},()=>300,()=>-1E3,()=>-.5,()=>"Spring",()=>-5E3,()=>-5,()=>-10,()=>2,()=>1,()=>45,()=>"Nitro",()=>"start",()=>6,()=>"Setup",()=>19,()=>20,()=>13,()=>14,()=>15,()=>16,()=>17,()=>18,()=>"SpringRear",()=>"springr",()=>22,()=>"SpringFront",()=>"springf",()=>1.78996,()=>-.160475,
()=>.408263,()=>-.0159185,()=>-2.0808308,()=>.112307,()=>-1.9936108,()=>21,()=>-.102369,()=>.214151,()=>1.9,()=>"Shwerpunkt",()=>.11,()=>"End",()=>500,()=>"nitro",()=>"Test",d=>{const a=d.Hx().Ro;return()=>a.ke()},()=>.03,()=>40,()=>"Monets",()=>100,d=>{const a=d.Hx().Ro;return()=>Math.round(a.ke())}];
