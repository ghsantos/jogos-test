// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function b(h,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=u[0],J=u[1],M=u[2];u=u[3];h[0]=y*F+D*J;h[1]=B*F+m*J;h[2]=y*M+D*u;h[3]=B*M+m*u;return h}function a(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function e(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=u[0],P=u[1],S=u[2],T=u[3],X=u[4];u=u[5];h[0]=y*M+D*P;h[1]=B*M+F*P;h[2]=y*S+D*T;h[3]=B*S+F*T;h[4]=y*X+D*u+J;h[5]=B*X+F*u+m;return h}function c(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-
u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];return h}function f(){var h=new qa(9);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function l(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=u[0],X=u[1],W=u[2],fa=u[3],da=u[4],aa=u[5],ua=u[6],pa=u[7];u=u[8];h[0]=T*y+X*F+W*P;h[1]=T*B+X*J+W*S;h[2]=T*D+X*M+W*m;h[3]=fa*y+da*F+aa*P;h[4]=fa*B+da*J+aa*S;h[5]=fa*D+da*M+aa*m;h[6]=ua*y+pa*F+u*P;h[7]=ua*B+pa*J+u*S;h[8]=ua*D+pa*M+
u*m;return h}function g(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];return h}function k(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function n(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=m[8],X=m[9],W=m[10],fa=m[11],da=m[12],aa=m[13],ua=m[14];m=m[15];var pa=u[0],sa=u[1],ta=u[2],ra=u[3];h[0]=
pa*y+sa*J+ta*T+ra*da;h[1]=pa*B+sa*M+ta*X+ra*aa;h[2]=pa*D+sa*P+ta*W+ra*ua;h[3]=pa*F+sa*S+ta*fa+ra*m;pa=u[4];sa=u[5];ta=u[6];ra=u[7];h[4]=pa*y+sa*J+ta*T+ra*da;h[5]=pa*B+sa*M+ta*X+ra*aa;h[6]=pa*D+sa*P+ta*W+ra*ua;h[7]=pa*F+sa*S+ta*fa+ra*m;pa=u[8];sa=u[9];ta=u[10];ra=u[11];h[8]=pa*y+sa*J+ta*T+ra*da;h[9]=pa*B+sa*M+ta*X+ra*aa;h[10]=pa*D+sa*P+ta*W+ra*ua;h[11]=pa*F+sa*S+ta*fa+ra*m;pa=u[12];sa=u[13];ta=u[14];ra=u[15];h[12]=pa*y+sa*J+ta*T+ra*da;h[13]=pa*B+sa*M+ta*X+ra*aa;h[14]=pa*D+sa*P+ta*W+ra*ua;h[15]=pa*
F+sa*S+ta*fa+ra*m;return h}function q(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=y+y,M=B+B,P=D+D;m=y*J;var S=y*M;y*=P;var T=B*M;B*=P;D*=P;J*=F;M*=F;F*=P;h[0]=1-(T+D);h[1]=S+F;h[2]=y-M;h[3]=0;h[4]=S-F;h[5]=1-(m+D);h[6]=B+J;h[7]=0;h[8]=y+M;h[9]=B-J;h[10]=1-(m+T);h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h}function r(h,m){h[0]=m[12];h[1]=m[13];h[2]=m[14];return h}function p(h,m){var u=m[4],y=m[5],B=m[6],D=m[8],F=m[9],J=m[10];h[0]=Math.hypot(m[0],m[1],m[2]);h[1]=Math.hypot(u,y,B);h[2]=Math.hypot(D,
F,J);return h}function v(h,m){var u=new qa(3);p(u,m);var y=1/u[0],B=1/u[1],D=1/u[2],F=m[0]*y;u=m[1]*B;var J=m[2]*D,M=m[4]*y,P=m[5]*B,S=m[6]*D;y*=m[8];B*=m[9];m=m[10]*D;D=F+P+m;0<D?(F=2*Math.sqrt(D+1),h[3]=.25*F,h[0]=(S-B)/F,h[1]=(y-J)/F,h[2]=(u-M)/F):F>P&&F>m?(F=2*Math.sqrt(1+F-P-m),h[3]=(S-B)/F,h[0]=.25*F,h[1]=(u+M)/F,h[2]=(y+J)/F):P>m?(F=2*Math.sqrt(1+P-F-m),h[3]=(y-J)/F,h[0]=(u+M)/F,h[1]=.25*F,h[2]=(S+B)/F):(F=2*Math.sqrt(1+m-F-P),h[3]=(u-M)/F,h[0]=(y+J)/F,h[1]=(S+B)/F,h[2]=.25*F);return h}function t(h,
m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];h[4]=m[4]-u[4];h[5]=m[5]-u[5];h[6]=m[6]-u[6];h[7]=m[7]-u[7];h[8]=m[8]-u[8];h[9]=m[9]-u[9];h[10]=m[10]-u[10];h[11]=m[11]-u[11];h[12]=m[12]-u[12];h[13]=m[13]-u[13];h[14]=m[14]-u[14];h[15]=m[15]-u[15];return h}function w(){var h=new qa(3);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,m,u){var y=new qa(3);y[0]=h;y[1]=m;y[2]=u;return y}function E(h,m,u){h[0]=m[0]-u[0];h[1]=
m[1]-u[1];h[2]=m[2]-u[2];return h}function G(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];return h}function N(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];return h}function C(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],m[2]-h[2])}function H(h,m){var u=m[0]-h[0],y=m[1]-h[1];h=m[2]-h[2];return u*u+y*y+h*h}function I(h){var m=h[0],u=h[1];h=h[2];return m*m+u*u+h*h}function K(h,m){var u=m[0],y=m[1],B=m[2];u=u*u+y*y+B*B;0<u&&(u=1/Math.sqrt(u));h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h}function Q(h,
m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]}function R(h,m,u){var y=m[0],B=m[1];m=m[2];var D=u[0],F=u[1];u=u[2];h[0]=B*u-m*F;h[1]=m*D-y*u;h[2]=y*F-B*D;return h}function U(){var h=new qa(4);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function Z(h){var m=new qa(4);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];return m}function ca(h,m,u,y){var B=new qa(4);B[0]=h;B[1]=m;B[2]=u;B[3]=y;return B}function Y(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h}function ha(h,m,u,y,B){h[0]=m;h[1]=u;h[2]=
y;h[3]=B;return h}function ka(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h}function za(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];h[2]=m[2]-u[2];h[3]=m[3]-u[3];return h}function Oa(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];h[2]=m[2]*u[2];h[3]=m[3]*u[3];return h}function ab(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];h[2]=m[2]/u[2];h[3]=m[3]/u[3];return h}function Ua(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h}function bb(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],
m[2]-h[2],m[3]-h[3])}function mb(h,m){var u=m[0]-h[0],y=m[1]-h[1],B=m[2]-h[2];h=m[3]-h[3];return u*u+y*y+B*B+h*h}function Va(h){return Math.hypot(h[0],h[1],h[2],h[3])}function Pa(h){var m=h[0],u=h[1],y=h[2];h=h[3];return m*m+u*u+y*y+h*h}function fb(h,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u*u+y*y+B*B+m*m;0<D&&(D=1/Math.sqrt(D));h[0]=u*D;h[1]=y*D;h[2]=B*D;h[3]=m*D;return h}function cb(h,m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]+h[3]*m[3]}function ub(h,m,u,y){var B=m[0],D=m[1],F=m[2];m=m[3];h[0]=B+
y*(u[0]-B);h[1]=D+y*(u[1]-D);h[2]=F+y*(u[2]-F);h[3]=m+y*(u[3]-m);return h}function vb(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]}function wb(h,m){var u=h[0],y=h[1],B=h[2];h=h[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(u-D)<=1E-6*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(B-J)<=1E-6*Math.max(1,Math.abs(B),Math.abs(J))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}function gb(){var h=new qa(4);qa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function xb(h,m,u){u*=.5;var y=Math.sin(u);h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=Math.cos(u);return h}function yb(h,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=u[0],J=u[1],M=u[2];u=u[3];h[0]=y*u+m*F+B*M-D*J;h[1]=B*u+m*J+D*F-y*M;h[2]=D*u+m*M+y*J-B*F;h[3]=m*u-y*F-B*J-D*M;return h}function zb(h,m,u){u*=.5;var y=m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+m*F;h[1]=B*u+D*F;h[2]=D*u-B*F;h[3]=m*u-y*F;return h}function Ab(h,m,u){u*=.5;var y=
m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u-D*F;h[1]=B*u+m*F;h[2]=D*u+y*F;h[3]=m*u-B*F;return h}function Bb(h,m,u){u*=.5;var y=m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+B*F;h[1]=B*u-y*F;h[2]=D*u+m*F;h[3]=m*u-D*F;return h}function Cb(h,m){var u=m[0],y=m[1],B=m[2],D=Math.sqrt(u*u+y*y+B*B);m=Math.exp(m[3]);var F=0<D?m*Math.sin(D)/D:0;h[0]=u*F;h[1]=y*F;h[2]=B*F;h[3]=m*Math.cos(D);return h}function Db(h,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=Math.sqrt(u*
u+y*y+B*B);D=0<D?Math.atan2(D,m)/D:0;h[0]=u*D;h[1]=y*D;h[2]=B*D;h[3]=.5*Math.log(u*u+y*y+B*B+m*m);return h}function hb(h,m,u,y){var B=m[0],D=m[1],F=m[2];m=m[3];var J=u[0],M=u[1],P=u[2];u=u[3];var S=B*J+D*M+F*P+m*u;0>S&&(S=-S,J=-J,M=-M,P=-P,u=-u);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-y)*T)/X;y=Math.sin(y*T)/X}else S=1-y;h[0]=S*B+y*J;h[1]=S*D+y*M;h[2]=S*F+y*P;h[3]=S*m+y*u;return h}function Eb(h,m){var u=m[0]+m[4]+m[8];if(0<u)u=Math.sqrt(u+1),h[3]=.5*u,u=.5/u,h[0]=(m[5]-m[7])*
u,h[1]=(m[6]-m[2])*u,h[2]=(m[1]-m[3])*u;else{var y=0;m[4]>m[0]&&(y=1);m[8]>m[3*y+y]&&(y=2);var B=(y+1)%3,D=(y+2)%3;u=Math.sqrt(m[3*y+y]-m[3*B+B]-m[3*D+D]+1);h[y]=.5*u;u=.5/u;h[3]=(m[3*B+D]-m[3*D+B])*u;h[B]=(m[3*B+y]+m[3*y+B])*u;h[D]=(m[3*D+y]+m[3*y+D])*u}return h}function Fb(h,m,u){var y=.5*u[0],B=.5*u[1];u=.5*u[2];var D=m[0],F=m[1],J=m[2];m=m[3];h[0]=D;h[1]=F;h[2]=J;h[3]=m;h[4]=y*m+B*J-u*F;h[5]=B*m+u*D-y*J;h[6]=u*m+y*F-B*D;h[7]=-y*D-B*F-u*J;return h}function Gb(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];
h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];return h}function Hb(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=u[4],M=u[5],P=u[6],S=u[7],T=m[4],X=m[5],W=m[6];m=m[7];var fa=u[0],da=u[1],aa=u[2];u=u[3];h[0]=y*u+F*fa+B*aa-D*da;h[1]=B*u+F*da+D*fa-y*aa;h[2]=D*u+F*aa+y*da-B*fa;h[3]=F*u-y*fa-B*da-D*aa;h[4]=y*S+F*J+B*P-D*M+T*u+m*fa+X*aa-W*da;h[5]=B*S+F*M+D*J-y*P+X*u+m*da+W*fa-T*aa;h[6]=D*S+F*P+y*M-B*J+W*u+m*aa+T*da-X*fa;h[7]=F*S-y*J-B*M-D*P+m*u-T*fa-X*da-W*aa;return h}function ib(){var h=new qa(2);qa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Sa(h,m,u){h[0]=m[0]-u[0];h[1]=m[1]-u[1];return h}function jb(h,m,u){h[0]=m[0]*u[0];h[1]=m[1]*u[1];return h}function kb(h,m,u){h[0]=m[0]/u[0];h[1]=m[1]/u[1];return h}function Wa(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1])}function lb(h,m){var u=m[0]-h[0];h=m[1]-h[1];return u*u+h*h}function Ma(h){return Math.hypot(h[0],h[1])}function nb(h){var m=h[0];h=h[1];return m*m+h*h}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,m=arguments.length;m--;)h+=arguments[m]*arguments[m];return Math.sqrt(h)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get hia(){return qa},kpa:Ka,Xwa:function(h){qa=h},gxa:function(h){return h*Ib},Uc:function(h,m){return Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}}),Pb=Object.freeze({__proto__:null,create:function(){var h=new qa(4);qa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new qa(4);m[0]=h[0];m[1]=h[1];
m[2]=h[2];m[3]=h[3];return m},ta:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h},Jx:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},Sf:function(h,m,u,y){var B=new qa(4);B[0]=h;B[1]=m;B[2]=u;B[3]=y;return B},set:function(h,m,u,y,B){h[0]=m;h[1]=u;h[2]=y;h[3]=B;return h},rX:function(h,m){if(h===m){var u=m[1];h[1]=m[2];h[2]=u}else h[0]=m[0],h[1]=m[2],h[2]=m[1],h[3]=m[3];return h},Ot:function(h,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u*m-B*y;if(!D)return null;D=1/D;h[0]=m*D;h[1]=-y*
D;h[2]=-B*D;h[3]=u*D;return h},uW:function(h,m){var u=m[0];h[0]=m[3];h[1]=-m[1];h[2]=-m[2];h[3]=u;return h},rL:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:b,rotate:function(h,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=Math.sin(u);u=Math.cos(u);h[0]=y*u+D*F;h[1]=B*u+m*F;h[2]=y*-F+D*u;h[3]=B*-F+m*u;return h},scale:function(h,m,u){var y=m[1],B=m[2],D=m[3],F=u[0];u=u[1];h[0]=m[0]*F;h[1]=y*F;h[2]=B*u;h[3]=D*u;return h},mD:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;
return h},vL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];return h},Km:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},uL:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},Wma:function(h,m,u,y){h[2]=y[2]/y[0];u[0]=y[0];u[1]=y[1];u[3]=y[3]-h[2]*u[1];return[h,m,u]},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];return h},Lm:a,Qj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]},Uc:function(h,m){var u=h[0],y=h[1],B=h[2];h=
h[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(u-D)<=1E-6*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(B-J)<=1E-6*Math.max(1,Math.abs(B),Math.abs(J))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},IL:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;return h},JL:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},Bo:b,sub:a}),Qb=Object.freeze({__proto__:null,create:function(){var h=
new qa(6);qa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new qa(6);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m},ta:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];return h},Jx:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},Sf:function(h,m,u,y,B,D){var F=new qa(6);F[0]=h;F[1]=m;F[2]=u;F[3]=y;F[4]=B;F[5]=D;return F},set:function(h,m,u,y,B,D,F){h[0]=m;h[1]=u;h[2]=y;h[3]=B;h[4]=D;h[5]=
F;return h},Ot:function(h,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4];m=m[5];var J=u*D-y*B;if(!J)return null;J=1/J;h[0]=D*J;h[1]=-y*J;h[2]=-B*J;h[3]=u*J;h[4]=(B*m-D*F)*J;h[5]=(y*F-u*m)*J;return h},rL:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:e,rotate:function(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=Math.sin(u);u=Math.cos(u);h[0]=y*u+D*M;h[1]=B*u+F*M;h[2]=y*-M+D*u;h[3]=B*-M+F*u;h[4]=J;h[5]=m;return h},scale:function(h,m,u){var y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=u[0];u=u[1];
h[0]=m[0]*M;h[1]=y*M;h[2]=B*u;h[3]=D*u;h[4]=F;h[5]=J;return h},translate:function(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=u[0];u=u[1];h[0]=y;h[1]=B;h[2]=D;h[3]=F;h[4]=y*M+D*u+J;h[5]=B*M+F*u+m;return h},mD:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=-u;h[3]=m;h[4]=0;h[5]=0;return h},vL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];h[4]=0;h[5]=0;return h},wL:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=m[0];h[5]=m[1];return h},Km:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},uL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];return h},Lm:c,IL:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;return h},JL:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;return h},Qj:function(h,m){return h[0]===
m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]},Uc:function(h,m){var u=h[0],y=h[1],B=h[2],D=h[3],F=h[4];h=h[5];var J=m[0],M=m[1],P=m[2],S=m[3],T=m[4];m=m[5];return Math.abs(u-J)<=1E-6*Math.max(1,Math.abs(u),Math.abs(J))&&Math.abs(y-M)<=1E-6*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(B-P)<=1E-6*Math.max(1,Math.abs(B),Math.abs(P))&&Math.abs(D-S)<=1E-6*Math.max(1,Math.abs(D),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(h-m)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(m))},Bo:e,sub:c}),Rb=Object.freeze({__proto__:null,create:f,Iga:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[4];h[4]=m[5];h[5]=m[6];h[6]=m[8];h[7]=m[9];h[8]=m[10];return h},clone:function(h){var m=new qa(9);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];return m},ta:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},Sf:function(h,m,u,y,B,D,F,J,M){var P=new qa(9);P[0]=
h;P[1]=m;P[2]=u;P[3]=y;P[4]=B;P[5]=D;P[6]=F;P[7]=J;P[8]=M;return P},set:function(h,m,u,y,B,D,F,J,M,P){h[0]=m;h[1]=u;h[2]=y;h[3]=B;h[4]=D;h[5]=F;h[6]=J;h[7]=M;h[8]=P;return h},Jx:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},rX:function(h,m){if(h===m){var u=m[1],y=m[2],B=m[5];h[1]=m[3];h[2]=m[6];h[3]=u;h[5]=m[7];h[6]=y;h[7]=B}else h[0]=m[0],h[1]=m[3],h[2]=m[6],h[3]=m[1],h[4]=m[4],h[5]=m[7],h[6]=m[2],h[7]=m[5],h[8]=m[8];return h},Ot:function(h,m){var u=m[0],y=
m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7];m=m[8];var S=m*F-J*P,T=-m*D+J*M,X=P*D-F*M,W=u*S+y*T+B*X;if(!W)return null;W=1/W;h[0]=S*W;h[1]=(-m*y+B*P)*W;h[2]=(J*y-B*F)*W;h[3]=T*W;h[4]=(m*u-B*M)*W;h[5]=(-J*u+B*D)*W;h[6]=X*W;h[7]=(-P*u+y*M)*W;h[8]=(F*u-y*D)*W;return h},uW:function(h,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7];m=m[8];h[0]=F*m-J*P;h[1]=B*P-y*m;h[2]=y*J-B*F;h[3]=J*M-D*m;h[4]=u*m-B*M;h[5]=B*D-u*J;h[6]=D*P-F*M;h[7]=y*M-u*P;h[8]=u*F-y*D;return h},rL:function(h){var m=
h[3],u=h[4],y=h[5],B=h[6],D=h[7],F=h[8];return h[0]*(F*u-y*D)+h[1]*(-F*m+y*B)+h[2]*(D*m-u*B)},multiply:l,translate:function(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=u[0];u=u[1];h[0]=y;h[1]=B;h[2]=D;h[3]=F;h[4]=J;h[5]=M;h[6]=T*y+u*F+P;h[7]=T*B+u*J+S;h[8]=T*D+u*M+m;return h},rotate:function(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=Math.sin(u);u=Math.cos(u);h[0]=u*y+T*F;h[1]=u*B+T*J;h[2]=u*D+T*M;h[3]=u*F-T*y;h[4]=u*J-T*B;h[5]=
u*M-T*D;h[6]=P;h[7]=S;h[8]=m;return h},scale:function(h,m,u){var y=u[0];u=u[1];h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=u*m[3];h[4]=u*m[4];h[5]=u*m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},wL:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=m[0];h[7]=m[1];h[8]=1;return h},mD:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=-u;h[4]=m;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},vL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=m[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
Wua:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=0;h[3]=m[2];h[4]=m[3];h[5]=0;h[6]=m[4];h[7]=m[5];h[8]=1;return h},Jga:function(h,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u+u,F=y+y,J=B+B;u*=D;var M=y*D;y*=F;var P=B*D,S=B*F;B*=J;D*=m;F*=m;m*=J;h[0]=1-y-B;h[3]=M-m;h[6]=P+F;h[1]=M+m;h[4]=1-u-B;h[7]=S-D;h[2]=P-F;h[5]=S+D;h[8]=1-u-y;return h},fwa:function(h,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=u*J-y*F,pa=u*M-B*
F,sa=u*P-D*F,ta=y*M-B*J,ra=y*P-D*J,Da=B*P-D*M,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*m-W*fa;var Ga=T*aa-X*da;T=T*m-W*da;X=X*m-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;h[0]=(J*X-M*T+P*Ga)*W;h[1]=(M*S-F*X-P*Fa)*W;h[2]=(F*T-J*S+P*Ea)*W;h[3]=(B*T-y*X-D*Ga)*W;h[4]=(u*X-B*S+D*Fa)*W;h[5]=(y*S-u*T-D*Ea)*W;h[6]=(da*Da-aa*ra+m*ta)*W;h[7]=(aa*sa-fa*Da-m*pa)*W;h[8]=(fa*ra-da*sa+m*ua)*W;return h},eX:function(h,m,u){h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/u;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},Km:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},uL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];return h},Lm:g,IL:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;return h},JL:function(h,m,u,y){h[0]=
m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;return h},Qj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]},Uc:function(h,m){var u=h[0],y=h[1],B=h[2],D=h[3],F=h[4],J=h[5],M=h[6],P=h[7];h=h[8];var S=m[0],T=m[1],X=m[2],W=m[3],fa=m[4],da=m[5],aa=m[6],ua=m[7];m=m[8];return Math.abs(u-S)<=1E-6*Math.max(1,Math.abs(u),
Math.abs(S))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(B-X)<=1E-6*Math.max(1,Math.abs(B),Math.abs(X))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(J-da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(da))&&Math.abs(M-aa)<=1E-6*Math.max(1,Math.abs(M),Math.abs(aa))&&Math.abs(P-ua)<=1E-6*Math.max(1,Math.abs(P),Math.abs(ua))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},Bo:l,sub:g}),Sb=Object.freeze({__proto__:null,
create:function(){var h=new qa(16);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var m=new qa(16);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15];return m},ta:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=
m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},Sf:function(h,m,u,y,B,D,F,J,M,P,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=h;aa[1]=m;aa[2]=u;aa[3]=y;aa[4]=B;aa[5]=D;aa[6]=F;aa[7]=J;aa[8]=M;aa[9]=P;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(h,m,u,y,B,D,F,J,M,P,S,T,X,W,fa,da,aa){h[0]=m;h[1]=u;h[2]=y;h[3]=B;h[4]=D;h[5]=F;h[6]=J;h[7]=M;h[8]=P;h[9]=S;h[10]=T;h[11]=X;h[12]=W;h[13]=fa;h[14]=da;h[15]=aa;return h},Jx:k,rX:function(h,
m){if(h===m){var u=m[1],y=m[2],B=m[3],D=m[6],F=m[7],J=m[11];h[1]=m[4];h[2]=m[8];h[3]=m[12];h[4]=u;h[6]=m[9];h[7]=m[13];h[8]=y;h[9]=D;h[11]=m[14];h[12]=B;h[13]=F;h[14]=J}else h[0]=m[0],h[1]=m[4],h[2]=m[8],h[3]=m[12],h[4]=m[1],h[5]=m[5],h[6]=m[9],h[7]=m[13],h[8]=m[2],h[9]=m[6],h[10]=m[10],h[11]=m[14],h[12]=m[3],h[13]=m[7],h[14]=m[11],h[15]=m[15];return h},Ot:function(h,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=
u*J-y*F,pa=u*M-B*F,sa=u*P-D*F,ta=y*M-B*J,ra=y*P-D*J,Da=B*P-D*M,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*m-W*fa,Ia=T*aa-X*da,Qa=T*m-W*da,Ra=X*m-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;h[0]=(J*Ra-M*Qa+P*Ia)*Aa;h[1]=(B*Qa-y*Ra-D*Ia)*Aa;h[2]=(da*Da-aa*ra+m*ta)*Aa;h[3]=(X*ra-T*Da-W*ta)*Aa;h[4]=(M*Ga-F*Ra-P*Fa)*Aa;h[5]=(u*Ra-B*Ga+D*Fa)*Aa;h[6]=(aa*sa-fa*Da-m*pa)*Aa;h[7]=(S*Da-X*sa+W*pa)*Aa;h[8]=(F*Qa-J*Ga+P*Ea)*Aa;h[9]=(y*Ga-u*Qa-D*Ea)*Aa;h[10]=(fa*ra-da*sa+m*ua)*Aa;h[11]=(T*sa-S*ra-
W*ua)*Aa;h[12]=(J*Fa-F*Ia-M*Ea)*Aa;h[13]=(u*Ia-y*Fa+B*Ea)*Aa;h[14]=(da*pa-fa*ta-aa*ua)*Aa;h[15]=(S*ta-T*pa+X*ua)*Aa;return h},uW:function(h,m){var u=m[0],y=m[1],B=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];h[0]=J*(X*m-W*aa)-T*(M*m-P*aa)+da*(M*W-P*X);h[1]=-(y*(X*m-W*aa)-T*(B*m-D*aa)+da*(B*W-D*X));h[2]=y*(M*m-P*aa)-J*(B*m-D*aa)+da*(B*P-D*M);h[3]=-(y*(M*W-P*X)-J*(B*W-D*X)+T*(B*P-D*M));h[4]=-(F*(X*m-W*aa)-S*(M*m-P*aa)+fa*(M*W-P*X));h[5]=u*
(X*m-W*aa)-S*(B*m-D*aa)+fa*(B*W-D*X);h[6]=-(u*(M*m-P*aa)-F*(B*m-D*aa)+fa*(B*P-D*M));h[7]=u*(M*W-P*X)-F*(B*W-D*X)+S*(B*P-D*M);h[8]=F*(T*m-W*da)-S*(J*m-P*da)+fa*(J*W-P*T);h[9]=-(u*(T*m-W*da)-S*(y*m-D*da)+fa*(y*W-D*T));h[10]=u*(J*m-P*da)-F*(y*m-D*da)+fa*(y*P-D*J);h[11]=-(u*(J*W-P*T)-F*(y*W-D*T)+S*(y*P-D*J));h[12]=-(F*(T*aa-X*da)-S*(J*aa-M*da)+fa*(J*X-M*T));h[13]=u*(T*aa-X*da)-S*(y*aa-B*da)+fa*(y*X-B*T);h[14]=-(u*(J*aa-M*da)-F*(y*aa-B*da)+fa*(y*M-B*J));h[15]=u*(J*X-M*T)-F*(y*X-B*T)+S*(y*M-B*J);return h},
rL:function(h){var m=h[0],u=h[1],y=h[2],B=h[3],D=h[4],F=h[5],J=h[6],M=h[7],P=h[8],S=h[9],T=h[10],X=h[11],W=h[12],fa=h[13],da=h[14];h=h[15];return(m*F-u*D)*(T*h-X*da)-(m*J-y*D)*(S*h-X*fa)+(m*M-B*D)*(S*da-T*fa)+(u*J-y*F)*(P*h-X*W)-(u*M-B*F)*(P*da-T*W)+(y*M-B*J)*(P*fa-S*W)},multiply:n,translate:function(h,m,u){var y=u[0],B=u[1];u=u[2];if(m===h)h[12]=m[0]*y+m[4]*B+m[8]*u+m[12],h[13]=m[1]*y+m[5]*B+m[9]*u+m[13],h[14]=m[2]*y+m[6]*B+m[10]*u+m[14],h[15]=m[3]*y+m[7]*B+m[11]*u+m[15];else{var D=m[0];var F=m[1];
var J=m[2];var M=m[3];var P=m[4];var S=m[5];var T=m[6];var X=m[7];var W=m[8];var fa=m[9];var da=m[10];var aa=m[11];h[0]=D;h[1]=F;h[2]=J;h[3]=M;h[4]=P;h[5]=S;h[6]=T;h[7]=X;h[8]=W;h[9]=fa;h[10]=da;h[11]=aa;h[12]=D*y+P*B+W*u+m[12];h[13]=F*y+S*B+fa*u+m[13];h[14]=J*y+T*B+da*u+m[14];h[15]=M*y+X*B+aa*u+m[15]}return h},scale:function(h,m,u){var y=u[0],B=u[1];u=u[2];h[0]=m[0]*y;h[1]=m[1]*y;h[2]=m[2]*y;h[3]=m[3]*y;h[4]=m[4]*B;h[5]=m[5]*B;h[6]=m[6]*B;h[7]=m[7]*B;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*
u;h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},rotate:function(h,m,u,y){var B=y[0],D=y[1];y=y[2];var F=Math.hypot(B,D,y);if(1E-6>F)return null;F=1/F;B*=F;D*=F;y*=F;var J=Math.sin(u);var M=Math.cos(u);var P=1-M;u=m[0];F=m[1];var S=m[2];var T=m[3];var X=m[4];var W=m[5];var fa=m[6];var da=m[7];var aa=m[8];var ua=m[9];var pa=m[10];var sa=m[11];var ta=B*B*P+M;var ra=D*B*P+y*J;var Da=y*B*P-D*J;var Ea=B*D*P-y*J;var Fa=D*D*P+M;var Ga=y*D*P+B*J;var Ia=B*y*P+D*J;B=D*y*P-B*J;D=y*y*P+M;h[0]=u*ta+
X*ra+aa*Da;h[1]=F*ta+W*ra+ua*Da;h[2]=S*ta+fa*ra+pa*Da;h[3]=T*ta+da*ra+sa*Da;h[4]=u*Ea+X*Fa+aa*Ga;h[5]=F*Ea+W*Fa+ua*Ga;h[6]=S*Ea+fa*Fa+pa*Ga;h[7]=T*Ea+da*Fa+sa*Ga;h[8]=u*Ia+X*B+aa*D;h[9]=F*Ia+W*B+ua*D;h[10]=S*Ia+fa*B+pa*D;h[11]=T*Ia+da*B+sa*D;m!==h&&(h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h},YL:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var B=m[4],D=m[5],F=m[6],J=m[7],M=m[8],P=m[9],S=m[10],T=m[11];m!==h&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[12]=m[12],h[13]=m[13],h[14]=m[14],
h[15]=m[15]);h[4]=B*u+M*y;h[5]=D*u+P*y;h[6]=F*u+S*y;h[7]=J*u+T*y;h[8]=M*u-B*y;h[9]=P*u-D*y;h[10]=S*u-F*y;h[11]=T*u-J*y;return h},ZL:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);var B=m[0],D=m[1],F=m[2],J=m[3],M=m[8],P=m[9],S=m[10],T=m[11];m!==h&&(h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=B*u-M*y;h[1]=D*u-P*y;h[2]=F*u-S*y;h[3]=J*u-T*y;h[8]=B*y+M*u;h[9]=D*y+P*u;h[10]=F*y+S*u;h[11]=J*y+T*u;return h},$L:function(h,m,u){var y=Math.sin(u);u=Math.cos(u);
var B=m[0],D=m[1],F=m[2],J=m[3],M=m[4],P=m[5],S=m[6],T=m[7];m!==h&&(h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=B*u+M*y;h[1]=D*u+P*y;h[2]=F*u+S*y;h[3]=J*u+T*y;h[4]=M*u-B*y;h[5]=P*u-D*y;h[6]=S*u-F*y;h[7]=T*u-J*y;return h},wL:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=m[0];h[13]=m[1];h[14]=m[2];h[15]=1;return h},vL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=m[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},mD:function(h,m,u){var y=u[0],B=u[1];u=u[2];var D=Math.hypot(y,B,u);if(1E-6>D)return null;D=1/D;y*=D;B*=D;u*=D;D=Math.sin(m);m=Math.cos(m);var F=1-m;h[0]=y*y*F+m;h[1]=B*y*F+u*D;h[2]=u*y*F-B*D;h[3]=0;h[4]=y*B*F-u*D;h[5]=B*B*F+m;h[6]=u*B*F+y*D;h[7]=0;h[8]=y*u*F+B*D;h[9]=B*u*F-y*D;h[10]=u*u*F+m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},bva:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=m;h[6]=u;h[7]=0;h[8]=0;h[9]=-u;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},cva:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=0;h[2]=-u;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=u;h[9]=0;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},dva:function(h,m){var u=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=u;h[2]=0;h[3]=0;h[4]=-u;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Kga:q,Yua:function(h,m){var u=new qa(3),
y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=y*y+B*B+D*D+F*F;0<T?(u[0]=2*(J*F+S*y+M*D-P*B)/T,u[1]=2*(M*F+S*B+P*y-J*D)/T,u[2]=2*(P*F+S*D+J*B-M*y)/T):(u[0]=2*(J*F+S*y+M*D-P*B),u[1]=2*(M*F+S*B+P*y-J*D),u[2]=2*(P*F+S*D+J*B-M*y));q(h,m,u);return h},Nga:r,ova:p,nva:v,Zua:function(h,m,u,y){var B=m[0],D=m[1],F=m[2],J=m[3],M=B+B,P=D+D,S=F+F;m=B*M;var T=B*P;B*=S;var X=D*P;D*=S;F*=S;M*=J;P*=J;J*=S;S=y[0];var W=y[1];y=y[2];h[0]=(1-(X+F))*S;h[1]=(T+J)*S;h[2]=(B-P)*S;h[3]=0;h[4]=(T-J)*W;h[5]=(1-
(m+F))*W;h[6]=(D+M)*W;h[7]=0;h[8]=(B+P)*y;h[9]=(D-M)*y;h[10]=(1-(m+X))*y;h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h},$ua:function(h,m,u,y,B){var D=m[0],F=m[1],J=m[2],M=m[3],P=D+D,S=F+F,T=J+J;m=D*P;var X=D*S,W=D*T;D=F*S;F*=T;var fa=J*T;J=M*P;S*=M;var da=M*T,aa=y[0],ua=y[1];T=y[2];y=B[0];M=B[1];B=B[2];P=(1-(D+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(m+fa))*ua;ua*=F+J;W=(W+S)*T;F=(F-J)*T;m=(1-(m+D))*T;h[0]=P;h[1]=pa;h[2]=aa;h[3]=0;h[4]=X;h[5]=fa;h[6]=ua;h[7]=0;h[8]=W;h[9]=F;
h[10]=m;h[11]=0;h[12]=u[0]+y-(P*y+X*M+W*B);h[13]=u[1]+M-(pa*y+fa*M+F*B);h[14]=u[2]+B-(aa*y+ua*M+m*B);h[15]=1;return h},Jga:function(h,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u+u,F=y+y,J=B+B;u*=D;var M=y*D;y*=F;var P=B*D,S=B*F;B*=J;D*=m;F*=m;m*=J;h[0]=1-y-B;h[1]=M+m;h[2]=P-F;h[3]=0;h[4]=M-m;h[5]=1-u-B;h[6]=S+D;h[7]=0;h[8]=P+F;h[9]=S-D;h[10]=1-u-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Lga:function(h,m,u,y,B,D,F){var J=1/(u-m),M=1/(B-y),P=1/(D-F);h[0]=2*D*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*D*M;h[6]=0;h[7]=0;h[8]=(u+m)*J;h[9]=(B+y)*M;h[10]=(F+D)*P;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*D*2*P;h[15]=0;return h},perspective:function(h,m,u,y,B){m=1/Math.tan(m/2);h[0]=m/u;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=B&&Infinity!==B?(u=1/(y-B),h[10]=(B+y)*u,h[14]=2*B*y*u):(h[10]=-1,h[14]=-2*y);return h},mwa:function(h,m,u,y){var B=Math.tan(m.nxa*Math.PI/180),D=Math.tan(m.Kua*Math.PI/180),F=Math.tan(m.Uva*Math.PI/180);m=Math.tan(m.Iwa*Math.PI/
180);var J=2/(F+m),M=2/(B+D);h[0]=J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=M;h[6]=0;h[7]=0;h[8]=-((F-m)*J*.5);h[9]=(B-D)*M*.5;h[10]=y/(u-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*u/(u-y);h[15]=0;return h},xha:function(h,m,u,y,B,D,F){var J=1/(m-u),M=1/(y-B),P=1/(D-F);h[0]=-2*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*M;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*P;h[11]=0;h[12]=(m+u)*J;h[13]=(B+y)*M;h[14]=(F+D)*P;h[15]=1;return h},nha:function(h,m,u,y){var B=m[0],D=m[1];m=m[2];var F=y[0];var J=y[1];var M=y[2];var P=u[0];y=
u[1];var S=u[2];if(1E-6>Math.abs(B-P)&&1E-6>Math.abs(D-y)&&1E-6>Math.abs(m-S))return k(h);u=B-P;y=D-y;P=m-S;var T=1/Math.hypot(u,y,P);u*=T;y*=T;P*=T;S=J*P-M*y;M=M*u-F*P;F=F*y-J*u;(T=Math.hypot(S,M,F))?(T=1/T,S*=T,M*=T,F*=T):F=M=S=0;J=y*F-P*M;var X=P*S-u*F;var W=u*M-y*S;(T=Math.hypot(J,X,W))?(T=1/T,J*=T,X*=T,W*=T):W=X=J=0;h[0]=S;h[1]=J;h[2]=u;h[3]=0;h[4]=M;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=W;h[10]=P;h[11]=0;h[12]=-(S*B+M*D+F*m);h[13]=-(J*B+X*D+W*m);h[14]=-(u*B+y*D+P*m);h[15]=1;return h},dxa:function(h,
m,u,y){var B=m[0],D=m[1];m=m[2];var F=y[0],J=y[1],M=y[2];y=B-u[0];var P=D-u[1];u=m-u[2];var S=y*y+P*P+u*u;0<S&&(S=1/Math.sqrt(S),y*=S,P*=S,u*=S);var T=J*u-M*P;M=M*y-F*u;F=F*P-J*y;S=T*T+M*M+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,M*=S,F*=S);h[0]=T;h[1]=M;h[2]=F;h[3]=0;h[4]=P*F-u*M;h[5]=u*T-y*F;h[6]=y*M-P*T;h[7]=0;h[8]=y;h[9]=P;h[10]=u;h[11]=0;h[12]=B;h[13]=D;h[14]=m;h[15]=1;return h},Km:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},uL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];h[8]=m[8]+u[8];h[9]=m[9]+u[9];h[10]=m[10]+u[10];h[11]=m[11]+u[11];h[12]=m[12]+u[12];h[13]=m[13]+u[13];h[14]=m[14]+u[14];h[15]=m[15]+u[15];return h},Lm:t,IL:function(h,m,
u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;h[8]=m[8]*u;h[9]=m[9]*u;h[10]=m[10]*u;h[11]=m[11]*u;h[12]=m[12]*u;h[13]=m[13]*u;h[14]=m[14]*u;h[15]=m[15]*u;return h},JL:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;h[4]=m[4]+u[4]*y;h[5]=m[5]+u[5]*y;h[6]=m[6]+u[6]*y;h[7]=m[7]+u[7]*y;h[8]=m[8]+u[8]*y;h[9]=m[9]+u[9]*y;h[10]=m[10]+u[10]*y;h[11]=m[11]+u[11]*y;h[12]=m[12]+u[12]*y;h[13]=m[13]+u[13]*y;h[14]=m[14]+u[14]*
y;h[15]=m[15]+u[15]*y;return h},Qj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]&&h[9]===m[9]&&h[10]===m[10]&&h[11]===m[11]&&h[12]===m[12]&&h[13]===m[13]&&h[14]===m[14]&&h[15]===m[15]},Uc:function(h,m){var u=h[0],y=h[1],B=h[2],D=h[3],F=h[4],J=h[5],M=h[6],P=h[7],S=h[8],T=h[9],X=h[10],W=h[11],fa=h[12],da=h[13],aa=h[14];h=h[15];var ua=m[0],pa=m[1],sa=m[2],ta=m[3],ra=m[4],Da=m[5],Ea=m[6],Fa=m[7],Ga=m[8],Ia=m[9],
Qa=m[10],Ra=m[11],Aa=m[12],Jb=m[13],Kb=m[14];m=m[15];return Math.abs(u-ua)<=1E-6*Math.max(1,Math.abs(u),Math.abs(ua))&&Math.abs(y-pa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(pa))&&Math.abs(B-sa)<=1E-6*Math.max(1,Math.abs(B),Math.abs(sa))&&Math.abs(D-ta)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-Da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Da))&&Math.abs(M-Ea)<=1E-6*Math.max(1,Math.abs(M),Math.abs(Ea))&&Math.abs(P-Fa)<=1E-6*Math.max(1,
Math.abs(P),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},
Bo:n,sub:t}),ob=function(){var h=w();return function(m,u,y,B,D,F){u||(u=3);y||(y=0);for(B=B?Math.min(B*u+y,m.length):m.length;y<B;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],D(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2];return m}}();ob=Object.freeze({__proto__:null,create:w,clone:function(h){var m=new qa(3);m[0]=h[0];m[1]=h[1];m[2]=h[2];return m},length:x,Sf:z,ta:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];return h},set:function(h,m,u,y){h[0]=m;h[1]=u;h[2]=y;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=
m[1]+u[1];h[2]=m[2]+u[2];return h},Lm:E,multiply:G,bl:N,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=
Math.round(m[1]);h[2]=Math.round(m[2]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;return h},aM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;return h},Gx:C,nX:H,CD:I,WW:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];return h},normalize:K,xo:Q,qL:R,rd:function(h,m,u,y){var B=m[0],D=m[1];m=m[2];h[0]=B+y*(u[0]-B);h[1]=D+y*(u[1]-D);h[2]=m+y*(u[2]-m);return h},tva:function(h,m,u,y,B,D){var F=
D*D,J=F*(2*D-3)+1,M=F*(D-2)+D,P=F*(D-1);D=F*(3-2*D);h[0]=m[0]*J+u[0]*M+y[0]*P+B[0]*D;h[1]=m[1]*J+u[1]*M+y[1]*P+B[1]*D;h[2]=m[2]*J+u[2]*M+y[2]*P+B[2]*D;return h},tua:function(h,m,u,y,B,D){var F=1-D,J=F*F,M=D*D,P=J*F;J*=3*D;F*=3*M;D*=M;h[0]=m[0]*P+u[0]*J+y[0]*F+B[0]*D;h[1]=m[1]*P+u[1]*J+y[1]*F+B[1]*D;h[2]=m[2]*P+u[2]*J+y[2]*F+B[2]*D;return h},random:function(h,m){m=m||1;var u=2*Ka()*Math.PI,y=2*Ka()-1,B=Math.sqrt(1-y*y)*m;h[0]=Math.cos(u)*B;h[1]=Math.sin(u)*B;h[2]=y*m;return h},jM:function(h,m,u){var y=
m[0],B=m[1];m=m[2];var D=u[3]*y+u[7]*B+u[11]*m+u[15];D=D||1;h[0]=(u[0]*y+u[4]*B+u[8]*m+u[12])/D;h[1]=(u[1]*y+u[5]*B+u[9]*m+u[13])/D;h[2]=(u[2]*y+u[6]*B+u[10]*m+u[14])/D;return h},Zha:function(h,m,u){var y=m[0],B=m[1];m=m[2];h[0]=y*u[0]+B*u[3]+m*u[6];h[1]=y*u[1]+B*u[4]+m*u[7];h[2]=y*u[2]+B*u[5]+m*u[8];return h},$ha:function(h,m,u){var y=u[0],B=u[1],D=u[2],F=m[0],J=m[1];m=m[2];var M=B*m-D*J,P=D*F-y*m,S=y*J-B*F;u=2*u[3];h[0]=F+M*u+2*(B*S-D*P);h[1]=J+P*u+2*(D*M-y*S);h[2]=m+S*u+2*(y*P-B*M);return h},YL:function(h,
m,u,y){var B=[],D=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];D[0]=B[0];D[1]=B[1]*Math.cos(y)-B[2]*Math.sin(y);D[2]=B[1]*Math.sin(y)+B[2]*Math.cos(y);h[0]=D[0]+u[0];h[1]=D[1]+u[1];h[2]=D[2]+u[2];return h},ZL:function(h,m,u,y){var B=[],D=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=m[2]-u[2];D[0]=B[2]*Math.sin(y)+B[0]*Math.cos(y);D[1]=B[1];D[2]=B[2]*Math.cos(y)-B[0]*Math.sin(y);h[0]=D[0]+u[0];h[1]=D[1]+u[1];h[2]=D[2]+u[2];return h},$L:function(h,m,u,y){var B=[],D=[];B[0]=m[0]-u[0];B[1]=m[1]-u[1];B[2]=
m[2]-u[2];D[0]=B[0]*Math.cos(y)-B[1]*Math.sin(y);D[1]=B[0]*Math.sin(y)+B[1]*Math.cos(y);D[2]=B[2];h[0]=D[0]+u[0];h[1]=D[1]+u[1];h[2]=D[2]+u[2];return h},angle:function(h,m){var u=h[0],y=h[1],B=h[2],D=m[0],F=m[1],J=m[2];h=(u=Math.sqrt(u*u+y*y+B*B)*Math.sqrt(D*D+F*F+J*J))&&Q(h,m)/u;return Math.acos(Math.min(Math.max(h,-1),1))},AX:function(h){h[0]=0;h[1]=0;h[2]=0;return h},Km:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},Qj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]},Uc:function(h,
m){var u=h[0],y=h[1];h=h[2];var B=m[0],D=m[1];m=m[2];return Math.abs(u-B)<=1E-6*Math.max(1,Math.abs(u),Math.abs(B))&&Math.abs(y-D)<=1E-6*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},sub:E,Bo:G,IW:N,GW:C,mX:H,Mx:x,BD:I,forEach:ob});var pb=function(){var h=U();return function(m,u,y,B,D,F){u||(u=4);y||(y=0);for(B=B?Math.min(B*u+y,m.length):m.length;y<B;y+=u)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],h[3]=m[y+3],D(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2],m[y+3]=
h[3];return m}}();pb=Object.freeze({__proto__:null,create:U,clone:Z,Sf:ca,ta:Y,set:ha,add:ka,Lm:za,multiply:Oa,bl:ab,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);h[3]=Math.ceil(m[3]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);h[3]=Math.floor(m[3]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=Math.min(m[1],u[1]);h[2]=Math.min(m[2],u[2]);h[3]=Math.min(m[3],u[3]);return h},max:function(h,m,u){h[0]=
Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);h[2]=Math.max(m[2],u[2]);h[3]=Math.max(m[3],u[3]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);h[2]=Math.round(m[2]);h[3]=Math.round(m[3]);return h},scale:Ua,aM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;h[2]=m[2]+u[2]*y;h[3]=m[3]+u[3]*y;return h},Gx:bb,nX:mb,length:Va,CD:Pa,WW:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=-m[3];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];h[3]=1/m[3];return h},
normalize:fb,xo:cb,qL:function(h,m,u,y){var B=u[0]*y[1]-u[1]*y[0],D=u[0]*y[2]-u[2]*y[0],F=u[0]*y[3]-u[3]*y[0],J=u[1]*y[2]-u[2]*y[1],M=u[1]*y[3]-u[3]*y[1];u=u[2]*y[3]-u[3]*y[2];y=m[0];var P=m[1],S=m[2];m=m[3];h[0]=P*u-S*M+m*J;h[1]=-(y*u)+S*F-m*D;h[2]=y*M-P*F+m*B;h[3]=-(y*J)+P*D-S*B;return h},rd:ub,random:function(h,m){m=m||1;do{var u=2*Ka()-1;var y=2*Ka()-1;var B=u*u+y*y}while(1<=B);do{var D=2*Ka()-1;var F=2*Ka()-1;var J=D*D+F*F}while(1<=J);B=Math.sqrt((1-B)/J);h[0]=m*u;h[1]=m*y;h[2]=m*D*B;h[3]=m*
F*B;return h},jM:function(h,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];h[0]=u[0]*y+u[4]*B+u[8]*D+u[12]*m;h[1]=u[1]*y+u[5]*B+u[9]*D+u[13]*m;h[2]=u[2]*y+u[6]*B+u[10]*D+u[14]*m;h[3]=u[3]*y+u[7]*B+u[11]*D+u[15]*m;return h},$ha:function(h,m,u){var y=m[0],B=m[1],D=m[2],F=u[0],J=u[1],M=u[2];u=u[3];var P=u*y+J*D-M*B,S=u*B+M*y-F*D,T=u*D+F*B-J*y;y=-F*y-J*B-M*D;h[0]=P*u+y*-F+S*-M-T*-J;h[1]=S*u+y*-J+T*-F-P*-M;h[2]=T*u+y*-M+P*-J-S*-F;h[3]=m[3];return h},AX:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},Km:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Qj:vb,Uc:wb,sub:za,Bo:Oa,IW:ab,GW:bb,mX:mb,Mx:Va,BD:Pa,forEach:pb});var qb=function(){var h=w(),m=z(1,0,0),u=z(0,1,0);return function(y,B,D){var F=Q(B,D);if(-.999999>F)return R(h,m,B),1E-6>x(h)&&R(h,u,B),K(h,h),xb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;R(h,B,D);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return fb(y,y)}}(),rb=function(){var h=gb(),m=gb();return function(u,y,B,D,F,J){hb(h,y,F,J);hb(m,B,D,J);hb(u,h,m,2*J*(1-J));return u}}(),
db=function(){var h=f();return function(m,u,y,B){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=B[0];h[4]=B[1];h[7]=B[2];h[2]=-u[0];h[5]=-u[1];h[8]=-u[2];return fb(m,Eb(m,h))}}();qb=Object.freeze({__proto__:null,create:gb,Jx:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},Vwa:xb,kva:function(h,m){var u=2*Math.acos(m[3]),y=Math.sin(u/2);1E-6<y?(h[0]=m[0]/y,h[1]=m[1]/y,h[2]=m[2]/y):(h[0]=1,h[1]=0,h[2]=0);return u},iva:function(h,m){h=cb(h,m);return Math.acos(2*h*h-1)},multiply:yb,YL:zb,ZL:Ab,$L:Bb,uua:function(h,
m){var u=m[0],y=m[1];m=m[2];h[0]=u;h[1]=y;h[2]=m;h[3]=Math.sqrt(Math.abs(1-u*u-y*y-m*m));return h},exp:Cb,lha:Db,pow:function(h,m,u){Db(h,m);Ua(h,h,u);Cb(h,h);return h},$wa:hb,random:function(h){var m=Ka(),u=Ka(),y=Ka(),B=Math.sqrt(1-m);m=Math.sqrt(m);h[0]=B*Math.sin(2*Math.PI*u);h[1]=B*Math.cos(2*Math.PI*u);h[2]=m*Math.sin(2*Math.PI*y);h[3]=m*Math.cos(2*Math.PI*y);return h},Ot:function(h,m){var u=m[0],y=m[1],B=m[2];m=m[3];var D=u*u+y*y+B*B+m*m;D=D?1/D:0;h[0]=-u*D;h[1]=-y*D;h[2]=-B*D;h[3]=m*D;return h},
uga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];return h},Xua:Eb,Vua:function(h,m,u,y){var B=.5*Math.PI/180;m*=B;u*=B;y*=B;B=Math.sin(m);m=Math.cos(m);var D=Math.sin(u);u=Math.cos(u);var F=Math.sin(y);y=Math.cos(y);h[0]=B*u*y-m*D*F;h[1]=m*D*y+B*u*F;h[2]=m*u*F-B*D*y;h[3]=m*u*y+B*D*F;return h},Km:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:Z,Sf:ca,ta:Y,set:ha,add:ka,Bo:yb,scale:Ua,xo:cb,rd:ub,length:Va,Mx:Va,CD:Pa,BD:Pa,normalize:fb,Qj:vb,Uc:wb,Mwa:qb,axa:rb,
Uwa:db});rb=Object.freeze({__proto__:null,create:function(){var h=new qa(8);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var m=new qa(8);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];return m},Sf:function(h,m,u,y,B,D,F,J){var M=new qa(8);M[0]=h;M[1]=m;M[2]=u;M[3]=y;M[4]=B;M[5]=D;M[6]=F;M[7]=J;return M},ava:function(h,m,u,y,B,D,F){var J=new qa(8);J[0]=h;J[1]=m;J[2]=u;J[3]=y;B*=.5;D*=.5;F*=.5;J[4]=B*y+D*u-F*
m;J[5]=D*y+F*h-B*u;J[6]=F*y+B*m-D*h;J[7]=-B*h-D*m-F*u;return J},Kga:Fb,wL:function(h,m){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*m[0];h[5]=.5*m[1];h[6]=.5*m[2];h[7]=0;return h},mD:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},Iga:function(h,m){var u=gb();v(u,m);var y=new qa(3);r(y,m);Fb(h,u,y);return h},ta:Gb,Jx:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,m,u,y,B,D,F,J,M){h[0]=m;h[1]=u;h[2]=y;h[3]=B;h[4]=D;h[5]=
F;h[6]=J;h[7]=M;return h},mva:Y,lva:function(h,m){h[0]=m[4];h[1]=m[5];h[2]=m[6];h[3]=m[7];return h},Ywa:Y,Wwa:function(h,m){h[4]=m[0];h[5]=m[1];h[6]=m[2];h[7]=m[3];return h},Nga:function(h,m){var u=m[4],y=m[5],B=m[6],D=m[7],F=-m[0],J=-m[1],M=-m[2];m=m[3];h[0]=2*(u*m+D*F+y*M-B*J);h[1]=2*(y*m+D*J+B*F-u*M);h[2]=2*(B*m+D*M+u*J-y*F);return h},translate:function(h,m,u){var y=m[0],B=m[1],D=m[2],F=m[3],J=.5*u[0],M=.5*u[1];u=.5*u[2];var P=m[4],S=m[5],T=m[6];m=m[7];h[0]=y;h[1]=B;h[2]=D;h[3]=F;h[4]=F*J+B*u-
D*M+P;h[5]=F*M+D*J-y*u+S;h[6]=F*u+y*M-B*J+T;h[7]=-y*J-B*M-D*u+m;return h},YL:function(h,m,u){var y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*B,X=M*F+S*B+P*y-J*D,W=P*F+S*D+J*B-M*y;J=S*F-J*y-M*B-P*D;zb(h,m,u);y=h[0];B=h[1];D=h[2];F=h[3];h[4]=T*F+J*y+X*D-W*B;h[5]=X*F+J*B+W*y-T*D;h[6]=W*F+J*D+T*B-X*y;h[7]=J*F-T*y-X*B-W*D;return h},ZL:function(h,m,u){var y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*B,X=M*F+S*B+P*y-J*D,W=P*F+S*D+J*B-M*y;J=S*F-
J*y-M*B-P*D;Ab(h,m,u);y=h[0];B=h[1];D=h[2];F=h[3];h[4]=T*F+J*y+X*D-W*B;h[5]=X*F+J*B+W*y-T*D;h[6]=W*F+J*D+T*B-X*y;h[7]=J*F-T*y-X*B-W*D;return h},$L:function(h,m,u){var y=-m[0],B=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*B,X=M*F+S*B+P*y-J*D,W=P*F+S*D+J*B-M*y;J=S*F-J*y-M*B-P*D;Bb(h,m,u);y=h[0];B=h[1];D=h[2];F=h[3];h[4]=T*F+J*y+X*D-W*B;h[5]=X*F+J*B+W*y-T*D;h[6]=W*F+J*D+T*B-X*y;h[7]=J*F-T*y-X*B-W*D;return h},Kwa:function(h,m,u){var y=u[0],B=u[1],D=u[2];u=u[3];var F=m[0],J=m[1],M=
m[2],P=m[3];h[0]=F*u+P*y+J*D-M*B;h[1]=J*u+P*B+M*y-F*D;h[2]=M*u+P*D+F*B-J*y;h[3]=P*u-F*y-J*B-M*D;F=m[4];J=m[5];M=m[6];P=m[7];h[4]=F*u+P*y+J*D-M*B;h[5]=J*u+P*B+M*y-F*D;h[6]=M*u+P*D+F*B-J*y;h[7]=P*u-F*y-J*B-M*D;return h},Lwa:function(h,m,u){var y=m[0],B=m[1],D=m[2];m=m[3];var F=u[0],J=u[1],M=u[2],P=u[3];h[0]=y*P+m*F+B*M-D*J;h[1]=B*P+m*J+D*F-y*M;h[2]=D*P+m*M+y*J-B*F;h[3]=m*P-y*F-B*J-D*M;F=u[4];J=u[5];M=u[6];P=u[7];h[4]=y*P+m*F+B*M-D*J;h[5]=B*P+m*J+D*F-y*M;h[6]=D*P+m*M+y*J-B*F;h[7]=m*P-y*F-B*J-D*M;return h},
Jwa:function(h,m,u,y){if(1E-6>Math.abs(y))return Gb(h,m);var B=Math.hypot(u[0],u[1],u[2]);y*=.5;var D=Math.sin(y),F=D*u[0]/B,J=D*u[1]/B;u=D*u[2]/B;y=Math.cos(y);B=m[0];D=m[1];var M=m[2],P=m[3];h[0]=B*y+P*F+D*u-M*J;h[1]=D*y+P*J+M*F-B*u;h[2]=M*y+P*u+B*J-D*F;h[3]=P*y-B*F-D*J-M*u;B=m[4];D=m[5];M=m[6];m=m[7];h[4]=B*y+m*F+D*u-M*J;h[5]=D*y+m*J+M*F-B*u;h[6]=M*y+m*u+B*J-D*F;h[7]=m*y-B*F-D*J-M*u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];h[2]=m[2]+u[2];h[3]=m[3]+u[3];h[4]=m[4]+u[4];h[5]=m[5]+
u[5];h[6]=m[6]+u[6];h[7]=m[7]+u[7];return h},multiply:Hb,Bo:Hb,scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;h[2]=m[2]*u;h[3]=m[3]*u;h[4]=m[4]*u;h[5]=m[5]*u;h[6]=m[6]*u;h[7]=m[7]*u;return h},xo:cb,rd:function(h,m,u,y){var B=1-y;0>cb(m,u)&&(y=-y);h[0]=m[0]*B+u[0]*y;h[1]=m[1]*B+u[1]*y;h[2]=m[2]*B+u[2]*y;h[3]=m[3]*B+u[3]*y;h[4]=m[4]*B+u[4]*y;h[5]=m[5]*B+u[5]*y;h[6]=m[6]*B+u[6]*y;h[7]=m[7]*B+u[7]*y;return h},Ot:function(h,m){var u=Pa(m);h[0]=-m[0]/u;h[1]=-m[1]/u;h[2]=-m[2]/u;h[3]=m[3]/u;h[4]=-m[4]/u;
h[5]=-m[5]/u;h[6]=-m[6]/u;h[7]=m[7]/u;return h},uga:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];h[4]=-m[4];h[5]=-m[5];h[6]=-m[6];h[7]=m[7];return h},length:Va,Mx:Va,CD:Pa,BD:Pa,normalize:function(h,m){var u=Pa(m);if(0<u){u=Math.sqrt(u);var y=m[0]/u,B=m[1]/u,D=m[2]/u,F=m[3]/u,J=m[4],M=m[5],P=m[6];m=m[7];var S=y*J+B*M+D*P+F*m;h[0]=y;h[1]=B;h[2]=D;h[3]=F;h[4]=(J-y*S)/u;h[5]=(M-B*S)/u;h[6]=(P-D*S)/u;h[7]=(m-F*S)/u}return h},Km:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},Qj:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]},Uc:function(h,m){var u=h[0],y=h[1],B=h[2],D=h[3],F=h[4],J=h[5],M=h[6];h=h[7];var P=m[0],S=m[1],T=m[2],X=m[3],W=m[4],fa=m[5],da=m[6];m=m[7];return Math.abs(u-P)<=1E-6*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(B-T)<=1E-6*Math.max(1,Math.abs(B),Math.abs(T))&&Math.abs(D-
X)<=1E-6*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(J-fa)<=1E-6*Math.max(1,Math.abs(J),Math.abs(fa))&&Math.abs(M-da)<=1E-6*Math.max(1,Math.abs(M),Math.abs(da))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}});db=function(){var h=ib();return function(m,u,y,B,D,F){u||(u=2);y||(y=0);for(B=B?Math.min(B*u+y,m.length):m.length;y<B;y+=u)h[0]=m[y],h[1]=m[y+1],D(h,h,F),m[y]=h[0],m[y+1]=h[1];return m}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(h){var m=new qa(2);m[0]=h[0];m[1]=h[1];return m},Sf:function(h,m){var u=new qa(2);u[0]=h;u[1]=m;return u},ta:function(h,m){h[0]=m[0];h[1]=m[1];return h},set:function(h,m,u){h[0]=m;h[1]=u;return h},add:function(h,m,u){h[0]=m[0]+u[0];h[1]=m[1]+u[1];return h},Lm:Sa,multiply:jb,bl:kb,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);return h},min:function(h,m,u){h[0]=Math.min(m[0],u[0]);h[1]=
Math.min(m[1],u[1]);return h},max:function(h,m,u){h[0]=Math.max(m[0],u[0]);h[1]=Math.max(m[1],u[1]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);return h},scale:function(h,m,u){h[0]=m[0]*u;h[1]=m[1]*u;return h},aM:function(h,m,u,y){h[0]=m[0]+u[0]*y;h[1]=m[1]+u[1]*y;return h},Gx:Wa,nX:lb,length:Ma,CD:nb,WW:function(h,m){h[0]=-m[0];h[1]=-m[1];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];return h},normalize:function(h,m){var u=m[0],y=m[1];u=u*u+y*y;0<u&&(u=1/Math.sqrt(u));
h[0]=m[0]*u;h[1]=m[1]*u;return h},xo:function(h,m){return h[0]*m[0]+h[1]*m[1]},qL:function(h,m,u){m=m[0]*u[1]-m[1]*u[0];h[0]=h[1]=0;h[2]=m;return h},rd:function(h,m,u,y){var B=m[0];m=m[1];h[0]=B+y*(u[0]-B);h[1]=m+y*(u[1]-m);return h},random:function(h,m){m=m||1;var u=2*Ka()*Math.PI;h[0]=Math.cos(u)*m;h[1]=Math.sin(u)*m;return h},kxa:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m;h[1]=u[1]*y+u[3]*m;return h},lxa:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[2]*m+u[4];h[1]=u[1]*y+u[3]*m+u[5];
return h},Zha:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[3]*m+u[6];h[1]=u[1]*y+u[4]*m+u[7];return h},jM:function(h,m,u){var y=m[0];m=m[1];h[0]=u[0]*y+u[4]*m+u[12];h[1]=u[1]*y+u[5]*m+u[13];return h},rotate:function(h,m,u,y){var B=m[0]-u[0];m=m[1]-u[1];var D=Math.sin(y);y=Math.cos(y);h[0]=B*y-m*D+u[0];h[1]=B*D+m*y+u[1];return h},angle:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];var B=Math.sqrt(u*u+h*h)*Math.sqrt(y*y+m*m);return Math.acos(Math.min(Math.max(B&&(u*y+h*m)/B,-1),1))},AX:function(h){h[0]=
0;h[1]=0;return h},Km:function(h){return"vec2("+h[0]+", "+h[1]+")"},Qj:function(h,m){return h[0]===m[0]&&h[1]===m[1]},Uc:function(h,m){var u=h[0];h=h[1];var y=m[0];m=m[1];return Math.abs(u-y)<=1E-6*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},Mx:Ma,sub:Sa,Bo:jb,IW:kb,GW:Wa,mX:lb,BD:nb,forEach:db});d.dl=Ob;d.Yva=Pb;d.Zva=Qb;d.$va=Rb;d.Ao=Sb;d.twa=qb;d.uwa=rb;d.sxa=db;d.GD=ob;d.Zx=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.mua?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.dl={}));
{"use strict";function d(t,w,x,z){var E=w[0]-t[0];w=w[1]-t[1];var G=z[0]-x[0],N=z[1]-x[1];if(0===G*w-N*E)return!1;z=(E*(x[1]-t[1])+w*(t[0]-x[0]))/(G*w-N*E);t=(G*(t[1]-x[1])+N*(x[0]-t[0]))/(N*E-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function b(t,w,x){return(w[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(w[1]-t[1])}function a(t,w,x){return 0<b(t,w,x)}function e(t,w,x){return 0<=b(t,w,x)}function c(t,w,x){return 0>=b(t,w,x)}var Ya=[],Za=[];function f(t,w){var x=w[0]-t[0];t=w[1]-t[1];return x*x+t*t}function l(t,w){var x=
t.length;return t[0>w?w%x+x:w%x]}function g(t,w,x,z){for(;x<z;x++)t.push(w[x])}function k(t,w){var x=l(t,w-1),z=l(t,w);t=l(t,w+1);return 0>b(x,z,t)}var $a=[],sb=[];function n(t,w,x,z){z=z||[];z.length=0;if(w<x)for(var E=w;E<=x;E++)z.push(t[E]);else{for(E=0;E<=x;E++)z.push(t[E]);for(E=w;E<t.length;E++)z.push(t[E])}return z}function q(t){for(var w=[],x,z,E=[],G=Number.MAX_VALUE,N=0;N<t.length;++N)if(k(t,N))for(var C=0;C<t.length;++C){a:{z=t;var H=N,I=C;if(e(l(z,H+1),l(z,H),l(z,I))&&c(l(z,H-1),l(z,H),
l(z,I)))x=!1;else{x=f(l(z,H),l(z,I));for(var K=0;K!==z.length;++K)if((K+1)%z.length!==H&&K!==H&&e(l(z,H),l(z,I),l(z,K+1))&&c(l(z,H),l(z,I),l(z,K))){$a[0]=l(z,H);$a[1]=l(z,I);sb[0]=l(z,K);sb[1]=l(z,K+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var U=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+U*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*U;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-U*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(l(z,H),ka)<x){x=!1;break a}}x=!0}}if(x){x=q(n(t,
N,C,E));z=q(n(t,C,N,E));for(H=0;H<z.length;H++)x.push(z[H]);x.length<G&&(w=x,G=x.length,w.push([l(t,N),l(t,C)]))}}return w}function r(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var x=0;x<w.length;x++)for(var z=w[x],E=0;E<t.length;E++){var G=r(t[E],z);if(G){t.splice(E,1);t.push(G[0],G[1]);break}}return t}z=w;x=t.indexOf(z[0]);E=t.indexOf(z[1]);return-1!==x&&-1!==E?[n(t,x,E),n(t,E,x)]:!1}function p(t,w,x,
z,E){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var N=z[1]-x[1];z=x[0]-z[0];x=N*x[0]+z*x[1];var C=G*z-N*w;return Math.abs(C-0)<=(E||0)?[0,0]:[(z*t-w*x)/C,(G*x-N*t)/C]}function v(t,w,x,z,E,G,N){G=G||100;N=N||0;E=E||25;w="undefined"!==typeof w?w:[];x=x||[];z=z||[];var C=[0,0],H=[0,0],I=[0,0],K,Q=0,R=0,U=0,Z=[],ca=[];if(3>t.length)return w;N++;if(N>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(k(t,Y)){x.push(t[Y]);var ha=K=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(a(l(t,Y-1),l(t,Y),l(t,ka))&&c(l(t,Y-1),l(t,Y),l(t,ka-1))){I=p(l(t,Y-1),l(t,Y),l(t,ka),l(t,ka-1));var za=l(t,Y+1);var Oa=l(t,Y);0>b(za,Oa,I)&&(za=f(t[Y],I),za<K&&(K=za,H=I,R=ka))}a(l(t,Y+1),l(t,Y),l(t,ka+1))&&c(l(t,Y+1),l(t,Y),l(t,ka))&&(I=p(l(t,Y+1),l(t,Y),l(t,ka),l(t,ka+1)),a(l(t,Y-1),l(t,Y),I)&&(za=f(t[Y],I),za<ha&&(ha=za,C=I,Q=ka)))}if(R===(Q+1)%t.length)I[0]=(H[0]+C[0])/2,I[1]=(H[1]+C[1])/2,z.push(I),Y<Q?(g(Z,t,Y,Q+1),Z.push(I),ca.push(I),0!==R&&g(ca,t,R,t.length),g(ca,
t,0,Y+1)):(0!==Y&&g(Z,t,Y,t.length),g(Z,t,0,Q+1),Z.push(I),ca.push(I),g(ca,t,R,Y+1));else{R>Q&&(Q+=t.length);C=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(e(l(t,Y-1),l(t,Y),l(t,ka))&&c(l(t,Y+1),l(t,Y),l(t,ka))){za=f(l(t,Y),l(t,ka));if(R=za<C)a:{R=t;H=Y;I=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==I&&(ha+1)%R.length!==H&&(ha+1)%R.length!==I&&d(l(R,H),l(R,I),l(R,ha),l(R,ha+1))){R=!1;break a}R=!0}R&&(C=za,U=ka%t.length)}Y<U?(g(Z,t,Y,U+1),0!==U&&g(ca,t,U,t.length),g(ca,t,0,Y+1)):(0!==
Y&&g(Z,t,Y,t.length),g(Z,t,0,U+1),g(ca,t,U,Y+1))}Z.length<ca.length?(v(Z,w,x,z,E,G,N),v(ca,w,x,z,E,G,N)):(v(ca,w,x,z,E,G,N),v(Z,w,x,z,E,G,N));return w}w.push(t);return w}self.pwa={Iua:function(t){var w=q(t);return 0<w.length?r(t,w):[t]},vwa:v,Ava:function(t){var w;for(w=0;w<t.length-1;w++)for(var x=0;x<w-1;x++)if(d(t[w],t[w+1],t[x],t[x+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},Awa:function(t,w){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var E=
l(t,z-1);var G=l(t,z),N=l(t,z+1),C=w;C?(Ya[0]=G[0]-E[0],Ya[1]=G[1]-E[1],Za[0]=N[0]-G[0],Za[1]=N[1]-G[1],E=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<C):E=0===b(E,G,N);E&&(t.splice(z%t.length,1),x++)}return x},Bwa:function(t,w){for(var x=t.length-1;1<=x;--x)for(var z=t[x],E=x-1;0<=E;--E){var G=z,N=t[E],C=w;Math.abs(G[0]-N[0])<=(C||0)&&Math.abs(G[1]-N[1])<=(C||0)&&t.splice(x,1)}},Xva:function(t){for(var w=0,x=1;x<t.length;++x)if(t[x][1]<
t[w][1]||t[x][1]===t[w][1]&&t[x][0]>t[w][0])w=x;if(a(l(t,w-1),l(t,w),l(t,w+1)))return!1;w=[];x=t.length;for(var z=0;z!==x;z++)w.push(t.pop());for(z=0;z!==x;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.A=class{constructor(){throw TypeError("static class can't be instantiated");}};d.Pt=!1;d.CL=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Bh={}}
{"use strict";const d=self.A;d.dP=class{constructor(b){this.Kfa=b;this.Ja=new Map;this.Qba()}Qba(){var b=this.Kfa;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.Rba(a)}Rba(b){if(b)if(b.includes("=")){var a=b.indexOf("="),e=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ja.set(e,b)}else this.Ja.set(b,null)}gz(b){return this.Ja.has(b)}$(b){b=this.Ja.get(b);return"undefined"===typeof b?null:b}};d.DF=new d.dP(location.search);
d.qna=new d.dP(location.hash);d.DF.$("mode")}
{"use strict";const d=self.A,b=navigator.userAgent;let a={kha:/linux|openbsd|freebsd|netbsd/i.test(b),rga:/CrOS/.test(b),HD:/trident|iemobile|msie|tizen/i.test(b),hva:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),xW:/bb10/i.test(b),Gga:/edge\//i.test(b),tX:/trident/i.test(b),webkit:/webkit/i.test(b),Lha:/safari\//i.test(b),qga:/chrome\//i.test(b),sga:/chromium\//i.test(b),vga:/crosswalk|xwalk/i.test(b),gwa:/nwjs/i.test(b),ega:/amazonwebappplatform/i.test(b),eia:/wv\)/.test(b),fga:/android/i.test(b),
tha:/nokiabrowser\/[0-9.]+/i.test(b)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Mb=/OPR\/[0-9.]+/.exec(b),Nb=/tizen\s+[0-9.]+/i.exec(b),Tb=/iphone\s+os\s+[0-9_]+/i.exec(b),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Vb=/windows\s+phone\s+[0-9.]+/i.exec(b),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Xb=/chrome\/[0-9.]+/i.exec(b),Yb=/chromium\/[0-9.]+/i.exec(b),Zb=/nwjs\/[0-9.]+/i.exec(b),$b=/firefox\/[0-9.]+/i.exec(b),ac=/msie\s+[0-9.]+/i.exec(b),bc=/edge\/[0-9.]+/i.exec(b),
cc=/edg\/[0-9.]+/i.exec(b),dc=/silk\/[0-9.]+/i.exec(b);let e="(unknown)",c="(unknown)",f="(unknown)",l="(unknown)",g="(unknown)",k="browser",n=!1,q=!1,r=new Map;function p(t,w,x){!0===w?(x(),r.set(t,!0)):w&&w.length&&(x(w[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",a.kha,()=>{e="Linux"});p("isChromeOS",a.rga,()=>{e="Chrome OS"});p("isAndroid",!a.HD&&Lb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Nb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!a.HD&&Tb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!a.HD&&Ub,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Vb,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Wb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",a.xW,()=>{e="Blackberry";c="10";f="stock";g="webkit"});p("isChrome",!a.Gga&&!a.opera&&Xb,t=>{f="Chrome";g="Chromium";(t=t.split("/")[1])&&(l=t)});p("isOpera",Mb,t=>{f="Opera";g="Chromium";(t=t.split("/")[1])&&(l=t)});p("isChromium",Yb,t=>{g=f="Chromium";(t=t.split("/")[1])&&(l=t)});p("isFirefox",$b,t=>{f="Firefox";g="Gecko";(t=t.split("/")[1])&&(l=t)});p("isInternetExplorer",ac,
t=>{f="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(l=t)});p("isTrident","Internet Explorer"!==f&&a.tX,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(b);t&&t.length&&(f="Internet Explorer",(t=t[0].split(":")[1])&&(l=t))});p("isEdge",bc,t=>{g=f="Edge";(t=t.split("/")[1])&&(l=t)});p("isEdgeChromium",cc,t=>{f="Edge";g="Chromium";(t=t.split("/")[1])&&(l=t)});p("isSafari",a.Lha&&!a.tha&&!a.qga&&!a.sga&&!a.gva&&!a.xW,()=>{f="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
x=/fxios\/[0-9.]+/i.exec(b);t&&t.length&&(t=t[0].split("/")[1])&&(l=t);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(l=w));x&&x.length&&(f="Firefox for iOS",(x=x[0].split("/")[1])&&(l=x))});p("isSilk",dc,t=>{f="Silk";(t=t.split("/")[1])&&(l=t)});p("isCrosswalk",a.vga,()=>k="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>k="cordova");p("isNWJS",Zb,t=>{k="nwjs";f="NW.js";g="Chromium";(t=t.split("/")[1])&&(l=t)});p("isAmazonWebApp",a.ega,()=>k="webapp");
p("isHomeScreenWebApp","nwjs"!==k&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>k="webapp");p("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===k&&a.eia,()=>k="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");p("isAndroidFallback","(unknown)"===e&&!a.HD&&a.fga,()=>e="Android");p("isTridentFallback",
"(unknown)"===e&&a.tX,()=>g="Trident");p("isWebkitFallback","(unknown)"===e&&a.webkit,()=>g="WebKit");p("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===k,()=>n=!0);q="nwjs"===k;const v="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;v&&(e="iOS",c=l,q=n=!1);d.Yc={Hr:e,Yna:c,jd:f,Aja:l,VD:parseFloat(l),ey:g,$D:k,lma:n,pz:!n,mma:q,hma:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),cma:"Mac OS X"===e||"iOS"===e,tma:v,uma:"Linux"===e}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(v){return new Promise((t,w)=>{v.onsuccess=()=>t(v.result);v.onerror=()=>w(v.error)})}function c(v){return new Promise((t,w)=>{v.oncomplete=()=>t();v.onerror=()=>w(v.error);v.onabort=()=>w(v.error)})}function f(v,t){return g(v,t)}function l(v,t){return g(v,t,!0)}async function g(v,t,w=!1,
x=!0){const z=await k(v);try{const E=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(E)}catch(E){if(x&&"InvalidStateError"===E.name)return d.delete(v),g(v,t,w,!1);throw E;}}function k(v){q(v);let t=d.get(v);t instanceof Promise||(t=n(v),d.set(v,t),t.catch(()=>d.delete(v)));return t}async function n(v){q(v);const t=indexedDB.open(v,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${v}`,
x)}});return e(t)}function q(v){if("string"!==typeof v)throw new TypeError("expected string");}function r(v,t){const w=v.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];w.onsuccess=E=>{if(E=E.target.result){switch(t){case "entries":z.push([E.key,E.value]);break;case "keys":z.push(E.key);break;case "values":z.push(E.value)}E.continue()}else x(z)}})}class p{constructor(v){q(v);this.name=v}async ready(){await k(this.name)}set(v,t){q(v);return l(this.name,async w=>{var x=w.objectStore("keyvaluepairs").put(t,
v);x=e(x);w=c(w);await Promise.all([w,x])})}get(v){q(v);return f(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(v);w=e(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(v){q(v);return l(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(v);w=e(w);t=c(t);await Promise.all([t,w])})}clear(){return l(this.name,async v=>{var t=v.objectStore("keyvaluepairs").clear();t=e(t);v=c(v);await Promise.all([v,t])})}keys(){return f(this.name,async v=>{if(a){var t=v.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=r(v,"keys");v=c(v);[,v]=await Promise.all([v,t]);return v})}values(){return f(this.name,async v=>{if(b){var t=v.objectStore("keyvaluepairs").getAll();t=e(t)}else t=r(v,"values");v=c(v);[,v]=await Promise.all([v,t]);return v})}entries(){return f(this.name,async v=>{var t=r(v,"entries");v=c(v);[,t]=await Promise.all([v,t]);return t})}}self.R2=p}"use strict";
{const d=self.R2,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(k){throw Error(`"${k}" is not implemented`);
}function f(k){if("function"===typeof k)throw Error("localforage callback API is not implemented; please use the promise API instead");}function l(k){return"object"===typeof k?new Promise(n=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>n(p.data);q.postMessage(k)}):Promise.resolve(k)}class g{constructor(k){this.J=k;a.set(this,new Map)}yv(k){if(!e)for(const n of b)if(k&&n.test(k.message)){console.error("Unable to use local storage, reverting to in-memory store: ",k,k.message);e=!0;break}}async jU(k){k=
a.get(this).get(k);k=await l(k);return"undefined"===typeof k?null:k}async QV(k,n){n=await l(n);a.get(this).set(k,n)}HV(k){a.get(this).delete(k)}IT(){a.get(this).clear()}PU(){return Array.from(a.get(this).keys())}async getItem(k,n){f(n);if(e)return await this.jU(k);let q;try{q=await this.J.get(k)}catch(r){this.yv(r);if(e)return await this.jU(k);console.error(`Error reading '${k}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(k,n,q){f(q);"undefined"===
typeof n&&(n=null);if(e)await this.QV(k,n);else try{await this.J.set(k,n)}catch(r){if(this.yv(r),e)await this.QV(k,n);else throw r;}}async removeItem(k,n){f(n);if(e)this.HV(k);else try{await this.J.delete(k)}catch(q){this.yv(q),e?this.HV(k):console.error(`Error removing '${k}' from storage: `,q)}}async clear(k){f(k);if(e)this.IT();else try{await this.J.clear()}catch(n){this.yv(n),e?this.IT():console.error("Error clearing storage: ",n)}}async keys(k){f(k);if(e)return this.PU();k=[];try{k=await this.J.keys()}catch(n){this.yv(n);
if(e)return this.PU();console.error("Error getting storage keys: ",n)}return k}ready(k){f(k);return e?Promise.resolve(!0):this.J.ready()}pL(k){if("object"!==typeof k)throw new TypeError("invalid options object");k=k.name;if("string"!==typeof k)throw new TypeError("invalid store name");k=new d(k);return new g(k)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.A;d.Tb={};d.Tb.Rta=(()=>{try{if("Safari"===d.Yc.jd||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.Tb.Oka="undefined"!==typeof HTMLDialogElement;d.Tb.zpa=!!self.requestIdleCallback;d.Tb.ImageBitmap=!!self.createImageBitmap;d.Tb.ImageBitmapOptions=!1;if(d.Tb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Tb.ImageBitmapOptions=!0}).catch(()=>{d.Tb.ImageBitmapOptions=!1})}catch(b){d.Tb.ImageBitmapOptions=!1}d.Tb.Mja=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.Yc.jd);d.Tb.yoa=!(!navigator.permissions||!navigator.permissions.query);d.Tb.cP="undefined"!==typeof Proxy;d.Tb.Qka="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Tb.fu="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Tb.ela="function"===typeof fetch;d.Tb.Aoa=!!(self.isSecureContext&&"Opera"!==d.Yc.jd&&navigator.storage&&navigator.storage.persist);d.Tb.Vsa=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.Yc.Hr)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.Tb.pla=ec;d.Tb.Qla="undefined"!==typeof self.ImageDecoder;d.Tb.Tna=!!self.showOpenFilePicker;
d.Tb.Una=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.A;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.ju(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,e){return a.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,b(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.oe||(Array.prototype.oe=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.oe||(String.prototype.oe=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>b({usage:e,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.A;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.Fy())}}
{"use strict";const d=self.A,b=self.Bh;d.Zm=function(e){return"number"===typeof e};d.Wm=function(e){return d.Zm(e)&&isFinite(e)};d.dg=function(e){if(!d.Zm(e))throw new TypeError("expected number");};d.mP=function(){};d.Wpa=function(e,c,f){if(!d.Zm(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.Ipa=function(...e){for(let c of e);};d.Ui=function(e){if(!d.Wm(e))throw new TypeError("expected finite number");};d.jP=function(){};d.Fpa=function(...e){for(let c of e);};d.Ri=function(e){return"string"===
typeof e};d.ue=function(e){if(!d.Ri(e))throw new TypeError("expected string");};d.oP=function(){};d.Kpa=function(...e){for(let c of e);};d.nO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.iqa=function(e){if(!d.nO(e))throw new TypeError("expected simple object");};d.fqa=function(e){if(!d.te(e)&&!d.nO(e))throw new TypeError("expected simple object");};d.mO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.hP=function(e){if(!d.mO(e))throw new TypeError("expected object");
};d.nP=function(){};d.Jpa=function(...e){for(let c of e);};d.iF=function(e){return d.Xm(e,Blob)&&"string"===typeof e.name};d.Upa=function(e){if(!d.iF(e))throw new TypeError("expected file");};d.dqa=function(){};d.Zo=function(e){return Array.isArray(e)};d.KF=function(e){if(!d.Zo(e))throw new TypeError("expected array");};d.iP=function(){};d.Epa=function(...e){for(let c of e);};d.q2=function(e){return d.Zo(e)?e.length?d.Zo(e[0])?!0:!1:!0:!1};d.Dpa=function(e){if(!d.q2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.Zo(c))throw new TypeError("expected 2d array");};d.Xpa=function(){};d.jF=function(e){return"function"===typeof e};d.kk=function(e,c){if(!d.jF(e))throw new TypeError("expected function");if(!d.te(c)&&e!==c)throw new TypeError("expected same function reference");};d.kP=function(){};d.Gpa=function(...e){for(let c of e);};d.Mpa=function(e,...c){if(!d.jF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.te(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.Ypa=function(...e){if(!d.te(e))for(let c of e);};d.Xm=function(e,c){return e instanceof c};d.lO=function(e,...c){for(let f of c)if(d.Xm(e,f))return!0;return!1};d.LF=function(e,c){if(!d.Xm(e,c))throw new TypeError("unexpected type");};d.lP=function(){};d.Hpa=function(e,...c){for(let f of c);};d.Npa=function(e,...c){if(!d.lO(e,...c))throw new TypeError("unexpected type");};d.Opa=function(e,...c){if(!d.te(e)&&!d.lO(e,...c))throw new TypeError("unexpected type");
};d.dma=function(e,c){for(let f of e)if(!d.Xm(f,c))return!1;return!0};d.ema=function(e){for(let c of e)if(!d.Wm(c))return!1;return!0};d.Ppa=function(e){for(let c of e);};d.Zpa=function(e){if(!d.te(e))for(let c of e);};d.Qpa=function(e){for(let c of e);};d.$pa=function(e){if(!d.te(e))for(let c of e);};d.ima=function(e,c){return d.te(e)||!d.Ri(e.nodeName)?!1:!c||d.yh(e.nodeName,c)};d.Rpa=function(e,c){if(d.te(e)||!d.Ri(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.yh(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.aqa=function(){};d.lF=function(e,c){return d.te(e)||!d.Ri(e.tagName)?!1:!c||d.yh(e.tagName,c)};d.Vpa=function(e,c){if(d.te(e)||!d.Ri(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.yh(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.eqa=function(){};d.fO=function(e){return d.lF(e,"img")||d.lF(e,"canvas")||d.lF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.Spa=function(e){if(!d.fO(e))throw new TypeError("expected drawable");
};d.bqa=function(){};d.gO=function(e){return e instanceof ImageData?!0:d.fO(e)};d.Tpa=function(e){if(!d.gO(e))throw new TypeError("expected drawable or image data");};d.cqa=function(e){if(!d.te(e)&&!d.gO(e))throw new TypeError("expected drawable or image data");};d.L2=function(e){return"string"===typeof e||e instanceof d.$E||e instanceof d.gl};d.jqa=function(e){if(!d.L2(e))throw new TypeError("expected string-like");};d.gqa=function(){};d.Lpa=function(...e){for(let c of e);};d.hqa=function(){throw Error("must be overridden");
};d.Xna=function(){throw Error("not yet implemented");};d.kma=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.te=function(e){return"undefined"===typeof e||null===e};d.jja=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.kja=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.Rma=function(e){return d.Xm(e,a)};d.kqa=function(){};
d.Qta=function(e){d.O7(e,a)};d.Pta=function(e,...c){if(!d.N7(e,...c))throw new TypeError("unexpected type");};d.N7=function(e,...c){for(const f of c)if(d.xQ(e,f))return!0;return!1};d.O7=function(e,c){if(!d.xQ(e,c))throw new TypeError("unexpected type");};d.xQ=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};b.dg=d.dg;b.mP=d.mP;b.Ui=d.Ui;b.jP=d.jP;b.ue=d.ue;b.oP=d.oP;b.hP=d.hP;b.nP=d.nP;b.KF=d.KF;b.iP=d.iP;b.kk=d.kk;b.kP=d.kP;b.LF=d.LF;b.lP=d.lP;b.te=
d.te}
{"use strict";const d=self.A,b=new Map;d.lpa=function(r,...p){b.has(r)||b.set(r,-1);-1===b.get(r)&&b.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);b.set(r,-1)}))};d.Fy=function(){return Error().stack};d.Lka=function(){debugger};d.zua=function(r,p){return r&&r instanceof p?r:null};d.cl=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.Zm(r)?"<number>":d.Ri(r)?"<string>":d.Zo(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.jF(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.nD=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let a=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.ir={};const l=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.Fy())}d.ir.get=function(r,p){p in r||"symbol"===typeof p||l.has(p)||g(`Accessed missing property '${p}' from defended object '${d.cl(r)}', returning undefined`);f.has(r)&&"symbol"!==typeof p&&!l.has(p)&&g(`Accessed property '${p}' on a released object '${d.cl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);return r[p]};d.ir.set=function(r,p,v){p in r||a.has(r)||g(`Set non-existent property '${p}' to '${v}' on defended object '${d.cl(r)}'`);
{var t=d.nD(r[p]);let w=d.nD(v);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||a.has(r)||g(`Set '${d.nD(r[p])}' property '${p}' to type '${d.nD(v)}' on defended object '${d.cl(r)}'`);f.has(r)&&g(`Set property '${p}' on a released object '${d.cl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);r[p]=v;return!0};d.ir.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.cl(r)}'`);};d.ir.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.cl(r)}'`);};d.ir.Mua=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.cl(r)}'`);};let k=-1;function n(){k=-1;if(0<a.size||0<e.size){let r=[...new Set([...a.keys()].map(p=>d.cl(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);a.clear();
e.clear()}}d.ga=class{constructor(){if(d.CL&&d.Tb.cP){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.ir);a.set(r,p);e.set(p,r);c.set(p,r);-1===k&&(k=requestAnimationFrame(n));return p}}};d.xga=function(r){if(d.CL&&d.Tb.cP&&r instanceof d.ga){if(!e.has(r))return r;let p=e.get(r);e.delete(r);a.delete(p);return r}return d.Pt?Object.seal(r):r};d.B=function(r,...p){let v;try{v=new r(...p)}catch(x){throw e.clear(),a.clear(),x;}if(d.CL){p=v;var t=new Set;for(w in p)t.add(w);var w=t;if(p=
q.get(r)){t=[];for(let x of p.values())w.has(x)?w.delete(x):t.push(x);d.Em(t,[...w]);t.length&&console.warn(`[Defence] '${d.cl(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,w)}return d.xga(v)};d.m=function(r){(r=c.get(r))&&f.set(r,d.Fy())};d.Sz=function(){let r=c.get(void 0);return r?!!f.get(r):!1};let q=new Map;d.woa=class{constructor(r){this.Ga="";r&&this.start(r)}start(r){this.Ga=r;performance.mark(this.Ga+"-Start")}end(){performance.mark(this.Ga+"-End");performance.measure(this.Ga,
this.Ga+"-Start",this.Ga+"-End")}next(r){this.end();this.Ga=r;performance.mark(this.Ga+"-Start")}}}
{"use strict";const d=self.A,b=2*Math.PI,a=Math.PI/180,e=180/Math.PI;d.wrap=function(f,l,g){f=Math.floor(f);l=Math.floor(l);g=Math.floor(g);return f<l?(f=g-(l-f)%(g-l),f===g?0:f):l+(f-l)%(g-l)};d.oha=function(f,l,g,k){return(f-l)*(k-0)/(g-l)};d.normalize=function(f,l,g){return(f-l)/(g-l)};d.ba=function(f,l,g){return f<l?l:f>g?g:f};d.pe=function(f){f%=b;0>f&&(f+=b);return f};d.Ba=function(f){return f*a};d.Od=function(f){return f*e};d.Lt=function(f,l,g,k){return Math.hypot(g-f,k-l)};d.HW=function(f,
l,g,k){f=g-f;l=k-l;return f*f+l*l};d.It=function(f,l,g,k){return Math.atan2(k-l,g-f)};d.Ht=function(f,l){if(f===l)return 0;f=Math.sin(f)*Math.sin(l)+Math.cos(f)*Math.cos(l);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.kL=function(f,l,g){let k=Math.sin(f),n=Math.cos(f),q=Math.sin(l),r=Math.cos(l);return Math.acos(k*q+n*r)>g?0<n*q-k*r?d.pe(f+g):d.pe(f-g):d.pe(l)};d.Ke=function(f,l){return 0>=Math.cos(f)*Math.sin(l)-Math.sin(f)*Math.cos(l)};d.jL=function(f,l,g,k=0){let n=d.Ht(f,l);k*=b;return d.Ke(l,
f)?d.pe(f+(n+k)*g):d.pe(f-(n+k)*g)};d.hga=function(f,l,g,k=0){const n=d.Ht(f,l);k*=b;return d.Ke(l,f)?d.pe(f+(n+k)*g):d.pe((b-n+k)*g)};d.gga=function(f,l,g,k=0){const n=d.Ht(f,l);k*=b;return d.Ke(l,f)?d.pe((-b+n-k)*g):d.pe(f-(n+k)*g)};d.rd=function(f,l,g){return f+g*(l-f)};d.FD=function(f,l,g){return f===l?0:(g-f)/(l-f)};d.Gha=function(f,l,g,k){return d.rd(0,k,d.FD(f,l,g))};d.wD=function(f,l,g,k){return d.rd(d.rd(f,l,k),d.rd(l,g,k),k)};d.FW=function(f,l,g,k,n){return d.rd(d.wD(f,l,g,n),d.wD(l,g,k,
n),n)};d.EW=function(f,l,g){return(f+l+(f-l)*Math.cos(g*Math.PI))/2};d.el=function(f){return 0<f&&0===(f-1&f)};d.KL=function(f){--f;for(let l=1;32>l;l<<=1)f|=f>>l;return f+1};d.Nwa=function(f,l){return Math.round(f*l)/l};d.Tua=function(f,l){return Math.floor(f*l)/l};d.hX=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,l){f=f.toFixed(l);for(l=f.length-1;0<=l&&"0"===f.charAt(l);--l);0<=l&&"."===f.charAt(l)&&--l;return 0>l?f:f.substr(0,l+1)};d.C4=function(f,l,g){return d.ba(f,0,255)|d.ba(l,
0,255)<<8|d.ba(g,0,255)<<16};d.Az=function(f,l,g,k){f=d.ba(Math.floor(1024*f),-8192,8191);l=d.ba(Math.floor(1024*l),-8192,8191);g=d.ba(Math.floor(1024*g),-8192,8191);k=d.ba(Math.floor(1023*k),0,1023);0>f&&(f+=16384);0>l&&(l+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*l+1024*g+k)};d.$O=function(f,l,g){return d.Az(f,l,g,1)};d.NE=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.CE=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.qE=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.H_=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.Qga=function(f,l){f=Math.floor(f);for(l=Math.floor(l);0!==l;){let g=l;l=f%l;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.jva=function(f,l){f=Math.floor(f);l=Math.floor(l);if(f===l)return[1,1];for(var g of c){let k=
f/g[0]*g[1];if(1>Math.abs(l-k))return g.slice(0);k=f/g[1]*g[0];if(1>Math.abs(l-k))return[g[1],g[0]]}g=d.Qga(f,l);return[f/g,l/g]};d.Twa=function(f,l,g,k,n,q,r,p){var v=Math.min(f,g),t=Math.max(n,r);if(Math.max(f,g)<Math.min(n,r)||v>t)return!1;v=Math.min(l,k);t=Math.max(q,p);if(Math.max(l,k)<Math.min(q,p)||v>t)return!1;v=n-f+r-g;t=q-l+p-k;f=g-f;l=k-l;n=r-n;q=p-q;p=Math.abs(l*n-q*f);return Math.abs(n*t-q*v)>p?!1:Math.abs(f*t-l*v)<=p};d.Jm=function(f,l,g,k,n,q,r,p,v,t,w,x){const z=Math.max(v,w);if(q<
Math.min(v,w)||n>z)return!1;n=Math.max(t,x);if(p<Math.min(t,x)||r>n)return!1;r=v-f+w-g;p=t-l+x-k;f=g-f;l=k-l;v=w-v;t=x-t;x=Math.abs(l*v-t*f);return Math.abs(v*p-t*r)>x?!1:Math.abs(f*p-l*r)<=x};d.xD=function(f,l,g,k,n){const q=Math.min(f,g),r=Math.max(f,g),p=Math.min(l,k),v=Math.max(l,k),t=n.Lb,w=n.Mb,x=n.kc,z=n.lc,E=n.sc,G=n.tc,N=n.ec;n=n.fc;return d.Jm(f,l,g,k,q,r,p,v,t,w,x,z)||d.Jm(f,l,g,k,q,r,p,v,x,z,E,G)||d.Jm(f,l,g,k,q,r,p,v,E,G,N,n)||d.Jm(f,l,g,k,q,r,p,v,N,n,t,w)};d.Swa=function(f,l,g,k,n){const q=
Math.min(f,g),r=Math.max(f,g),p=Math.min(l,k),v=Math.max(l,k);let t=0;for(let w=n.length-4;t<=w;t+=2)if(d.Jm(f,l,g,k,q,r,p,v,n[t],n[t+1],n[t+2],n[t+3]))return!0;return d.Jm(f,l,g,k,q,r,p,v,n[t],n[t+1],n[0],n[1])};d.Fha=function(f,l,g,k,n,q,r,p){g-=f;q=p-q;const v=g*q-(k-l)*(r-n);if(0===v)return 2;k=((l-k)*(r-f)+g*(p-l))/v;return 0<k&&1.000001>k?(q*(r-f)+(n-r)*(p-l))/v:2};d.Sx=function(f,l,g,k,n,q,r,p,v){const t=(r-n)*v;v*=p-q;return d.Fha(f,l,g,k,n-t,q-v,r+t,p+v)};d.cha=function(f,l,g,k,n,q,r,p){n-=
g;q-=k;r-=g;p-=k;f-=g;g=l-k;l=n*n+q*q;k=n*r+q*p;n=n*f+q*g;q=r*r+p*p;r=r*f+p*g;p=1/(l*q-k*k);q=(q*n-k*r)*p;n=(l*r-k*n)*p;return 0<=q&&0<=n&&1>=q+n};d.cia=function(f,l,g,k,n,q,r,p){n-=g;q-=k;r-=g;p-=k;f-=g;const v=l-k;l=n*n+q*q;k=n*r+q*p;g=r*r+p*p;n=f*n+v*q;q=f*r+v*p;r=l*g-k*k;p=(g*n-k*q)/r;n=(l*q-k*n)/r;return[1-p-n,p,n]};d.bia=function(f,l,g,k,n,q,r,p,v){return[f*k+l*q+g*p,f*n+l*r+g*v]}}
{"use strict";const d=self.A;let b=null,a="";if("undefined"!==typeof document){b=document;const k=document.querySelector("base");if(a=k&&k.hasAttribute("href")?k.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.ula=function(){return a};d.rE=function(){if(!b)return"";const k=b.location;return d.L0(k.origin+k.pathname)+a};d.L0=function(k){if(!k.length||k.endsWith("/")||k.endsWith("\\"))return k;const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===
n?"":k.substr(0,n+1)};d.yla=function(k){if(!k.length)return k;if(k.endsWith("/")||k.endsWith("\\"))return"";const n=Math.max(k.lastIndexOf("/"),k.lastIndexOf("\\"));return-1===n?k:k.substr(n+1)};d.g0=function(k){let n=k.lastIndexOf(".");return 1>n?"":k.substr(n)};d.Ny=function(k){let n=k.lastIndexOf(".");return 1>n?k:k.substr(0,n)};d.q3=function(k){return k.replace(/\\/g,"/")};d.oma=function(k,n){return n===(k?d.g0(k).slice(1):"")};d.fla=function(k,n){let q,r;d.iF(k)&&(q=d.Ny(k.name));d.Ri(k)&&(q=
d.Ny(k));d.iF(n)&&(r=d.Ny(n.name));d.Ri(n)&&(r=d.Ny(n));return q===r};d.soa=function(k){k=d.q3(k);let n=/^\w:\//.exec(k);n?(n=n[0],k=k.slice(3),"/"!==k[0]&&(k="/"+k)):n="";k=k.replace(/\/{2,}/g,"/");1<k.length&&"/"===k.slice(-1)&&(k=k.slice(0,-1));var q=k.lastIndexOf("/")+1;let r="",p=k,v="";0<q&&(r=k.slice(0,q),p=k.slice(q));k=p;q=p.lastIndexOf(".");0<q&&(v=p.slice(q),k=p.slice(0,-v.length));return{dir:r,sua:p,name:k,root:n,ext:v,eva:n+r+p}};d.vQ=function(k,n){return new Promise(q=>{self.setTimeout(q,
k,n)})};d.cxa=function(k){try{k()}catch(n){d.Pt&&console.warn("Swallowed exception: ",n)}};d.ewa=function(){};d.yh=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n||k.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Nua=function(k,n){return"string"!==typeof k||"string"!==typeof n?!1:k===n?!0:k.normalize()===n.normalize()};d.dia=function(k,n){var q=0;k[q++]=n[0];k[q++]=n[1];k[q++]=n[2];k[q++]=n[3];k[q++]=n[4];k[q++]=n[5];k[q++]=n[6];k[q++]=n[7];k[q++]=n[8];k[q++]=n[9];
k[q++]=n[10];k[q++]=n[11];k[q++]=n[12];k[q++]=n[13];k[q++]=n[14];k[q]=n[15]};d.qe=function(k,n){k.length=n};d.D=function(k){k&&0!==k.length&&d.qe(k,0)};d.tga=function(k){if(k){for(let n=0;n<k.length;n++)d.qe(k[n],0);d.qe(k,0)}};d.lD=function(k,n,q){n|=0;var r=k.length;if(!(n<=r))for(;r<n;++r)k.push(q)};d.gX=function(k){var n=4;const q=k.length;n<q?d.qe(k,n):n>q&&d.lD(k,n,"0")};d.td=function(k,n){d.D(k);d.Em(k,n)};d.Em=function(k,n){if(1E4>n.length)k.push(...n);else for(let q=0,r=n.length;q<r;++q)k.push(n[q])};
d.kga=function(k,n){n=Math.floor(n);if(!(0>n||n>=k.length)){for(var q=k.length-1;n<q;++n)k[n]=k[n+1];d.qe(k,q)}};d.Uq=function(k,n){n=k.indexOf(n);0<=n&&k.splice(n,1)};d.rua=function(k,n){let q=k.length;if(n.length!==q)return!1;for(let r=0;r<q;++r)if(k[r]!==n[r])return!1;return!0};d.jga=function(k,n){let q=[],r=0;for(let p=0,v=k.length;p<v;++p){let t=k[p];n(t)?q.push(t):(k[r]=t,++r)}d.qe(k,r);return q};d.xh=function(k,n){const q=k.length;let r=0;for(let p=0,v=k.length;p<v;++p){let t=k[p];n.has(t)||
(k[r++]=t)}d.qe(k,r);return q-r};d.Yga=function(k,n){return k!==Math.floor(k)?!1:0<=k&&k<n.length};d.rxa=function(k,n){if(!d.Yga(k,n))throw new RangeError("array index out of bounds");};d.gD=function(k){return k.slice()};d.yga=function(k,n){let q=[];for(let r of k)if(d.mO(r)){k=n(r);if(!k)throw Error("missing clone");if(k.constructor!==r.constructor)throw Error("object is not a clone");q.push(k)}else d.Zo(r)?q.push(d.yga(r,n)):q.push(r);return q};d.Aua=function(k){let n=[];for(let q of k)n.push(q.slice());
return n};d.awa=function(k,n){return new Set([...k,...n])};d.bwa=function(k,n){for(const q of n)k.add(q);return k};d.first=function(k){for(let n of k)return n;return null};d.xor=function(k,n){return!k!==!n};d.compare=function(k,n,q){switch(n){case 0:return k===q;case 1:return k!==q;case 2:return k<q;case 3:return k<=q;case 4:return k>q;case 5:return k>=q;default:return!1}};d.sva=function(k){for(let n in k)if(k.hasOwnProperty(n))return!0;return!1};d.O4=function(k,n){return k.length?new Promise((q,
r)=>{const p=[];let v=0,t=!1;for(let w=0,x=k.length;w<x;++w)p.push(void 0),k[w].then(z=>{t||(p[w]=z,++v,v===k.length?q(p):n(v,k.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let e=[];d.Cia=function(k){e.push(k)};d.xla=function(){let k=0;for(let n of e){let q=n();k+=q}return Math.floor(k)};let c=1;const f=new Map,l=new MessageChannel;l.port2.onmessage=function(k){k=k.data;const n=f.get(k);f.delete(k);n&&n(performance.now())};d.JF=function(k){const n=c++;f.set(n,k);l.port1.postMessage(n);
return n};d.tY=function(k){f.delete(k)};d.I4=d.JF;d.L7=function(){return new Promise(k=>d.I4(k))};const g=new Set;d.Cpa=function(k){const n=self.requestAnimationFrame(async q=>{await d.L7();g.has(n)&&(g.delete(n),k(q))});g.add(n);return n};d.Dja=function(k){g.has(k)&&(self.cancelAnimationFrame(k),g.delete(k))}}
{"use strict";const d=self.A;d.fF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.rF=function(b){return!d.fF(b)};d.r7=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.By=function(b){return fetch(b,void 0).then(a=>{d.r7(a);return a})};d.lu=function(b){return d.By(b).then(a=>a.text())};d.YM=function(b){return d.By(b).then(a=>a.json())};d.jl=function(b){return d.By(b).then(a=>a.blob())};d.ku=function(b){return d.By(b).then(a=>
a.arrayBuffer())};d.z_=function(b){return new Promise((a,e)=>{const c=new Image;c.onload=()=>a(c);c.onerror=f=>e(f);c.src=b})};d.iY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(b)})};d.sM=function(b){return"function"===typeof b.text?b.text():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsText(b)})};d.xja=function(b){return d.sM(b).then(a=>
JSON.parse(a))};d.rM=async function(b,a){b=URL.createObjectURL(b);try{const e=await d.z_(b);URL.revokeObjectURL(b);b="";a&&"function"===typeof e.decode&&await e.decode();return e}finally{b&&URL.revokeObjectURL(b)}};d.Bg=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=b;e.height=a;return e}return new OffscreenCanvas(b,a)};d.fu=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.ba(e,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,e)):b.convertToBlob?b.convertToBlob({type:a,quality:e}):d.fl(()=>d.AM(b,a,e))};d.AM=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.ba(e,0,1);return d.XY(b.toDataURL(a,e))};d.XY=function(b){b=d.D4(b);return d.hY(b.data,b.pha)};d.D4=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var e=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];e="base64"===a[1]||"base64"===c?atob(e):decodeURIComponent(e);return{pha:b,data:e}};d.hY=function(b,a){var e=b.length;let c=e>>2,f=new Uint8Array(e),l=new Uint32Array(f.buffer,0,c),g,k;for(k=g=0;g<c;++g)l[g]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;for(e&=3;e--;)f[k]=b.charCodeAt(k),++k;return a?new Blob([f],{type:a}):new Blob([f])};d.QM=function(b){const a=d.Bg(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return d.fu(a,void 0,void 0)};d.Pla=
function(b,a,e){const c=d.Bg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.AM(c,a,e)};d.H1=function(b){if(d.Tb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>d.QM(a));if(d.Tb.ImageBitmap)return createImageBitmap(b).then(a=>d.QM(a));{const a=d.Bg(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return d.fu(a,void 0,void 0)}};d.NY=function(b,a){b.clear();for(const e of a)b.add(e)};d.vna=function(b){const a=Object.create(null);for(const [e,
c]of b.entries())a[e]=c;return a};d.Zna=function(b,a){a.clear();for(const [e,c]of Object.entries(b))a.set(e,c)};d.tG=function e(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>e(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,l]of Object.entries(a))c[f]=e(l);return c}}return a};d.nE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(f=>
c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [l,g]of Object.entries(e))f[l]=c(g);return f}}return e};d.lY=function(e){let c="",f=!1;for(const l of e)"-"===l?f=!0:f?(c+=l.toUpperCase(),f=!1):c+=l;return c};d.Ym=function(e){return"object"===typeof e&&"function"===typeof e.next};d.i3=function(e){const c=[];for(let f=0;f<e;++f)c.push(0);return c}}
{"use strict";const d=self.A,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,l){0>l&&(l+=1);1<l&&--l;return l<1/6?c+6*(f-c)*l:.5>l?f:l<2/3?c+(f-c)*(2/3-l)*6:c}d.gb=class{constructor(c,f,l,g){this.Ua=this.Za=this.eb=this.ab=0;c instanceof d.gb?this.set(c):this.Fo(c||0,f||0,l||0,g||0)}AD(c,f,l){this.ab=+c;this.eb=+f;this.Za=+l;this.ba()}Fo(c,f,l,g){this.ab=+c;this.eb=+f;this.Za=+l;this.Ua=+g;this.ba()}set(c){this.ab=c.ab;this.eb=c.eb;this.Za=c.Za;
this.Ua=c.Ua;return this}ta(c){return this.set(c)}add(c){this.ab+=c.ab;this.eb+=c.eb;this.Za+=c.Za;this.Ua+=c.Ua;this.ba()}tW(c,f,l){this.ab+=+c;this.eb+=+f;this.Za+=+l;this.Ua+=0;this.ba()}Fm(c){this.ab=c.ab;this.eb=c.eb;this.Za=c.Za}Xq(c){this.ab=d.ba(+c,0,1)}Vt(c){this.eb=d.ba(+c,0,1)}Wq(c){this.Za=d.ba(+c,0,1)}zh(c){this.Ua=d.ba(+c,0,1)}clone(){return d.B(d.gb,this.ab,this.eb,this.Za,this.Ua)}toArray(){return[this.ab,this.eb,this.Za,this.Ua]}Ah(c,f){c[f++]=this.ab;c[f++]=this.eb;c[f++]=this.Za;
c[f]=this.Ua}Uc(c){return this.ab===c.ab&&this.eb===c.eb&&this.Za===c.Za&&this.Ua===c.Ua}yo(c){return this.ab===c.ab&&this.eb===c.eb&&this.Za===c.Za}Hx(c,f,l,g){return this.ab===c&&this.eb===f&&this.Za===l&&this.Ua===g}multiply(c){this.ab*=c.ab;this.eb*=c.eb;this.Za*=c.Za;this.Ua*=c.Ua}vD(){this.ab*=this.Ua;this.eb*=this.Ua;this.Za*=this.Ua}ba(){this.ab=d.ba(this.ab,0,1);this.eb=d.ba(this.eb,0,1);this.Za=d.ba(this.Za,0,1);this.Ua=d.ba(this.Ua,0,1);return this}Wx(c){this.ab=d.NE(c);this.eb=d.CE(c);
this.Za=d.qE(c);this.Ua=d.H_(c)}Mga(){return`rgb(${100*(d.Wm(void 0)?NaN:this.ab)}%, ${100*(d.Wm(void 0)?NaN:this.eb)}%, ${100*(d.Wm(void 0)?NaN:this.Za)}%)`}zha(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var l=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,l=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.Xq(f);isFinite(l)&&this.Vt(l);
isFinite(c)&&this.Wq(c);this.zh(1)}}tD(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var l=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.Xq(c);isFinite(l)&&this.Vt(l);isFinite(f)&&this.Wq(f);this.zh(1)}}}ZW(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var l=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),
10)/100;isFinite(c)&&this.Xq(c);isFinite(l)&&this.Vt(l);isFinite(f)&&this.Wq(f);this.zh(1)}}}aX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var l=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.Xq(c);isFinite(l)&&this.Vt(l);isFinite(g)&&this.Wq(g);isFinite(f)&&this.zh(f)}}}$W(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=
parseInt(f[0].trim(),10)/100;var l=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.Xq(c);isFinite(l)&&this.Vt(l);isFinite(g)&&this.Wq(g);isFinite(f)&&this.zh(f)}}}bX(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.ZW(c):this.tD(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.$W(c):this.aX(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.yha(c);return}{const f=
c.split(",");if(c.includes("%")){if(3===f.length){this.ZW(c);return}4===f.length&&this.$W(c)}else{if(3===f.length){this.tD(c);return}4===f.length&&this.aX(c)}return}}this.zha(c)}}toJSON(){return[this.ab,this.eb,this.Za,this.Ua]}jX(c,f,l,g){c%=360;f=d.ba(f,0,100);l=d.ba(l,0,100);g=d.ba(g,0,1);c/=360;f/=100;l/=100;if(0===f)l=f=c=l;else{const k=.5>l?l*(1+f):l+f-l*f,n=2*l-k;l=e(n,k,c+1/3);f=e(n,k,c);c=e(n,k,c-1/3)}this.Xq(l);this.Vt(f);this.Wq(c);this.zh(g)}yha(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=b.exec(f);f=a.exec(f);c&&4===c.length?this.jX(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.jX(+c[1],+c[2],+c[3],+c[4])}Eo(c){!Array.isArray(c)||3>c.length||(this.ab=c[0],this.eb=c[1],this.Za=c[2],this.Ua=4<=c.length?c[3]:1)}set r(c){this.Xq(c)}get r(){return this.ab}set mga(c){this.Wq(c)}get mga(){return this.Za}set uo(c){this.zh(c)}get uo(){return this.Ua}static hE(c,f){return d.ba(Math.max(c,f)-Math.min(c,f),0,1)}};d.gb.Wta=Object.freeze(d.B(d.gb,1,1,1,1));d.gb.wja=Object.freeze(d.B(d.gb,0,
0,0,1));d.gb.pta=Object.freeze(d.B(d.gb,0,0,0,0))}
{"use strict";const d=self.A;d.gv=class{constructor(b,a){this.O=this.Y=0;b instanceof d.gv?this.ta(b):this.set(b||0,a||0)}set(b,a){this.Y=+b;this.O=+a}ta(b){this.Y=b.Y;this.O=b.O}Uc(b){return this.Y===b.Y&&this.O===b.O}toArray(){return[this.Y,this.O]}Ah(b,a){b[a++]=this.Y;b[a]=this.O}offset(b,a){this.Y+=+b;this.O+=+a}scale(b,a){this.Y*=b;this.O*=a}bl(b,a){this.Y/=b;this.O/=a}round(){this.Y=Math.round(this.Y);this.O=Math.round(this.O)}floor(){this.Y=Math.floor(this.Y);this.O=Math.floor(this.O)}ceil(){this.Y=
Math.ceil(this.Y);this.O=Math.ceil(this.O)}angle(){return d.It(0,0,this.Y,this.O)}iha(){return this.Y*this.Y+this.O*this.O}length(){return Math.sqrt(this.iha())}Jha(b,a){const e=this.Y*a-this.O*b;this.O=this.O*a+this.Y*b;this.Y=e}rotate(b){0!==b&&this.Jha(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.Y+=Math.cos(b)*a,this.O+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.Y/=b,this.O/=b)}ba(b,a){this.Y=d.ba(this.Y,b,a);this.O=d.ba(this.O,b,a)}}}
{"use strict";const d=self.A;d.Rect=class{constructor(b,a,e,c){this.V=this.X=this.L=this.N=0;b instanceof d.Rect?this.ta(b):this.set(b||0,a||0,e||0,c||0)}set(b,a,e,c){this.N=+b;this.L=+a;this.X=+e;this.V=+c}Ei(b,a,e,c){b=+b;a=+a;this.N=b;this.L=a;this.X=b+ +e;this.V=a+ +c}ta(b){this.N=+b.N;this.L=+b.L;this.X=+b.X;this.V=+b.V}clone(){return new d.Rect(this.N,this.L,this.X,this.V)}Uc(b){return this.N===b.N&&this.L===b.L&&this.X===b.X&&this.V===b.V}Pha(b){this.X=+b}toArray(){return[this.N,this.L,this.X,
this.V]}Xha(){new DOMRect(this.N,this.L,this.width(),this.height())}Ah(b,a){b[a++]=this.N;b[a++]=this.L;b[a++]=this.X;b[a]=this.V}fia(b,a){b[a++]=this.N;b[a++]=this.L;b[a++]=this.X;b[a++]=this.L;b[a++]=this.X;b[a++]=this.V;b[a++]=this.N;b[a]=this.V}width(){return this.X-this.N}height(){return this.V-this.L}Bi(){return(this.N+this.X)/2}Ci(){return(this.L+this.V)/2}offset(b,a){b=+b;a=+a;this.N+=b;this.L+=a;this.X+=b;this.V+=a}offsetLeft(b){this.N+=+b}offsetTop(b){this.L+=+b}vha(b){this.X+=+b}uha(b){this.V+=
+b}oD(b,a){b=+b;a=+a;this.N-=b;this.L-=a;this.X+=b;this.V+=a}multiply(b,a){this.N*=b;this.L*=a;this.X*=b;this.V*=a}bl(b,a){this.N/=b;this.L/=a;this.X/=b;this.V/=a}Vha(){const b=this.N;this.N=this.X;this.X=b}Yq(){const b=this.L;this.L=this.V;this.V=b}dM(b){const a=this.L;this.L=+b-this.V;this.V=+b-a}round(){this.N=Math.round(this.N);this.L=Math.round(this.L);this.X=Math.round(this.X);this.V=Math.round(this.V)}Kha(){this.N=Math.floor(this.N);this.L=Math.floor(this.L);this.X=Math.ceil(this.X);this.V=
Math.ceil(this.V)}floor(){this.N=Math.floor(this.N);this.L=Math.floor(this.L);this.X=Math.floor(this.X);this.V=Math.floor(this.V)}ceil(){this.N=Math.ceil(this.N);this.L=Math.ceil(this.L);this.X=Math.ceil(this.X);this.V=Math.ceil(this.V)}ba(b,a,e,c){this.N<b&&(this.N=+b);this.L<a&&(this.L=+a);this.X>e&&(this.X=+e);this.V>c&&(this.V=+c)}DW(){0>this.N&&(this.N=0);1<this.L&&(this.L=1);1<this.X&&(this.X=1);0>this.V&&(this.V=0)}normalize(){this.N>this.X&&this.Vha();this.L>this.V&&this.Yq()}pD(b){return!(b.X<
this.N||b.V<this.L||b.N>this.X||b.L>this.V)}Xga(b,a,e){return!(b.X+a<this.N||b.V+e<this.L||b.N+a>this.X||b.L+e>this.V)}Qf(b,a){return b>=this.N&&b<=this.X&&a>=this.L&&a<=this.V}jha(b){this.N=d.rd(b.N,b.X,this.N);this.L=d.rd(b.L,b.V,this.L);this.X=d.rd(b.N,b.X,this.X);this.V=d.rd(b.L,b.V,this.V)}}}
{"use strict";const d=self.A;d.xd=class{constructor(b,a,e,c,f,l,g,k){this.fc=this.ec=this.tc=this.sc=this.lc=this.kc=this.Mb=this.Lb=0;b instanceof d.xd?this.ta(b):this.set(b||0,a||0,e||0,c||0,f||0,l||0,g||0,k||0)}set(b,a,e,c,f,l,g,k){this.Lb=+b;this.Mb=+a;this.kc=+e;this.lc=+c;this.sc=+f;this.tc=+l;this.ec=+g;this.fc=+k}kX(b,a,e,c){this.set(b,a,e,a,e,c,b,c)}ta(b){this.Lb=b.Lb;this.Mb=b.Mb;this.kc=b.kc;this.lc=b.lc;this.sc=b.sc;this.tc=b.tc;this.ec=b.ec;this.fc=b.fc}Uc(b){return this.Lb===b.Lb&&this.Mb===
b.Mb&&this.kc===b.kc&&this.lc===b.lc&&this.sc===b.sc&&this.tc===b.tc&&this.ec===b.ec&&this.fc===b.fc}toArray(){return[this.Lb,this.Mb,this.kc,this.lc,this.sc,this.tc,this.ec,this.fc]}Ah(b,a){b[a++]=this.Lb;b[a++]=this.Mb;b[a++]=this.kc;b[a++]=this.lc;b[a++]=this.sc;b[a++]=this.tc;b[a++]=this.ec;b[a]=this.fc}gia(b,a,e){b[a++]=this.Lb;b[a++]=this.Mb;b[a++]=e;b[a++]=this.kc;b[a++]=this.lc;b[a++]=e;b[a++]=this.sc;b[a++]=this.tc;b[a++]=e;b[a++]=this.ec;b[a++]=this.fc;b[a]=e}offset(b,a){b=+b;a=+a;this.Lb+=
b;this.Mb+=a;this.kc+=b;this.lc+=a;this.sc+=b;this.tc+=a;this.ec+=b;this.fc+=a}round(){this.Lb=Math.round(this.Lb);this.Mb=Math.round(this.Mb);this.kc=Math.round(this.kc);this.lc=Math.round(this.lc);this.sc=Math.round(this.sc);this.tc=Math.round(this.tc);this.ec=Math.round(this.ec);this.fc=Math.round(this.fc)}floor(){this.Lb=Math.floor(this.Lb);this.Mb=Math.floor(this.Mb);this.kc=Math.floor(this.kc);this.lc=Math.floor(this.lc);this.sc=Math.floor(this.sc);this.tc=Math.floor(this.tc);this.ec=Math.floor(this.ec);
this.fc=Math.floor(this.fc)}ceil(){this.Lb=Math.ceil(this.Lb);this.Mb=Math.ceil(this.Mb);this.kc=Math.ceil(this.kc);this.lc=Math.ceil(this.lc);this.sc=Math.ceil(this.sc);this.tc=Math.ceil(this.tc);this.ec=Math.ceil(this.ec);this.fc=Math.ceil(this.fc)}Rj(b){this.Lb=b.N;this.Mb=b.L;this.kc=b.X;this.lc=b.L;this.sc=b.X;this.tc=b.V;this.ec=b.N;this.fc=b.V}Oha(b,a){0===a?this.Rj(b):this.yD(b,Math.sin(a),Math.cos(a))}yD(b,a,e){const c=b.N*a,f=b.L*a,l=b.X*a;a*=b.V;const g=b.N*e,k=b.L*e,n=b.X*e;b=b.V*e;this.Lb=
g-f;this.Mb=k+c;this.kc=n-f;this.lc=k+l;this.sc=n-a;this.tc=b+l;this.ec=g-a;this.fc=b+c}xL(b){b.set(Math.min(this.Lb,this.kc,this.sc,this.ec),Math.min(this.Mb,this.lc,this.tc,this.fc),Math.max(this.Lb,this.kc,this.sc,this.ec),Math.max(this.Mb,this.lc,this.tc,this.fc))}Qf(b,a){var e=this.kc-this.Lb,c=this.lc-this.Mb;const f=this.sc-this.Lb,l=this.tc-this.Mb;b-=this.Lb;a-=this.Mb;var g=e*e+c*c;let k=e*f+c*l;c=e*b+c*a;const n=f*f+l*l,q=f*b+l*a;let r=1/(g*n-k*k);e=(n*c-k*q)*r;g=(g*q-k*c)*r;if(0<=e&&0<
g&&1>e+g)return!0;e=this.ec-this.Lb;c=this.fc-this.Mb;g=e*e+c*c;k=e*f+c*l;c=e*b+c*a;r=1/(g*n-k*k);e=(n*c-k*q)*r;g=(g*q-k*c)*r;return 0<=e&&0<g&&1>e+g}Bi(){return(this.Lb+this.kc+this.sc+this.ec)/4}Ci(){return(this.Mb+this.lc+this.tc+this.fc)/4}AL(b){var a=b.Bi(),e=b.Ci();if(this.Qf(a,e))return!0;a=this.Bi();e=this.Ci();if(b.Qf(a,e))return!0;a=this.Lb;e=this.Mb;const c=this.kc,f=this.lc,l=this.sc,g=this.tc,k=this.ec,n=this.fc;return d.xD(a,e,c,f,b)||d.xD(c,f,l,g,b)||d.xD(l,g,k,n,b)||d.xD(k,n,a,e,b)}Iha(){const b=
this.Lb,a=this.Mb;this.Lb=this.kc;this.Mb=this.lc;this.kc=this.sc;this.lc=this.tc;this.sc=this.ec;this.tc=this.fc;this.ec=b;this.fc=a}}}
{"use strict";const d=self.A,b=[0,0,1,0,1,1,0,1],a=d.B(d.xd);d.Io=class extends d.ga{constructor(e,c=!0){super();e||(e=b);this.Bd=Float64Array.from(e);this.MA=new d.Rect;this.hq=!0;this.fh=c}m(){}RL(){return this.Bd.length/2}zD(e){this.Bd.length===e.length?this.Bd.set(e):this.Bd=Float64Array.from(e);this.hq=!0}Nha(){this.zD(b)}ta(e){this.zD(e.Bd)}bM(){this.hq=!0}Xfa(){if(this.hq){var e=this.Bd,c=e[0],f=e[1],l=c,g=f;for(let k=0,n=e.length;k<n;k+=2){const q=e[k],r=e[k+1];q<c&&(c=q);q>l&&(l=q);r<f&&
(f=r);r>g&&(g=r)}this.MA.set(c,f,l,g);this.hq=!1}}Rj(e){let c=this.Bd;8!==c.length&&(this.Bd=c=new Float64Array(8));c[0]=e.N-NaN;c[1]=e.L-NaN;c[2]=e.X-NaN;c[3]=e.L-NaN;c[4]=e.X-NaN;c[5]=e.V-NaN;c[6]=e.N-NaN;c[7]=e.V-NaN;this.MA.ta(e);this.MA.offset(NaN,NaN);this.hq=!1}cM(e,c,f){a.ta(e);a.offset(c,f);this.zD(a.toArray());this.hq=!0}transform(e,c,f){let l=0,g=1;0!==f&&(l=Math.sin(f),g=Math.cos(f));this.kM(e,c,l,g)}kM(e,c,f,l){const g=this.Bd;for(let k=0,n=g.length;k<n;k+=2){const q=k+1,r=g[k]*e,p=g[q]*
c;g[k]=r*l-p*f;g[q]=p*l+r*f}this.hq=!0}offset(e,c){const f=this.Bd;for(let l=0,g=f.length;l<g;l+=2)f[l]+=e,f[l+1]+=c}Qf(e,c){const f=this.Bd;if(e===f[0]&&c===f[1])return!0;this.Xfa();var l=this.MA;const g=l.N-110,k=l.L-101,n=l.X+131;l=l.V+120;let q,r,p,v,t,w,x,z;g<e?(q=g,p=e):(q=e,p=g);k<c?(r=k,v=c):(r=c,v=k);n<e?(t=n,x=e):(t=e,x=n);l<c?(w=l,z=c):(w=c,z=l);let E=0,G=0;for(let C=0,H=f.length;C<H;C+=2){var N=(C+2)%H;const I=f[C],K=f[C+1],Q=f[N];N=f[N+1];d.Jm(g,k,e,c,q,p,r,v,I,K,Q,N)&&++E;d.Jm(n,l,e,
c,t,x,w,z,I,K,Q,N)&&++G}return 1===E%2||1===G%2}Kx(e,c,f){const l=e.Bd,g=this.Bd;if(this.Qf(l[0]+c,l[1]+f)||e.Qf(g[0]-c,g[1]-f))return!0;for(let n=0,q=g.length;n<q;n+=2){var k=(n+2)%q;e=g[n];const r=g[n+1],p=g[k];k=g[k+1];let v,t,w,x;e<p?(v=e,w=p):(v=p,w=e);r<k?(t=r,x=k):(t=k,x=r);for(let z=0,E=l.length;z<E;z+=2){const G=(z+2)%E;if(d.Jm(e,r,p,k,v,w,t,x,l[z]+c,l[z+1]+f,l[G]+c,l[G+1]+f))return!0}}return!1}wl(){return this.fh}}}
{"use strict";const d=self.A;d.Mu=class extends d.ga{constructor(b){super();this.Hk=new Map;if(b)for(const [a,e,c]of b)this.Set(a,e,c)}m(){this.Gc();this.Hk=null}Gc(){const b=this.Hk;for(const a of b.values())a.clear();b.clear()}Set(b,a,e){const c=this.Hk;let f=c.get(b);f||(f=new Map,c.set(b,f));f.set(a,e)}$(b,a){return(b=this.Hk.get(b))?b.get(a):b}gz(b){return(b=this.Hk.get(b))?b.has(void 0):!1}Jo(b,a){const e=this.Hk,c=e.get(b);c&&c.delete(a)&&0===c.size&&e.delete(b)}PM(b){const a=this.Hk,e=a.get(b);
e&&(e.clear(),a.delete(b));for(const [c,f]of a.entries())f.delete(b)&&0===f.size&&a.delete(c)}Um(){let b=0;for(const a of this.Hk.values())b+=a.size;return b}*values(){for(const b of this.Hk.values())yield*b.values()}*entries(){for(const [b,a]of this.Hk.entries())for(const [e,c]of a.entries())yield[b,e,c]}}}
{"use strict";const d=self.A;d.SD=class extends d.ga{constructor(){super();this.co=new Set;this.IA=[];this.Pw=!1}m(){this.Gc()}Gc(){this.co.clear();d.D(this.IA);this.Pw=!1}wc(b){this.co.has(b)||(this.co.add(b),this.Pw||this.IA.push(b))}gz(b){return this.co.has(b)}Jo(b){this.co.delete(b)&&(this.Pw=!0)}Um(){return this.co.size}cp(){return 0===this.co.size}pE(){this.Pw&&(this.Zba(),this.Pw=!1);return this.IA}Zba(){const b=this.IA;d.D(b);for(const a of this.co)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.iu=class l{constructor(){}static C2(g){this.EG();return[...b.keys()].includes(g)}static H$(g){const k=f.get(g);if(k)return d.get(k);if(l.C2(g))return d.get(g);if(c.has(g))return c.get(g)}static Ro(g){this.EG();const k=l.H$(g);return k?k:e.get(g)}static EG(){0===d.size&&(this.Db("default",()=>{}),this.Db("noease",this.p3),this.Db("easeinsine",this.d_),this.Db("easeoutsine",
this.m_),this.Db("easeinoutsine",this.$Z),this.Db("easeinelastic",this.PZ),this.Db("easeoutelastic",this.h_),this.Db("easeinoutelastic",this.VZ),this.Db("easeinback",this.MZ),this.Db("easeoutback",this.e_),this.Db("easeinoutback",this.RZ),this.Db("easeinbounce",this.RM),this.Db("easeoutbounce",this.jE),this.Db("easeinoutbounce",this.SZ),this.Db("easeincubic",this.OZ),this.Db("easeoutcubic",this.g_),this.Db("easeinoutcubic",this.UZ),this.Db("easeinquad",this.a_),this.Db("easeoutquad",this.j_),this.Db("easeinoutquad",
this.XZ),this.Db("easeinquart",this.b_),this.Db("easeoutquart",this.k_),this.Db("easeinoutquart",this.YZ),this.Db("easeinquint",this.c_),this.Db("easeoutquint",this.l_),this.Db("easeinoutquint",this.ZZ),this.Db("easeincirc",this.NZ),this.Db("easeoutcirc",this.f_),this.Db("easeinoutcirc",this.TZ),this.Db("easeinexpo",this.QZ),this.Db("easeoutexpo",this.i_),this.Db("easeinoutexpo",this.WZ),this.GQ("cubicbezier",this.LZ),this.GQ("spline",this.n_))}static Db(g,k){l.wG(g,k,"predefined")}static GQ(g,k){l.wG(g,
k,"private")}static GX(g,k){this.EG();l.wG(g,k,"custom",void 0)}static wG(g,k,n,q){switch(n){case "predefined":d.set(g,k);b.set(g,k);break;case "custom":q?(a.has(q)||a.set(q,new Map),a.get(q).set(g,k)):e.set(g,k);break;case "private":d.set(g,k);c.set(g,k);break;default:throw Error("unexpected ease mode");}}static p3(g,k,n,q){return n*g/q+k}static a_(g,k,n,q){return n*(g/=q)*g+k}static j_(g,k,n,q){return-n*(g/=q)*(g-2)+k}static XZ(g,k,n,q){return 1>(g/=q/2)?n/2*g*g+k:-n/2*(--g*(g-2)-1)+k}static OZ(g,
k,n,q){return n*(g/=q)*g*g+k}static g_(g,k,n,q){return n*((g=g/q-1)*g*g+1)+k}static UZ(g,k,n,q){return 1>(g/=q/2)?n/2*g*g*g+k:n/2*((g-=2)*g*g+2)+k}static b_(g,k,n,q){return n*(g/=q)*g*g*g+k}static k_(g,k,n,q){return-n*((g=g/q-1)*g*g*g-1)+k}static YZ(g,k,n,q){return 1>(g/=q/2)?n/2*g*g*g*g+k:-n/2*((g-=2)*g*g*g-2)+k}static c_(g,k,n,q){return n*(g/=q)*g*g*g*g+k}static l_(g,k,n,q){return n*((g=g/q-1)*g*g*g*g+1)+k}static ZZ(g,k,n,q){return 1>(g/=q/2)?n/2*g*g*g*g*g+k:n/2*((g-=2)*g*g*g*g+2)+k}static d_(g,
k,n,q){return-n*Math.cos(g/q*(Math.PI/2))+n+k}static m_(g,k,n,q){return n*Math.sin(g/q*(Math.PI/2))+k}static $Z(g,k,n,q){return-n/2*(Math.cos(Math.PI*g/q)-1)+k}static QZ(g,k,n,q){return 0===g?k:n*Math.pow(2,10*(g/q-1))+k}static i_(g,k,n,q){return g===q?k+n:n*(-Math.pow(2,-10*g/q)+1)+k}static WZ(g,k,n,q){return 0===g?k:g===q?k+n:1>(g/=q/2)?n/2*Math.pow(2,10*(g-1))+k:n/2*(-Math.pow(2,-10*--g)+2)+k}static NZ(g,k,n,q){return-n*(Math.sqrt(1-(g/=q)*g)-1)+k}static f_(g,k,n,q){return n*Math.sqrt(1-(g=g/q-
1)*g)+k}static TZ(g,k,n,q){return 1>(g/=q/2)?-n/2*(Math.sqrt(1-g*g)-1)+k:n/2*(Math.sqrt(1-(g-=2)*g)+1)+k}static PZ(g,k,n,q){let r=0,p=n;if(0===g)return k;if(1===(g/=q))return k+n;r||(r=.3*q);p<Math.abs(n)?(p=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-n)*Math.PI/r))+k}static h_(g,k,n,q){let r,p=0,v=n;if(0===g)return k;if(1===(g/=q))return k+n;p||(p=.3*q);v<Math.abs(n)?(v=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/v);return v*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+n+k}static VZ(g,k,n,q){let r,p=0,v=n;if(0===g)return k;if(2===(g/=q/2))return k+n;p||(p=.3*q*1.5);v<Math.abs(n)?(v=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/v);return 1>g?-.5*v*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+k:v*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+n+k}static MZ(g,k,n,q,r){void 0===r&&(r=1.70158);return n*(g/=q)*g*((r+1)*g-r)+k}static e_(g,k,n,q,r){void 0===r&&(r=1.70158);return n*((g=g/q-1)*g*((r+1)*g+r)+1)+k}static RZ(g,k,n,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?n/2*g*g*(((r*=1.525)+1)*g-r)+k:n/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+k}static RM(g,k,n,q){return n-l.jE(q-g,0,n,q)+k}static jE(g,k,n,q){return(g/=q)<1/2.75?7.5625*n*g*g+k:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+k:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+k:n*(7.5625*(g-=2.625/2.75)*g+.984375)+k}static SZ(g,k,n,q){return g<q/2?.5*l.RM(2*g,0,n,q)+k:.5*l.jE(2*g-q,0,n,q)+.5*n+k}static LZ(g,k,n,q,r){return k+3*g*(n-k)+3*g**2*(k+q-2*n)+g**3*(r-k+3*n-3*q)}static n_(g,k,n,q,r,p,v,t,w,x){if(q===
r&&p===v)return g;if(1==g)g=1;else{for(var z=0,E=1,G=x[E];10!=E&&G<=g;)E++,G=x[E],z+=.1;E--;G=x[E];x=z+(g-G)/(x[E+1]-G)*.1;t=t-3*p+3*q-k;p=3*p-6*q+3*k;k=3*(q-k);q=3*t*x*x+2*p*x+k;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+k)*x-g)/(3*t*x*x+2*p*x+k);else{q=z;z+=.1;E=0;let N;do x=q+(z-q)/2,G=((t*x+p)*x+k)*x-g,0<G?z=x:q=x,G=1E-7<Math.abs(G),N=10>++E;while(G&&N)}g=x}return(((w-3*v+3*r-n)*g+(3*v-6*r+3*n))*g+3*(r-n))*g}static O_(g,k,n,q){const r=[];q=q-3*n+3*k-g;n=3*n-6*k+3*g;g=3*(k-g);for(let p=
0;11>p;++p)k=.1*p,r.push(((q*k+n)*k+g)*k);return r}}}{"use strict";const d=self.A;d.fpa=class{constructor(){this.MU=[]}m(){this.Gc();this.MU=null}Gc(){d.tga(this.MU)}}}"use strict";
self.A.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.Zga=this.VL=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Zga)throw Error(`cannot stop async event '${this.type}' propagation`);this.VL=!0}};
{"use strict";const d=self.A;d.Event.d1=class extends d.ga{constructor(b){super();this.Aa=b;this.Cf=[];this.ss=new Set;this.Hf=[];this.Us=new Set;this.Yv=0;this.jt=[]}m(){0<this.Yv||(d.D(this.Cf),this.ss.clear(),d.D(this.Hf),this.Us.clear(),d.D(this.jt),d.m(this))}EQ(b,a){this.$R()?this.jt.push({OL:"add",Ai:b,capture:a}):a?this.ss.has(b)||(this.Cf.push(b),this.ss.add(b)):this.Us.has(b)||(this.Hf.push(b),this.Us.add(b))}oca(b,a){this.$R()?this.jt.push({OL:"remove",Ai:b,capture:a}):a?this.ss.has(b)&&
(this.ss.delete(b),d.Uq(this.Cf,b)):this.Us.has(b)&&(this.Us.delete(b),d.Uq(this.Hf,b))}raa(){return!this.Cf.length&&!this.Hf.length}$R(){return 0<this.Yv}Wba(){const b=new Set,a=new Set;for(const e of this.jt)if("add"===e.OL)this.EQ(e.Ai,e.capture),e.capture?a.delete(e.Ai):b.delete(e.Ai);else if("remove"===e.OL)e.capture?(this.ss.delete(e.Ai),a.add(e.Ai)):(this.Us.delete(e.Ai),b.add(e.Ai));else throw Error("invalid op");d.xh(this.Hf,b);d.xh(this.Cf,a);d.D(this.jt)}s$(b){this.js();let a=!1;for(let e=
0,c=this.Cf.length;e<c;++e)if(this.Cf[e](b),b.VL){a=!0;break}if(!a)for(let e=0,c=this.Hf.length;e<c&&(this.Hf[e](b),!b.VL);++e);this.gs();return!b.defaultPrevented}u$(b){this.js();for(let a=0,e=this.Cf.length;a<e;++a)this.Cf[a](b);for(let a=0,e=this.Hf.length;a<e;++a)this.Hf[a](b);this.gs();return!0}js(){this.Yv++}gs(){this.Yv--;0===this.Yv&&0<this.jt.length&&this.Wba()}Pr(b){b?this.js():this.gs()}lR(b){const a=[];this.js();for(let c=0,f=this.Cf.length;c<f;++c){var e=this.Cf[c](b);e instanceof Promise&&
a.push(e)}for(let c=0,f=this.Hf.length;c<f;++c)e=this.Hf[c](b),e instanceof Promise&&a.push(e);this.gs();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async p$(b){return await this.lR(b)}async q$(b){this.js();for(let e=0,c=this.Cf.length;e<c;++e){var a=this.Cf[e](b);a instanceof Promise&&await a}for(let e=0,c=this.Hf.length;e<c;++e)a=this.Hf[e](b),a instanceof Promise&&await a;this.gs();return!b.defaultPrevented}*r$(b){this.js();for(let e=0,c=this.Cf.length;e<c;++e){var a=
this.Cf[e](b);d.Ym(a)&&(yield*a)}for(let e=0,c=this.Hf.length;e<c;++e)a=this.Hf[e](b),d.Ym(a)&&(yield*a);this.gs()}}}
{"use strict";const d=self.A;d.Event.Gb=class extends d.ga{constructor(){super();this.Wp=new Map;this.tI=!1}m(){if(this.tI)throw Error("already released");this.zY();this.tI=!0;d.m(this)}Sz(){return this.tI}zY(){for(let b of this.Wp.values())b.m();this.Wp.clear()}xp(b,a){let e=this.Wp.get(b);return e?e:a?(e=d.B(d.Event.d1,b),this.Wp.set(b,e),e):null}VE(b){return this.Wp.has(b)}addEventListener(b,a,e){this.xp(b,!0).EQ(a,!!e)}removeEventListener(b,a,e){let c=this.xp(b,!1);c&&(c.oca(a,!!e),c.raa()&&this.Wp.delete(b))}dispatchEvent(b){const a=
this.xp(b.type,!1);return a?b.cancelable?a.s$(b):a.u$(b):!0}async sL(b){const a=this.xp(b.type,!1);return a?await a.p$(b):!0}Ega(b){const a=this.xp(b.type,!1);return a?a.lR(b):!0}async Dga(b){const a=this.xp(b.type,!1);a&&await a.q$(b)}Fga(b){const a=this.xp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.r$(b)}Pr(b){for(const a of this.Wp.values())a.Pr(b)}}}
{"use strict";const d=self.A,b="undefined"!==typeof requestIdleCallback;let a=[],e=-1,c=0;function f(n){e=b&&0===c?requestIdleCallback(l,{timeout:35}):setTimeout(l,0<c?1:n)}function l(n){e=-1;if(a.length){var q=performance.now(),r=0;do{g(a.shift());var p=performance.now();++r;var v=(p-q)/r*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?v<n.timeRemaining():12>p-q+v));-1===e&&a.length&&f(Math.max(16-(p-q),4))}}function g(n){let q;try{q=n.Ai()}catch(r){n.reject(r);return}n.resolve(q)}let k=d.DF.gz("disable-asyncify");
k&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.fl=function(n){let q=null;d.Pt&&(q=d.Fy());return new Promise((r,p)=>{a.push({Ai:n,resolve:r,reject:p,stack:q});k?g(a.pop()):-1===e&&f(16)})};d.fl.KP=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.A;let b=-1;function a(){b=-1}d.Ay=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let e=-1,c=-1,f=new Set;function l(){c=e=-1;let g=Date.now();for(let k of f)if(k.I8(g)){let n=k.Sp;if(-1===c||n<c)c=n}else f.delete(k);-1!==c&&(e=self.setTimeout(l,Math.max(c-g+100,1E3)))}d.G1=class{constructor(g,k){this.rs=g;this.SC=1E3*k;this.Sp=0;this.Jb=!1}Jc(){let g=d.Ay();this.Sp=g+this.SC;this.Jb||(f.add(this),this.Jb=!0);-1===e?(c=this.Sp,e=self.setTimeout(l,this.SC+
100)):this.Sp<c&&c>g+1E3&&(self.clearTimeout(e),c=this.Sp,e=self.setTimeout(l,this.SC+100))}I8(g){return g>=this.Sp?this.rs()?(this.Sp=g+this.SC,!0):this.Jb=!1:!0}sY(){this.Jb&&(f.delete(this),this.Jb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}m(){this.sY();this.rs=null}}}
{"use strict";const d=self.A;d.Sb=class b{constructor(a){this.Ds=!1;this.vI=a}xy(){this.Ds||(this.Ds=!0,this.vI&&(this.vI(),this.vI=null))}m(){this.xy()}static m(a){return new b(()=>a.m())}static xc(a,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const l=new d.gr;for(let g of e)a.addEventListener(g,c,f),l.wc(d.B(d.Sb,()=>a.removeEventListener(g,c,f)));return l}a.addEventListener(e,
c,f);return d.B(d.Sb,()=>a.removeEventListener(e,c,f))}};d.cta=class extends d.Sb{};d.gr=class extends d.Sb{constructor(...b){super();this.ee=new Set;for(let a of b)this.wc(a)}wc(...b){if(this.Ds)throw Error("already disposed");for(let a of b)this.ee.add(a)}Oh(b){if(this.Ds)throw Error("already disposed");this.ee.delete(b)}xy(){if(this.Ds)throw Error("already disposed");this.Ds=!0;for(let b of this.ee)b.xy();this.ee.clear();this.ee=null}m(){this.xy()}}}
{"use strict";const d=self.A;d.Dr=class extends d.ga{constructor(){super();this.qt=this.jx=this.O=this.PA=0}wc(b){this.O=+b-this.PA;this.jx=this.qt+this.O;this.PA=this.jx-this.qt-this.O;this.qt=this.jx}$(){return this.qt}Jc(){this.qt=this.jx=this.O=this.PA=0}Set(b){this.jx=this.O=this.PA=0;this.qt=+b}m(){}}}
{"use strict";const d=self.A,b={FF:function(a){this.sX=a;this.left=this.right=this.sX.sb;this.parent=null;this.color=!1;this.key=null},ip:function(a){this.size=0;this.sb=new b.FF(this);this.sb.color=!1;this.root=this.sb;this.root.parent=this.sb;this.compare=a||this.zga}};ya=b.ip.prototype;ya.zga=function(a,e){return a<e?-1:e<a?1:0};ya.clone=function(){var a=new b.ip(this.compare);a.Uga(this);return a};ya.clear=function(){this.size=0;this.sb=new b.FF(this);this.sb.color=!1;this.root=this.sb;this.root.parent=
this.sb};ya.Lx=function(a){var e=a.right;a.right=e.left;e.left!=this.sb&&(e.left.parent=a);e.parent=a.parent;a.parent==this.sb?this.root=e:a==a.parent.left?a.parent.left=e:a.parent.right=e;e.left=a;a.parent=e};ya.Ux=function(a){var e=a.left;a.left=e.right;e.right!=this.sb&&(e.right.parent=a);e.parent=a.parent;a.parent==this.sb?this.root=e:a==a.parent.right?a.parent.right=e:a.parent.left=e;e.right=a;a.parent=e};ya.Mt=function(a){if(this.contains(a))this.Ix(a).key=a;else{var e=new b.FF(this);e.key=
a;a=this.sb;for(var c=this.root;c!=this.sb;)a=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=a;a==this.sb?this.root=e:0>this.compare(e.key,a.key)?a.left=e:a.right=e;e.left=this.sb;e.right=this.sb;e.color=!0;this.Vga(e);this.size++}};ya.Vga=function(a){for(;a!=this.sb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var e=a.parent.parent.right;1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.Lx(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.sb&&this.Ux(a.parent.parent))}else e=a.parent.parent.left,1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.Ux(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.sb&&this.Lx(a.parent.parent));this.root.color=!1};ya.Bga=function(a){var e=a.left==this.sb||a.right==this.sb?a:this.Go(a);var c=e.left!=this.sb?e.left:e.right;c.parent=e.parent;e.parent==
this.sb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=a&&(a.key=e.key);0==e.color&&this.Aga(c);this.size--};ya.Aga=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var e=a.parent.right;1==e.color&&(e.color=!1,a.parent.color=!0,this.Lx(a.parent),e=a.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,a=a.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.Ux(e),e=a.parent.right),e.color=a.parent.color,a.parent.color=!1,e.right.color=!1,this.Lx(a.parent),
a=this.root)}else e=a.parent.left,1==e.color&&(e.color=!1,a.parent.color=!0,this.Ux(a.parent),e=a.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,a=a.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.Lx(e),e=a.parent.left),e.color=a.parent.color,a.parent.color=!1,e.left.color=!1,this.Ux(a.parent),a=this.root);a.color=!1};ya.remove=function(a){a=this.Ix(a);if(a!=this.sb){var e=a.key;this.Bga(a);return e}return null};ya.min=function(a){for(;a.left!=this.sb;)a=a.left;return a};ya.max=
function(a){for(;a.right!=this.sb;)a=a.right;return a};ya.Go=function(a){if(a.right!=this.sb)return this.min(a.right);for(var e=a.parent;e!=this.sb&&a==e.right;)a=e,e=e.parent;return e};ya.Ix=function(a){for(var e=this.root;e!=this.sb&&0!=this.compare(e.key,a);)e=0>this.compare(a,e.key)?e.left:e.right;return e};ya.contains=function(a){return null!=this.Ix(a).key};ya.yL=function(){var a=[];this.forEach(function(e){a.push(e)});return a};ya.Uga=function(a){if("array"==b.lM(a))for(var e=0;e<a.length;e++)this.Mt(a[e]);
else if("function"==b.lM(a.forEach))a.forEach(this.Mt,this);else if("function"==b.lM(a.yL))for(a=a.yL(),e=0;e<a.length;e++)this.Mt(a[e]);else if("object"==b.lM(a))for(e in a)this.Mt(a[e])};ya.range=function(a,e){var c=[];this.aia(function(f){c.push(f)},a,e);return c};ya.aia=function(a,e,c){if(!this.Qt())for(e=this.Ix(e),c=this.Ix(c);e!=c&&!a.call(void 0,e.key,this);)e=this.Go(e)};ya.forEach=function(a,e){if(!this.Qt())for(var c=this.min(this.root);c!=this.sb;c=this.Go(c))a.call(e,c.key,c.key,this)};
ya.some=function(a,e){if(this.Qt())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.Go(c))if(a.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(a,e){if(this.Qt())return!1;for(var c=this.min(this.root);c!=this.sb;c=this.Go(c))if(!a.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(a,e){var c=[];if(this.Qt())return c;for(var f=this.min(this.root);f!=this.sb;f=this.Go(f))c.push(a.call(e,f.key,f.key,this));return c};ya.filter=function(a,e){var c=[];if(this.Qt())return c;
for(var f=this.min(this.root);f!=this.sb;f=this.Go(f))a.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.Qt=function(){return 0==this.size};d.ip=class extends d.ga{constructor(a){super();this.li=new b.ip(a);this.Fs=!1;this.Cq=new Set;this.Dq=new Set}wc(a){this.Fs?this.li.contains(a)?this.Dq.delete(a):this.Cq.add(a):this.li.Mt(a)}Oh(a){this.Fs?this.li.contains(a)?this.Dq.add(a):this.Cq.delete(a):this.li.remove(a)}gz(a){return this.Fs?this.Cq.has(a)?!0:!this.Dq.has(a)&&this.li.contains(a):this.li.contains(a)}Gc(){this.li.clear();
this.Cq.clear();this.Dq.clear()}toArray(){if(this.Fs)throw Error("cannot be used in queueing mode");return this.li.yL()}Um(){return this.li.size+this.Cq.size-this.Dq.size}cp(){return 0===this.Um()}Ph(a){a=!!a;if(this.Fs!==a&&(this.Fs=a,!a)){for(const e of this.Dq)this.li.remove(e);this.Dq.clear();for(const e of this.Cq)this.li.Mt(e);this.Cq.clear()}}*values(){if(!this.cp()){var a=this.li;for(let e=a.min(a.root);e!=a.sb;e=a.Go(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.A;d.CF=class{constructor(b=d.hardwareConcurrency){this.wfa=b;this.rK=[];this.OH=0}wc(b){return new Promise((a,e)=>{this.rK.push({Ai:b,resolve:a,reject:e});this.lS()})}async lS(){if(this.rK.length&&!(this.OH>=this.wfa)){this.OH++;var b=this.rK.shift();try{const a=await b.Ai();b.resolve(a)}catch(a){b.reject(a)}this.OH--;this.lS()}}}}
{"use strict";const d=self.A;d.W4=class{constructor(b,a,e){this.rs=b;this.ffa=a;this.gfa=e||2*a;this.zt=-1;this.ZB=-Infinity;this.hW=()=>this.Jba();this.Pea=this.VI=!1;this.Pv=null}M$(){return"undefined"!==typeof d.fY&&d.fY.zma()?this.gfa:this.ffa}rY(){var b=[];if(-1===this.zt){this.Pv=b;b=d.Ay();var a=b-this.ZB,e=this.M$();a>=e&&this.Pea?(this.ZB=b,this.GS()):this.zt=self.setTimeout(this.hW,Math.max(e-a,4))}}GS(){this.VI=!0;const b=this.Pv;this.Pv=null;b?this.rs(...b):this.rs();this.VI=!1}Jc(){this.VI||
(this.LQ(),this.Pv=null,this.ZB=d.Ay())}Jba(){this.zt=-1;this.ZB=d.Ay();this.GS()}LQ(){-1!==this.zt&&(self.clearTimeout(this.zt),this.zt=-1)}m(){this.LQ();this.hW=this.Pv=this.rs=null}}}"use strict";function gc(d,b){if(!d.iU)throw Error("no get base size callback set");return d.iU(b)}function hc(d){if(!d.DV)throw Error("no redraw callback set");d.DV()}self.A.zqa=class{constructor(){this.cfa=new Map;this.DV=this.GV=this.iU=null}};"use strict";
self.A.yqa=class{constructor(d,b){this.Zs=d;this.Sea=b;this.Sc=0;gc(this.Zs,b).then(()=>{hc(this.Zs)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);hc(this.Zs)});this.sK=null}m(){if(0>=this.Sc)throw Error("already released");this.Sc--;0===this.Sc&&this.Bv()}Bv(){if(this.sK){var d=this.Zs;if(!d.GV)throw Error("no release result callback set");d.GV(this.sK);this.sK=null}this.Zs.cfa.delete(this.Sea);this.Zs=null}};
{"use strict";const d=self.A;d.uta="\ufeff";const b=new Set([..."0123456789"]);d.D2=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.sz=function(n){return a.has(n)};d.gla=function(n){return[...n].filter(q=>!d.sz(q)).join("")};d.rz=function(n){for(const q of n)if(!d.sz(q))return!1;return!0};d.O2=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.B_=function(n){return[...n].filter(q=>
!d.O2(q)).join("")};const e=new Set([..."0123456789.+-e"]);d.Oma=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!b.has(q))return!1;for(let r of n)if(!e.has(r))return!1;return!0};d.h5=function(n){let q=n.length;for(;0<q&&d.D2(n.charAt(q-1));)--q;return n.substr(0,q)};d.Wla=function(n){let q=d.h5(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(n){return c.get(n)}
const l=/[&<>"']/g;d.r_=function(n){return n.replace(l,f)};d.Xka=function(n){n=d.Ti(n,"\\","\\\\");n=d.Ti(n,'"','\\"');n=d.Ti(n,"\t","\\t");n=d.Ti(n,"\r","");return d.Ti(n,"\n","\\n")};d.Yka=function(n){n=d.Ti(n,"&","&amp;");n=d.Ti(n,"<","&lt;");n=d.Ti(n,">","&gt;");return d.Ti(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.ju=function(n){return n.replace(g,"\\$&")};d.hla=function(n,q,r=!1){if(!q)return[];r||(n=n.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let v=[];for(;-1<(p=n.indexOf(q,
p));)v.push(p),p+=r;return v};d.Ti=function(n,q,r){return n.replaceAll(q,()=>r)};d.xpa=function(n,q,r){return n.replace(new RegExp(d.ju(q),"gi"),()=>r)};d.jra=function(n,q){"string"===typeof q?n.textContent=q:q.IU?n.textContent=q.toString():(n.innerHTML=q.hM(),q instanceof d.gl&&q.lga(n))};d.Ysa=function(n,q){return n instanceof d.$E||n instanceof d.gl?n.Uc(q):q instanceof d.$E||q instanceof d.gl?q.Uc(n):n===q};d.Zsa=function(n,...q){let r=n;for(let p=0,v=q.length;p<v;++p){const t=`{${p}}`;if(!n.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.$sa=function(n,...q){let r=n,p=-1,v=-1;for(let t=0,w=q.length;t<w;++t){const x=`{${t}}`;n.includes(x)?(v=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=v&&p<v)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.ata=function(n,q){for(let [r,p]of Object.entries(q))n=n.replaceAll(r,p.toString());return n};d.Jsa=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};d.mla=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.Cva;if(1024>n)return r(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(q+"terabytes",n)};const k={iga:!1,wga:!0,Tga:!0,qha:!0,iX:!0};d.nla=function(n,q){q=Object.assign({},
k,q);d.S2.ipa("common.time");const r=[],p=self.lang,v=self.Bva;if(q.wga){var t=Math.floor(n/86400);0<t&&(n-=86400*t,r.push(v(".days",null,t)))}q.Tga&&(t=Math.floor(n/3600),0<t||r.length)&&(n-=3600*t,r.push(v(".hours",null,t)));q.qha&&(t=Math.floor(n/60),0<t||r.length||!q.iX)&&(n-=60*t,r.push(v(".minutes",null,t)));q.iX&&r.push(v(".seconds",null,Math.floor(n%60)));n=(q.iga?p(".approx-prefix"):"")+r.join(p(".separator"));d.S2.apa();return n};d.jua=function(n,q){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)r+="0";return r+n};d.bta=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.mka=function(n,q){n=n.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.gX(n);d.gX(q);n=n.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=n[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.Cka=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
d.Wsa=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,v=n.length;p<v;++p)n.charAt(p)!==q.charAt(p)&&++r;return r};d.Xsa=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let r,p,v,t;if(n.length>q.length){var w=n;n=q;q=w}t=Array(n.length+1);for(w=0;w<=n.length;w++)t[w]=w;for(w=1;w<=q.length;w++){p=w;for(r=1;r<=n.length;r++)v=q[w-1]===n[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=v;t[n.length]=p}return t[n.length]}}
{"use strict";const d=self.A,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function l(k,n,q){var r=b.get(q);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return k=r[0],r=r[1],n?"</"+k+">":`<${k} class="${r}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${f++}">`:k}const g=/\n/g;d.gl=class{constructor(k,n){this.Wh=n&&n.XW?k:d.r_(k);this.UI="";this.KT=!1;this.Hw=[];if(n&&(this.KT=!!n.Bua,n.links)){if(9<n.links.length)throw Error("too many links");this.Hw=n.links}this.nU=this.Wh.includes("[");this.nV=this.KT&&this.Wh.includes("\n");this.IU=!this.nU&&!this.nV&&!this.Wh.includes("&");this.rU=!1;this.Zv=[]}toString(){return this.Wh}valueOf(){return this.Wh}hM(){if(this.IU)return this.Wh;if(!this.UI&&this.Wh){let k=this.Wh;this.nU&&
(f=0,c=this.Hw,k=k.replace(a,l),c=null);this.nV&&(k=k.replace(g,"<br>"));this.UI=k}return this.UI}lga(k){if(this.Hw.length)for(let n=0,q=this.Hw.length;n<q;++n){const r=this.Hw[n];if("function"!==typeof r)continue;const p=k.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}Uc(k){return k instanceof d.$E?this.hM()===k.hM():k instanceof d.gl?this.Wh===k.Wh:this.Wh===k}pX(){if(this.rU)return this.Zv;const k=this.Wh,n=[];let q=e.lastIndex=0;for(var r;null!==
(r=e.exec(k));){var p=r.index;if(0<p&&"\\"===k.charAt(p-1))continue;var v=r[1],t=r[2];const w=k.substring(q,p);q=p+r[0].length;w&&this.Zv.push({text:w,hd:n.slice(0)});if(t)if(v)for(t=t.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===t){n.splice(r,1);break}}else r=t,p=null,v=t.indexOf("="),-1!==v?(r=t.substring(0,v).toLowerCase(),p=t.substring(v+1)):r=r.toLowerCase(),n.push({tag:r,gd:p})}q<k.length&&this.Zv.push({text:k.substring(q),hd:n.slice(0)});for(const w of this.Zv)w.text=this.Vba(w.text);
this.rU=!0;return this.Zv}Vba(k){k=d.Ti(k,"\\[","[");return d.Ti(k,"\\\\","\\")}static iQ(k){return k.replace(e,"")}}}
{"use strict";const d=self.A;d.jv=class{constructor(){this.Ok=[]}nS(b,a){let e=0,c=0,f=0,l=0,g=0;for(const k of b)-1===k.width&&(b=a(k.text,k.hd),k.width=b.width,k.height=b.height,k.yg=b.yg||0,k.Rf=b.Rf||0,k.Tf=b.Tf||0),e+=k.width,c=Math.max(c,k.height),f=Math.max(f,k.yg),l=Math.max(l,k.Rf),g=Math.max(g,k.Tf);return{width:e,height:c,yg:f,Rf:l,Tf:g}}Uz(b,a,e,c,f,l){this.Ok.push({tL:b,width:a,height:e,yg:c,Rf:f,Tf:l})}jv(b,a,e,c,f){"string"===typeof b&&(b=[{text:b,hd:[]}]);d.D(this.Ok);if(!(!b.length||
1===b.length&&!b[0].text.length||2>e)){if(1===b.length){var l=b[0];const g=l.text;l=l.hd;if(100>=g.length&&!g.includes("\n")){let {width:k,height:n,yg:q,Rf:r,Tf:p}=a(g,l);k+=f;q=q||0;r=r||0;p=p||0;if(k<=e){this.Uz([{text:g,hd:l,width:k,height:n,yg:q,Rf:r,Tf:p}],k,n,q,r,p);return}}}if("word"===c)c=this.bea(b);else{c=[];for(const g of b)d.Em(c,[...g.text].map(k=>[{text:k,hd:g.hd}]))}this.wea(c,a,e,f)}}bea(b){const a=[];let e=[],c=!1;for(const l of b){var f=l.text;b=l.hd;for(const g of f)"\n"===g?(0<
e.length&&a.push(e),a.push([{text:"\n",hd:b}]),e=[]):0===e.length?(e.push({text:g,hd:b}),c=d.sz(g)):(f=d.sz(g),f===c?(f=e.oe(-1),f.hd===b?f.text+=g:e.push({text:g,hd:b})):(a.push(e),e=[],e.push({text:g,hd:b}),c=f))}0<e.length&&a.push(e);return a}L8(b){return b.map(a=>({text:a.text,hd:a.hd,width:a.width,height:a.height,yg:a.yg,Rf:a.Rf,Tf:a.Tf}))}JQ(b,a){var e=b.length?b.oe(-1):null;let c=0;e&&a[0].hd===e.hd&&(e.text+=a[0].text,e.width=-1,e.height=-1,e.yg=-1,e.Rf=-1,e.Tf=-1,c=1);for(e=a.length;c<e;++c){const f=
a[c];b.push({text:f.text,hd:f.hd,width:-1,height:-1,yg:-1,Rf:-1,Tf:-1})}}wea(b,a,e,c){let f=[],l=0,g=0,k=0,n=0;var q=0;for(const r of b){if(1===r.length&&"\n"===r[0].text){0===g&&(q=a(" ",r[0].hd),g=q.height,k=q.yg||0,n=q.Rf||0,q=q.Tf||0);this.Uz(f,l,g,k,n,q);f=[];q=n=k=g=l=0;continue}b=this.L8(f);this.JQ(b,r);const p=this.nS(b,a),v=p.width;v>=e?(0<f.length&&this.Uz(f,l,g,k,n,q),f=[],d.rz(r[0].text)?q=n=k=g=l=0:(this.JQ(f,r),q=this.nS(f,a),l=q.width,g=q.height,k=q.yg,n=q.Rf,q=q.Tf)):(f=b,l=v,g=p.height,
k=p.yg,n=p.Rf,q=p.Tf)}0<f.length&&this.Uz(f,l,g,k,n,q);this.eea(a,c)}eea(b,a){for(const c of this.Ok){const f=c.tL;if(!f.length)continue;let l=f.oe(-1);var e=l.text;const g=e.trimEnd();if(!g)c.width-=l.width,f.pop();else if(g.length<e.length){e=b(g,l.hd).width;const k=l.width-e;l.width=e;l.text=g;c.width-=k}0!==a&&0<f.length&&(l=f.oe(-1),l.width+=a,c.width+=a)}}Gc(){d.D(this.Ok)}uN(){return this.Ok.reduce((b,a)=>Math.max(b,a.width),0)}U0(){return this.Ok.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const d=self.A,b=self.dl,a=b.GD,e=b.Zx,c=b.Ao,f=a.create(),l=a.create(),g=a.create(),k=e.create(),n=c.create(),q=a.create(),r=a.create(),p=a.create(),v=a.create(),t=a.create(),w=a.create(),x=a.create(),z=a.create(),E=e.Sf(0,0,1,1);d.ca={N4(H,I,K,Q,R,U,Z){const ca=Q[0]*H+Q[4]*I+Q[8]*K+Q[12],Y=Q[1]*H+Q[5]*I+Q[9]*K+Q[13],ha=Q[2]*H+Q[6]*I+Q[10]*K+Q[14];Q=Q[3]*H+Q[7]*I+Q[11]*K+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;I=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;K=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*U[2]+U[0];Z[1]=(I*R*.5+.5)*U[3]+U[1];Z[2]=.5*(1+K*R);return!0},sk(H,I,K,Q,R,U,Z){c.multiply(n,R,Q);if(null===c.Ot(n,n))return!1;k[0]=(H-U[0])/U[2]*2-1;k[1]=(I-U[1])/U[3]*2-1;k[2]=2*K-1;k[3]=1;e.jM(k,k,n);if(0===k[3])return!1;k[3]=1/k[3];Z[0]=k[0]*k[3];Z[1]=k[1]*k[3];Z[2]=k[2]*k[3];return!0},A7(H,I,K,Q,R,U,Z){if(!d.ca.sk(H,I,0,Q,R,U,f)||!d.ca.sk(H,I,1,Q,R,U,l))return!1;a.Lm(l,l,f);a.set(g,0,0,1);H=-K;I=a.xo(g,l);K=0;if(0===I){if(0!==
a.xo(g,f)+H)return!1}else if(K=-(a.xo(f,g)+H)/I,0>K)return!1;a.aM(Z,f,l,K);return!0}};function G(H,I,K,Q){a.Lm(f,K,I);a.Lm(l,H,I);a.qL(g,f,l);a.normalize(g,g);Q.set(g[0],g[1],g[2],a.xo(H,g))}function N(H,I,K,Q,R,U,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.xX,Oa=Z.yX;Z=Z.zX;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*I*Oa+Y*R*Ua+ha*K*Z+ha*U*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*I*Ua+ha*U*Z+ha*K*bb>ka}class C{constructor(){this.zX=this.yX=this.xX=this.w=this.z=this.y=this.x=NaN}set(H,I,K,Q){this.x=
H;this.y=I;this.z=K;this.w=Q;this.xX=0<H?1:0;this.yX=0<I?1:0;this.zX=0<K?1:0}}d.ca.J7=class{constructor(){this.$U=new C;this.iW=new C;this.JV=new C;this.ET=new C;this.mV=new C;this.aU=new C}nY(H,I){d.ca.sk(0,1,0,H,I,E,q);d.ca.sk(1,1,0,H,I,E,r);d.ca.sk(0,0,0,H,I,E,p);d.ca.sk(1,0,0,H,I,E,v);d.ca.sk(0,1,1,H,I,E,t);d.ca.sk(1,1,1,H,I,E,w);d.ca.sk(0,0,1,H,I,E,x);d.ca.sk(1,0,1,H,I,E,z);G(p,q,t,this.$U);G(q,r,w,this.iW);G(r,v,z,this.JV);G(v,p,x,this.ET);G(x,t,w,this.aU);G(v,r,q,this.mV)}LY(H,I,K,Q,R,U){return N(H,
I,K,Q,R,U,this.$U)&&N(H,I,K,Q,R,U,this.iW)&&N(H,I,K,Q,R,U,this.JV)&&N(H,I,K,Q,R,U,this.ET)&&N(H,I,K,Q,R,U,this.mV)&&N(H,I,K,Q,R,U,this.aU)}}}
{"use strict";const d=self.A,b=self.dl,a=b.GD,e=b.Zx,c=b.Ao,f=c.create(),l=a.Sf(0,0,0),g=a.Sf(0,0,0),k=a.Sf(0,0,0),n=a.Sf(0,1,0);e.Sf(0,0,0,0);new d.xd;new d.Rect;const q=new d.xd(0,0,1,0,1,1,0,1);d.ca.k5=class{constructor(){this.M=this.T=0;this.$ea=d.Ba(45);this.MK=Math.tan(this.$ea/2);this.lC=c.create();this.NJ=c.create();this.Hp=[];this.EC=new Map;this.CK=this.JC=this.KC=null;this.ix=new Map;this.pj=null;this.fI=[];this.lV=new Map;this.Wv=this.Mv=0;this.sfa=this.tfa=1;this.HJ=.5;this.di=0;this.Es=
!0;this.SI=!1}A_(r){let p=0,v=r.length,t=0;for(;p<v;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}NQ(){this.Wv=this.Mv=0;this.CK=this.JC=this.KC=null;this.J8()}lz(){this.NQ();this.pj=null}M3(){for(const r of this.Hp)r.m();this.NQ()}P(){return this.T}U(){return this.M}eu(r,p,v=.5,t=.5){v=1-v;const w=1*this.MK;p*=w;c.Lga(r,(2*v-2)*p,2*v*p,(2*t-2)*w,2*t*w,1,1E4)}mY(r,p,v){const t=self.devicePixelRatio,w=200*t*this.MK/v;p=p*w/(2*t);v=v*w/(2*t);c.xha(r,-p,p,-v,v,1,1E4)}wM(r,p,v,t,
w=this.OE()){w=200*self.devicePixelRatio*this.MK/w;a.set(k,w,-w,1);a.multiply(l,p,k);a.multiply(g,v,k);c.nha(r,l,g,t||n);c.scale(r,r,k)}du(r,p,v,t,w,x){a.set(l,r,p,v);a.set(g,t,w,0);this.wM(f,l,g,n,x);return f}i8(r){this.Hp.push(r);this.EC.set(r.Ca(),r)}qca(r){const p=this.Hp.indexOf(r);-1!==p&&this.Hp.splice(p,1);this.EC.delete(r.Ca())}J8(){d.D(this.Hp);this.EC.clear()}KN(r){return this.EC.get(r)||null}Qh(){this.mn(this.KC)}YF(){this.mn(this.CK)}kda(r){this.pj=r}DX(r,p,v,t){const w=d.ca.qG.wO(r,
p,v,t);let x=this.ix.get(w);x||(x=d.B(d.ca.qG,this,r,p,v,t),this.ix.set(w,x));x.RX();return x}fP(r){r.eZ();0===r.Sc&&(this.pj===r&&(this.pj=null),this.ix.delete(r.y0()),r.m())}baa(r){d.D(this.fI);this.lV.clear();for(const p of r){r=p[0];const v=p[1],t=p[2];this.fI.push([v,t]);this.lV.set(r,{bxa:v,Jua:t})}}D$(r){return this.fI[r]}Su(r){this.Mv=r}hn(r){this.Wv=r;this.pj=null}wz(r,p,v,t,w,x){var z=this.HJ;r=r+z-x;p=p+z-w;v=v+z+x;t=t+z+w;z=2*x;const E=2*w;this.Cz(r+w,p-x,0,v+w,t-x,0,v-w-z,t+x-E,0,r-w+
z,p+x+E,0,q)}vz(r,p,v,t,w,x){const z=this.HJ;r=r+z-x;p=p+z-w;v=v+z+x;t=t+z+w;this.Cz(r+w,p-x,0,v+w,t-x,0,v-w,t+x,0,r-w,p+x,0,q)}uz(r,p,v,t,w,x){const z=this.HJ;r+=z;p+=z;v+=z;t+=z;this.Cz(r+w,p-x,0,v+w,t-x,0,v-w,t+x,0,r-w,p+x,0,q)}U2(r,p,v,t){const w=.5*this.tfa,x=this.sfa;2===x?this.yaa(r,p,v,t,w):1===x?this.xaa(r,p,v,t,w):this.waa(r,p,v,t,w)}yaa(r,p,v,t,w){this.wz(r,p,v,p,0,w);this.wz(v,p,v,t,w,0);this.wz(v,t,r,t,0,-w);this.wz(r,t,r,p,-w,0)}xaa(r,p,v,t,w){this.vz(r,p,v,p,0,w);this.vz(v,p,v,t,w,
0);this.vz(v,t,r,t,0,-w);this.vz(r,t,r,p,-w,0)}waa(r,p,v,t,w){this.uz(r,p,v,p,0,w);this.uz(v,p,v,t,w,0);this.uz(v,t,r,t,0,-w);this.uz(r,t,r,p,-w,0)}qO(r){this.U2(r.N,r.L,r.X,r.V)}mu(){this.Ji();this.di++}K1(){this.di++}aG(r){this.Es=!!r}h6(r){this.SI=!!r}Ju(){return!1}}}
{"use strict";const d=self.A;d.ca.qG=class{constructor(b,a,e,c,f){this.xa=b;this.Sc=0;this.mb=null;this.ax="";this.zn=e;this.tb=d.B(d.gb);this.tb.set(c);this.ed=f;"string"===typeof a?this.ax=a:(this.mb=a,this.ax=this.mb.Ca())}m(){if(0<this.Sc)throw Error("releasing state group still in use");this.mb=this.xa=null;this.ax=""}YX(){const b=this.xa;b.mn(this.mb);b.eg(this.zn);b.mk(this.tb);b.hn(this.ed);b.kda(this)}y0(){return d.ca.qG.wO(this.ax,this.zn,this.tb,this.ed)}RX(){++this.Sc}eZ(){--this.Sc}Bl(){this.mb=
null}zF(b){this.mb=b.KN(this.ax);if(!this.mb)throw Error("failed to restore shader program");}static wO(b,a,e,c){return("string"===typeof b?b:b.Ca())+","+a+","+e.ab+","+e.eb+","+e.Za+","+e.Ua+","+c}}}
{"use strict";const d=self.A,b=d.B(d.xd);function a(e,c,f){const l=f.Lb,g=f.Mb;return[l+(f.kc-l)*e+(f.ec-l)*c,g+(f.lc-g)*e+(f.fc-g)*c]}d.ca.n3=class{constructor(e){this.RJ=e;this.wh=this.uh=this.ed=this.O=this.Y=0}cj(e,c,f,l){this.Y=e;this.O=c;this.uh=f;this.wh=l}R(){return this.Y}Ug(e){this.Y!==e&&(this.Y=e,this.RJ.yH())}S(){return this.O}Vg(e){this.O!==e&&(this.O=e,this.RJ.yH())}Xa(){return this.ed}Ye(e){this.ed!==e&&(this.ed=Math.max(e,0),this.RJ.yH())}hG(e){this.uh=e}iG(e){this.wh=e}oaa(e,c,f){[this.Y,
this.O]=a(e.Y,e.O,c);this.ed=e.ed;this.uh=d.rd(f.N,f.X,e.uh);this.wh=d.rd(f.L,f.V,e.wh)}naa(e,c,f){[this.Y,this.O]=a(e.Y,e.O,c);this.ed=e.ed;[this.uh,this.wh]=a(e.uh,e.wh,f)}md(){return{x:this.R(),y:this.S(),z:this.Xa(),u:this.uh,v:this.wh}}Xc(e){this.Ug(e.x);this.Vg(e.y);e.hasOwnProperty("z")&&this.Ye(e.z);this.hG(e.u);this.iG(e.v)}};d.ca.zO=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.Ik=e;this.Vk=c;this.ic=f||null;this.bo=[];this.iV=this.hV=0;this.eV=this.dV=1;this.fV=
0;this.kK=!1;f=e-1;const l=c-1;for(let g=0;g<c;++g){const k=[];for(let n=0;n<e;++n){const q=d.B(d.ca.n3,this,n,g),r=n/f,p=g/l;q.cj(r,p,r,p);k.push(q)}this.bo.push(k)}}m(){d.D(this.bo)}yH(){this.kK=!0}wv(){if(this.kK){var e=Infinity,c=Infinity,f=-Infinity,l=-Infinity,g=0;for(const k of this.bo)for(const n of k){const q=n.R(),r=n.S();e=Math.min(e,q);c=Math.min(c,r);f=Math.max(f,q);l=Math.max(l,r);g=Math.max(g,n.Xa())}this.hV=e;this.iV=c;this.dV=f;this.eV=l;this.fV=g;this.kK=!1}}I0(){this.wv();return this.hV}J0(){this.wv();
return this.iV}F0(){this.wv();return this.dV}G0(){this.wv();return this.eV}H0(){this.wv();return this.fV}qr(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Ik||0>c||c>=this.Vk?null:this.bo[c][e]}pY(e,c,f){const l=f instanceof d.Rect;if(e.Ik!==this.Ik||e.Vk!==this.Vk)throw Error("source mesh wrong size");e=e.bo;const g=this.bo;for(let k=0,n=g.length;k<n;++k){const q=e[k],r=g[k];for(let p=0,v=r.length;p<v;++p){const t=q[p],w=r[p];l?w.oaa(t,c,f):w.naa(t,c,f)}}}sf(e){const c=this.bo;let f=c[0];
for(let l=1,g=c.length;l<g;++l){const k=c[l];let n=f[0],q=k[0];for(let r=1,p=k.length;r<p;++r){const v=f[r],t=k[r];b.set(n.uh,n.wh,v.uh,v.wh,t.uh,t.wh,q.uh,q.wh);e.Cz(n.R(),n.S(),n.Xa(),v.R(),v.S(),v.Xa(),t.R(),t.S(),t.Xa(),q.R(),q.S(),q.Xa(),b);n=v;q=t}f=k}}n2(e){e=e.Bd;const c=[],f=this.Ik-1,l=this.Vk-1,g=1/f,k=1/l,n=f-1,q=l-1;let r=e[0],p=e[1],v=d.ba(Math.floor(r*f),0,n),t=d.ba(Math.floor(p*l),0,q),w=0,x=0,z=0;var E=-1;const G=()=>{r=d.ba(d.rd(r,w,z),0,1);p=d.ba(d.rd(p,x,z),0,1);c.push(r,p)};for(let N=
0,C=e.length;N<C;N+=2)for(r=e[N],p=e[N+1],c.push(r,p),v=d.ba(Math.floor(r*f),0,n),t=d.ba(Math.floor(p*l),0,q),E=(N+2)%C,w=e[E],x=e[E+1],E=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=v*g,I=t*k,K=(v+1)*g,Q=(t+1)*k;if(0!==E&&(z=d.Sx(r,p,w,x,H,I,K,Q,-.001),0<=z&&.99999999>=z)){G();E=0;continue}if(0<t&&2!==E&&(z=d.Sx(r,p,w,x,H,I,K,I,.001),0<=z&&.99999999>=z)){G();t--;E=4;continue}if(v<n&&3!==E&&(z=d.Sx(r,p,w,x,K,I,K,Q,.001),0<=z&&.99999999>=z)){G();v++;E=1;continue}if(0<v&&1!==
E&&(z=d.Sx(r,p,w,x,H,I,H,Q,.001),0<=z&&.99999999>=z)){G();v--;E=3;continue}if(t<q&&4!==E&&(z=d.Sx(r,p,w,x,H,Q,K,Q,.001),0<=z&&.99999999>=z)){G();t++;E=2;continue}break}return d.B(d.Io,c)}w7(e,c){e=this.cea(e);this.Uda(e);c.zD(e)}cea(e){const c=[];e=e.Bd;for(let f=0,l=e.length;f<l;f+=2){const [g,k]=this.nQ(e[f],e[f+1]);c.push(g,k)}return c}nQ(e,c){var f=this.Ik-1,l=this.Vk-1;const g=1/f,k=1/l;f=d.ba(Math.floor(e*f),0,f-1);const n=d.ba(Math.floor(c*l),0,l-1);l=f*g;const q=n*k,r=(f+1)*g,p=(n+1)*k,v=
this.qr(f,n),t=this.qr(f+1,n+1),w=d.cha(e,c,l,q,r,q,r,p);f=this.qr(f+(w?1:0),n+(w?0:1));const [x,z,E]=d.cia(e,c,l,q,w?l+g:l,w?q:q+k,r,p);return d.bia(x,z,E,v.R(),v.S(),f.R(),f.S(),t.R(),t.S())}Uda(e){const c=[];let f=e[0],l=e[1],g=f-e.oe(-2),k=l-e.oe(-1);for(let q=0,r=e.length;q<r;q+=2){var n=(q+2)%r;const p=e[n];n=e[n+1];const v=p-f,t=n-l,w=1E-7>Math.abs(t)&&1E-7>Math.abs(k)&&Math.sign(v)===Math.sign(g);(!(1E-7>Math.abs(v)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(k)||w)&&1E-7<Math.abs(v/g-t/k)||
0==v&&0===t)&&c.push(f,l);f=p;l=n;g=v;k=t}6<=c.length&&c.length<e.length&&d.td(e,c)}md(){return{cols:this.Ik,rows:this.Vk,points:this.bo.map(e=>e.map(c=>c.md()))}}Xc(e){const c=this.Ik,f=this.Vk;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let l=0;l<f;++l){const g=e[l];for(let k=0;k<c;++k)this.qr(k,l).Xc(g[k])}}}}
{"use strict";const d=self.A,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(n,q){let r,p;switch(n){case "rgba8":n=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{eM:n,Nt:r,format:p,type:q}}const l={ID:"clamp-to-edge",JD:"clamp-to-edge",Di:"trilinear",wW:0,QL:"rgba8",rD:!0,Px:"default",premultiplyAlpha:!0,SW:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},k=new Set;d.ca.Tz=class{constructor(n){this.xa=n;this.xb=null;this.M=this.T=0;this.fi=!0;this.Gt=this.Ft="clamp-to-edge";this.od="trilinear";this.VH=0;this.Zn="rgba8";this.am=!1;this.tq=
"default";this.Sc=0}h9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},l,q);if(this.xb)throw Error("already created texture");this.Ft=q.ID;this.Gt=q.JD;
this.od=q.Di;this.VH=q.wW;this.Zn=q.QL;this.am=!!q.rD&&this.xa.Es;this.tq=q.Px;if(!c.has(this.Ft)||!c.has(this.Gt))throw Error("invalid wrap mode");if(!a.has(this.od))throw Error("invalid sampling");if(!b.has(this.Zn))throw Error("invalid pixel format");if(!e.has(this.tq))throw Error("invalid mipmap quality");this.fi=!0;if(n instanceof ArrayBuffer||null===n||q.SW){if(this.T=q.width,this.M=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.T*this.M*4)throw Error("ArrayBuffer wrong size");}else this.T=
n.width,this.M=n.height;if(0>=this.T||0>=this.M)throw Error("invalid texture data size");if(q.SW){var r=d.Bg(this.T,this.M);r.getContext("2d").drawImage(n,0,0,this.T,this.M);n=r}var p=d.el(this.T)&&d.el(this.M);r=this.xa.mC;if(this.T>r||this.M>r)throw Error("texture data exceeds maximum texture size");r=this.xa.Z;var v=this.xa.Nd;this.xb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.xb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.Zn,r);if(this.xa.tp()||p||!this.$G())2<=v?(r.texStorage2D(r.TEXTURE_2D,this.am?Math.floor(Math.log2(Math.max(this.T,this.M))+1):1,q.eM,this.T,this.M),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.T,this.M,q.format,q.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.Nt,this.T,this.M,0,q.format,q.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,q.Nt,this.T,this.M,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.Nt,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.T,this.M));n instanceof ImageData&&(p=d.Bg(this.T,this.M),p.getContext("2d").putImageData(n,0,0),n=p);p=d.Bg(d.KL(this.T),d.KL(this.M));v=p.getContext("2d");v.imageSmoothingEnabled="nearest"!==this.od;v.drawImage(n,0,0,this.T,this.M,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.Nt,q.format,q.type,p)}null!==n&&this.bT(r);r.bindTexture(r.TEXTURE_2D,null);this.xa.qH();this.Sc=1;k.add(this)}P8(n,q,r){r=Object.assign({},l,r);if(this.xb)throw Error("already created texture");this.Ft=r.ID;this.Gt=r.JD;this.od=r.Di;this.Zn=r.QL;this.am=!!r.rD&&this.xa.Es;this.tq=r.Px;if(!c.has(this.Ft)||!c.has(this.Gt))throw Error("invalid wrap mode");if(!a.has(this.od))throw Error("invalid sampling");if(!b.has(this.Zn))throw Error("invalid pixel format");if(!e.has(this.tq))throw Error("invalid mipmap quality");
this.fi=!1;this.T=Math.floor(n);this.M=Math.floor(q);n=d.el(this.T)&&d.el(this.M);q=this.xa.mC;if(0>=this.T||0>=this.M)throw Error("invalid texture size");if(this.T>q||this.M>q)throw Error("texture exceeds maximum texture size");if(!this.xa.tp()&&this.$G()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.xa.Z;q=this.xa.Nd;this.xb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.xb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=f(this.Zn,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?r.eM:r.Nt,this.T,this.M,0,r.format,r.type,null);this.bT(n);n.bindTexture(n.TEXTURE_2D,null);this.xa.qH();this.Sc=1;k.add(this)}YG(n){if("default"===this.tq)return this.fi?n.NICEST:n.FASTEST;if("low"===this.tq)return n.FASTEST;if("high"===this.tq)return n.NICEST;throw Error("invalid mipmap quality");}$G(){return"clamp-to-edge"!==this.Ft||"clamp-to-edge"!==this.Gt}MR(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}bT(n){var q=d.el(this.T)&&d.el(this.M);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.MR(n,this.Ft));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.MR(n,this.Gt));"nearest"===this.od?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.am=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.xa.tp())&&this.am?(n.hint(n.GENERATE_MIPMAP_HINT,
this.YG(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.od||this.xa.SI?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.am=!1));(q=this.xa.Iv)&&0<this.VH&&"nearest"!==this.od&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.VH,this.xa.PJ))}mT(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.xb||0>=this.Sc)throw Error("texture not created");if(this.fi)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=n.width||n.videoWidth,p=n.height||n.videoHeight;var v=this.xa.Nd;
const t=this.xa.Z;t.bindTexture(t.TEXTURE_2D,this.xb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.Zn,t);v=2<=v?q.eM:q.Nt;try{if(this.T===r&&this.M===p){const w=d.el(this.T)&&d.el(this.M);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n);(w||this.xa.tp())&&this.am&&(t.hint(t.GENERATE_MIPMAP_HINT,this.YG(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.T=r;this.M=p;const w=d.el(this.T)&&d.el(this.M);if(!this.xa.tp()&&this.$G()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,v,q.format,q.type,n);(w||this.xa.tp())&&this.am&&(t.hint(t.GENERATE_MIPMAP_HINT,this.YG(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.xa.qH()}LG(){if(0<this.Sc)throw Error("texture still has references");if(!this.xb)throw Error("already deleted texture");k.delete(this);this.xa.Z.deleteTexture(this.xb);this.xb=null}Bb(){return this.xa}q7(){if(0>=
this.Sc)throw Error("no more references");this.Sc--}P(){return this.T}U(){return this.M}xE(){let n=this.T*this.M;switch(this.Zn){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.am&&(n+=Math.floor(n/3));return n}static Bl(){k.clear()}static dga(){return k.values()}}}
{"use strict";const d=self.A,b=self.dl.Ao,a=new Set(["nearest","bilinear","trilinear"]),e={Di:"trilinear",alpha:!0,depth:!1,DL:!0,QW:!0,rha:0},c=new Set;d.ca.vG=class{constructor(f){this.xa=f;this.pm=this.xb=this.wj=null;this.M=this.T=0;this.pw=!0;this.od="trilinear";this.qs=!0;this.ef=!1;this.vw=!0;this.hm=0;this.yq=b.create()}M8(f,l,g){g=Object.assign({},e,g);const k=this.xa.Nd;if(this.xb||this.pm)throw Error("already created render target");this.od=g.Di;this.qs=!!g.alpha;this.ef=!!g.depth;this.vw=
!!g.DL;this.pw=!!g.QW;this.hm=g.rha;if(!a.has(this.od))throw Error("invalid sampling");if(0<this.hm&&(2>k||this.vw))throw Error("invalid use of multisampling");2>k&&(this.vw=!0);this.T=f;this.M=l;if(0>=this.T||0>=this.M)throw Error("invalid render target size");this.KQ();f=this.xa.Z;this.wj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.wj);this.vw?(this.xb=this.xa.KM(this.T,this.M,{Di:this.od,QL:this.qs?"rgba8":"rgb8",rD:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,
this.xb.xb,0)):(this.pm=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.pm),l=this.qs?f.RGBA8:f.RGB8,0<this.hm&&((g=f.getInternalformatParameter(f.RENDERBUFFER,l,f.SAMPLES))&&g[0]?(g=g[0],this.hm>g&&(this.hm=g)):this.hm=0),0===this.hm?f.renderbufferStorage(f.RENDERBUFFER,l,this.T,this.M):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.hm,l,this.T,this.M),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.pm),f.bindRenderbuffer(f.RENDERBUFFER,null));
l=this.xa.Up;this.ef&&l&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,l);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}CS(f,l){if(this.T!==f||this.M!==l)this.T=f,this.M=l,this.KQ(),f=this.xa.Z,f.bindFramebuffer(f.FRAMEBUFFER,this.wj),this.xb?this.xb.mT(new ImageData(this.T,this.M)):(f.bindRenderbuffer(f.RENDERBUFFER,this.pm),f.renderbufferStorage(f.RENDERBUFFER,this.qs?f.RGBA8:f.RGB8,this.T,this.M),f.bindRenderbuffer(f.RENDERBUFFER,null)),l=this.xa.Up,this.ef&&
l&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,l),f.bindFramebuffer(f.FRAMEBUFFER,null)}LG(){if(!this.xb&&!this.pm)throw Error("already deleted render target");c.delete(this);const f=this.xa.Z;f.bindFramebuffer(f.FRAMEBUFFER,this.wj);this.xb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.xa.Tj(this.xb),this.xb=null):this.pm&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.pm),
this.pm=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.xa.Nd&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.wj);this.wj=this.xa.Ac.vo=null}KQ(){this.xa.eu(this.yq,this.T/this.M)}Bb(){return this.xa}se(){return this.xb}oF(){return"nearest"!==this.od}P(){return this.T}U(){return this.M}v2(f){f=Object.assign({},e,f);return"nearest"!==f.Di!==this.oF()||!!f.alpha!==this.qs||!!f.depth!==this.ef||2<=this.xa.Nd&&!!f.DL!==this.vw?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.pw&&this.P()===f.width&&this.U()===f.height:this.pw}xE(){return this.xb?this.xb.xE():this.T*this.M*(this.qs?4:3)}static async YY(f,l){f=await f.X4(l);return await d.H1(f)}static Bl(){c.clear()}}}
{"use strict";const d=self.A;d.ca.hv=class{static async IY(b,a,e,c){const f=b.Z,l=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(l,a);f.compileShader(l);a=f.createShader(f.VERTEX_SHADER);f.shaderSource(a,e);f.compileShader(a);const g=f.createProgram();f.attachShader(g,l);f.attachShader(g,a);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const k=b.fK;k?await b.sea(()=>f.getProgramParameter(g,k.COMPLETION_STATUS_KHR)):await d.vQ(5);
if(!f.getShaderParameter(l,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(l),f.deleteShader(l),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(a),f.deleteShader(l),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(l),f.deleteShader(a),f.deleteProgram(g),Error("Error linking shader program: "+
c);(b=d.B_(f.getProgramInfoLog(g)||"").trim())&&!d.rz(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);f.deleteShader(l);f.deleteShader(a);return g}static async Ra(b,a,e,c){e=await d.ca.hv.IY(b,a.src,e,c);return new d.ca.hv(b,e,a,c)}constructor(b,a,e,c){const f=b.Z;var l=b.Ac;b.Ji();f.useProgram(a);this.Z=f;this.xa=b;this.Ga=c;this.mb=a;this.GB="<default-device-transform>"===c;c=f.getAttribLocation(a,"aPos");const g=f.getAttribLocation(a,"aTex");this.KJ=f.getAttribLocation(a,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,b.cD),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,b.QC),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.KJ&&(f.bindBuffer(f.ARRAY_BUFFER,b.uC),f.vertexAttribPointer(this.KJ,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.KJ));f.bindBuffer(f.ARRAY_BUFFER,null);this.UK=new d.ca.zc(this,"matP","mat4");this.TK=new d.ca.zc(this,"matMV","mat4");this.Rq=new d.ca.zc(this,
"color","vec4");this.Wfa=new d.ca.zc(this,"samplerFront","sampler");this.XK=new d.ca.zc(this,"pointTexStart","vec2");this.WK=new d.ca.zc(this,"pointTexEnd","vec2");this.$K=new d.ca.zc(this,"zElevation","float");this.YK=new d.ca.zc(this,"tileSize","vec2");this.ZK=new d.ca.zc(this,"tileSpacing","vec2");this.SK=new d.ca.zc(this,"color2_","vec4");this.VK=new d.ca.zc(this,"outlineThickness","float");this.Dt=new d.ca.zc(this,"samplerBack","sampler");this.ym=new d.ca.zc(this,"destStart","vec2");this.xm=
new d.ca.zc(this,"destEnd","vec2");this.Nj=new d.ca.zc(this,"srcStart","vec2");this.zm=new d.ca.zc(this,"srcEnd","vec2");this.Bm=new d.ca.zc(this,"srcOriginStart","vec2");this.Am=new d.ca.zc(this,"srcOriginEnd","vec2");this.vh=new d.ca.zc(this,"pixelSize","vec2");this.qo=new d.ca.zc(this,"seconds","float");this.no=new d.ca.zc(this,"layerScale","float");this.lo=new d.ca.zc(this,"layerAngle","float");this.po=new d.ca.zc(this,"layoutStart","vec2");this.oo=new d.ca.zc(this,"layoutEnd","vec2");this.oU=
!!(this.vh.fa||this.qo.fa||this.Dt.fa||this.ym.fa||this.xm.fa||this.Nj.fa||this.zm.fa||this.Bm.fa||this.Am.fa||this.no.fa||this.lo.fa||this.po.fa||this.oo.fa);this.YT=e.Oua||0;this.ZT=e.Pua||0;this.pI=!!e.Dua;this.yfa=!!e.cwa;this.it=!!e.qwa;this.EA=!!e.qua;b=e.parameters||[];this.Sq=[];this.xx=this.ym.fa||this.xm.fa;this.Zfa=this.vh.fa||this.Nj.fa||this.zm.fa||this.Bm.fa||this.Am.fa;this.Afa=this.pI||this.xx||0!==this.YT||0!==this.ZT;this.OI=this.QI=!1;this.Rq.$N();this.SK.$N();this.Wfa.ZN(0);this.Dt.ZN(1);
this.XK.Lg(0,0);this.WK.Lg(1,1);this.$K.xr(0);this.YK.Lg(0,0);this.ZK.Lg(0,0);this.ym.Lg(0,0);this.xm.Lg(1,1);this.Nj.Lg(0,0);this.zm.Lg(0,0);this.Bm.Lg(0,0);this.Am.Lg(0,0);this.vh.Lg(0,0);this.no.xr(1);this.lo.xr(0);this.qo.xr(0);this.po.Lg(0,0);this.oo.Lg(0,0);this.VK.xr(1);for(const k of b)b=k[2],a=new d.ca.zc(this,k[0],b),"color"===b?a.L1():a.xr(0),this.Sq.push(a);this.GB?this.rT(l.Ex):(this.Qz(l.Ex,!0),this.Pz(l.jD,!0));l=l.xi;f.useProgram(l?l.mb:null)}m(){this.Z.deleteProgram(this.mb);this.mb=
null;this.xa.qca(this);this.xa=this.Z=null}Ca(){return this.Ga}bn(){return this.yfa}Uy(b){return this.Sq[b].ek()}ZX(b){for(let a=0,e=b.length;a<e;++a)if(!this.Sq[a].J2(b[a]))return!1;return!0}Q5(b){for(let a=0,e=b.length;a<e;++a)this.Sq[a].J5(b[a])}$X(b,a,e,c,f,l,g,k,n){return this.Dt.fa||this.vh.fa&&!this.vh.yl(f,l)||this.ym.fa&&!this.ym.yl(b.N,b.L)||this.xm.fa&&!this.xm.yl(b.X,b.V)||this.no.fa&&!this.no.sF(g)||this.lo.fa&&!this.lo.sF(k)||this.Nj.fa&&!this.Nj.yl(a.N,a.L)||this.zm.fa&&!this.zm.yl(a.X,
a.V)||this.Bm.fa&&!this.Bm.yl(e.N,e.L)||this.Am.fa&&!this.Am.yl(e.X,e.V)||this.po.fa&&!this.po.yl(c.N,c.L)||this.oo.fa&&!this.oo.yl(c.L,c.V)||this.qo.fa&&!this.qo.sF(n)?!1:!0}u6(b,a,e,c,f,l,g,k,n){this.Dt.fa||(this.vh.fa&&this.vh.Fl(f,l),this.ym.fa&&this.ym.Fl(b.N,b.L),this.xm.fa&&this.xm.Fl(b.X,b.V),this.no.fa&&this.no.VF(g),this.lo.fa&&this.lo.VF(k),this.Nj.fa&&this.Nj.Fl(a.N,a.L),this.zm.fa&&this.zm.Fl(a.X,a.V),this.Bm.fa&&this.Bm.Fl(e.N,e.L),this.Am.fa&&this.Am.Fl(e.X,e.V),this.po.fa&&this.po.Fl(c.N,
c.L),this.oo.fa&&this.oo.Fl(c.L,c.V),this.qo.fa&&this.qo.VF(n))}Qz(b,a){this.QI&&!a||this.GB||(this.UK.fa&&this.UK.Rz(b),this.QI=!0)}s6(){this.QI=!1}Pz(b,a){this.OI&&!a||this.GB||(this.TK.fa&&this.TK.Rz(b),this.OI=!0)}r6(){this.OI=!1}rT(b){if(!this.GB)throw Error("not device transform shader");this.UK.Rz(b);b=this.xa;const a=b.P()/2,e=b.U()/2;b=b.du(a,e,100*self.devicePixelRatio,a,e);this.TK.Rz(b)}D7(b){this.Rq.fa&&this.Rq.Oz(b[0],b[1],b[2],b[3])}static Ly(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.A,b=self.dl.Ao,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.ca.zc=class{constructor(e,c,f){if(!a.has(f))throw Error("invalid uniform type");this.ic=e;this.Z=this.ic.Z;this.Ga=c;this.Aa=f;this.fJ="color"===this.Aa;this.hi=this.Z.getUniformLocation(this.ic.mb,c);this.fa=!!this.hi;e=a.get(f);this.hb=new Float32Array(e);this.Ej=new Float32Array(e)}m(){this.hi=this.Z=this.ic=null}ek(){return this.Aa}xr(e){this.fa&&
(this.hb[0]=e,this.Ej.set(this.hb),this.Z.uniform1f(this.hi,e))}ZN(e){this.fa&&(this.hb[0]=e,this.Ej.set(this.hb),this.Z.uniform1i(this.hi,e))}Lg(e,c){this.fa&&(this.hb[0]=e,this.hb[1]=c,this.Ej.set(this.hb),this.Z.uniform2f(this.hi,e,c))}L1(){this.fa&&(this.hb[0]=0,this.hb[1]=0,this.hb[2]=0,this.Ej.set(this.hb),this.Z.uniform3f(this.hi,0,0,0))}$N(){this.fa&&(this.hb[0]=1,this.hb[1]=1,this.hb[2]=1,this.hb[3]=1,this.Ej.set(this.hb),this.Z.uniform4f(this.hi,1,1,1,1))}bs(e){e=Math.fround(e);const c=
this.hb;c[0]!==e&&(c[0]=e,this.Z.uniform1f(this.hi,e))}Ze(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.hb;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.Z.uniform2f(this.hi,e,c)}B7(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const l=this.hb;if(l[0]!==e||l[1]!==c||l[2]!==f)l[0]=e,l[1]=c,l[2]=f,this.Z.uniform3f(this.hi,e,c,f)}Oz(e,c,f,l){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);l=Math.fround(l);const g=this.hb;if(g[0]!==e||g[1]!==c||g[2]!==f||g[3]!==l)g[0]=e,g[1]=c,g[2]=f,g[3]=
l,this.Z.uniform4f(this.hi,e,c,f,l)}Rz(e){const c=this.hb;b.Qj(c,e)||(d.dia(c,e),this.Z.uniformMatrix4fv(this.hi,!1,e))}J2(e){const c=this.Ej;return this.fJ?c[0]===Math.fround(e.ab)&&c[1]===Math.fround(e.eb)&&c[2]===Math.fround(e.Za):c[0]===Math.fround(e)}J5(e){const c=this.Ej;this.fJ?(c[0]=e.ab,c[1]=e.eb,c[2]=e.Za):c[0]=e}sF(e){return this.Ej[0]===Math.fround(e)}yl(e,c){const f=this.Ej;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}VF(e){this.Ej[0]=e}Fl(e,c){const f=this.Ej;f[0]=e;f[1]=c}}}
{"use strict";const d=self.A,b=self.dl,a=b.Zx,e=b.Ao;d.ca.eY=class{constructor(c){this.rf=c;this.jD=e.create();this.Ex=e.create();this.vo=null;this.iD=a.Sf(1,1,1,1);this.xi=null;this.SL=new d.Rect;this.clearColor=d.B(d.gb,0,0,0,0)}};d.ca.P7=class{constructor(c){const f=new ArrayBuffer(96);this.Aa=0;this.Ac=c;this.Z=c.rf.Z;this.cq=this.qh=0;this.kf=null;this.Ee=new Float32Array(f,0,16);this.Qp=new Float32Array(f,64,4);this.ZV=new Float32Array(f,80,4);this.DC=[]}a2(c){this.Aa=1;this.qh=c;this.cq=6}vZ(){const c=
this.Z;c.drawElements(c.TRIANGLES,this.cq,c.UNSIGNED_SHORT,this.qh)}i2(c){this.Aa=2;this.kf=c}HZ(){const c=this.Z,f=this.kf;c.bindTexture(c.TEXTURE_2D,f?f.xb:null)}cF(c){this.Aa=3;c.Ah(this.Qp,0)}xZ(){const c=this.Qp,f=this.Ac;a.ta(f.iD,c);f.xi.D7(c)}AZ(){const c=this.Qp,f=this.Ac.xi;f.SK.fa&&f.SK.Oz(c[0],c[1],c[2],c[3])}b2(c,f){this.Aa=4;this.qh=c;this.cq=f}wZ(){this.Z.blendFunc(this.qh,this.cq)}j2(c,f){this.Aa=5;const l=this.Qp;l[0]=0;l[1]=0;l[2]=c;l[3]=f}JZ(){const c=this.Qp;this.Z.viewport(c[0],
c[1],c[2],c[3])}g2(c){this.Aa=6;e.ta(this.Ee,c)}FZ(){const c=this.Ac,f=c.rf.Hp,l=c.xi,g=this.Ee;for(let k=0,n=f.length;k<n;++k){const q=f[k];q===l?q.Qz(g,!0):q.s6()}e.ta(c.Ex,g)}d2(c){this.Aa=7;e.ta(this.Ee,c)}BZ(){const c=this.Ac,f=c.rf.Hp,l=c.xi,g=this.Ee;for(let k=0,n=f.length;k<n;++k){const q=f[k];q===l?q.Pz(g,!0):q.r6()}e.ta(c.jD,g)}h2(c){this.Aa=8;this.kf=c}GZ(){const c=this.Z;var f=this.kf;const l=this.Ac;f?(f=f.wj,l.vo=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(l.vo=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}Q1(c){this.Aa=9;c.Ah(this.Ee,0)}R1(){this.Aa=9;const c=this.Ee;c[0]=0;c[1]=0;c[2]=0;c[3]=0}oZ(){const c=this.Z;var f=this.Ee,l=this.Ac;const g=l.clearColor;(l=l.rf.lq&&d.Pt)&&c.disable(c.SCISSOR_TEST);const k=f[0],n=f[1],q=f[2];f=f[3];g.Hx(k,n,q,f)||(c.clearColor(k,n,q,f),g.Fo(k,n,q,f));c.clear(c.COLOR_BUFFER_BIT);l&&c.enable(c.SCISSOR_TEST)}P1(c,f,l,g){this.Aa=10;const k=this.Ee;k[0]=c;k[1]=f;k[2]=l;k[3]=g;k[4]=0;k[5]=0;k[6]=0;k[7]=0}nZ(){const c=this.Z;var f=this.Ee,l=this.Ac;const g=l.rf;
l=l.clearColor;g.lq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const k=f[4],n=f[5],q=f[6];f=f[7];l.Hx(k,n,q,f)||(c.clearColor(k,n,q,f),l.Fo(k,n,q,f));c.clear(c.COLOR_BUFFER_BIT);g.lq?c.scissor(0,0,g.Bx,g.Ax):c.disable(c.SCISSOR_TEST)}CZ(){const c=this.Ee;this.Ac.SL.set(c[0],c[1],c[2],c[3])}uZ(){const c=this.Z,f=this.Ac,l=f.rf.JC;c.useProgram(l.mb);l.Qz(f.Ex,!1);l.Pz(f.jD,!1);var g=f.SL;l.XK.fa&&l.XK.Ze(g.N,g.L);l.WK.fa&&l.WK.Ze(g.X,g.V);g=this.Ee[0];l.$K.fa&&l.$K.bs(g);l.Rq.fa&&(g=f.iD,
l.Rq.Oz(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.qh/4,this.cq);c.useProgram(f.xi.mb)}e2(c){this.Aa=12;this.kf=c}DZ(){var c=this.Z;const f=this.Ac,l=this.kf;f.xi=l;c.useProgram(l.mb);l.Qz(f.Ex,!1);l.Pz(f.jD,!1);l.Rq.fa&&(c=f.iD,l.Rq.Oz(c[0],c[1],c[2],c[3]))}f2(){this.Aa=13}EZ(){const c=this.Ac.xi;c.oU&&this.O9(c);c.Sq.length&&this.P9(c)}O9(c){const f=this.Z,l=this.Ee,g=this.Qp,k=this.ZV;if(c.Dt.fa){const n=this.Ac.rf,q=this.kf;n.Pn!==q&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
q?q.xb:null),n.Pn=q,f.activeTexture(f.TEXTURE0))}c.vh.fa&&c.vh.Ze(l[0],l[1]);c.ym.fa&&c.ym.Ze(l[2],l[3]);c.xm.fa&&c.xm.Ze(l[4],l[5]);c.no.fa&&c.no.bs(l[6]);c.lo.fa&&c.lo.bs(l[7]);c.Nj.fa&&c.Nj.Ze(l[12],l[13]);c.zm.fa&&c.zm.Ze(l[14],l[15]);c.Bm.fa&&c.Bm.Ze(k[0],k[1]);c.Am.fa&&c.Am.Ze(k[2],k[3]);c.po.fa&&c.po.Ze(g[0],g[1]);c.oo.fa&&c.oo.Ze(g[2],g[3]);c.qo.fa&&c.qo.bs(this.qh)}P9(c){c=c.Sq;const f=this.DC;for(let l=0,g=c.length;l<g;++l){const k=c[l],n=f[l];k.fJ?k.B7(n.ab,n.eb,n.Za):k.bs(n)}}W1(c){this.Aa=
14;this.kf=c}tZ(){const c=this.Z,f=this.kf,l=this.Ac.vo;f!==l&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==l&&c.bindFramebuffer(c.FRAMEBUFFER,l)}M1(c,f){this.Aa=17;var l=this.Ee;const g=this.Ac.rf;l[0]=c.P();l[1]=c.U();l[2]=f?f.P():g.P();l[3]=f?f.U():g.U();l[4]=c.oF()?1:0;l[5]=!0;l=this.DC;d.D(l);l.push(c.wj);l.push(f?f.wj:null)}lZ(){var c=this.Ee,f=this.DC;const l=this.Z;var g=c[0],k=c[1],n=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=f[1];
l.bindFramebuffer(l.READ_FRAMEBUFFER,f[0]);l.bindFramebuffer(l.DRAW_FRAMEBUFFER,p);c?l.blitFramebuffer(0,0,g,k,0,0,n,q,l.COLOR_BUFFER_BIT,r?l.LINEAR:l.NEAREST):(f=Math.min(g,n),g=Math.min(k,q),n=Math.max(k-q,0),k=Math.max(q-k,0),l.blitFramebuffer(0,n,f,g+n,0,k,f,g+k,l.COLOR_BUFFER_BIT,l.NEAREST))}l2(c){this.Aa=18;this.kf=c}KZ(){this.kf.TD();this.kf=null}V1(c){this.Aa=19;this.kf=c}sZ(){this.kf.lE();this.kf=null}zZ(){const c=this.Ac.xi,f=this.Ee;c.vh.fa&&c.vh.Ze(f[0],f[1]);c.VK.fa&&c.VK.bs(f[2])}IZ(){const c=
this.Ac.xi,f=this.Ee;c.Nj.fa&&c.Nj.Ze(f[0],f[1]);c.vh.fa&&c.vh.Ze(f[4],f[5]);c.YK.fa&&c.YK.Ze(f[6],f[7]);c.ZK.fa&&c.ZK.Ze(f[8],f[9])}O1(){this.Aa=22}mZ(){const c=this.Z;c.clear(c.DEPTH_BUFFER_BIT)}c2(c){this.Aa=23;this.qh=c?1:0}yZ(){const c=this.Z;0===this.qh?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}U1(){this.Aa=24}rZ(){const c=this.Z;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}T1(){this.Aa=25}qZ(){const c=this.Z;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}S1(){this.Aa=26}pZ(){const c=this.Z;c.disable(c.STENCIL_TEST)}qa(){switch(this.Aa){case 1:this.vZ();break;case 2:this.HZ();break;case 3:this.xZ();break;case 4:this.wZ();break;case 5:this.JZ();break;case 6:this.FZ();break;case 7:this.BZ();break;case 8:this.GZ();break;case 9:this.oZ();break;case 10:this.nZ();break;case 11:this.uZ();break;case 12:this.DZ();break;case 13:this.EZ();
break;case 14:this.tZ();break;case 15:this.CZ();break;case 16:this.IZ();break;case 17:this.lZ();break;case 18:this.KZ();break;case 19:this.sZ();break;case 20:this.zZ();break;case 21:this.AZ();break;case 22:this.mZ();break;case 23:this.yZ();break;case 24:this.rZ();break;case 25:this.qZ();break;case 26:this.pZ()}}}}
{"use strict";const d=self.A,b={timeout:60},a=new d.gb(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),l=new Set;d.E_&&d.E_.addEventListener("fontload",q=>{q=q.font.Ca();for(const r of l)(r.Be||d.yh(r.mB,q))&&r.Ep()});function g(q,r,p,v,t,w){r?"Gecko"===d.Yc.ey?q.strokeText(p,v,t,w):q.strokeText(p,v,t):"Gecko"===d.Yc.ey?q.fillText(p,v,t,w):q.fillText(p,v,t)}let k=!1,n=!1;d.ca.gP=class{constructor(q,r){r=Object.assign({},b,r);this.xa=
q;this.mB="Arial";this.nB=16;this.cU=1;this.vc=0;this.nfa=this.ifa=!1;this.VA="black";this.Be=!1;this.ML=null;this.UH=new Set;this.ge="left";this.Xd="top";this.cc="";this.hj=null;this.qf=d.B(d.jv);this.Tq="word";this.sJ=this.RC=!1;this.mw=!0;this.eh=-1;this.M=this.T=this.Ul=this.cf=this.dh=0;this.wi=1;this.mI=!1;this.Mw=this.gm=this.me=this.Lq=null;this.QU=this.RU=-1;this.aC=this.TU=this.zJ="";this.AJ=this.BJ=1;this.Nw=(p,v)=>this.zv(p,v);this.xb=null;this.kx=this.mx=0;this.ug=new d.Rect;this.Zw=
1;this.XJ=!1;this.NK=new d.G1(()=>{this.Nh();this.aT(8,8)},r.timeout);this.NL=null;this.Cx=!1;l.add(this)}m(){this.ML=null;this.UH.clear();this.Nw=this.Mw=this.gm=this.me=this.Lq=this.hj=null;this.NK.m();this.NL=null;this.Nh();this.qf.Gc();this.xa=this.qf=null;this.Cx=!0;l.delete(this)}Dp(){this.mI=!0}Ep(){this.Dp();this.qf.Gc();this.RC=!0}n6(){this.mw=!1}Mg(){return this.mw}zP(q){q=!!q;this.Be!==q&&(q=(this.Be=q)?"alphabetic":"top",this.me&&(this.me.textBaseline=q),this.gm&&(this.gm.textBaseline=
q),this.Ep())}b6(){"Arial"!==this.mB&&(this.mB="Arial",this.Ep())}c6(){var q=16;.1>q&&(q=.1);this.nB!==q&&(this.nB=q,this.Ep())}Mz(q){this.vc!==q&&(this.vc=q,this.Dp())}Jz(q){q=Math.floor(q);this.eh!==q&&(this.eh=q,this.Dp())}Nc(q,r){for(let p=q.length-1;0<=p;--p){const v=q[p];if(v.tag===r)return v}return null}rn(q,r){return!!this.Nc(q,r)}AR(q,r){let p=[];(this.ifa||this.rn(r,"b"))&&p.push("bold");(this.nfa||this.rn(r,"i"))&&p.push("italic");var v=this.Nc(r,"size");v=(v?parseFloat(v.gd):this.nB)*
this.cU;q?p.push(v+"pt"):p.push(v*this.Zw*this.wi*self.devicePixelRatio+"pt");q=this.mB;(r=this.Nc(r,"font"))&&r.gd&&(q=r.gd,this.ML&&!this.UH.has(q)&&(this.ML(q),this.UH.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}mk(q){q instanceof d.gb&&(q=q.Mga());this.VA!==q&&(this.VA=q,this.Dp())}AP(q,r,p){a.AD(q,r,p);this.mk(a)}j6(){if(!e.has("center"))throw Error("invalid horizontal alignment");"center"!==this.ge&&(this.ge="center",this.Dp())}W6(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.Xd&&(this.Xd="center",this.Dp())}eQ(q){if(!f.has(q))throw Error("invalid word wrap mode");this.Tq!==q&&(this.Tq=q,this.Ep())}Wr(q){this.cc!==q&&(this.cc=q,this.Ep())}yc(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.cf===q&&this.Ul===r&&this.wi===p)){1===this.wi!==(1===p)&&(this.XJ=!0);var v=this.cf,t=this.wi;this.cf=q;this.Ul=r;this.wi=p;q=self.devicePixelRatio;this.T=this.cf*this.wi*q;this.M=this.Ul*this.wi*q;q=Math.max(this.T,this.M);r=Math.min(this.xa.mC,2048);p=1;
q>r&&(p=r/q,this.T=Math.min(this.T*p,r),this.M=Math.min(this.M*p,r));this.Zw=p;0<this.mx&&0<this.kx&&this.wi===t&&this.ug.set(0,0,this.T/this.mx,this.M/this.kx);this.cf!==v?this.Ep():this.Dp()}}P(){return this.T}U(){return this.M}QN(){this.zp();return this.qf.uN()}PN(){this.zp();return this.qf.U0()+this.qf.Ok.length*(this.vc+4)-this.vc}se(){this.NK.Jc();this.bba();return this.xb}bba(){this.xb&&!this.mI&&!this.RC||this.sJ||0>=this.T||0>=this.M||(this.mI=!1,this.sJ=!0,this.mw?d.fl(()=>this.eR()):this.eR())}eR(){this.Cx||
(this.aT(Math.ceil(this.T),Math.ceil(this.M)),this.zp(),this.j$(),this.nea(),this.NK.Jc(),this.sJ=!1)}aT(q,r){this.Lq||(this.Lq=d.Bg(16,16));let p=!1;if(this.RU!==q||this.QU!==r)this.RU=q,this.QU=r,this.Lq.width=q,this.Lq.height=r,p=!0;this.me||(this.me=this.Lq.getContext("2d"),p=!0);p?(this.me.textBaseline=this.Be?"alphabetic":"top",this.me.font=this.zJ,this.me.fillStyle=this.aC,this.me.strokeStyle=this.aC,this.me.globalAlpha=this.BJ,this.me.lineWidth=this.AJ):this.me.clearRect(0,0,q,r)}hS(){this.gm||
(this.gm=d.Bg(16,16).getContext("2d"),this.Mw=d.Bg(16,16).getContext("2d"),this.gm.textBaseline=this.Be?"alphabetic":"top",this.Mw.textBaseline="top")}Bda(q){this.TU!==q&&(this.TU=q,this.gm.font=q,this.Mw.font=q)}jT(){if(!k){k=!0;this.hS();const q=this.gm.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}zp(){this.RC&&(this.hS(),!this.Be||this.hj&&this.hj.toString()===this.cc||(this.hj=new d.gl(this.cc,{XW:!0})),this.qf.jv(this.Be?
this.hj.pX():this.cc,this.Nw,this.cf,this.Tq,0),this.RC=!1)}zv(q,r){this.Bda(this.AR(!0,r));r=this.Nc(r,"size");r=(r?parseFloat(r.gd):this.nB)*this.cU;const p=this.gm.measureText(q);let v=0;this.Be&&this.jT()&&(v=p.fontBoundingBoxAscent-this.Mw.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,yg:p.fontBoundingBoxAscent||0,Rf:p.fontBoundingBoxDescent||0,Tf:v}}nda(q){this.zJ!==q&&(this.zJ=q,this.me.font=q)}sA(q){this.aC!==q&&(this.aC=q,this.me.fillStyle=q,this.me.strokeStyle=
q)}mda(q){this.BJ!==q&&(this.BJ=q,this.me.globalAlpha=q)}SS(q){this.AJ!==q&&(this.AJ=q,this.me.lineWidth=q)}j$(){this.dh=0;const q=this.Zw*this.wi*self.devicePixelRatio,r=(4+this.vc)*q;var p=0;const v=this.qf.Ok;if(0!==v.length){var t=this.Be&&this.jT(),w=v[0].height*q;"center"===this.Xd?(p=v.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.M/2-p/2,0),t&&(w=v[0].Tf*q)):"bottom"===this.Xd&&(p=v.reduce((x,z)=>x+z.height*q+r,0)-this.vc*q,p=this.M-p-(t?v.oe(-1).Rf*q:0)-2);for(let x=0,z=v.length;x<z;++x){t=
v[x];const E=t.height*q,G=p;if(this.Be){if(p+=0===x?w:E,0<x&&p>this.M-4*q)break}else if(0<x&&p>=this.M-E)break;0<=G&&this.i$(t,p,q);this.Be||(p+=E);p+=r}}}i$(q,r,p){let v=0;"center"===this.ge?v=(this.T-q.width*p)/2:"right"===this.ge&&(v=this.T-q.width*p);for(const t of q.tL)this.h$(t,v,r,p,q.height),v+=t.width*p}h$(q,r,p,v,t){const w=this.me;var x=t/16;t=q.width*v;const z=q.height*v,E=q.height/16;var G=(4+this.vc)*v,N=q.hd,C=q.text;if(-1!==this.eh){if(this.dh>=this.eh)return;this.dh+C.length>this.eh&&
(C=C.substr(0,this.eh-this.dh),t=this.zv(C,N).width*v);this.dh+=C.length}var H=this.Nc(N,"background"),I=this.rn(N,"u");q=this.rn(N,"s");if((!d.rz(C)||H||I||q)&&!this.rn(N,"hide")){var K=this.Nc(N,"offsetx");r+=K?parseFloat(K.gd)*v:0;K=this.Nc(N,"offsety");p+=K?parseFloat(K.gd)*v:0;H&&(this.sA(H.gd),w.fillRect(r,p-z,t,z+G));K=this.Nc(N,"color");this.sA(K?K.gd:this.VA);G=this.Nc(N,"opacity");this.mda(G?parseFloat(G.gd)/100:1);G=(G=this.Nc(N,"linethickness"))?parseFloat(G.gd):1;(H=this.rn(N,"stroke"))&&
this.SS(.5*E*G*this.Zw*this.wi*self.devicePixelRatio);this.nda(this.AR(!1,N));g(w,H,C,r,p,t);!H&&(this.SS(.5*E*G*this.Zw*this.wi*self.devicePixelRatio),N=this.Nc(N,"outline"))&&(this.sA(N.gd),g(w,!0,C,r,p,t));this.sA(K?K.gd:this.VA);I&&(N=r,C=p+v*x,I=t,x=v*x*G,H?w.strokeRect(N,C,I,x):w.fillRect(N,C,I,x));q&&(v*=E,w.fillRect(r,p-z/4+v/2-v*G/2,t,v*G))}}nea(){this.xa.$o()||(this.mx=Math.ceil(this.T),this.kx=Math.ceil(this.M),this.ug.set(0,0,this.T/this.mx,this.M/this.kx),this.XJ&&(this.Nh(),this.XJ=
!1),this.xb||(this.xb=this.xa.KM(this.mx,this.kx,{rD:1===this.wi,Px:"high"})),this.xa.H7(this.Lq,this.xb),this.NL&&this.NL())}Kh(){return this.ug}Nh(){this.xb&&(this.xa.$o()||this.xa.Tj(this.xb),this.xb=null)}static Bl(){for(const q of l)q.Nh()}}}
{"use strict";const d=self.A;class b{constructor(a){this.Z=a.Z;this.Nd=a.Nd;this.Md=a.Md;this.ki=null;this.dw=this.Jb=!1;this.BC=0;this.ki=1===this.Nd?this.Md.createQueryEXT():this.Z.createQuery()}m(){this.WQ();this.Md=this.Z=null;this.dw=!1}WQ(){this.ki&&(1===this.Nd?this.Md.deleteQueryEXT(this.ki):this.Z.deleteQuery(this.ki),this.ki=null)}TD(){if(this.Jb)throw Error("query already active");1===this.Nd?this.Md.beginQueryEXT(this.Md.TIME_ELAPSED_EXT,this.ki):this.Z.beginQuery(this.Md.TIME_ELAPSED_EXT,
this.ki);this.Jb=!0}lE(){if(!this.Jb)throw Error("query not active");1===this.Nd?this.Md.endQueryEXT(this.Md.TIME_ELAPSED_EXT):this.Z.endQuery(this.Md.TIME_ELAPSED_EXT);this.Jb=!1}YD(){if(this.ki&&!this.dw&&!this.Jb){var a=1===this.Nd?this.Md.getQueryObjectEXT(this.ki,this.Md.QUERY_RESULT_AVAILABLE_EXT):this.Z.getQueryParameter(this.ki,this.Z.QUERY_RESULT_AVAILABLE);var e=this.Z.getParameter(this.Md.GPU_DISJOINT_EXT);a&&!e&&(this.BC=1===this.Nd?this.Md.getQueryObjectEXT(this.ki,this.Md.QUERY_RESULT_EXT):
this.Z.getQueryParameter(this.ki,this.Z.QUERY_RESULT),this.BC/=1E9,this.dw=!0);(a||e)&&this.WQ()}}hz(){return this.dw}Yy(){if(!this.dw)throw Error("no result available");return this.BC}}d.ca.R7=class{constructor(a){this.xa=a;this.di=a.di;this.Jb=!1;this.Yn=null;this.kq=!1;this.kt=null;this.Bq=[]}m(){for(const a of this.Bq)a instanceof b&&a.m();d.D(this.Bq);this.xa=this.kt=this.Yn=null}TD(){if(this.Jb)throw Error("query already active");const a=this.xa.fW;0<a.length?(this.kq=!0,this.Yn=a.oe(-1),this.Yn.hR(),
this.Yn.Bq.push(this)):(this.kq=!1,this.Yn=null);this.Jb=!0;a.push(this);this.hT()}lE(){if(!this.Jb)throw Error("query not active");if(this.xa.fW.pop()!==this)throw Error("can only end most nested query");this.Jb=!1;this.hR();this.Yn&&(this.Yn.hT(),this.Yn=null)}hT(){this.kt=d.B(b,this.xa);this.Bq.push(this.kt);this.kt.TD()}hR(){this.kt.lE();this.kt=null}YD(){for(const a of this.Bq)a.YD()}hz(){return this.Bq.every(a=>a.hz())}Yy(){return this.Bq.reduce((a,e)=>a+e.Yy(),0)}}}
{"use strict";const d=self.A;d.ca.yQ=class{constructor(b,a=1E3){this.xa=b;this.xfa=a;this.Bk=[];this.xa.h8(this)}m(){this.Gc();this.xa.pca(this);this.xa=null}Gc(){for(const b of this.Bk)b.m();d.D(this.Bk)}RD(){const b=new d.ca.R7(this.xa);this.Bk.push(b);this.Bk.length>this.xfa&&this.Bk.shift().m();return b}wY(b){for(const a of this.Bk){if(a.di>=b)break;if(a.kq)break;a.YD()}}oN(b,a){if(a<=b)return NaN;let e=0;for(const c of this.Bk){if(c.di>=a)break;if(!(c.di<b))if(c.hz())e+=c.Yy();else return NaN}return e}OM(b){for(let a=
0,e=this.Bk.length;a<e;++a){const c=this.Bk[a];if(c.di<b)c.m();else{0<a&&this.Bk.splice(0,a);break}}}}}
{"use strict";const d=self.A,b=self.dl,a=b.Zx,e=b.Ao,c={powerPreference:"default",LW:!0,alpha:!1,EL:!1,depth:!1,VW:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),l=new d.xd(0,0,1,0,1,1,0,1),g=e.create(),k=e.create(),n=new d.xd,q=new d.Rect;let r=null;d.Pt&&(self.Gua=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.Hua=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let v=
-1;function t(){v=-1;for(const w of p)w.oga()&&(w.resolve(),p.delete(w));0<p.size&&(v=self.requestAnimationFrame(t))}d.ca.Q7=class extends d.ca.k5{constructor(w,x){super();x=Object.assign({},c,x);if(!f.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.EL&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let E=null,G=0;2<=x.VW&&(E=w.getContext("webgl2",
z),G=2);E||(E=w.getContext("webgl",z),G=1);if(!E)throw Error("failed to initialise WebGL context");this.Z=E;this.BT=E.getContextAttributes();x.EL&&!this.BT.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");E.getParameter(E.VERSION);this.Nd=G;this.Mf=a.create();this.aI=e.create();this.gJ=this.ro=!!x.depth;this.Up=null;this.eJ=!0;this.LT=this.MT=0;this.uC=this.zU=this.QC=this.cD=null;this.zx=new Float32Array(24E3);this.AU=new Uint16Array(12E3);this.Kq=
new Float32Array(16E3);this.vV=new Float32Array(32E3);this.VU=this.vC=this.Ie=this.vi=0;this.fo=this.pq=null;this.Nv=[];this.jc=this.xn=0;this.Id=null;this.Ac=d.B(d.ca.eY,this);this.Fw=d.B(d.gb,1,1,1,1);this.Pn=this.em=null;this.uJ=this.yJ=0;this.lq=!1;this.Ax=this.Bx=-1;this.qfa=new d.Rect;this.mC=-1;this.QJ=0;this.ux="(unavailable)";this.jJ=!1;this.Iv=this.fK=null;this.PJ=0;this.mfa=!!x.LW;this.Md=null;this.DA=new Set;this.fW=[];this.A_(this.AU)}Ju(){return!0}async lz(){super.lz();var w=this.Z;
this.Fw.Fo(1,1,1,1);this.Pn=this.em=null;this.vC=this.vi=0;this.VU=23988;d.D(this.Nv);this.jc=this.xn=0;this.Id=this.pq=null;this.qfa.set(0,0,1,1);var x=this.Ac;x.xi=null;x.vo=null;a.set(x.iD,1,1,1,1);x.clearColor.Fo(0,0,0,0);x.SL.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.yJ=w.ONE;this.uJ=w.ONE_MINUS_SRC_ALPHA;this.caa(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.ro?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.gJ=this.ro;this.uC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.uC);w.bufferData(w.ARRAY_BUFFER,this.vV.byteLength,w.DYNAMIC_DRAW);this.cD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.cD);w.bufferData(w.ARRAY_BUFFER,this.zx.byteLength,w.DYNAMIC_DRAW);this.QC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.QC);w.bufferData(w.ARRAY_BUFFER,this.Kq.byteLength,w.DYNAMIC_DRAW);this.zU=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.zU);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.AU,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.mC=w.getParameter(w.MAX_TEXTURE_SIZE);this.QJ=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.QJ&&(this.QJ=2048);if(x=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(x.UNMASKED_VENDOR_WEBGL),this.ux=w.getParameter(x.UNMASKED_RENDERER_WEBGL);this.fK=w.getExtension("KHR_parallel_shader_compile");d.Pt&&(r=w.getExtension("WEBGL_lose_context"));if(this.mfa)if(1===
this.Nd){if("Chromium"!==d.Yc.ey||81<=d.Yc.VD||"undefined"!==typeof document)this.Md=w.getExtension("EXT_disjoint_timer_query")}else this.Md=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.PJ=(this.Iv=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Iv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.ca.hv;x=w.Ly(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.Ly(!0),"<tilemap>"]].map(z=>this.fE({src:z[0]},z[1],z[2])));this.KC=w[0];this.fo=w[1];this.JC=w[2];this.CK=w[3];this.Qh()}async fE(w,x,z){w=await d.ca.hv.Ra(this,w,x,z);this.i8(w);return w}q5(){this.pq=null}yc(w,x,z){if(this.T!==w||this.M!==x||z){this.Ji();z=this.Z;var E=this.Ac;this.T=w;this.M=x;w=this.FN();x=this.OE();this.eT(w,x);this.eu(this.aI,w/x);this.Vr(this.aI);this.fo&&(z.useProgram(this.fo.mb),this.fo.rT(this.lC),this.pq=this.fo,this.Ac.xi=this.fo);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.Pn=this.em=null;this.ro&&this.eJ&&this.xH(this.T,this.M);this.Id&&this.Id.CS(this.T,this.M);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Id=null;E.vo=null}}xH(w,x){const z=this.Z;if(this.Up){if(this.MT===w&&this.LT===x)return;z.deleteRenderbuffer(this.Up)}this.Up=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.Up);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Nd?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.MT=w;this.LT=x}a6(w,x){this.ro&&(this.eJ=!1,this.xH(w,x))}I5(){this.ro&&(this.eJ=!0,this.xH(this.T,this.M))}FN(){return this.lq?this.Bx:this.P()}OE(){return this.lq?this.Ax:this.U()}eT(w,x){const z=this.Mf;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==x)this.Ic().j2(w,x),a.set(z,0,0,w,x),this.jc=0}Vr(w){e.Qj(this.lC,w)||(this.Ic().g2(w),e.ta(this.lC,w),this.jc=0)}EP(){let w,x;var z=this.Id;null===z||z.pw&&this.lq?(w=this.aI,x=this.FN(),z=this.OE()):(w=z.yq,x=z.P(),z=z.U());this.Vr(w);this.eT(x,
z)}Rr(w){e.Qj(this.NJ,w)||(this.Ic().d2(w),e.ta(this.NJ,w),this.jc=0)}Ic(){const w=this.Nv;this.xn===w.length&&w.push(new d.ca.P7(this.Ac));return w[this.xn++]}Ji(){0===this.xn||this.$o()||(this.xea(),this.m$(),this.jc=this.vC=this.Ie=this.vi=this.xn=0)}xea(){const w=this.Z;0<this.vC&&(w.bindBuffer(w.ARRAY_BUFFER,this.uC),w.bufferSubData(w.ARRAY_BUFFER,0,this.vV.subarray(0,this.vC)));0<this.vi&&(w.bindBuffer(w.ARRAY_BUFFER,this.cD),w.bufferSubData(w.ARRAY_BUFFER,0,this.zx.subarray(0,this.vi)),w.bindBuffer(w.ARRAY_BUFFER,
this.QC),w.bufferSubData(w.ARRAY_BUFFER,0,this.Kq.subarray(0,this.Ie)))}m$(){const w=this.Nv;for(let x=0,z=this.xn;x<z;++x)w[x].qa()}Ed(){return this.Fw.Ua}Af(w,x,z,E){const G=this.Fw;G.Hx(w,x,z,E)||(G.Fo(w,x,z,E),this.Ic().cF(G),this.jc=0,this.pj=null)}Ve(w){const x=this.Fw;x.Ua!==w&&(x.zh(w),this.Ic().cF(x),this.jc=0,this.pj=null)}mk(w){const x=this.Fw;x.Uc(w)||(x.set(w),this.Ic().cF(x),this.jc=0,this.pj=null)}Nr(){this.Af(1,1,1,1)}Sg(w){w!==this.em&&(this.Ic().i2(w),this.em=w,this.jc=0)}qH(){this.em=
null}eg(w){w=this.D$(w);this.wH(w[0],w[1])}wH(w,x){if(w!==this.yJ||x!==this.uJ)this.Ic().b2(w,x),this.yJ=w,this.uJ=x,this.jc=0,this.pj=null}UF(){this.wH(this.Z.ONE,this.Z.ONE_MINUS_SRC_ALPHA)}CP(){this.wH(this.Z.ONE,this.Z.ZERO)}Rect(w){this.eP(w.N,w.L,w.X,w.V)}eP(w,x,z,E){this.S4(w,x,z,x,z,E,w,E)}qv(){let w=this.vi;w>=this.VU&&(this.Ji(),w=0);1===this.jc?this.Nv[this.xn-1].cq+=6:(this.Ic().a2(w),this.jc=1)}HH(w){w.gia(this.zx,this.vi,this.Mv+this.Wv);this.vi+=12}xd(w){this.qv();this.HH(w);l.Ah(this.Kq,
this.Ie);this.Ie+=8}S4(w,x,z,E,G,N,C,H){this.qv();const I=this.zx;let K=this.vi;const Q=this.Mv+this.Wv;I[K++]=w;I[K++]=x;I[K++]=Q;I[K++]=z;I[K++]=E;I[K++]=Q;I[K++]=G;I[K++]=N;I[K++]=Q;I[K++]=C;I[K++]=H;I[K++]=Q;this.vi=K;l.Ah(this.Kq,this.Ie);this.Ie+=8}Kr(w,x){this.qv();this.HH(w);x.fia(this.Kq,this.Ie);this.Ie+=8}T4(w,x){this.qv();this.HH(w);x.Ah(this.Kq,this.Ie);this.Ie+=8}Cz(w,x,z,E,G,N,C,H,I,K,Q,R,U){this.qv();const Z=this.zx;let ca=this.vi;const Y=this.Mv+this.Wv;Z[ca++]=w;Z[ca++]=x;Z[ca++]=
Y+z;Z[ca++]=E;Z[ca++]=G;Z[ca++]=Y+N;Z[ca++]=C;Z[ca++]=H;Z[ca++]=Y+I;Z[ca++]=K;Z[ca++]=Q;Z[ca++]=Y+R;this.vi=ca;U.Ah(this.Kq,this.Ie);this.Ie+=8}F_(w,x){e.ta(g,this.lC);e.ta(k,this.NJ);this.EP();if(this.lq){w=this.du(0,0,100*self.devicePixelRatio,0,0);this.Rr(w);w=this.Bx/2;var z=this.Ax/2;q.set(-w,z,-w+this.Bx,z-this.Ax);n.Rj(q);q.set(0,0,this.Bx/this.T,this.Ax/this.M);this.Kr(n,q)}else{const [N,C]=this.P0(this.Id);z=this.du(0,0,100*self.devicePixelRatio,0,0,C);this.Rr(z);if("crop"===w&&this.Id&&
x){w=this.T/2;z=this.M/2;const H=x.P();x=x.U();var E=this.Id.P(),G=this.Id.U();E=Math.min(E,H);const I=Math.min(G,x),K=Math.max(x-G,0);G=Math.max(G-x,0);q.set(-w,z-G,-w+E,z-I-G);n.Rj(q);q.set(0,K,E,I+K);q.bl(H,x);this.Kr(n,q)}else w=N/2,z=C/2,this.eP(-w,z,w,-z)}this.Vr(g);this.Rr(k)}mn(w){this.pq!==w&&(this.Ic().e2(w),this.pq=w,this.jc=0,this.pj=null)}S5(){this.mn(this.fo)}Ur(w,x,z,E,G,N,C,H,I,K,Q){const R=this.pq;var U=R.oU;const Z=!!Q.length;if(U&&!R.$X(x,z,E,G,N,C,H,I,K)||Z&&!R.ZX(Q)){var ca=this.Ic();
ca.f2();U&&(R.u6(x,z,E,G,N,C,H,I,K),U=ca.Ee,U[0]=N,U[1]=C,x.Ah(U,2),U[6]=H,U[7]=I,z.Ah(U,12),x=ca.Qp,G.Ah(x,0),G=x[1],x[1]=x[3],x[3]=G,E.Ah(ca.ZV,0),ca.qh=K,ca.kf=R.Dt.fa?w?w.se():null:null);Z&&(R.Q5(Q),d.td(ca.DC,Q));this.jc=0}}ky(){this.Ic().R1();this.jc=0}Gc(w){this.Ic().Q1(w);this.jc=0}ZD(w){this.CY(w.N,w.L,w.width(),w.height())}CY(w,x,z,E){0>z||0>E||(this.Ic().P1(w,x,z,E),this.jc=0)}nn(){}mu(){super.mu();this.Z.flush()}yY(){this.ro&&this.Id&&this.Id.ef&&(this.Ic().O1(),this.jc=0)}jn(w){w=!!w;
this.gJ!==w&&this.ro&&(this.gJ=w,this.Ic().c2(w),this.jc=0)}vY(){for(const w of this.DA)w.wY(this.di)}$o(){return!this.Z||this.Z.isContextLost()||this.jJ}Bl(){super.M3();d.ca.Tz.Bl();d.ca.vG.Bl();d.ca.gP.Bl();for(const w of this.DA)w.Gc();this.Iv=this.fK=this.Md=null;this.PJ=0;this.ux="(unavailable)";this.Up=this.fo=this.pq=null;for(const w of this.ix.values())w.Bl()}async zF(){this.jJ=!0;await this.lz();this.jJ=!1;for(const w of this.ix.values())w.zF(this);this.yc(this.T,this.M,!0)}ny(w,x){if(this.$o())throw Error("context lost");
this.Ji();const z=d.B(d.ca.Tz,this);z.h9(w,x);return z}oy(w,x){if(this.$o())return Promise.reject("context lost");x=Object.assign({},x);const z=x.ID&&"clamp-to-edge"!==x.ID||x.JD&&"clamp-to-edge"!==x.JD;if(!d.Tb.ImageBitmapOptions||!this.tp()&&z)return d.Tb.ImageBitmap?createImageBitmap(w).then(E=>d.fl(()=>this.ny(E,x))):w instanceof Blob?d.rM(w,!0).then(E=>this.oy(E,x)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.fl(()=>
this.ny(w,x))):d.fl(()=>this.ny(w,x));x.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(E=>d.fl(()=>this.ny(E,x)))}KM(w,x,z){this.Ji();const E=d.B(d.ca.Tz,this);E.P8(w,x,z);return E}H7(w,x){this.Ji();x.mT(w,void 0)}Tj(w){w&&(w.q7(),0<w.Sc||(this.Ji(),w===this.em&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.em=null),w===this.Pn&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Pn=
null),w.LG()))}VY(w){let x=this.T,z=this.M,E=!0;w&&("number"===typeof w.width&&(x=w.width,E=!1),"number"===typeof w.height&&(z=w.height,E=!1));if(0>=x||0>=z)throw Error("invalid size");this.Ji();const G=d.B(d.ca.vG,this);G.M8(x,z,Object.assign({QW:E},w));this.Id=null;this.Ac.vo=null;return G}We(w){w!==this.Id&&(w&&w.pw&&w.CS(this.T,this.M),this.Ic().h2(w),this.Id=w,this.jc=0,this.EP())}Xy(){return this.Id}P0(w){return w?[w.P(),w.U()]:[this.T,this.M]}aE(w){2>this.Nd||this.Id&&0<this.Id.hm?(this.CP(),
this.Nr(),this.hu(w,"stretch")):(this.Ic().M1(w,this.Id),this.jc=0)}hu(w,x="stretch"){w=w.se();if(!w)throw Error("not a texture-backed render target");this.Sg(w);this.F_(x,w)}Yo(w){2>this.Nd||(this.Ic().W1(w.wj),this.jc=0)}iZ(w){this.We(null);this.Ji();const x=w.se();x===this.em&&(this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.em=null);x===this.Pn&&(this.Z.activeTexture(this.Z.TEXTURE1),this.Z.bindTexture(this.Z.TEXTURE_2D,null),this.Z.activeTexture(this.Z.TEXTURE0),this.Pn=null);w.LG()}async X4(w){this.Ji();
const x=this.Id;if(w){var z=w.P();var E=w.U();w=w.wj}else z=this.P(),E=this.U(),w=null;const G=this.Z;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,E);G.readPixels(0,0,z,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Id=null;this.Ac.vo=null;this.We(x)})();return w}HM(){this.jn(!0);this.Ic().U1();this.jc=0}GM(){this.jn(!1);this.Ic().T1();this.jc=0}FM(){this.jn(!0);this.Ic().S1();this.jc=0}pG(w){this.rk()&&(this.Ic().l2(w),this.jc=0)}kE(w){this.rk()&&
(this.Ic().V1(w),this.jc=0)}sea(w){const x=new Promise(z=>p.add({resolve:z,oga:w}));-1===v&&(v=self.requestAnimationFrame(t));return x}y2(){return!!this.BT.desynchronized}Y_(){let w=0;for(const x of d.ca.Tz.dga())w+=x.xE();return w}tp(){return 2<=this.Nd}rk(){return!!this.Md}h8(w){this.DA.add(w)}pca(w){this.DA.delete(w)}caa(w){this.baa([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,
w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.A1=class{constructor(e){d=e;Object.defineProperties(this,{Pga:{value:{},writable:!1},storage:{value:new self.E1(d),writable:!1},zva:{value:d.De,writable:!1}});d.ne.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.ne.addEventListener("keyup",c=>b.delete(c.key));d.Gb().addEventListener("window-blur",()=>b.clear());d.De&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}faa(e){Object.defineProperties(this.Pga,e)}addEventListener(e,c){d.ne.addEventListener(e,c)}removeEventListener(e,c){d.ne.removeEventListener(e,c)}get JW(){return d.Pm()}get fva(){return d.Gg()}random(){return d.Dl()}get zg(){return d.Nb().gw}get keyboard(){const e=d.Rv.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get HL(){const e=d.Rv.HL;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get iM(){const e=d.Rv.iM;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.hp("runtime","alert",{message:e+(d.De?" [via Web Worker]":"")})}}}"use strict";self.t1=class{constructor(){}};{"use strict";const d=self.Bh;self.E1=class{constructor(b){this.xg=b.HR()}getItem(b){d.ue(b);return this.xg.getItem(b)}setItem(b,a){d.ue(b);return this.xg.setItem(b,a)}removeItem(b){d.ue(b);return this.xg.removeItem(b)}clear(){return this.xg.clear()}keys(){return this.xg.keys()}}}
{"use strict";const d=self.Bh,b=new WeakMap;self.iz=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Ca(),writable:!1}});a.I().fS(this,a)}addEventListener(a,e){d.ue(a);d.kk(e);b.get(this).ne.addEventListener(a,e)}removeEventListener(a,e){d.ue(a);d.kk(e);b.get(this).ne.removeEventListener(a,e)}*PW(){for(const a of b.get(this).ma())yield a.Hh()}pL(a){d.dg(void 0);d.dg(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var e=
b.get(this),c=e.I();a=c.Nb().da(a);if(!a)throw Error("invalid layer");e=c.cE(e,a,void 0,void 0,void 0);c=c.la();c.Le(!0);e.xA();c.Le(!1);return e.Hh()}}}
{"use strict";const d=self.Bh,b=new WeakMap;self.w1=class{constructor(a){b.set(this,a);const e=[],c=a.Pa,f=c.Dg().length;for(let l=0;l<f;++l)e.push(new self.bF(c,l));Object.defineProperties(this,{name:{value:a.Ca(),writable:!1},index:{value:a.Ha(),writable:!1},KW:{value:e,writable:!1}})}addEventListener(a,e){d.ue(a);d.kk(e);b.get(this).ne.addEventListener(a,e)}removeEventListener(a,e){d.ue(a);d.kk(e);b.get(this).ne.removeEventListener(a,e)}get width(){return b.get(this).P()}set width(a){b.get(this).Xe(a)}get height(){return b.get(this).U()}set height(a){b.get(this).Ue(a)}set scale(a){d.Ui(a);
b.get(this).rp(a)}get scale(){return b.get(this).Wb}set angle(a){d.Ui(a);b.get(this).Kc(a)}get angle(){return b.get(this).ka()}set scrollX(a){d.dg(a);b.get(this).Vi(a)}get scrollX(){return b.get(this).Yf()}set scrollY(a){d.dg(a);b.get(this).Wi(a)}get scrollY(){return b.get(this).Zf()}scrollTo(a,e){d.dg(a);d.dg(e);const c=b.get(this);c.Vi(a);c.Wi(e)}set eX(a){d.ue(a);const e=b.get(this);if("perspective"===a)e.WP();else if("orthographic"===a)e.TP();else throw Error("invalid projection");}get eX(){return b.get(this).Ef?
"orthographic":"perspective"}}}
{"use strict";const d=self.A,b=self.Bh,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.B(d.gb);self.v1=class{constructor(c){a.set(this,c);const f=[],l=c.Pa,g=l.Dg().length;for(let k=0;k<g;++k)f.push(new self.bF(l,k));Object.defineProperties(this,{name:{value:c.Ca(),writable:!1},index:{value:c.Ha(),
writable:!1},zg:{value:c.oc().gw,writable:!1},KW:{value:f,writable:!1}})}get isVisible(){return a.get(this).Wc()}set isVisible(c){a.get(this).Yi(c)}get opacity(){return a.get(this).Ed()}set opacity(c){c=d.ba(+c,0,1);isNaN(c)||a.get(this).Ve(c)}set scale(c){b.Ui(c);a.get(this).UP(c)}get scale(){return a.get(this).Wb}set angle(c){b.Ui(c);a.get(this).Kc(c)}get angle(){return a.get(this).xe}set ay(c){b.Ui(c);a.get(this).Ye(c)}get ay(){return a.get(this).Xa()}set backgroundColor(c){b.KF(c);if(3>c.length)throw Error("expected 3 elements");
e.AD(c[0],c[1],c[2]);c=a.get(this);const f=c.Ql;f.yo(e)||(f.Fm(e),c.I().ea())}get backgroundColor(){const c=a.get(this).Ql;return[c.ab,c.eb,c.Za]}set scrollX(c){b.dg(c);const f=a.get(this);f.Wu(!0);f.Vi(c)}get scrollX(){return a.get(this).Yf()}set scrollY(c){b.dg(c);const f=a.get(this);f.Wu(!0);f.Wi(c)}get scrollY(){return a.get(this).Zf()}scrollTo(c,f){b.dg(c);b.dg(f);const l=a.get(this);l.Wu(!0);l.Vi(c);l.Wi(f)}}}
{"use strict";const d=self.A,b=self.Bh,a=new WeakMap,e=new WeakMap;function c(l){let g=e.get(l);if(g)return g;g=d.B(d.Event.Gb);e.set(l,g);return g}let f=null;self.Hu=class{constructor(){a.set(this,f);const l={Fc:{value:f.I().Aj,writable:!1},LL:{value:f.H().hw,writable:!1},uid:{value:f.yb,writable:!1}};f.K$(l);f.C$(l);Object.defineProperties(this,l);f.I().fS(this,f)}static cj(l){f=l}static yp(){return f}Bv(){const l=e.get(this);l&&(l.m(),e.delete(this));a.delete(this)}addEventListener(l,g,k){b.ue(l);
b.kk(g);c(this).addEventListener(l,g,k)}removeEventListener(l,g,k){b.ue(l);b.kk(g);c(this).removeEventListener(l,g,k)}dispatchEvent(l){c(this).dispatchEvent(l)}}}
{"use strict";const d=self.A,b=self.Bh,a=self.Hu,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.B(d.gb);self.jz=class c extends a{constructor(){super();var f=a.yp();e.set(this,f);const l=[];var g=f.j();if(f=g.Ae){g=g.H().Pa.Dg().length;for(let k=0;k<g;++k)l.push(new self.bF(f,k))}Object.defineProperties(this,
{KW:{value:l,writable:!1}})}get zg(){return e.get(this).j().oc().gw}get Zd(){return e.get(this).j().da().bfa}get x(){return e.get(this).j().R()}set x(f){f=+f;const l=e.get(this).j();isNaN(f)||l.R()===f||(l.Ug(f),l.Sa())}get y(){return e.get(this).j().S()}set y(f){f=+f;const l=e.get(this).j();isNaN(f)||l.S()===f||(l.Vg(f),l.Sa())}get ay(){return e.get(this).j().Xa()}set ay(f){f=+f;const l=e.get(this),g=l.j();isNaN(f)||g.Xa()===f||(g.Ye(f),l.I().ea())}get width(){return e.get(this).j().P()}set width(f){f=
+f;const l=e.get(this).j();isNaN(f)||l.P()===f||(l.Xe(f),l.Sa())}get height(){return e.get(this).j().U()}set height(f){f=+f;const l=e.get(this).j();isNaN(f)||l.U()===f||(l.Ue(f),l.Sa())}get angle(){return e.get(this).j().ka()}set angle(f){f=d.pe(+f);const l=e.get(this).j();isNaN(f)||l.ka()===f||(l.Kc(f),l.Sa())}xL(){e.get(this).j().Vc().Xha()}get isVisible(){return e.get(this).j().Wc()}set isVisible(f){f=!!f;const l=e.get(this),g=l.j();g.Wc()!==f&&(g.Yi(f),l.I().ea())}get opacity(){return e.get(this).j().Ed()}set opacity(f){f=
d.ba(+f,0,1);const l=e.get(this),g=l.j();isNaN(f)||g.Ed()===f||(g.Ve(f),l.I().ea())}get zIndex(){return e.get(this).j().fk()}Qf(f,l){b.dg(f);b.dg(l);return e.get(this).j().gu(+f,+l)}getParent(){const f=e.get(this).Da();return f?f.Hh():null}*Qx(){for(const f of e.get(this).Qx())yield f.Hh()}*children(){for(const f of e.get(this).children())yield f.Hh()}*al(){for(const f of e.get(this).al())yield f.Hh()}removeChild(f){b.LF(f,c);const l=e.get(this);f=e.get(f);l.jk(f)}}}
{"use strict";const d=new WeakMap;self.Nla=class extends self.jz{constructor(){super();d.set(this,self.Hu.yp())}focus(){d.get(this).ja.$M()}blur(){d.get(this).ja.tM()}}}
{"use strict";const d=self.A,b=self.Bh,a=new WeakMap,e=new WeakMap;function c(l){let g=e.get(l);if(g)return g;g=d.B(d.Event.Gb);e.set(l,g);return g}let f=null;self.aF=class{constructor(){a.set(this,f);const l={Fc:{value:f.I().Aj,writable:!1},behavior:{value:f.tf().p0(),writable:!1}};Object.defineProperties(this,l)}static cj(l){f=l}static yp(){return f}get instance(){return a.get(this).J.Hh()}Bv(){const l=e.get(this);l&&(l.m(),e.delete(this));a.delete(this)}addEventListener(l,g,k){b.ue(l);b.kk(g);
c(this).addEventListener(l,g,k)}removeEventListener(l,g,k){b.ue(l);b.kk(g);c(this).removeEventListener(l,g,k)}dispatchEvent(l){c(this).dispatchEvent(l)}}}{"use strict";const d=new WeakMap;self.XN=class{constructor(b){d.set(this,b);Object.defineProperties(this,{Fc:{value:b.I().Aj,writable:!1}})}}}
{"use strict";const d=self.A,b=self.Bh,a=new WeakMap;self.bF=class{constructor(e,c){a.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Dg()[this.index].Ca()}getParameter(e){b.Ui(e);e=Math.floor(+e);const c=a.get(this).Fg(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.gb?[e.ab,e.eb,e.Za]:e}}}
{"use strict";const d=self.A,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.dY=class extends d.ga{constructor(e,c){super();var f=c.exportType;this.g=e;this.iC=new Map;this.Ys=new Map;this.vfa=new Map;this.EB="cordova"===f;this.tJ=!!c.isiOSCordova;this.qw=!!c.isFileProtocol;this.Tfa=c.supportedAudioFormats||{};this.$H=
new Map;this.yV=!1;this.uU=this.dU=this.gV="";this.ZA="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.QH=[];this.ZH=new Map;this.eL=[];this.gC=[];this.pU=!1;this.$B=this.YH=this.rx=0;this.RI=!1;this.ufa=d.B(d.W4,()=>this.mR(),50);this.qK=new d.CF(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [l,g]of Object.entries(e))this.iC.set(l.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [l,
g]of Object.entries(c))this.vfa.set(l,g);new self.t1(this)}m(){this.iC.clear();for(const e of this.Ys.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.Ys.clear();for(const e of this.QH)e.m();d.D(this.QH);this.ZH.clear();d.D(this.gC);this.g=null}I(){return this.g}Cda(e){this.gV=e}oda(e){this.dU=e}tda(e){this.uU=e}hA(e){return this.iC.has(e.toLowerCase())}eA(e){return this.iC.get(e.toLowerCase())||null}HE(e){if(!this.hA(e))return e;e=e.toLowerCase();var c=this.Ys.get(e);c||(c=this.eA(e),
c=URL.createObjectURL(c),this.Ys.set(e,c));return c}jl(e,c){c=c||this.ZA;const f=this.eA(e);if(f)return Promise.resolve(f);if(d.rF(e)){const l=e.toLowerCase();return this.EB&&this.qw?this.JM(l):"local"===c?this.qK.wc(()=>d.jl(l)):d.jl(l)}return d.jl(e)}ku(e){const c=this.eA(e);if(c)return d.iY(c);if(d.rF(e)){const f=e.toLowerCase();return this.EB&&this.qw?this.IM(f):"local"===this.ZA?this.qK.wc(()=>d.ku(f)):d.ku(f)}return d.ku(e)}lu(e){const c=this.eA(e);if(c)return d.sM(c);if(d.rF(e)){const f=e.toLowerCase();
return this.EB&&this.qw?this.PY(f):"local"===this.ZA?this.qK.wc(()=>d.lu(f)):d.lu(f)}return d.lu(e)}async YM(e){e=await this.lu(e);return JSON.parse(e)}CG(e,c){return this.g.hp("runtime","cordova-fetch-local-file",{filename:e,as:c})}PY(e){return this.CG(e,"text")}async JM(e){const c=await this.CG(e,"buffer");e?(e=e.split("."),e=2>e.length?"":a.get(e.oe(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async OY(e){e=e.toLowerCase();var c=this.Ys.get(e);if(c)return c;c=await this.JM(e);c=URL.createObjectURL(c);
this.Ys.set(e,c);return c}IM(e){return this.CG(e,"buffer")}vN(e){return this.hA(e)?this.HE(e):this.gV+e.toLowerCase()}Vy(e,c=""){if(d.fF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.hA(e)?Promise.resolve(this.HE(e)):this.EB&&this.qw?this.OY(c+e):Promise.resolve(c+e.toLowerCase())}xz(e){if(e.Nx&&!b.has(e.Nx))throw Error("invalid load policy");let c=this.ZH.get(e.url);if(c)return c;c=d.B(d.YN,this,{url:e.url,size:e.size||0,Nx:e.Nx||this.ZA});
this.QH.push(c);this.ZH.set(c.Uk,c);this.pU||(this.rx+=c.Um(),this.gC.push(c.sO().then(()=>this.FQ(c.Um()))));return c}async wQ(){try{await Promise.all(this.gC),this.$B=1}catch(e){console.error("Error loading: ",e),this.RI=!0,this.mR()}}k6(){this.pU=!0}FQ(e){this.YH+=e;this.ufa.rY()}mR(){const e=d.B(d.Event,"loadingprogress");this.$B=d.ba(this.YH/this.rx,0,1);e.progress=this.$B;this.g.Gb().dispatchEvent(e)}Oda(e){d.td(this.eL,e);this.eL.length&&this.gC.push(this.Uaa())}Uaa(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,f,l]of this.eL)this.rx+=l,e.push(this.Taa(c,f).then(()=>this.FQ(l)));return Promise.all(e)}async Taa(e,c){try{const f=await this.Vy(c,this.dU),l=new FontFace(e,`url('${f}')`);this.g.De?self.fonts.add(l):document.fonts.add(l);await l.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}aO(e){return!!this.Tfa[e]}fda(e,c){this.yV=!!c;for(const [f,l,g]of e)this.$H.set(f,{fileName:f,Hga:l.map(k=>({type:k[0],Qua:k[1],MW:f+k[1],fileSize:k[2]})),aha:g})}BN(e){e=
this.$H.get(e.toLowerCase());if(!e)return null;let c=null;for(const f of e.Hga)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.aO(f.type))return f;return c}Hg(e){return(e=this.BN(e))?{url:this.vN(e.MW),type:e.type}:null}M_(){if(this.yV){const e=[];for(const c of this.$H.values()){if(c.aha)continue;const f=this.BN(c.fileName);f&&e.push({wha:c.fileName,url:this.vN(f.MW),type:f.type,fileSize:f.fileSize})}return e}return[]}async vO(e){e=await this.Vy(e);return await this.g.hp("runtime","add-stylesheet",
{url:e})}}}
{"use strict";const d=self.A;d.cY=class extends d.ga{constructor(b,a){super();this.rb=b;this.g=b.I();this.Uk=a.url;this.nt=a.size;this.IJ=a.Nx;this.Ov=null;this.mJ=!1;this.Sn=null}m(){this.Ov=this.g=this.rb=this.Sn=null}Um(){return this.nt}sO(){return"local"===this.IJ||this.Ov?(this.mJ=!0,Promise.resolve()):this.Sn?this.Sn:this.Sn=this.rb.jl(this.Uk,this.IJ).then(b=>{this.mJ=!0;this.Sn=null;return this.Ov=b}).catch(b=>console.error("Error loading resource: ",b))}pF(){return this.mJ}dN(){return this.Ov?Promise.resolve(this.Ov):
this.Sn?this.Sn:this.rb.jl(this.Uk,this.IJ)}}}
{"use strict";const d=self.A,b=new d.CF,a=new Set;d.YN=class extends d.cY{constructor(e,c){super(e,c);this.Xk=this.Mq=null;this.Sc=0;this.wU=this.yU=-1;a.add(this)}m(){this.Nh();if(0!==this.Sc)throw Error("released image asset which still has texture references");this.Mq=null;a.delete(this);super.m()}static Ir(){for(const e of a)e.Mq=null,e.Xk=null,e.Sc=0}Er(e,c){c=c||{};this.Sc++;if(this.Xk)return Promise.resolve(this.Xk);if(this.Mq)return this.Mq;c.wW=this.g.W.eW;return this.Mq=this.dN().then(f=>
b.wc(()=>e.oy(f,c).then(l=>{this.Mq=null;if(0===this.Sc)return e.Tj(l),null;this.Xk=l;this.yU=l.P();this.wU=l.U();return this.Xk}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}Nh(){if(0>=this.Sc)throw Error("texture released too many times");this.Sc--;0===this.Sc&&this.Xk&&(this.Xk.Bb().Tj(this.Xk),this.Xk=null)}se(){return this.Xk}P(){return this.yU}U(){return this.wU}async e3(){const e=await this.dN();return d.Tb.ImageBitmapOptions?await createImageBitmap(e,{premultiplyAlpha:"none"}):
d.Tb.ImageBitmap?await createImageBitmap(e):await d.rM(e)}}}
{"use strict";const d=self.A;function b(a,e){return a.j().$k-e.j().$k}d.i5=class extends d.ga{constructor(a,e,c){super();this.Y=e;this.O=c;this.G=[];this.xw=!0;this.Gj=new Set;this.lw=!1}m(){d.D(this.G);this.Gj.clear()}Jc(){d.D(this.G);this.xw=!0;this.Gj.clear();this.lw=!1}L5(){this.xw=!1}cp(){if(!this.G.length)return!0;if(this.G.length>this.Gj.size)return!1;this.VG();return!0}dF(a){this.Gj.has(a)?(this.Gj.delete(a),0===this.Gj.size&&(this.lw=!1)):(this.G.push(a),this.xw=1===this.G.length)}Oh(a){this.Gj.add(a);
this.lw=!0;50<=this.Gj.size&&this.VG()}VG(){this.lw&&(this.G.length===this.Gj.size?this.Jc():(d.xh(this.G,this.Gj),this.Gj.clear(),this.lw=!1))}l$(){this.xw||(this.G.sort(b),this.xw=!0)}iE(a){this.VG();this.l$();this.G.length&&a.push(this.G)}}}
{"use strict";const d=self.A;d.j5=class extends d.ga{constructor(b,a){super();this.lI=b;this.kI=a;this.kj=d.B(d.Mu)}m(){this.kj.m();this.kj=null}Om(b,a,e){let c=this.kj.$(b,a);return c?c:e?(c=d.B(d.i5,this,b,a),this.kj.Set(b,a,c),c):null}Zi(b){return Math.floor(b/this.lI)}$i(b){return Math.floor(b/this.kI)}Il(b,a,e){if(a)for(let c=a.N,f=a.X;c<=f;++c)for(let l=a.L,g=a.V;l<=g;++l){if(e&&e.Qf(c,l))continue;const k=this.Om(c,l,!1);k&&(k.Oh(b),k.cp()&&this.kj.Jo(c,l))}if(e)for(let c=e.N,f=e.X;c<=f;++c)for(let l=
e.L,g=e.V;l<=g;++l)a&&a.Qf(c,l)||this.Om(c,l,!0).dF(b)}Dz(b,a){let e=this.Zi(b.N);const c=this.$i(b.L),f=this.Zi(b.X);for(b=this.$i(b.V);e<=f;++e)for(let l=c;l<=b;++l){const g=this.Om(e,l,!1);g&&g.iE(a)}}j3(b){let a=b.N;const e=b.L,c=b.X;for(b=b.V;a<=c;++a)for(let f=e;f<=b;++f){const l=this.Om(a,f,!1);l&&l.L5()}}}}
{"use strict";const d=self.A,b=new d.Rect,a=new d.xd,e=[],c=new d.Rect,f=new d.Rect,l=self.dl,g=l.GD,k=l.Zx,n=l.Ao;n.create();const q=g.create(),r=k.create(),p=g.create(),v=g.create(),t=g.create(),w=d.B(d.gv);function x(C,H){return C.j().$k-H.j().$k}function z(C,H){return C.j().Xa()-H.j().Xa()}const E=[],G=[],N=[];d.tF=class extends d.ga{constructor(C,H,I){super();this.Fj=C;this.g=C.I();this.Ga=I[0];this.Ta=H;this.Va=I[2];this.XB=!!I[3];this.Ql=d.B(d.gb);this.Ql.Eo(I[4].map(K=>K/255));this.Nn=!!I[5];
this.ie=I[6];this.je=I[7];this.tb=d.B(d.gb,1,1,1,I[8]);this.wC=d.B(d.gb);this.hJ=I[9];this.Mfa=I[17];this.kW=I[18];this.Yfa=I[10];this.Jj=I[11];this.zn=I[12];this.Dk=null;this.Wb=1;this.ed=I[16];this.pi=this.oi=this.xe=0;this.Yl=!1;this.Mf=d.B(d.Rect);this.rW=d.B(d.Rect);this.so=d.B(d.Rect);this.yq=n.create();this.qJ=!0;this.kV=n.create();this.nJ=!0;this.qW=d.B(d.ca.J7);this.WB=!0;this.aW=[];this.Kk=[];this.XA=[];this.BU=new Map;this.G=[];this.Kp=this.iL=!1;this.Pa=d.B(d.hl,this,I[15]);this.lt=null;
this.xJ=[];this.OB=!1;this.rfa=d.B(d.Rect,0,0,-1,-1);this.Rea=d.B(d.Rect,0,0,-1,-1);this.bfa=new self.v1(this);this.uT();this.up()&&(this.lt=d.B(d.j5,this.g.nh,this.g.mh));for(const K of I[14])C=this.g.yf(K[1]),this.Fj.DQ(C),C.As||C.DP(K),this.Kk.push(K),this.BU.set(K[2],K);d.td(this.aW,this.Kk)}static Ra(C,H,I){return d.B(d.tF,C,H,I)}m(){this.g=this.Fj=null}s0(C){return this.BU.get(C)}SY(C){const H=this.Fj.jq;let I=0;const K=this.Kk;for(let R=0,U=K.length;R<U;++R){var Q=K[R];const Z=this.g.yf(Q[1]);
let ca=!0;if(!Z.YE()||H)Q=this.g.Ii(Q,this,!0),C.push(Q),Z.Og()&&(ca=!1,this.XA.push(Q.yb));ca&&(K[I]=K[R],++I)}d.qe(K,I);this.g.ae();this.Wg()}Yg(C,H){const I=C.j();if(I.da()!==this)throw Error("instance added to wrong layer");this.G.push(C);0!==I.Xa()&&(this.Kp=!0);H&&this.up()&&C.j().Sa();this.Wg()}Yaa(C){this.G.includes(C)||(this.G.push(C),0!==C.j().Xa()&&(this.Kp=!0),this.Wg())}Uba(C){const H=C.j();if(H.da()!==this)throw Error("instance added to wrong layer");this.G.unshift(C);0!==H.Xa()&&(this.Kp=
!0);this.Wg()}Cp(C,H){const I=this.G.indexOf(C);0>I||(H&&this.up()&&C.j().zS(),this.G.splice(I,1),this.Wg(),this.kS())}PS(){this.Kp=!0}kS(){0===this.G.length&&(this.Kp=!1)}CH(C){if(C){C=new Set;for(var H of this.G){var I=H.j().$k;0<=I&&C.add(I)}H=-1;for(const K of this.G)if(I=K.j(),!(0<=I.$k)){for(++H;C.has(H);)++H;I.vA(H)}}this.G.sort(x)}k$(){for(const C of this.G)C.H().Og()||this.g.Nm(C);this.g.ae();d.D(this.G);this.Kp=!1;this.Wg()}Pu(C,H,I,K,Q){const R=this.g.la(),U=this.g.Zc,Z=C.Wa,ca=[];for(const ka of this.Kk){var Y=
ka[0];if(H.Qf(Y[0],Y[1])){Y=U[ka[1]];if(Y!==C)if(Z){if(!C.XM(Y))continue}else continue;Y=this;var ha=this.g.Ka();this.oc()!==ha&&((Y=ha.sN(this.Ca()))||(Y=ha.xu(this.Ha())));ha=this.g.Ii(ka,Y,!1,void 0,void 0,!1,Q);Y.lG(ha);Y=ha.j();Y.Lu(I,K);Y.Sa();R.Le(!0);ha.xA();R.Le(!1);ca.push(ha)}}return ca}oc(){return this.Fj}Ca(){return this.Ga}Ha(){return this.Ta}I(){return this.g}kl(){return this.g.kl()}up(){return this.Yfa&&!this.kW}z6(){this.OB=!1}Wc(){return this.XB}Yi(C){C=!!C;this.XB!==C&&(this.XB=
C,this.g.ea())}Wu(C){C=!!C;if(this.Yl!==C){if(this.Yl=C)C=this.oc(),this.oi=C.Yf(),this.pi=C.Zf();this.xk();this.g.ea()}}Vi(C){var H=this.oc();const I=H.HN();H=H.IN();C>H&&(C=H);C<I&&(C=I);this.oi!==C&&(this.oi=C,this.Yl&&(this.xk(),this.g.ea()))}Wi(C){var H=this.oc();const I=H.JN();H=H.GN();C>H&&(C=H);C<I&&(C=I);this.pi!==C&&(this.pi=C,this.Yl&&(this.xk(),this.g.ea()))}Yf(){return this.Yl?this.oi:this.oc().Yf()}Zf(){return this.Yl?this.pi:this.oc().Zf()}ZG(){const C=this.oc();return[C.SE(),C.TE()]}TN(C,
H){var I=this.rW;if(0===C)H.ta(I);else{let U=I.Bi(),Z=I.Ci();var K=this.G_(C);const ca=I.width()/K;I=I.height()/K;const [Y,ha]=this.ZG();if(.5!==Y||.5!==ha){const ka=this.Gy();var Q=this.g,R=100/ka;K=(Y-.5)*Q.Of/R;Q=(ha-.5)*Q.Nf/R;R=this.ka();0!==R&&(w.set(K,Q),w.rotate(R),K=w.Y,Q=w.O);C=d.FD(ka,0,C);U+=d.rd(K,0,C);Z+=d.rd(Q,0,C)}H.set(U-ca/2,Z-I/2,U+ca/2,Z+I/2)}}Ed(){return this.tb.Ua}Ve(C){C=d.ba(C,0,1);this.tb.Ua!==C&&(this.tb.zh(C),this.uT(),this.g.ea())}uT(){this.wC.ta(this.tb);this.wC.vD()}KE(){return this.wC}Vm(){return this.tb.Hx(1,
1,1,1)}A6(C){this.Jj!==C&&(this.Jj=C,this.xk(),this.g.ea())}w6(C,H){if(this.ie!==C||this.je!==H)if(this.ie=C,this.je=H,this.xk(),this.g.ea(),1!==this.ie||1!==this.je)for(const I of this.G)I.H().vH(!0)}Ye(C){this.ed!==C&&(this.ed=C,this.g.ea())}Xa(){return this.ed}Kc(C){C=d.pe(C);this.xe!==C&&(this.xe=C,this.xk(),this.g.ea())}ka(){return d.pe(this.Fj.ka()+this.xe)}l1(){return 0<this.G.length}WG(){return this.IF()&&this.kW?(d.td(N,this.G),N.sort((C,H)=>this.Vda(C,H)),N):this.G}Vda(C,H){var I=this.oc().GT,
K=I[0],Q=I[1];I=I[2];var R=C.j();const U=H.j();H=R.R()-K;C=R.S()-Q;R=R.Xa()-I;K=U.R()-K;Q=U.S()-Q;I=U.Xa()-I;return K*K+Q*Q+I*I-(H*H+C*C+R*R)}P6(C){C=!!C;this.Nn!==C&&(this.Nn=C,this.g.ea())}d6(C){C=!!C;this.hJ!==C&&(this.hJ=C,this.g.ea())}l5(){return!this.I().Cm||!this.Mfa}IF(){return!this.l5()}wr(){return this.IF()&&this.oc().hfa}eg(C){this.zn!==C&&(this.zn=C,this.g.ea())}Ki(){return this.zn}N2(C){return this===C||this.ie===C.ie&&this.je===C.je&&this.Wb===C.Wb&&this.Jj===C.Jj&&this.xe===C.xe&&this.Yf()===
C.Yf()&&this.Zf()===C.Zf()}hca(C){0!==C.size&&0<d.xh(this.G,C)&&(this.kS(),this.Wg())}Wg(){this.OB=this.iL=!1}Gv(){if(!this.iL){this.G.sort(z);if(this.up())for(let C=0,H=this.G.length;C<H;++C){const I=this.G[C].j();I.vA(C);this.lt.j3(I.Ww)}else for(let C=0,H=this.G.length;C<H;++C)this.G[C].j().vA(C);this.iL=!0}}o3(C,H,I){var K=C.j();H=H.j();if(K.da()!==this||H.da()!==this)throw Error("can't arrange Z order unless both objects on this layer");K=K.fk();H=H.fk();if(K===H+(I?1:-1))return!1;d.kga(this.G,
K);K<H&&H--;I&&H++;H===this.G.length?this.G.push(C):this.G.splice(H,0,C);this.Wg();return!0}fba(C,H){const I=[];let K=0,Q=0,R=C.length,U=H.length;for(;K<R&&Q<U;){const Z=C[K],ca=H[Q];Z.j().$k<ca.j().$k?(I.push(Z),++K):(I.push(ca),++Q)}for(;K<R;++K)I.push(C[K]);for(;Q<U;++Q)I.push(H[Q]);return I}eba(C){const H=[],I=C.length;for(let K=0;K<I-1;K+=2)H.push(this.fba(C[K],C[K+1]));1===I%2&&H.push(C[I-1]);return H}dba(C){for(;1<C.length;)C=this.eba(C);return C[0]}S$(){this.Gv();d.D(e);this.lt.Dz(this.Mf,
e);return e.length?1===e.length?e[0]:this.dba(e):[]}taa(){return!this.ds()&&!this.Nn}fQ(){return this.Wc()&&0<this.Ed()&&(this.l1()||!this.Nn)}ds(){return this.hJ||!this.Vm()||0!==this.Ki()||this.Pa.Eu()}Xy(){return this.Dk}E8(C){if(0===C.length)return!0;if(2<=C.length)return!1;C=C[0].mb;return!C.bn()&&!C.xx&&!C.pI&&this.Vm()}G_(C){if(this.Fj.Ef)return 1;{const H=this.Gy();return H/(H-C)}}Gy(){return 100/this.Xj()}xk(){this.WB=this.nJ=!0}fA(C){this.nJ&&(this.C8(C,this.kV),this.nJ=!1);return this.kV}C8(C,
H){const I=this.g;var K=this.oc();const Q=I.Sm();var R=I.dK,U=I.eK,Z=(this.Yf()-R)*this.ie+R,ca=(this.Zf()-U)*this.je+U;this.g.Ln&&(Z=Math.round(Z),ca=Math.round(ca));if(this.wr())g.ta(p,K.GT),g.ta(v,K.Nea),g.ta(t,K.Oea),K=v[0]-p[0],ca=v[1]-p[1],Z=v[2]-p[2],p[0]=(p[0]-R)*this.ie+R,p[1]=(p[1]-U)*this.je+U,p[2]*=Math.max(this.ie,this.je),v[0]=p[0]+K,v[1]=p[1]+ca,v[2]=p[2]+Z,g.set(q,Q,Q,1),g.multiply(p,p,q),g.multiply(v,v,q);else{R=(Z+0)*Q;U=(ca+0)*Q;K=K.Ef?100:this.Gy();ca=this.ka();const [ha,ka]=this.ZG();
if(.5!==ha||.5!==ka){var Y=100/K;Z=(ha-.5)*I.Of*Q/Y;Y=(ka-.5)*I.Nf*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.Y,Y=w.O);R+=Z;U+=Y}g.set(p,R,U,K);g.set(v,R,U,K-100);0===ca?g.set(t,0,1,0):g.set(t,Math.sin(ca),Math.cos(ca),0)}C.wM(H,p,v,t,I.W.Wf());1!==Q&&(g.set(q,Q,Q,1),n.scale(H,H,q))}Gda(){this.WB=this.qJ=!0}gA(C){this.qJ&&(this.D8(C),this.qJ=!1);return this.yq}D8(C){const H=this.g.W,[I,K]=this.ZG();this.Fj.Ef?C.mY(this.yq,H.Eg(),H.Wf()):.5===I&&.5===K?n.ta(this.yq,H.$A):C.eu(this.yq,H.Eg()/H.Wf(),I,
K)}BH(C){C.Vr(this.gA(C));let H;H=this.fA(C);C.Rr(H)}L4(C){this.BH(C);C.Su(this.Xa())}sf(C,H,I){var K=this.g.W;const Q=this.ds();var R=null;let U=null;if(this.g.kF()&&C.Ju()){const Z=K.tN(this);Z&&(U=Z.RD(),C.pG(U))}Q?(R={Di:this.g.od},"low"===K.yj&&(R.width=K.Eg(),R.height=K.Wf()),R=this.g.pu(R),C.We(R),this.Nn?C.ky():C.Gc(this.Ql)):(C.We(H),this.Nn||I||C.Gc(this.Ql));this.Dk=R||H;this.BH(C);C.Su(this.Xa());C.jn(this.IF());this.Xj()>Number.EPSILON&&(this.Gv(),K=this.up()&&0===this.Xa()&&!this.Kp,
this.wr()?this.X9(C):K?this.Y9(C):this.fR(C,this.WG()));C.Su(0);C.hn(0);Q&&(C.jn(!1),this.Z9(C,R,H,I));U&&C.kE(U);this.Dk=null}fR(C,H){const I=this.Mf,K=this.Dk,Q=this.oc().Ef,R=this.oc().WN();let U=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===U)continue;U=Y;const ha=Y.j();ha.Wc()&&ha.kO(I,R,Q)&&this.Ll(Y,ha,C,K)}}X9(C){const H=this.Dk,I=this.sv(),K=this.WG();for(let Z=0,ca=K.length;Z<ca;){var Q=K[Z],R=Q.j();if(!R.Wc()||!R.zr(I)){++Z;continue}(!Q.Lr()||0<R.ef)&&G.push(Q);var U=Q.j().ag();
E.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=K[Y],ka=ha.j();if(ka.Wc()&&ka.zr(I)){if(ka.ag()!==U)break;ha.Lr()?(0<ka.ef&&G.push(ha),E.push(ha)):G.push(ha)}}if(1!==E.length||E[0].AO()){this.S9(C,E);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.j(),R.tA(!0),this.Ll(Q,R,C,H),R.tA(!1)}else{this.Ll(Q,R,C,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(U=R.j(),U.da().Ll(R,U,C,H))}Z=Y;d.D(E);d.D(G)}}S9(C,H){const I=this.Dk;C.HM();for(let R=0,U=H.length;R<U;++R){var K=H[R],Q=K.j();Q.rA(!0);this.SG(K,
Q,C)}C.GM();for(let R=0,U=H.length;R<U;++R)K=H[R],Q=K.j(),this.Ll(K,Q,C,I),Q.rA(!1);C.FM()}Y9(C){var H=this.lt;const I=this.Rea,K=this.rfa,Q=this.Mf;I.set(H.Zi(Q.N),H.$i(Q.L),H.Zi(Q.X),H.$i(Q.V));this.OB&&I.Uc(K)?H=this.xJ:(H=this.S$(),this.OB=!0,K.ta(I));this.fR(C,H);H!==this.xJ&&d.td(this.xJ,H)}Ll(C,H,I,K){H.Eu()?this.V9(C,H,I,K):this.SG(C,H,I)}SG(C,H,I){H=H.Jq;I.pj!==H&&H.YX();C.sf(I)}V9(C,H,I,K){this.U9(C,H,I,K)&&this.BH(I)}U9(C,H,I,K){const Q=H.Ae.ej;if(1===Q.length){const R=Q[0],U=R.mb;if(!U.Afa&&
H.Vm()&&!C.bn())return this.W9(C,H,R,U,I),!1}C=d.HF(I,this.g,C,K,Q,null);I.Su(this.Xa());return C}W9(C,H,I,K,Q){Q.mn(K);Q.eg(H.Ki());K.EA&&this.g.ea();let R=0,U=0;if(K.Zfa){const [Z,ca]=C.Jy();R=1/Z;U=1/ca;(K=C.Ky())?f.ta(K):f.set(0,0,0,0)}I=H.Ae.Fg(I.Ha());Q.hn(H.Xa());Q.Ur(null,c,f,f,H.Vc(),R,U,this.Wb,this.ka(),this.g.Gg(),I);C.sf(Q)}Z9(C,H,I,K){const Q=this.Pa.ej,R=this.g;if(this.E8(Q)){C.We(I);if(1===Q.length){var U=Q[0];I=U.mb;C.mn(I);f.set(0,0,1,1);U=this.Pa.Fg(U.Ha());C.Ur(null,c,f,f,this.Mf,
1/R.Eg(),1/R.Wf(),this.Xj(),this.ka(),R.Gg(),U);I.EA&&R.ea()}else C.Qh();K&&0===this.zn&&this.Vm()&&0===Q.length?C.aE(H):(C.eg(this.zn),C.mk(this.wC),C.hu(H));C.Yo(H);R.dn(H)}else d.HF(C,R,this,I,Q)}UP(C){this.Wb!==C&&(this.Wb=C,this.Fj.dy(),this.xk(),this.g.ea())}Sm(){return this.Xj()*this.g.Sm()}ll(){return this.Xj()*this.g.ll()}Xj(){return(this.Wb*this.Fj.Wb-1)*this.Jj+1}uG(){var C=this.g.dK,H=this.g.eK,I=(this.Yf()-C)*this.ie+C,K=(this.Zf()-H)*this.je+H;C=this.Xj();H=this.g.Of/C;C=this.g.Nf/C;
I-=H/2;let Q=K-C/2;this.g.Ln&&(I=Math.round(I),Q=Math.round(Q));K=this.rW;K.set(I,Q,I+H,Q+C);H=this.ka();0!==H&&(b.ta(K),b.offset(-K.Bi(),-K.Ci()),a.Oha(b,H),a.xL(b),b.offset(K.Bi(),K.Ci()),K.ta(b));H=this.ed;this.TN(H,this.Mf);this.wr()?this.qY(H,this.so):this.so.ta(this.Mf)}qY(C,H){var I=this.g.W,K=I.cd;I=I.Oc;const [Q,R]=this.Ag(0,0,C),[U,Z]=this.Ag(K,0,C),[ca,Y]=this.Ag(K,I,C),[ha,ka]=this.Ag(0,I,C);C=Math.min(Q,U,ca,ha);K=Math.min(R,Z,Y,ka);I=Math.max(Q,U,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(C)||
(C=-Infinity);isFinite(K)||(K=-Infinity);isFinite(I)||(I=Infinity);isFinite(za)||(za=Infinity);H.set(C,K,I,za)}Ag(C,H,I=0){return this.H8(C,H,I,this.ll())}H8(C,H,I,K){const Q=this.g;var R=Q.Bb();const U=this.Xj();k.set(r,0,0,Q.Of/U,Q.Nf/U);C/=K;H=r[3]-H/K;K=this.gA(R);R=this.fA(R);return d.ca.A7(C,H,I,R,K,r,q)?[q[0],q[1]]:[NaN,NaN]}zM(C,H){const I=this.Wb,K=this.Jj,Q=this.ie,R=this.je,U=this.xe;this.je=this.ie=this.Jj=this.Wb=1;this.xe=0;this.xk();C=this.Ag(C,H);this.Wb=I;this.Jj=K;this.ie=Q;this.je=
R;this.xe=U;this.xk();return C}gp(C,H){return this.cS(C,H,0,this.ll())}an(C,H,I=0){return this.cS(C,H,I,this.Sm()*this.kl())}cS(C,H,I,K){var Q=this.g,R=Q.Bb();const U=this.Xj();k.set(r,0,0,Q.Of/U,Q.Nf/U);Q=this.gA(R);R=this.fA(R);return d.ca.N4(C,H,I,R,Q,r,q)?[q[0]*K,(r[3]-q[1])*K]:[NaN,NaN]}sv(){this.WB&&(this.rea(),this.WB=!1);return this.qW}rea(){var C=this.g.Bb();const H=this.gA(C);C=this.fA(C);this.qW.nY(C,H)}oa(){return{s:this.Wb,a:this.xe,vl:this.Mf.N,vt:this.Mf.L,vr:this.Mf.X,vb:this.Mf.V,
v:this.Wc(),bc:this.Ql.toJSON(),t:this.Nn,sx:this.oi,sy:this.pi,hosp:this.Yl,px:this.ie,py:this.je,c:this.tb.toJSON(),sr:this.Jj,fx:this.Pa.md(),cg:this.XA}}ua(C){this.Wb=C.s;this.xe=C.a;this.Mf.set(C.vl,C.vt,C.vr,C.vb);this.XB=!!C.v;this.Ql.Eo(C.bc);this.Nn=!!C.t;C.hasOwnProperty("sx")&&(this.oi=C.sx);C.hasOwnProperty("sy")&&(this.pi=C.sy);C.hasOwnProperty("hosp")&&(this.Yl=!!C.hosp);this.ie=C.px;this.je=C.py;this.tb.Eo(C.c);this.Jj=C.sr;d.td(this.XA,C.cg);d.td(this.Kk,this.aW);const H=new Set(this.XA);
let I=0;for(let K=0,Q=this.Kk.length;K<Q;++K)H.has(this.Kk[K][2])||(this.Kk[I]=this.Kk[K],++I);d.qe(this.Kk,I);this.Pa.Xc(C.fx);this.CH(!1);this.Wg()}lG(C){C.j();if(!this.G.includes(C))if(C.zf()){var H=[...C.al()];H.push(C);H.sort((K,Q)=>{K=K.j().Fq;Q=Q.j().Fq;return K-Q});for(var I of H)if(I.Zb())for(const K of I.Kd)H.includes(K)||(C=[...K.al()],C.push(K),C.sort((Q,R)=>{Q=Q.j().Fq;R=R.j().Fq;return Q-R}),C&&C.length&&H.splice(H.length,0,...C));for(const K of H)this.Yg(K,!0)}else if(this.Yg(C,!0),
C.Zb())for(H of C.Kd)if(I=[...H.al()],I.push(H),I.sort((K,Q)=>{K=K.j().Fq;Q=Q.j().Fq;return K-Q}),I&&I.length)for(const K of I)this.Yg(K,!0)}}}
{"use strict";const d=self.A,b=self.Vf,a=d.B(d.Rect),e=d.B(d.Rect),c=d.B(d.Rect),f=d.B(d.gb),l=self.dl.GD,g=[],k=[],n=[],q=[],r=[];let p=null;function v(t,w){p!==t&&(t.L4(w),p=t)}d.pO=class extends d.ga{constructor(t,w,x){super();this.$a=t;this.g=t.I();this.Ga=x[0];this.Ifa=x[1];this.Hfa=x[2];this.T=x[1];this.M=x[2];this.VB=!!x[3];this.Ef=!!x[4];this.aD=x[5];this.bD=x[6];this.XT=x[7];this.dd=null;this.Va=x[8];this.Ta=w;this.pi=this.oi=0;this.Wb=1;this.xe=0;this.Ms=new Set;this.th=new Set;this.lx=
new Set;this.xs=[];this.XI=[];this.hfa=!1;this.GT=l.create();this.Nea=l.create();this.Oea=l.create();this.ac=[];this.YU=new Map;this.ZU=new Map;this.Pa=d.B(d.hl,this,x[11]);this.Dk=null;this.wq={};this.jq=!0;this.gw=new self.w1(this);this.ne=d.B(d.Event.Gb);for(const z of x[9])t=d.tF.Ra(this,this.ac.length,z),this.ac.push(t),this.YU.set(t.Ca().toLowerCase(),t),this.ZU.set(t.Va,t);for(const z of x[10]){x=this.g.yf(z[1]);if(!x)throw Error("missing nonworld object class");x.As||x.DP(z);this.XI.push(z);
this.DQ(x)}}m(){for(const t of this.ac)t.m();d.D(this.ac);this.lx.clear();this.g=this.$a=this.dd=null}I(){return this.g}Ca(){return this.Ga}Ha(){return this.Ta}wN(){let t=this.ac[0].Xj();for(let w=1,x=this.ac.length;w<x;++w){const z=this.ac[w];if(0!==z.ie||0!==z.je)t=Math.min(t,z.Xj())}return t}KR(){return.5*this.g.Of/this.wN()}LR(){return.5*this.g.Nf/this.wN()}HN(){return this.VB?-Infinity:this.KR()}IN(){return this.VB?Infinity:this.P()-this.KR()}JN(){return this.VB?-Infinity:this.LR()}GN(){return this.VB?
Infinity:this.U()-this.LR()}Vi(t){const w=this.HN(),x=this.IN();t>x&&(t=x);t<w&&(t=w);this.oi!==t&&(this.oi=t,this.wk(),this.g.ea())}Yf(){return this.oi}Wi(t){const w=this.JN(),x=this.GN();t>x&&(t=x);t<w&&(t=w);this.pi!==t&&(this.pi=t,this.wk(),this.g.ea())}Zf(){return this.pi}dy(){this.Vi(this.Yf());this.Wi(this.Zf());for(const t of this.ac)t.Yl&&(t.Vi(t.Yf()),t.Wi(t.Zf()))}S6(t,w){if(this.aD!==t||this.bD!==w)this.aD=t,this.bD=w,this.E2()&&(this.os(),this.wk(),this.g.ea())}SE(){return this.Ef?.5:
this.aD}TE(){return this.Ef?.5:this.bD}WN(){const t=this.SE(),w=this.TE();return 0>t||1<t||0>w||1<w}WP(){this.Ef&&(this.Ef=!1,this.os(),this.wk(),this.g.ea())}TP(){this.Ef||(this.Ef=!0,this.os(),this.wk(),this.g.ea())}E2(){return!this.Ef}rp(t){this.Wb!==t&&(this.Wb=t,this.wk(),this.dy(),this.g.ea())}Kc(t){t=d.pe(t);this.xe!==t&&(this.xe=t,this.wk(),this.g.ea())}ka(){return this.xe}P(){return this.T}Xe(t){!isFinite(t)||1>t||(this.T=t)}U(){return this.M}Ue(t){!isFinite(t)||1>t||(this.M=t)}da(t){return"number"===
typeof t?this.xu(t):this.sN(t.toString())}xu(t){t=d.ba(Math.floor(t),0,this.ac.length-1);return this.ac[t]}sN(t){return this.YU.get(t.toLowerCase())||null}Sy(t){return this.ZU.get(t)||null}os(){for(const t of this.ac)t.Gda()}wk(){for(const t of this.ac)t.xk()}D0(){for(const t of this.ac)if(t.fQ()&&t.taa())return f.Fm(t.Ql),f.zh(1),f;f.Fo(0,0,0,0);return f}DR(){return[...this.Ms]}DQ(t){if(t.Zb())for(const w of t.bh.km)this.Ms.add(w);else this.Ms.add(t)}V$(){return[...this.th]}aH(t,w){if(t===this||
!w)return Promise.resolve();t&&(d.NY(this.th,t.th),t.th.clear());t=[];for(const x of this.Ms)this.th.has(x)||(t.push(x.Fr(w)),this.th.add(x));return Promise.all(t)}async xO(t){if(t.Wa)throw Error("cannot load textures for family");var w=this.g.Bb();!w||w.$o()||this.th.has(t)||(this.th.add(t),w=t.Fr(w),this.g8(w),await w,t.zz(),this.g.ea())}g8(t){this.lx.add(t);t.then(()=>this.lx.delete(t)).catch(()=>this.lx.delete(t))}M7(){return Promise.all([...this.lx])}m3(t){if(t.Wa||0<t.G.length)throw Error("cannot unload textures");
this.g.Bb()&&this.th.has(t)&&(this.th.delete(t),t.jp())}gea(t,w){if(t!==this&&w)for(const x of this.th)x.Og()||t.Ms.has(x)||(x.jp(),this.th.delete(x))}Av(){this.th.clear()}async iT(t){const w=this.g,x=this.$a,z=w.la();this.XT&&(this.dd=z.lN(this.XT),this.dd.GH());x.YS(this);this.T=this.Ifa;this.M=this.Hfa;this.oi=w.nh/2;this.pi=w.mh/2;this.dy();this.gba(t);this.X8();this.jq||this.a9();this.PQ(this.xs);this.Y8();x.BY();w.ae();const E=this.g.yea;await Promise.all(E);d.D(E);if(!w.Mk){for(const G of this.xs)G.X6();
for(const G of this.xs)G.kT()}d.D(this.xs);await Promise.all([...this.Ms].map(G=>G.BF(this.g.Bb())));t&&(w.Gb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.Ko(new d.Event("beforeprojectstart")));await this.Ko(new d.Event("beforelayoutstart"));w.Mk||await w.kb(d.C.Ya.F.PO,null,null);await this.Ko(new d.Event("afterlayoutstart"));t&&(w.Gb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.Ko(new d.Event("afterprojectstart")));z.Gca(x);await this.M7();this.os();this.wk();
this.jq=!1}gba(t){for(const x of this.g.Zc)if(!x.Wa&&x.Ff)for(const z of x.ma()){const E=z.j();var w=E.da();w=d.ba(w.Ha(),0,this.ac.length-1);w=this.ac[w];E.Dv(w);w.Yaa(z)}if(!t)for(const x of this.ac)x.CH(!1)}X8(){for(const t of this.ac)t.SY(this.xs),t.uG()}a9(){let t=!1;for(const [x,z]of Object.entries(this.wq)){const E=this.g.Ty(parseInt(x,10));if(E&&!E.Wa&&E.YE()){for(const G of z){var w=null;if(E.Ff&&(w=this.Sy(G.w.l),!w))continue;w=this.g.Ii(E,w,!1,0,0,!0);w.Xc(G);t=!0;this.xs.push(w)}d.D(z)}}for(const x of this.ac)x.CH(!0),
x.Wg();t&&(this.g.ae(),this.g.uS())}PQ(t){for(const x of t){if(!x.Zb())continue;const z=x.j(),E=x.Po();for(const G of x.H().bh.km)if(G!==x.H()){var w=G.ma();w.length>E?x.es(w[E]):(w=z?this.g.Ii(G,z.da(),!0,z.R(),z.S(),!0):this.g.Ii(G,null,!0,0,0,!0),this.g.ae(),G.yA(),x.es(w),t.push(w))}}}Y8(){for(const t of this.XI)this.g.yf(t[1]).Zb()||this.g.Ii(t,null,!0)}V8(){const t=[],w=this.XI;let x=0;for(let z=0,E=w.length;z<E;++z){const G=w[z],N=this.g.yf(G[1]);N.Og()?N.Zb()&&N.bh.h1()||t.push(this.g.Ii(G,
null,!0)):(w[x]=G,++x)}d.qe(w,x);this.g.ae();this.PQ(t)}Pu(t,w,x,z,E,G){if(x)return x.Pu(t,w,z,E,G);x=[];for(const N of this.ac)x.push(N.Pu(t,w,z,E,G));return x.flat()}async Zda(){const t=this.$a;this.g.Mk||await this.g.kb(d.C.Ya.F.a4,null,null);t.NP(!0);this.g.la().hy();this.jq||this.Qca();for(const w of this.ac)w.k$();for(const w of this.g.Zc)if(!(w.Og()||w.Ff||w.Ib().Mn||w.Wa)){for(const x of w.ma())this.g.Nm(x);this.g.ae()}t.NP(!1);t.Nb()===this&&t.YS(null)}Oca(t){const w=t.H().Va.toString();
this.wq.hasOwnProperty(w)||(this.wq[w]=[]);this.wq[w].push(t.md())}Qca(){for(const t of this.ac){t.Gv();for(const w of t.G){const x=w.H();!x.Og()&&x.YE()&&this.Oca(w)}}}r5(){this.wq={};this.jq=!0}Xy(){return this.Dk}ds(){return"low"===this.g.W.yj||this.g.aL||"low-latency"===this.g.ws||this.Pa.Eu()||this.g.Bb().Ju()&&this.g.Cm}F8(t){return 0===t.length?!0:2<=t.length?!1:!t[0].mb.bn()}sf(t){var w=this.g.W;const x=this.ds();var z=null;x?("low-latency"!==this.g.ws&&(t.We(null),t.ky()),z={Di:this.g.od,
DL:this.g.aL||this.Pa.Eu()},"low"===w.yj&&(z.width=w.Eg(),z.height=w.Wf()),z=this.g.pu(z),t.We(z)):t.We(null);t.Gc(this.D0());this.g.Cm&&t.yY();this.Dk=z;for(var E of this.ac)E.uG(),E.fQ()&&g.push(E);for(let G=0,N=g.length;G<N;){w=g[G];if(w.wr()&&!w.ds()){k.push(w);for(E=G+1;E<N;++E){const C=g[E];if(C.wr()&&!C.ds())k.push(g[E]);else break}if(2<=k.length){this.Q9(t,z,k);G+=k.length;d.D(k);continue}d.D(k)}w.sf(t,z,0===G);++G}d.D(g);x&&(t.jn(!1),this.a$(t,z));this.Dk=null}a$(t,w){const x=this.Pa.ej,
z=this.g;if(this.F8(x)){t.We(null);if(1===x.length){var E=x[0];const G=E.mb;t.mn(G);e.set(0,0,1,1);c.set(0,0,z.Of,z.Nf);E=this.Pa.Fg(E.Ha());t.Ur(null,a,e,e,c,1/z.Eg(),1/z.Wf(),this.Wb,this.ka(),z.Gg(),E);G.EA&&z.ea()}else t.Qh();0===x.length?t.aE(w):(t.UF(),t.Nr(),t.hu(w));t.Yo(w);z.dn(w)}else d.HF(t,z,this,null,x)}Q9(t,w,x){var z=this.g.W;t.jn(!0);for(var E of x)E.Gv(),d.Em(n,E.WG());E=x[0];x=null;this.g.kF()&&t.Ju()&&(z=z.tN(E))&&(x=z.RD(),t.pG(x));for(let H=0,I=n.length;H<I;){E=n[H];var G=E.j(),
N=G.da();if(G.Wc()&&G.zr(N.sv())){(!E.Lr()||0<G.ef)&&r.push(E);var C=E.j().ag();q.push(E);for(z=H+1;z<I;++z){const K=n[z],Q=K.j();if(Q.Wc()&&Q.zr(Q.da().sv())){if(Q.ag()!==C)break;K.Lr()?(0<Q.ef&&r.push(K),q.push(K)):r.push(K)}}if(1!==q.length||q[0].AO()){this.R9(t,w,q);for(let K=0,Q=r.length;K<Q;++K)E=r[K],G=E.j(),N=G.da(),G.tA(!0),v(N,t),N.Ll(E,G,t,w),G.tA(!1)}else{v(N,t);N.Ll(E,G,t,w);for(let K=0,Q=r.length;K<Q;++K)G=r[K],G!==E&&(N=G.j(),C=N.da(),v(C,t),C.Ll(G,N,t,w))}H=z;d.D(q);d.D(r)}else++H}x&&
t.kE(x);d.D(n);p=null}R9(t,w,x){t.HM();for(let N=0,C=x.length;N<C;++N){var z=x[N],E=z.j(),G=E.da();E.rA(!0);v(G,t);G.SG(z,E,t)}t.GM();for(let N=0,C=x.length;N<C;++N)z=x[N],E=z.j(),G=E.da(),v(G,t),G.Ll(z,E,t,w),E.rA(!1);t.FM()}oa(){const t={sx:this.Yf(),sy:this.Zf(),s:this.Wb,a:this.ka(),w:this.P(),h:this.U(),ortho:this.Ef,vpX:this.SE(),vpY:this.TE(),fv:this.jq,persist:this.wq,fx:this.Pa.md(),layers:{}};for(const w of this.ac)t.layers[w.Va.toString()]=w.oa();return t}ua(t){this.oi=t.sx;this.pi=t.sy;
this.Wb=t.s;this.xe=t.a;this.T=t.w;this.M=t.h;this.Ef=!!t.ortho;t.hasOwnProperty("vpX")&&(this.aD=t.vpX);t.hasOwnProperty("vpY")&&(this.bD=t.vpY);this.jq=!!t.fv;this.wq=t.persist;this.Pa.Xc(t.fx);for(const [w,x]of Object.entries(t.layers))(t=this.Sy(parseInt(w,10)))&&t.ua(x);this.os();this.wk()}Ch(t){t.zg=this.gw;var w=this.g;(w=w.ub&&!w.la().oz())&&b.oG();this.ne.dispatchEvent(t);w&&b.QD()}Ko(t){t.zg=this.gw;return this.ne.sL(t)}}}
{"use strict";const d=self.A;d.T2=class extends d.ga{constructor(b){super();this.g=b;this.gj=[];this.FJ=new Map;this.GJ=new Map;this.Lw=null;this.vK=[];this.lB=null;this.IB=0;this.Rw=null}m(){this.Rw=this.lB=this.Lw=this.g=null;d.D(this.gj);this.FJ.clear();this.GJ.clear();d.D(this.vK)}Ra(b){b=d.B(d.pO,this,this.gj.length,b);this.gj.push(b);this.FJ.set(b.Ca().toLowerCase(),b);this.GJ.set(b.Va,b)}I(){return this.g}Z5(b){this.lB=b}k0(){if(this.lB)return this.lB;if(this.gj.length)return this.gj[0];throw Error("no first layout");
}mr(b){return this.FJ.get(b.toLowerCase())||null}GE(b){return this.GJ.get(b)||null}E0(b){b=d.ba(Math.floor(b),0,this.gj.length-1);return this.gj[b]}oc(b){return"number"===typeof b?this.E0(b):this.mr(b.toString())}YS(b){this.Lw=b}Nb(){return this.Lw}*Vx(){this.Lw&&(yield this.Lw);this.vK.length&&(yield*this.vK)}NP(b){if(b)this.IB++;else{if(0>=this.IB)throw Error("already unset");this.IB--}}hO(){return 0<this.IB}gy(b){this.Rw=b}BY(){this.Rw=null}Ar(){return!!this.Rw}pp(){const b=this.Nb();b&&b.os()}op(){const b=
this.Nb();b&&b.wk()}}}
{"use strict";const d=self.A;class b{constructor(){this.Fc=this.rf=null;this.Wt=this.Xt=this.yi=this.Gm=0;this.Tt=new d.Rect;this.Hm=new d.Rect;this.Do=new d.Rect;this.Tx=new d.Rect;this.Ut=new d.Rect;this.clearRect=new d.Rect;this.DD=new d.Rect;this.NW=[null,null];this.zo=0;this.Vq=1;this.Rt=this.St=this.Kt=this.Jt=0;this.Im=this.Uf=this.Yd=this.Zd=this.zg=null;this.kD=this.TL=this.uD=!1;this.sD=null}Gc(){this.sD=this.Im=this.Uf=this.Yd=this.Zd=this.zg=this.Fc=this.rf=null}Z6(g){g=g.mb;if(g.bn())return!0;
if(this.Yd)return g.xx&&(0!==this.Uf.ka()||0>this.Uf.P()||0>this.Uf.U())||0!==this.Jt||0!==this.Kt||!this.Uf.Vm()||this.Yd.bn();if(this.Zd)return!this.Zd.Vm()}Y6(g){g=g.mb;return g.xx||g.pI||this.zg&&"low"===this.Fc.W.yj}lr(g){if(0!==g&&1!==g)throw Error("invalid effect target");const k=this.NW;if(!k[g]){var n=this.Fc;const q=n.W;n={Di:n.od};"low"===q.yj&&(n.width=q.Eg(),n.height=q.Wf());k[g]=q.pu(n)}return k[g]}a5(){const g=this.NW,k=this.Fc.W;g[0]&&(k.dn(g[0]),g[0]=null);g[1]&&(k.dn(g[1]),g[1]=
null)}}const a=[];let e=0;const c=new d.xd;let f=!1;async function l(g,k,n){k=await d.ca.vG.YY(k,n);k=URL.createObjectURL(k);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",k)}d.HF=function(g,k,n,q,r,p){e===a.length&&a.push(new b);var v=a[e++];v.rf=g;v.Fc=k;if(n instanceof d.Instance)v.Yd=n,v.Uf=v.Yd.j();else if(n instanceof d.tF)v.Zd=n;else if(n instanceof d.pO)v.zg=n;else throw Error("invalid effects object");n=k.W;v.Im=q;v.Gm=n.Eg();v.yi=n.Wf();v.Xt=v.Gm;v.Wt=v.yi;v.zo=0;v.Vq=1;v.Jt=0;v.Kt=
0;v.Ut.set(0,0,v.Gm,v.yi);v.clearRect.set(0,0,v.Gm,v.yi);v.kD=!1;v.sD=p;v.Yd?(q=v.Uf,v.St=q.da().Sm(),v.Rt=q.da().ka(),v.Tt.ta(q.Vc())):v.Zd?(q=v.Zd,v.St=q.Sm(),v.Rt=q.ka(),v.Tt.ta(q.Mf)):(q=v.zg,v.St=q.Wb,v.Rt=q.ka(),v.Tt.set(0,0,v.Gm,v.yi));if(v.Yd){{for(let H=0,I=r.length;H<I;++H)q=r[H].mb,v.Jt+=q.YT,v.Kt+=q.ZT;var t=v.Uf;q=t.da();n=q.ka();p=t.Vc();var w=t.ag();t=t.ef;let [E,G]=q.an(p.N,p.L,w),[N,C]=q.an(p.X,p.V,w);if(0!==n||0<t){const [H,I]=q.an(p.X,p.L,w),[K,Q]=q.an(p.N,p.V,w);if(0<t){n=w+t;
const [R,U]=q.an(p.N,p.L,n),[Z,ca]=q.an(p.X,p.L,n),[Y,ha]=q.an(p.X,p.V,n),[ka,za]=q.an(p.N,p.V,n);q=Math.min(E,N,H,K,R,Z,Y,ka);N=Math.max(E,N,H,K,R,Z,Y,ka);E=q;q=Math.min(G,C,I,Q,U,ca,ha,za);C=Math.max(G,C,I,Q,U,ca,ha,za);G=q}else q=Math.min(E,N,H,K),N=Math.max(E,N,H,K),E=q,q=Math.min(G,C,I,Q),C=Math.max(G,C,I,Q),G=q}q=v.Ut;p=v.Tx;n=v.Do;w=v.clearRect;t=v.Hm;q.set(E,G,N,C);q.dM(v.yi);p.ta(q);p.bl(v.Xt,v.Wt);p.Yq();q.oD(v.Jt,v.Kt);n.ta(q);n.bl(v.Xt,v.Wt);n.Yq();w.ta(q);w.Kha();w.oD(v.Jt+1,v.Kt+1);
q.ba(0,0,v.Gm,v.yi);w.ba(0,0,v.Gm,v.yi);t.ta(q);t.bl(v.Xt,v.Wt);t.Yq()}}else v.Hm.set(0,0,v.Gm/v.Xt,v.yi/v.Wt),v.Do.ta(v.Hm),v.Tx.ta(v.Hm),v.Hm.Yq(),v.Do.Yq(),v.Tx.Yq();g.UF();g.Nr();g.Su(0);g.hn(0);v.uD=v.Z6(r[0]);v.uD&&(q=v.rf,q.Qh(),p=v.lr(v.zo),q.We(p),(n=v.sD)&&n.UL&&n.UL(),q.ZD(v.clearRect),v.Yd?(q.mk(v.Uf.KE()),q.hn(v.Uf.ag()),v.Yd.sf(q),q.hn(0)):(n=(v.Zd||v.zg).Xy(),v.Zd?q.mk(v.Zd.KE()):q.Nr(),q.hu(n),q.Yo(n),v.Fc.W.dn(n)),v.Do.DW(),v.zo=1,v.Vq=0,f&&l("Pre-draw",q,p));g.Nr();q=r.length-1;
v.TL=v.Y6(r[q]);for(let E=0,G=r.length;E<G;++E){n=r[E];p=n.mb;g.mn(p);p.EA&&k.ea();if(0!==E||v.uD){g.CP();var x=void 0,z=void 0;p=v;x=n;z=E===q&&!v.TL;n=E;w=p.rf;t=p.Fc;0===n&&p.uD&&p.Yd&&p.Ut.dM(p.yi);z?(p.Yd?w.eg(p.Uf.Ki()):p.Zd&&w.eg(p.Zd.Ki()),z=p.Im,w.We(z)):(z=p.lr(p.zo),w.We(z),w.ZD(p.clearRect));x=p.Yd?p.Uf.Ae.Fg(x.Ha()):(p.Zd||p.zg).Pa.Fg(x.Ha());w.Ur(p.Im,p.Do,p.Hm,p.Tx,p.Tt,1/p.Xt,1/p.Wt,p.St,p.Rt,t.Gg(),x);x=p.lr(p.Vq);w.Sg(x.se());t.W.FP(w);p.kD=!0;c.Rj(p.Ut);w.Kr(c,p.Hm);p.Yd||w.Yo(x);
f&&l("Bounce "+n,w,z)}else{p=v;z=n;n=p.rf;w=p.Fc;t=p.lr(p.zo);n.We(t);(x=p.sD)&&x.UL&&x.UL();n.ZD(p.clearRect);if(p.Yd){const [N,C]=p.Yd.Jy();(x=p.Yd.Ky())?p.DD.ta(x):p.DD.set(0,0,0,0);z=p.Uf.Ae.Fg(z.Ha());n.Ur(p.Im,p.Do,p.DD,p.DD,p.Tt,1/N,1/C,p.St,p.Rt,w.Gg(),z);n.hn(p.Uf.ag());p.Yd.sf(n);n.hn(0);p.Do.DW();p.Ut.dM(p.yi)}else z=(p.Zd||p.zg).Pa.Fg(z.Ha()),n.Ur(p.Im,p.Do,p.Hm,p.Tx,p.Tt,1/p.Gm,1/p.yi,p.St,p.Rt,w.Gg(),z),p=(p.Zd||p.zg).Xy(),f&&l("Layer target",n,p),n.hu(p),n.Yo(p),w.W.dn(p);f&&l("First bounce",
n,t)}0===v.zo?(v.zo=1,v.Vq=0):(v.zo=0,v.Vq=1)}v.TL&&(g=v.rf,v.zg?(g.Qh(),g.We(v.Im),k=v.lr(v.Vq),g.aE(k),g.Yo(k)):(k=v.Fc.W,"low"===k.yj?(g.Qh(),k.FP(g,k.Eg(),k.Wf()),v.kD=!0):g.S5(),v.Yd?g.eg(v.Uf.Ki()):v.Zd&&g.eg(v.Zd.Ki()),g.We(v.Im),k=v.lr(v.Vq),g.Sg(k.se()),c.Rj(v.Ut),g.Kr(c,v.Hm),v.Yd||g.Yo(k),f&&l("Post-draw",g,v.Im)));g=v.kD;v.a5();v.Gc();e--;f=!1;return g}}
{"use strict";const d=self.A;d.t7=class extends d.ga{constructor(b){super();this.g=b;this.ox=d.B(d.Xg);this.Jfa=null;this.jo=[];this.qx=new Map;this.jm=new Map;this.ko=new Map;this.oh=[];this.tg=[];this.zw=this.us=this.aq=!1;this.wm=()=>this.Iba();this.yt=()=>this.lH();this.bI=()=>this.kA();this.EJ=()=>this.iba();this.aJ=a=>this.pS(a.instance);this.PH=()=>this.Ap();this.Xv=[]}m(){this.f5();this.PH=this.aJ=this.EJ=this.bI=this.yt=this.wm=null;for(const b of this.jo)b.hg(),b.m();d.D(this.jo);this.jo=
null;this.ox.m();this.ox=null;d.D(this.oh);this.oh=null;d.D(this.tg);this.tg=null;this.qx.clear();this.qx=null;this.jm.clear();this.jm=null;this.ko.clear();this.ko=null;d.D(this.Xv);this.g=this.Xv=null}SX(){const b=this.g.Gb();b.addEventListener("pretick",this.wm);b.addEventListener("tick2",this.yt);b.addEventListener("beforelayoutchange",this.bI);b.addEventListener("layoutchange",this.EJ);b.addEventListener("instancedestroy",this.aJ);b.addEventListener("afterload",this.PH)}f5(){const b=this.g.Gb();
b.removeEventListener("pretick",this.wm);b.removeEventListener("tick2",this.yt);b.removeEventListener("beforelayoutchange",this.bI);b.removeEventListener("layoutchange",this.EJ);b.removeEventListener("instancedestroy",this.aJ);b.removeEventListener("afterload",this.PH)}Ra(b){this.ox.wc(b);b=d.de.RY(b,this);this.wc(b);this.G6(b);this.ko.set(b.Ca(),0)}bE(b){b=b.ON();var a=this.ox.$(b);a=d.de.bE(`${b}:${this.ko.get(b)}`,a,this);this.UR(b);this.wc(a);return a}UR(b){this.ko.set(b,this.ko.get(b)+1)}jda(){for(const b of this.jo)b.Os||
this.UR(b.ON())}K8(){for(const b of this.ko.keys())this.ko.set(b,0)}wc(b){this.jo.push(b);this.qx.set(b.Ca().toLowerCase(),b)}Oh(b){b.Os||(d.Uq(this.jo,b),d.Uq(this.oh,b),d.Uq(this.tg,b),this.qx.delete(b.Ca().toLowerCase()),this.g5(b),b.mi||b.m())}na(b){this.g.na(b,this.Jfa,null)}I(){return this.g}bQ(b,a){this.jm.has(b)||this.jm.set(b,new Set);this.jm.get(b).add(a)}G6(b){for(const a of b.yN())this.bQ(a,b)}g5(b){for(const [a,e]of this.jm.entries())e.has(b)&&(e.delete(b),0===e.size&&this.jm.delete(a))}T0(b){if(this.jm.has(b))return this.jm.get(b)}az(b){return this.qx.get(b.toLowerCase())||
null}e5(b){d.Uq(this.tg,b);this.xv()}vP(b){this.tg.includes(b)?(b.Yu(!0),b.$u(!1),b.$F(!1)):(b.Yu(!1),b.$u(!0),b.$F(!1),this.oh.includes(b)||this.oh.push(b));this.iS()}ry(b){b.Yu(!1);b.$u(!1);b.MF();d.Uq(this.oh,b);this.xv()}my(b){b.Yu(!1);b.$u(!1);b.$F(!0)}JY(b){this.my(b);b.MF()}Iba(){if(!this.I().Mk&&this.aq&&!this.us){var b=!1;for(this.zw=!0;this.oh.length;){var a=this.oh.pop();a.yd();this.tg.push(a)}a=this.g.Pm();var e=this.g.Cd;for(const c of this.tg){if(c.$s)continue;const f=c.Hd(a,e);!b&&
f&&(b=!0)}this.zw=!1;b&&this.I().ea()}}lH(){if(!this.I().Mk&&this.aq&&!this.us){var b;for(const a of this.tg)a.$s&&(b||(b=new Set),this.jS(a),b.add(a));b&&d.xh(this.tg,b);this.xv()}}jS(b){b.mi||b.VN()&&b.mg&&b.Jn&&b.ZM()}iS(){this.aq||(this.aq=!0)}xv(){this.tg.length||this.oh.length||this.zw||(this.aq=!1)}kA(){for(this.us=!0;this.oh.length;)this.ry(this.oh.pop());const b=new Set;for(const a of this.tg)a.kA()&&b.add(a);d.xh(this.tg,b);this.xv();for(const a of this.jo)a.Sj()}iba(){this.us=!1}pS(b){var a=
b.H();if(a=this.T0(a))if(this.g.Mk)this.Xv.push(b);else for(const e of a)e.Os||(e.mi?this.Oh(e):e.VN()||(this.jS(e),this.Oh(e)))}Ap(){for(const b of this.Xv)this.pS(b);d.D(this.Xv)}oa(){return{timelinesJson:this.Vca(),scheduledTimelinesJson:this.Tca(),playingTimelinesJson:this.Rca(),hasRuntimeListeners:this.aq,changingLayout:this.us,isTickingTimelines:this.zw}}ua(b){b&&(this.K8(),this.Qaa(b.timelinesJson),this.Naa(b.scheduledTimelinesJson),this.Laa(b.playingTimelinesJson),this.aq=!b.hasRuntimeListeners,
this.us=!!b.changingLayout,this.zw=!!b.isTickingTimelines,this.jda(),this.iS(),this.xv())}Vca(){return this.jo.map(b=>b.oa())}Qaa(b){for(const a of b){b=this.az(a.name);if(!b){b=this.U$(a);if(!b)continue;b=this.az(b);b=this.bE(b)}b.ua(a);b.q1()||this.Oh(b)}}U$(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Tca(){return this.MS(this.oh)}Naa(b){this.eS(b,this.oh)}Rca(){return this.MS(this.tg)}Laa(b){this.eS(b,this.tg)}vaa(b,a){for(const e of a)if(e===b.Ca())return!0;return!1}MS(b){return b.map(a=>
a.Ca())}eS(b,a){var e=new Set;for(const c of a)this.vaa(c,b)||e.add(c);d.xh(a,e);e=c=>f=>f.Ca()===c;for(const c of b)(b=this.az(c))&&(a.find(e(c))||a.push(b))}}}
{"use strict";const d=self.A;d.de=class extends d.ga{constructor(b,a,e){super();this.g=e.I();this.Fb=e;this.lf=a;this.Ga=b;this.Rb=[];for(const c of this.lf.cz().Yha())this.Rb.push(d.mQ.Ra(this,c));this.tC=this.Sw=null;this.$n=d.B(d.Dr);this.$n.Set(0);this.lm=1;this.Ij=0;this.oj=1;this.Jn=this.cm=this.NB=!1;this.mg=!0;this.$s=this.mi=!1;this.vs=-1;this.Hn=this.Yp=this.Os=this.xB=!1;this.SU=NaN;this.rh=[""];this.cW="";this.LK=!1}static RY(b,a){const e=a.ox.$(b[0]);b=d.B(d.de,b[0],e,a);b.o6();return b}static bE(b,
a,e){return d.B(d.de,b,a,e)}static get K7(){return 1}static get zl(){return d.KL(1)}m(){if(!this.mi){this.Fb.ry(this);this.Fb.JY(this);for(const b of this.Rb)b.m();d.D(this.Rb);this.Rb=null;this.$n.m();this.lf=this.Fb=this.g=this.$n=null;this.mi=!0;this.tC=this.Sw=null}}I(){return this.g}PE(b,a,e){const c=[];for(const f of this.Rb){if(b!==f.Ea())continue;const l=f.ql(e);l&&a.constructor===l.vd().constructor&&c.push(l)}return c}q1(){return!!this.Rb.length}Nz(b){this.Ga=b}Ca(){return this.Ga}ON(){return this.lf.Ca()}Rd(){return this.lf.Rd()}zu(){return this.lf.zu()}Li(){return this.lf.Li()}Pi(){return this.lf.Pi()}nk(b){for(const a of this.Rb)a.nk(b)}nr(){return this.lf.nr()}rr(){return this.lf.rr()}Tm(){return this.lf.Tm()}Xu(b){return this.lm=
b}Lh(){return this.IsPlaying()?0<this.lm:!0}zN(){this.Sw||(this.Sw=new Promise(b=>{this.tC=b}))}MF(){this.Sw&&(this.tC(),this.tC=this.Sw=null)}aQ(b){this.rh=d.de.T$(b);this.LK=!0}VO(){d.C.Mc.F.sp(this);this.Fb.na(d.C.Mc.F.moa);this.Fb.na(d.C.Mc.F.noa);this.Fb.na(d.C.Mc.F.ooa);this.Fb.na(d.C.Mc.F.doa);d.C.Mc.F.sp(null)}JO(){this.vs=this.g.Sk}ZM(){this.Yp||(this.Yp=!0,d.C.Mc.F.sp(this),this.Fb.na(d.C.Mc.F.joa),this.Fb.na(d.C.Mc.F.koa),this.Fb.na(d.C.Mc.F.loa),this.Fb.na(d.C.Mc.F.coa),d.C.Mc.F.sp(null))}Yu(b){this.NB=
b}dO(){return this.vs===this.g.Sk}IsPlaying(b=!1){return this.dO()||this.cm&&!b?!0:this.NB}ks(){return this.IsPlaying(!0)}$u(b){this.cm=b}BP(b){this.mg=b;b=this.Fa();if(0>=b||b>=this.Rd())this.mg=!0}$F(b){this.$s=b}ZF(b){this.xB=b}o6(){this.Os=!0}Fa(){return this.$n.$()}Xr(b){const a=this.Fa();this.we(b);this.BP(!1);this.mg||this.ZF(!0);if(this.ks()||this.cm||!this.Jn)this.ks()||this.cm||this.Jn?this.ks()?this.hg():this.cm&&(this.Fb.ry(this),this.MP()):this.MP();this.iA(b,!1,!0,!0,a)&&this.I().ea();
this.sS()}we(b){0>b?this.$n.Set(0):b>=this.Rd()?this.$n.Set(this.Rd()):this.$n.Set(b)}sS(){d.C.Mc&&this.constructor===d.de&&(d.C.Mc.F.sp(this),this.Fb.na(d.C.Mc.F.goa),this.Fb.na(d.C.Mc.F.hoa),this.Fb.na(d.C.Mc.F.ioa),d.C.Mc.F.sp(null))}Play(b=!1){return this.mi||this.cm?!1:this.ks()&&this.dO()?this.Zca():this.ks()||!this.mg&&!b&&!this.xB?!1:this.$ca()}Zca(){this.ZF(!1);this.Fb.e5(this);this.Fb.vP(this);this.zN();return!0}$ca(){this.ZF(!1);this.Fb.vP(this);this.zN();return!0}hg(b=!1){this.mi||(this.BP(b),
this.Fb.my(this),this.mg&&this.MF())}Jc(b=!0,a=!1){if(!this.mi)if(!this.ks()&&this.cm)this.Fb.ry(this);else if(!this.mg){this.hg(!0);this.Lh()?this.we(0):this.we(this.Rd());var e=this.Fa();a=a?this.maa(e):this.iA(e,!1,!1,!0);b&&this.sS();a&&b&&this.I().ea()}}pP(){this.Jc(!1,!0)}maa(b){this.iA(b,!1,!1,!0,NaN,!1,!0)}kA(){if(this.mi)return!0;if(this.r1())return!1;this.Fb.my(this);this.pP();return!0}MP(){this.yd(!0)}yd(b){if(!this.$s)if(b){this.Hn=this.Jn=!0;for(const a of this.Rb)a.yd()}else if(this.Yu(!0),
this.$u(!1),this.VO(),this.mg){this.vs=-1;this.Ij=0;this.oj=1;this.Yp=this.mg=!1;this.Hn=this.Jn=!0;this.Lh()?this.we(0):this.we(this.Rd());for(const a of this.Rb)a.yd()}else{this.Hn=!0;for(const a of this.Rb)a.gg()}}Hd(b,a){if(0!==b||0!==this.SU){this.SU=b;var e=this.Fa();this.we(e+b*a*this.lm);var c;this.nr()||this.rr()?this.nr()&&!this.rr()?c=this.Vaa():!this.nr()&&this.rr()?c=this.Sba():this.nr()&&this.rr()&&(c=this.Waa()):c=this.Tda();if(c){for(const f of this.Rb)f.X5();this.hg(!0);this.JO();
return!0}return this.iA(this.Fa(),!0,!1,!1,e,!0)}}iA(b,a=!1,e=!1,c=!1,f=NaN,l=!1,g=!1){let k=!1;for(var n of this.Rb)n.cu();for(const q of this.Rb){n=b;if("number"===typeof f){const r=this.Fa()-q.$f(),p=f-q.$f();0>r&&0<p&&(n=q.$f(),this.we(n))}n=q.qb(n,a,e,c,this.Hn,g);!k&&n&&(k=!0)}for(const q of this.Rb)q.bu();this.Hn&&l&&(this.Hn=!1);return k}Tda(){if(this.Lh()){if(this.Fa()>=this.Rd())if(this.oj<this.Tm())this.oj++,this.we(0);else return this.we(this.Rd()),!0}else if(0>=this.Fa())if(this.oj<this.Tm())this.oj++,
this.we(this.Rd());else return this.we(0),!0;return!1}Vaa(){this.Lh()?this.Fa()>=this.Rd()&&this.we(0):0>=this.Fa()&&this.we(this.Rd());return!1}Sba(){if(this.Lh()){if(this.Fa()>=this.Rd())if(this.we(this.Rd()),this.Xu(-1*this.lm),1===this.Ij)if(this.oj<this.Tm())this.oj++,this.Ij=0;else return!0;else 0===this.Ij&&(this.Ij=1)}else if(0>=this.Fa())if(this.we(0),this.Xu(-1*this.lm),1===this.Ij)if(this.oj<this.Tm())this.oj++,this.Ij=0;else return!0;else 0===this.Ij&&(this.Ij=1);return!1}Waa(){this.Lh()?
this.Fa()>=this.Rd()&&(this.we(this.Rd()),this.Xu(-1*this.lm)):0>=this.Fa()&&(this.we(0),this.Xu(-1*this.lm));return!1}Sj(){for(const b of this.Rb)b.Sj()}DY(){for(const b of this.Rb)b.AY()}I6(b,a){if(a)for(const e of this.Rb)if(e.Mh()){if(b){if(e.Wj()!==b)continue}else if(e.k1())continue;e.l6(a);this.Fb.bQ(a.H(),this);break}}VN(){return this.Rb.some(b=>b.Mh()?b.WD():!0)}r1(){return this.Rb.some(b=>b.Mh()?b.WD()?(b=b.H())?b.Og():!1:!1:!1)}ql(b){for(const a of this.Rb)for(const e of a.Ec)if(e.Qa.Jd===
b)return e}RN(b){for(const a of this.Rb)if(b===a.Ea())return a;return null}yN(){const b=[];for(const a of this.Rb)b.push(a.H());return b.filter(a=>a)}oa(){return{tracksJson:this.Xca(),name:this.Ga,playheadTime:this.Fa(),playbackRate:this.lm,pingPongState:this.Ij,currentRepeatCount:this.oj,isPlaying:this.NB,isScheduled:this.cm,initialStateSet:this.Jn,finishedTriggers:this.Yp,complete:this.mg,released:this.mi,markedForRemoval:this.$s,completedTick:this.vs,implicitPause:this.xB,isTemplate:this.Os,tags:this.rh.join(" "),
stringTags:this.cW,tagsChanged:this.LK,firstTick:this.Hn}}ua(b){b&&(this.Raa(b.tracksJson),this.Ga=b.name,this.$n.Set(b.playheadTime),this.lm=b.playbackRate,this.Ij=b.pingPongState,this.oj=b.currentRepeatCount,this.NB=!!b.isPlaying,this.cm=!!b.isScheduled,this.Jn=!!b.initialStateSet,this.Yp=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.mg=!!b.complete,this.mi=!!b.released,this.$s=!!b.markedForRemoval,this.vs=b.completedTick,this.xB=!!b.implicitPause,this.Os=!!b.isTemplate,this.rh=
b.tags.split(" "),this.cW=b.stringTags,this.LK=!!b.tagsChanged,this.Hn=!!b.firstTick)}Xca(){return this.Rb.map(b=>b.oa())}Raa(b){b.forEach((a,e)=>{this.Rb[e].ua(a)});this.Rb.filter(a=>a.WD())}static T$(b){if(d.Zo(b))return b.slice(0);if(d.Ri(b))return b.split(" ")}}}
{"use strict";const d=self.A;d.mQ=class extends d.ga{constructor(b,a){super();this.io=b;this.Yb=a;this.mf=a.cz();this.im=this.Zl=NaN;this.ob=this.hh=null;this.kq=0<a.$f();this.Vp=this.Ns=!1;this.oq=null;this.Qc=this.Yb.Ni().Qc;this.Ec=[];for(const e of this.Yb.Re().Dha())this.Ec.push(d.cb.Ra(this,e))}static Ra(b,a){return d.B(d.mQ,b,a)}m(){this.Qc=null;for(const b of this.Ec)b.m();d.D(this.Ec);this.oq=this.Yb=this.ob=this.hh=this.io=this.Ec=null}Sj(){for(const b of this.Ec)b.Sj();this.ob=this.hh=
null}qc(){return this.io}I(){return this.io.I()}C0(){return this.Qc?this.Qc:this.Qc=this.Yb.Ni().Qc}ql(b){for(const a of this.Ec)if(a.Qa.Jd===b)return a}Gr(){this.hh||this.Ea()}xl(){return this.hh?!this.hh.eO():!1}WD(){if(!this.Mh())return!1;const b=this.I().Pe(this.vu());return b?!b.eO():!1}H(){if(this.Mh()){var b=this.JE();if(-1!==b)return this.I().yf(b)}}AY(){this.hh=null;this.Zl=-1;this.ob=null;this.im=-1}k1(){return!!this.hh}Ea(){return this.hh&&this.xl()?this.hh:this.hh=this.I().Pe(this.vu())}l6(b){if(this.hh!==
b){this.Sj();this.hh=b;this.im=b.H().Ha();this.Zl=b.yb;this.ob=b.j();for(const l of this.Eha()){const g=l.Sha;switch(l.Cha.Qd()){case "instance-variable":var a=b.H(),e=a.v0(l.name),c=a.qN(e);a=a.wu(e);c===l.name&&a===l.type&&g.F7(e);break;case "behavior":var f=l.lL;e=this.H();c=b.H();a=g.Eh(c);f&&a&&(f=f.Ca(),e.ru(f),c.ru(f),g.C7(a.Va))}}}}*Eha(){for(const e of this.Ec){var b=e.vd(),a=this.H();const c={Cha:e,Sha:b};switch(e.Qd()){case "world-instance":c.swa=e.Qa.Jd;break;case "instance-variable":b=
b.kr();c.name=a.qN(b);c.type=a.wu(b);break;case "effect":a=b.wE(a.Pa);c.Lua=a;break;case "behavior":a=b.Eh(a);c.lL=a;break;case "plugin":c.owa=a.Ib()}yield c}}j(){if(this.ob&&this.xl())return this.ob;const b=this.Ea();b&&(this.ob=b.j());return this.ob}vu(){return this.Zl?this.Zl:this.Yb.vu()}Li(){return this.Yb.Li()}Pi(){return this.Yb.Pi()}Wj(){return this.Yb.Wj()}$f(){return this.Yb.$f()}pl(){return this.Yb.pl()}nk(b){for(const a of this.C0())a.nk(b);for(const a of this.Ec)a.nk(b)}nl(){return this.Yb.nl()}Gl(b){this.Yb.Gl(b)}JE(){return isNaN(this.im)?
this.Yb.JE():this.im}ak(){const b=this.Ea();return b&&b.ja.ep()?b.ja.ak():this.Yb.ak()}$j(){const b=this.Ea();return b&&b.ja.ep()?b.ja.$j():this.Yb.$j()}ek(){return this.Yb.ek()}Ca(){return this.Yb.Ca()}Mh(){return 0===this.ek()}yd(){this.Gr();if(this.xl()||!this.Mh()){for(var b of this.Ec)b.yd();b=this.qc().Lh()?0:this.pl();this.oq=this.FE(b);this.Vp=this.Ns=!1;this.qb(b)}}gg(){this.Gr();if(this.xl()||!this.Mh()){this.io.Lh();var b=this.io.Fa()-this.$f();this.oq=this.FE(b);for(const a of this.Ec)a.gg()}}X5(){if(!(this.qc().mg||
(this.Gr(),!this.xl()&&this.Mh()||this.kq))){const b=this.io.Fa();b>=this.$f()+this.pl()?this.qb(this.pl(),!0,!1,!0):0>=b&&this.qb(0,!0,!1,!0)}}cu(){for(const b of this.Ec)b.cu()}qb(b,a=!1,e=!1,c=!1,f=!1,l=!1){this.Gr();if(!this.xl()&&this.Mh()||l&&this.Mh()&&this.H().Og())return!1;b-=this.$f();if(0>b)return!1;this.l3(b,a);this.yO(b,a,f);f=l=!1;for(const g of this.Ec){const k=g.qb(b,e,!1,c);l||0===(k&d.de.K7)||(l=!0);f||0===(k&d.de.zl)||(f=!0)}this.k3(b,a);l&&(b=this.j())&&b.Sa();return f}bu(){for(const b of this.Ec)b.bu()}l3(b,
a){if(a&&this.kq&&!this.Ns){if(this.qc().Lh()){if(0>b)return;for(const e of this.Ec)e.qb(0,!1,!1,!0)}else{if(b>this.pl())return;for(const e of this.Ec)e.qb(this.pl(),!1,!1,!0)}for(const e of this.Ec)e.yd();this.Ns=!0}}k3(b,a){if(a&&this.kq&&!this.Vp)if(this.qc().Lh()){if(b>=this.pl()){for(const e of this.Ec)e.qb(this.pl(),!1,!1,!0);this.Vp=!0}}else if(0>=b){for(const e of this.Ec)e.qb(0,!1,!1,!0);this.Vp=!0}}yO(b,a,e){!e&&a&&(b=this.FE(b),b!==this.oq&&this.OO(b),this.oq=b)}FE(b){const a=this.qc();
let e=this.mf.z0(b,this.Yb);return e?e:a.Lh()?this.mf.j0(b,this.Yb):this.mf.i0(b,this.Yb)}OO(b){if(d.C.Mc&&this.qc().constructor===d.de){var a=this.qc();d.C.Mc.F.sp(a);d.C.Mc.F.Q6(b);b=a.Fb;b.na(d.C.Mc.F.boa);b.na(d.C.Mc.F.OO);d.C.Mc.F.sp(null);d.C.Mc.F.Q6(null)}}NX(){return this.Yb.Ni().HX()}gZ(b){this.Yb.Ni().fZ(b)}gE(b){for(const a of this.Ec)a.gE(b)}np(){for(const b of this.Ec)b.np()}Gi(){this.Gr();if(this.xl()||!this.Mh())for(const b of this.Ec)b.Gi()}Hi(){this.Gr();if(this.xl()||!this.Mh()){var b=
!1;for(const a of this.Ec){const e=a.Hi();!b&&e&&(b=!0)}b&&(b=this.NX(),b.Xr(this.qc().Fa()),b.nk("noease"),b.Gl(!0),b.aQ(""))}}oa(){var b=this.Ea();b=b?b.yb:this.vu();return{propertyTracksJson:this.Sca(),lastKeyframeDataItemJson:this.Pca(),initialStateOfNestedSet:this.Ns,endStateOfNestedSet:this.Vp,instanceUid:b}}ua(b){b&&(this.Maa(b.propertyTracksJson),this.Kaa(b.lastKeyframeDataItemJson),this.Haa(b.instanceUid),this.Ns=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.Ns=b.initialStateOfNestedSet),
this.Vp=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.Vp=b.endStateOfNestedSet))}Pca(){return this.Yb.Ni().B0(this.oq)}Sca(){return this.Ec.map(b=>b.oa())}Maa(b){b.forEach((a,e)=>{this.Ec[e].ua(a)})}Haa(b){if(d.Wm(b)&&(b=this.I().Pe(b))){var a=this.qc();a.DY();a.I6(this.Yb.Wj(),b)}}Kaa(b){this.oq=this.Yb.Ni().A0(b)}}}
{"use strict";const d=self.A;d.cb=class extends d.ga{constructor(b,a){super();this.qd=b;this.Qa=a;this.Ad=a.Re();this.Lj=this.vd();this.Rc=this.Qa.Oi().Rc}static Ra(b,a){return d.B(d.cb,b,a)}m(){this.qd=null;this.Lj&&(this.Lj.m(),this.Lj=null);this.Ad=this.Qa=this.Rc=null}Re(){return this.Ad}qc(){return this.qd.qc()}I(){return this.qd.I()}Ea(){return this.qd.Ea()}vd(){if(this.Lj)return this.Lj;let b;switch(this.Qa.Qd()){case "behavior":b=new d.cb.gY(this);break;case "effect":b=new d.cb.o_(this);break;
case "instance-variable":b=new d.cb.p2(this);break;case "plugin":b=new d.cb.G4(this);break;case "world-instance":b=new d.cb.T7(this);break;case "value":b=new d.cb.I7(this)}return this.Lj=b}Qd(){return this.Qa.Qd()}yu(){return this.Qa.ek()}ME(){return this.Re().Oy(this.Qa).ek()}nl(){return this.Qa.nl()}Gl(b){this.Qa.Gl(b)}Li(){return this.Qa.Li()}Pi(){return this.Qa.Pi()}nk(b){for(const a of this.CN())a.nk(b)}CN(){return this.Rc?this.Rc:this.Rc=this.Qa.Oi().Rc}Sj(){this.vd().Sj()}Ne(){return this.vd().Ne()}yd(){this.vd().yd()}gg(){this.vd().gg()}cu(){this.vd().cu()}qb(b,
a=!1,e=!1,c=!1){var f=this.Qa;let l=this.Ad.LE(b,f);l?f=this.Ad.nN(b,f):(l=this.Ad.AE(b,f),f=this.Ad.zE(b,f));return this.vd().qb(b,l,f,a,e,c)}bu(){this.vd().bu()}static NN(b,a){const e=a.Qa;a=a.Ad;let c=a.LE(b,e);c||(c=a.AE(b,e));return c}static X_(b,a){const e=a.Qa;a=a.Ad;return a.LE(b,e)?a.nN(b,e):a.zE(b,e)}PX(){return this.Qa.Oi().IX()}gE(b){this.Qa.Oi().hZ(b)}np(){this.vd().np()}Gi(){if(this.vd().Gi()){const b=this.Ad.Oy(this.Qa),a=this.vd().Ne();b.yP(a)}}Hi(){const b=this.vd().Hi();b&&this.QX();
this.vd().ly();return b}QX(){const b=this.qc().Fa(),a=this.vd(),e=d.cb.NN(b,this),c=this.PX();c.cQ(e.ek());c.Xr(b);c.nk(e.Qm());c.Gl(!0);c.Tg(a.fz());c.yP(a.Ne())}oa(){return{sourceAdapterJson:this.vd().oa()}}ua(b){b&&this.vd().ua(b.sourceAdapterJson)}}}
{"use strict";const d=self.A.cb;d.Si=class{constructor(b){this.pa=b;this.mm=null}m(){this.mm&&(this.mm.m(),this.mm=null);this.pa=null}ql(){return this.pa}Sj(){this.mm&&this.mm.Sj()}Ig(){return this.mm?this.mm:this.mm=this.d9()}kr(){}Ha(){return this.kr()}Bu(){}yd(){this.Ig().yd()}gg(){this.Ig().gg()}cu(){this.Ig().cr()}qb(b,a,e,c,f,l){const g=d.Si.rN(this.pa)(b,a,e,this.pa);return f?g:this.Ig().Ho(b,g,a,e,c,l)}bu(){this.Ig().br()}np(){var b=this.Ig();b.ni=b.Ne()}ly(){this.Ig().ly()}Ne(){return this.Ig().Ne()}Gi(){return this.Ig().Gi()}Hi(){return this.Ig().Hi()}fz(){return d.Si.fz(this.pa)}d9(){const b=
this.pa.yu();switch(this.pa.ME()){case "combo":case "boolean":case "text":case "string":return new d.bg.BO(this);case "numeric":case "number":case "angle":return"combo"===b?new d.bg.BO(this):new d.bg.r3(this);case "color":case "offsetColor":return new d.bg.GY(this)}}oa(){return{propertyAdapterJson:this.Ig().oa()}}ua(b){b&&this.Ig().ua(b.propertyAdapterJson)}static fz(b){const a=b.qd.qc().Fa(),e=d.NN(a,b),c=d.X_(a,b);return d.Si.rN(b)(a,e,c,b)}static Sd(){let b=(void 0).Pi();"combo"===(void 0).yu()&&
(b="absolute");switch(b){case "relative":return NaN}}static rN(b){switch(b.ME()){case "numeric":return d.wF.qb;case "angle":return d.pM.qb;case "boolean":return d.uM.qb;case "color":return d.DM.qb;case "text":return d.kQ.qb}}static Y0(b){switch(b.ME()){case "numeric":return d.wF.Jl;case "angle":return d.pM.Jl;case "boolean":return d.uM.Jl;case "color":return d.DM.Jl;case "text":return d.kQ.Jl}}}}{"use strict";const d=self.A;class b extends d.cb.Si{constructor(a){super(a)}}d.cb.T7=b}
{"use strict";const d=self.A;class b extends d.cb.Si{constructor(a){super(a);this.wx=NaN}kr(){return this.pa.Qa.ph[0]}Ha(){return this.wx?this.wx:super.Ha()}Bu(){return this.pa.qd.Ea()}F7(a){this.pa.Qa.ph[0]!==a&&(this.wx=a)}qb(a,e,c,f,l,g){if(this.Ig().yM(e.Sd()))return super.qb(a,e,c,f,l,g)}oa(){return Object.assign(super.oa(),{index:this.wx})}ua(a){a&&(super.ua(a),this.wx=a.index)}}d.cb.p2=b}
{"use strict";const d=self.A;class b extends d.cb.Si{constructor(a){super(a);this.Va=NaN}kr(){return this.pa.Qa.ph[1]}Bu(){var a=this.pa.Qa,e=this.Va?this.Va:a.ph[0];a=this.pa.qd.Ea();e=a.cN(e);return a.$c[e].ja}Eh(a){return a.Ey(this.pa.Qa.ph[2])}C7(a){this.pa.Qa.ph[0]!==a&&(this.Va=a)}qb(a,e,c,f,l,g){const k=this.pa.qd.Ea();if(this.Eh(k.H()))return super.qb(a,e,c,f,l,g)}oa(){return Object.assign(super.oa(),{sid:this.Va})}ua(a){a&&(super.ua(a),this.Va=a.sid)}}d.cb.gY=b}
{"use strict";const d=self.A;class b extends d.cb.Si{constructor(a){super(a)}kr(){return this.pa.Qa.ph[1]}Bu(){const a=this.pa.qd.j().Ae,e=this.wE(a.Pa).Ha();return a.Iu(e)?a.Fg(e):null}wE(a){return a.ml(this.pa.Qa.ph[0])}qb(a,e,c,f,l,g){if(this.qaa())return super.qb(a,e,c,f,l,g)}qaa(){const a=this.pa.qd.j().Ae,e=this.wE(a.Pa);if(e)return a.Iu(e.Ha())}}d.cb.o_=b}
{"use strict";const d=self.A;class b extends d.cb.Si{constructor(a){super(a)}kr(){return this.pa.Qa.ph[0]}Bu(){return this.pa.qd.Ea().ja}qb(a,e,c,f,l,g){var k=this.pa.qd;const n=k.H().Ib();k=k.Ea().H().Ib();if(n===k)return super.qb(a,e,c,f,l,g)}}d.cb.G4=b}
{"use strict";const d=self.A;class b extends d.cb.Si{constructor(a){super(a);this.Dd=0;this.yB=!1}yd(){const a=this.pa.Re();let e=this.pa.Qa;e=a.Oy(e);this.Dd=e.rc()}gg(){}Sd(){this.yB||this.pa.qb(0);return this.Dd}qb(a,e,c){const f=d.cb.wF.qb;this.Dd=f(a,e,c,this.pa);this.yB=!0}np(){}ly(){}Ne(){return this.Dd}Gi(){return!1}Hi(){return!1}oa(){return{value:this.Dd,init:this.yB}}ua(a){a&&(this.Dd=a.value,this.yB=a.hasOwnProperty("init")?a.init:!0)}}d.cb.I7=b}"use strict";
function ic(d,b,a){return d.pa.qc().Lh()?b():a()}function jc(d,b,a){return"relative"===d.pa.Pi()?b():a()}function kc(d,b,a){d.Hs?(d.Hs=!1,b()):a()}function lc(d){if(d.ut)return d.ut;d.ut=d.Lj.Bu();return d.ut}function mc(d,b,a,e,c,f){switch(d.pa.Qd()){case "behavior":return b();case "effect":return a();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function nc(d,b=!1){const a=[];for(const e of d){d=e.qd.$f();for(const c of e.CN())b&&0===c.Fa()?a.push({time:d+c.Fa(),value:c.Vh}):b||a.push({time:d+c.Fa(),value:c.Vh})}return a.sort((e,c)=>e.time-c.time)}function oc(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.A.cb.bg=class{constructor(d){this.Lj=d;this.pa=d.ql();this.ob=this.pa.qd.j();this.Jd=this.pa.Qa.Jd;this.Hs=!1;this.ut=this.ni=null}m(){this.ut=this.ni=this.ob=this.pa=this.Lj=null}Sj(){this.ut=this.ni=this.ob=null}ql(){return this.pa}j(){return this.ob?this.ob:this.ob=this.pa.qd.j()}yd(){}gg(){}ly(){this.ni=null}Ne(){}Gi(){}Hi(){}yM(d){return typeof this.Ml()===typeof d}cr(){}Ho(){}br(){}wp(){return ic(this,()=>{const d=this.pa.Qa;return this.pa.Re().Oy(d)},()=>{const d=this.pa.Qa;return this.pa.Re().Qo(d)}).Vh}Xz(){const d=
this.pa.qc().Fa()-this.pa.qd.$f();return ic(this,()=>{const b=this.pa.Qa;return this.pa.Re().AE(d,b)},()=>{const b=this.pa.Qa,a=this.pa.Re(),e=a.zE(d,b);return e?e:a.Qo(b)}).Vh}aA(){}Th(){return this.Lj.Ha()}oa(){return{firstAbsoluteUpdate:this.Hs,saveState:this.ni}}ua(d){d&&(this.Hs=d.firstAbsoluteUpdate,this.ni=d.saveState)}};
{"use strict";const d=self.A,b=new Map,a=[0,0,0];class e extends d.cb.bg{constructor(c){super(c)}yd(){}gg(){}Ne(){const c=this.pa.Qd(),f=lc(this),l=this.Th();switch(c){case "behavior":return this.wA(f.pc(l));case "effect":return this.wA(f[l]);case "plugin":return this.wA(f.pc(l));case "world-instance":return this.wA(this.Ml())}}Gi(){const c=this.wp();return!this.OQ(c,this.Ml())}Hi(){return d.te(this.ni)?!1:!this.OQ(this.ni,this.Ml())}OQ(c,f){return c.yo(f)}wp(){const c=super.wp();return this.bA(c)}Xz(){const c=
super.Xz();return this.bA(c)}aA(){}wA(c){return d.Xm(c,d.gb)?c.toArray().slice(0,3):c.slice(0,3)}bA(c){return d.Xm(c,d.gb)?c:new d.gb(c[0],c[1],c[2],1)}yM(){return!0}cr(){var c=this.pa.Ea();b.has(c)||b.set(c,new Map);c=b.get(c);const f=this.pa.Qd();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.Jd)||c.set(this.Jd,{Yx:!1,color:new d.gb(0,0,0,1)})}OR(c,f,l){c=b.get(c).get(f).get(l);c.Yx=!0;return c.color}Ho(c,f){var l=this.pa.qc(),g=this.pa.qd;c=this.pa.Ea();var k=this.pa.vd();const n=this.pa.Qd();
k=l.PE(c,k,this.Jd);if(1<k.length){if(k=nc(k,!0),l=l.Fa(),l=oc(l,k))if(k=l.time-g.$f(),0===k)this.OR(c,n,this.Jd).tW(f[0],f[1],f[2]);else{if(0>k)return;l=f[0];g=f[1];f=f[2];k=this.pa.qb(k,!1,!0);l=d.gb.hE(l,k[0]);g=d.gb.hE(g,k[1]);f=d.gb.hE(f,k[2]);this.OR(c,n,this.Jd).tW(l,g,f)}}else this.zk(f[0],f[1],f[2]);return d.de.zl}br(){const c=this.pa.Ea();if(b.has(c)){var f=b.get(c),l=this.pa.Qd();if(f.has(l)){var g=f.get(l);if(g.has(this.Jd)){var k=g.get(this.Jd),n=k.color;k.Yx&&this.zk(n.ab,n.eb,n.Za);
0===g.size&&f.delete(l);0===f.size&&b.delete(c)}}}}Ml(){const c=this.pa.Qd(),f=lc(this),l=this.Th();switch(c){case "behavior":return this.bA(f.pc(l));case "effect":return f[l].clone();case "plugin":return this.bA(f.pc(l));case "world-instance":return this.j().tb.clone()}}zk(c,f,l){const g=this.pa.Qd(),k=lc(this),n=this.Th();switch(g){case "behavior":a[0]=c;a[1]=f;a[2]=l;k.fg(n,a);break;case "effect":k[n].AD(c,f,l);break;case "plugin":a[0]=c;a[1]=f;a[2]=l;k.fg(n,a);break;case "world-instance":this.j().R6(c,
f,l)}}oa(){}ua(){}}d.cb.bg.GY=e}
{"use strict";const d=self.A;class b extends d.cb.bg{constructor(a){super(a)}yd(){}gg(){}Ne(){return this.Ml()}Gi(){return this.wp()!==this.Ne()}Hi(){return d.te(this.ni)?!1:this.ni!==this.Ne()}Ho(a,e){const c=d.cb.Si.Y0(this.pa);var f=this.pa;const l=f.qd,g=f.Qd();var k=f.qc();const n=l.Ea();f=f.vd();k=k.PE(n,f,this.Jd);1<k.length&&(k=nc(k),a=oc(a+l.$f(),k))&&(e=a.value);if(c(this.Th(),lc(this),e,g))switch(this.zk(e),g){case "plugin":return d.de.zl}}Ml(){const a=this.pa.Qd(),e=lc(this),c=this.Th();
switch(a){case "behavior":return e.pc(c);case "effect":return e[c];case "instance-variable":return e.Qe(c);case "plugin":return e.pc(c)}}zk(a){const e=this.pa.Qd(),c=lc(this),f=this.Th();switch(e){case "behavior":c.fg(f,a);break;case "effect":c[f]=a;break;case "instance-variable":c.kn(f,a);break;case "plugin":c.fg(f,a)}}}d.cb.bg.BO=b}
{"use strict";const d=self.A,b=new Map,a=(c,f,l,g,k)=>b.set(c,{Qha:f,aga:l,Oga:g,round:k});a("offsetX",(c,f)=>c.y3(f),(c,f)=>c.Ug(f),c=>c.R(),!0);a("offsetY",(c,f)=>c.z3(f),(c,f)=>c.Vg(f),c=>c.S(),!0);a("offsetWidth",(c,f)=>c.DO(f),(c,f)=>c.Xe(f),c=>c.P(),!0);a("offsetHeight",(c,f)=>c.CO(f),(c,f)=>c.Ue(f),c=>c.U(),!0);a("offsetAngle",(c,f)=>c.u3(f),(c,f)=>c.Kc(f),c=>c.ka(),!1);a("offsetOpacity",(c,f,l,g)=>{l=c.Ed()+f;0===g.Pc?(1<l?g.Pc+=l-1:0>l&&(g.Pc+=l),c.v3(f)):(c=c.Ed()+f,0<f&&0<g.Pc?1<c&&(g.Pc+=
c-1):0<f&&0>g.Pc?(g.Pc+=f,0<g.Pc&&(g.Pc=0)):0>f&&0<g.Pc?(g.Pc+=f,0>g.Pc&&(g.Pc=0)):0>f&&0>g.Pc&&0>c&&(g.Pc+=c))},(c,f)=>{c.Ve(f)},c=>c.Ed(),!1);a("offsetOriginX",(c,f)=>c.w3(f),(c,f)=>c.Sr(f),c=>c.Yj(),!1);a("offsetOriginY",(c,f)=>c.x3(f),(c,f)=>c.Tr(f),c=>c.Zj(),!1);a("offsetZElevation",(c,f)=>c.A3(f),(c,f)=>c.Ye(f),c=>c.Xa(),!0);a("offsetScaleX",(c,f,l)=>{const g=0>c.P()?-1:1;c.DO(l.ak()*g*f)},(c,f,l)=>{c.Xe(l.ak()*f)},(c,f)=>{const l=0>c.P()?-1:1;if(c.To()){var g=c.Da(),k=f.qc().RN(g.Ea());k?g=
g.P()/k.ak():(k=g.Ea().ja,g=k.ep()?g.P()/k.ak():1);return c.P()*l/(f.ak()*g)}return c.P()*l/f.ak()},!1);a("offsetScaleY",(c,f,l)=>{const g=0>c.U()?-1:1;c.CO(l.$j()*g*f)},(c,f,l)=>{c.Ue(l.$j()*f)},(c,f)=>{const l=0>c.U()?-1:1;if(c.So()){var g=c.Da(),k=f.qc().RN(g.Ea());k?g=g.U()/k.$j():(k=g.Ea().ja,g=k.ep()?g.U()/k.$j():1);return c.U()*l/(f.$j()*g)}return c.U()*l/f.$j()},!1);class e extends d.cb.bg{constructor(c){super(c);this.Pc=this.hb=0;this.bJ=this.dJ=this.cJ=null;this.LV=!1;this.Qq=d.Xm(this.pa.qc(),
d.y7)?new d.cb.bg.t3(this):new d.cb.bg.s3(this);c=this.pa.Qa.Jd;"world-instance"===this.pa.Qd()&&(c=b.get(c),this.cJ=c.Oga,this.dJ=c.Qha,this.bJ=c.aga,this.LV=c.round)}m(){this.bJ=this.dJ=this.cJ=this.Qq=null;super.m()}PP(c){this.hb=c}yd(){const c=this.Qq.yd();"number"===typeof c&&(this.hb=c);this.Pc=0}gg(){const c=this.Qq.gg();"number"===typeof c&&(this.hb=c)}Ne(){return this.Ml()}Gi(){return this.wp()!==this.Ne()}Hi(){return d.te(this.ni)?!1:this.ni!==this.Ne()}cr(){this.Qq.cr()}Ho(c,f,l,g,k,n,
q){return this.Qq.Ho(c,f,l,g,k,n,q)}br(){this.Qq.br()}Ml(){const c=lc(this),f=this.Th(),l=this.pa.qd,g=this.j();return mc(this,()=>c.pc(f),()=>c[f],()=>c.Qe(f),()=>c.pc(f),()=>this.cJ(g,l))}zk(c){const f=lc(this),l=this.Th(),g=this.pa.qd,k=this.j();mc(this,()=>f.yF(l,c),()=>f[l]+=c,()=>f.m6(l,c),()=>f.yF(l,c),()=>this.dJ(k,c,g,this))}fT(c){const f=lc(this),l=this.Th(),g=this.pa.qd,k=this.j();mc(this,()=>f.fg(l,c),()=>f[l]=c,()=>f.kn(l,c),()=>f.fg(l,c),()=>this.bJ(k,c,g))}ls(c,f,l,g,k,n){this.Qq.ls(c,
f,l,g,k,n)}Kl(c,f,l){c=(c.toString().split(".")[1]||"").length;const g=this.Ml();this.zk((0===c?this.LV?Math.round(g):g:d.toFixed(g,c))-g,f,l)}oa(){return Object.assign(super.oa(),{v:this.hb,a:this.Pc})}ua(c){c&&(super.ua(c),this.hb=c.v,this.Pc=c.a)}}d.cb.bg.r3=e}
{"use strict";const d=self.A,b=new Map;class a{constructor(e){this.Fe=e}m(){this.Fe=null}yd(){const e=this.Fe,c=this.Fe.ql();return jc(e,()=>ic(e,()=>0,()=>d.cb.Si.fz(c)),()=>{})}gg(){}cr(){const e=this.Fe,c=this.Fe.ql(),f=c.Qa.Jd;jc(e,()=>{},()=>{var l=c.Ea();b.has(l)||b.set(l,new Map);l=b.get(l);const g=c.Qd();l.has(g)||l.set(g,new Map);l=l.get(g);l.has(f)||l.set(f,{Yx:!1,value:0})})}NR(e,c,f){e=b.get(e).get(c).get(f);e.Yx=!0;return e}Ho(e,c,f,l,g,k){const n=this.Fe,q=this.Fe.ql(),r=q.Qa.Jd;jc(n,
()=>{const p=n.hb;n.zk(c-p,f,l);k&&this.ls(e,f,l,g,p,c);n.PP(c)},()=>{var p=q.qc(),v=q.qd;const t=q.Ea();var w=q.vd();const x=q.Qd();w=p.PE(t,w,r);if(1<w.length){if(w=nc(w,!0),p=p.Fa(),p=oc(p,w))v=p.time-v.$f(),0===v?this.NR(t,x,r).value+=c:0>v||(v=q.qb(v,!1,!0),this.NR(t,x,r).value+=c-v)}else n.fT(c)});return mc(n,()=>{},()=>d.de.zl,()=>{},()=>d.de.zl,()=>d.de.zl)}br(){const e=this.Fe,c=this.Fe.ql(),f=c.Qa.Jd;jc(e,()=>{},()=>{const l=c.Ea();if(b.has(l)){var g=b.get(l),k=c.Qd();if(g.has(k)){var n=
g.get(k);if(n.has(f)){var q=n.get(f),r=q.value;q.Yx&&e.fT(r);n.delete(f);0===n.size&&g.delete(k);0===g.size&&b.delete(l)}}}})}ls(e,c,f,l,g,k){const n=this.Fe;l||(c&&e===c.Fa()?n.Kl(c.rc(),c,f):f&&e===f.Fa()?n.Kl(f.rc(),c,f):0===k-g&&n.Kl(c.rc(),c,f))}}d.cb.bg.s3=a}
{"use strict";const d=self.A;class b{constructor(a){this.Fe=a}m(){this.Fe=null}yd(){const a=this.Fe;a.Hs=!0;return this.aA(a.wp())}gg(){const a=this.Fe;if(a.wp()!==a.Xz())return a.Hs=!0,this.aA(a.Xz())}cr(){}Ho(a,e,c,f,l,g){const k=this.Fe,n=k.hb;jc(k,()=>{k.zk(e-n,c,f);g&&this.ls(a,c,f,l,n,e)},()=>{kc(k,()=>{k.zk(n,c,f)},()=>{k.zk(e-n,c,f);g&&this.ls(a,c,f,l,n,e)})});k.PP(e);return mc(k,()=>{},()=>d.de.zl,()=>{},()=>d.de.zl,()=>d.de.zl)}br(){}aA(a){return a-this.Fe.Ne()}ls(a,e,c,f,l,g){const k=this.Fe;
f?e&&a===e.Fa()?k.Kl(e.rc(),e,c):c&&a===c.Fa()?k.Kl(c.rc(),e,c):c||k.Kl(e.rc(),e,c):e&&a===e.Fa()?k.Kl(e.rc(),e,c):c&&a===c.Fa()?k.Kl(c.rc(),e,c):0===g-l&&k.Kl(e.rc(),e,c)}}d.cb.bg.t3=b}
{"use strict";const d=self.A,b=self.iu;d.cb.wF=class{constructor(){}static Jl(a,e,c,f){let l;switch(f){case "behavior":l=e.pc(a);break;case "effect":l=e[a];break;case "instance-variable":l=e.Qe(a);break;case "plugin":l=e.pc(a)}return l===c?!1:!0}static qb(a,e,c,f){if(!c)return c=f.Qa,c=f.Re().Qo(c),c.rc();var l=f.Li();"default"===l&&(l="continuous");"combo"===f.yu()&&(l="discrete");if("discrete"===l)return e.rc();if("continuous"===l||"step"===l){"step"===l&&(l=f.qc().zu(),0!==l&&(l=1/l,a=Math.floor(a*
l)/l));var g=e.Fa();const k=c.Fa();l=e.rc();const n=c.rc();if(l===n)return l;a=d.normalize(a,g,k);const q=e.Qm();e=e.oE("cubic-bezier");c=c.oE("cubic-bezier");e&&e.hx&&c&&c.fB?(g=k-g,g=b.Ro(q)(g*a,0,1,g),g=b.Ro("cubicbezier")(g,l,l+e.GK,n+c.zI,n)):g=b.Ro(q)((k-g)*a,l,n-l,k-g);return"integer"===f.yu()?Math.floor(g):g}}}}
{"use strict";const d=self.A;d.cb.pM=class{constructor(){}static Jl(b,a,e,c){let f;switch(c){case "behavior":f=a.pc(b);break;case "effect":f=a[b];break;case "instance-variable":f=a.Qe(b);break;case "plugin":f=a.pc(b)}return f===e?!1:!0}static qb(b,a,e,c){if(!e)return a=c.Qa,a=c.Re().Qo(a),a.rc();var f=c.Li();"default"===f&&(f="continuous");"combo"===c.yu()&&(f="discrete");if("discrete"===f)return a.rc();if("continuous"===f||"step"===f){"step"===f&&(c=c.qc().zu(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const l=a.Fa(),g=e.Fa();c=a.rc();e=e.rc();if(f=a.oE("angle")){const k=f.uK;if(c===e&&0===k)return c;b=d.normalize(b,l,g);a=self.iu.Ro(a.Qm())(b,0,1,1);switch(f.sI){case "closest":return d.jL(c,e,a,k);case "clockwise":return d.hga(c,e,a,k);case "anti-clockwise":return d.gga(c,e,a,k)}}else{if(c===e)return c;b=d.normalize(b,l,g);a=self.iu.Ro(a.Qm());return d.jL(c,e,a(b,0,1,1))}}}}}"use strict";
self.A.cb.uM=class{constructor(){}static Jl(d,b,a,e){let c;switch(e){case "behavior":c=b.pc(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Qe(d);break;case "plugin":c=b.pc(d)}return!!c===!!a?!1:!0}static qb(d,b,a,e){return a?b.rc()?1:0:(d=e.Qa,d=e.Re().Qo(d),d.rc()?1:0)}};
{"use strict";const d=self.A,b=[0,0,0],a=[0,0,0],e=[0,0,0];d.cb.DM=class{constructor(){}static Jl(c,f,l,g){let k;switch(g){case "behavior":k=f.pc(c);break;case "effect":k=f[c];break;case "instance-variable":k=f.Qe(c);break;case "plugin":k=f.pc(c)}Array.isArray(l)?(b[0]=l[0],b[1]=l[1],b[2]=l[2]):(e.tD(l),b[0]=Math.floor(255*e.ab),b[1]=Math.floor(255*e.eb),b[2]=Math.floor(255*e.Za));Array.isArray(k)?(a[0]=k[0],a[1]=k[1],a[2]=k[2]):(e.tD(k),a[0]=Math.floor(255*e.ab),a[1]=Math.floor(255*e.eb),a[2]=Math.floor(255*
e.Za));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static qb(c,f,l,g){if(!l)return f=g.Qa,f=g.Re().Qo(f),f=f.rc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;var k=g.Li();"default"===k&&(k="continuous");if("discrete"===k)return f=f.rc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;if("continuous"===k||"step"===k){"step"===k&&(g=g.qc().zu(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.Fa();k=l.Fa();var n=f.rc(),q=l.rc();const r=d.normalize(c,g,k);c=n[0];l=n[1];n=n[2];const p=q[0],v=q[1];q=q[2];f=self.iu.Ro(f.Qm());g=k-g;
k=g*r;b[0]=c===p?c:f(k,c,p-c,g);b[1]=l===v?l:f(k,l,v-l,g);b[2]=n===q?n:f(k,n,q-n,g);return b}}}}"use strict";self.A.cb.kQ=class{constructor(){}static Jl(d,b,a,e){let c;switch(e){case "behavior":c=b.pc(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Qe(d);break;case "plugin":c=b.pc(d)}return c===a?!1:!0}static qb(d,b,a,e){return a?b.rc():(d=e.Qa,d=e.Re().Qo(d),d.rc())}};
{"use strict";const d=self.A;d.Xg=class{constructor(){this.nx=new Map}m(){for(const b of this.nx.values())b.m();this.nx.clear();this.nx=null}wc(b){b=new d.s7(b);this.nx.set(b.Ca(),b)}$(b){return this.nx.get(b)}static kv(b,a,e,c){if(a)for(const f of a)d.Xg.RQ("create",f,b,e,c)}static vv(b,a,e,c){b.length?a.forEach((f,l)=>{b[l].ua(f)}):a.forEach(f=>{d.Xg.RQ("load",f,b,e,c)})}static RQ(b,a,e,c,f){let l;if("function"===typeof c)switch(b){case "load":l=new c(null,f);break;case "create":l=new c(a,f)}else if("object"===
typeof c)switch(c=c.map.get(a[c.fX]),b){case "load":l=new c(null,f);break;case "create":l=new c(a,f)}switch(b){case "load":l.ua(a);e.push(l);break;case "create":"function"!==typeof l.nl||l.nl()?e.push(l):l.m()}}}}
{"use strict";const d=self.A;d.s7=class{constructor(b){this.Ga="";this.TC=NaN;this.PC=0;this.vg=this.qg="default";this.sC=this.jC=!1;this.mt=1;this.mf=null;b&&(this.Ga=b[0],this.TC=b[1],this.PC=b[2],this.qg=b[3],this.vg=b[4],this.jC=!!b[6],this.sC=!!b[7],this.mt=b[8],this.mf=new d.lQ(b[5],this))}m(){this.mf.m();this.mf=null}cz(){this.mf||(this.mf=new d.lQ(null,this));return this.mf}Ca(){return this.Ga}Nz(b){this.Ga=b}Rd(){return this.TC}zu(){return this.PC}Li(){return this.qg}Pi(){return this.vg}nr(){return this.jC}rr(){return this.sC}Tm(){return this.mt}oa(){return{trackDataJson:this.mf.oa(),
name:this.Ga,totalTime:this.TC,step:this.PC,interpolationMode:this.qg,resultMode:this.vg,loop:this.jC,pingPong:this.sC,repeatCount:this.mt}}ua(b){b&&(this.cz().ua(b.trackDataJson),this.Ga=b.name,this.TC=b.totalTime,this.PC=b.step,this.qg=b.interpolationMode,this.vg=b.resultMode,this.jC=b.loop,this.sC=b.pingPong,this.mt=b.repeatCount)}}}
{"use strict";const d=self.A;class b{constructor(a,e){this.mf=e;this.wn=this.BB=null;this.im=this.Zl=NaN;this.vg=this.qg="default";this.fh=!1;this.Ad=this.Dj=null;this.ff="";this.ct=null;this.HK=0;this.hC=this.mf.lf.Rd();this.Aa=0;this.Ga="";a&&(a[0]&&(this.BB=a[0],this.Zl=a[0][2],this.im=a[0][1]),this.qg=a[1],this.vg=a[2],this.fh=!!a[3],a[6]&&(this.ff=a[6]),a[7]&&(this.ct=a[7],this.HK=a[7][0],this.hC=a[7][1]),a[8]&&(this.wn=a[8]),a[8]&&(this.wn=a[8]),a[9]&&(this.Aa=a[9]),a[10]&&(this.Ga=a[10]),this.Dj=
new d.oO(a[4],this),this.Ad=new d.bP(a[5],this))}m(){this.mf=this.BB=null;this.Dj&&(this.Dj.m(),this.Dj=null);this.Ad&&(this.Ad.m(),this.Ad=null);this.ct=null}cz(){return this.mf}Ni(){this.Dj||(this.Dj=new d.oO(null,this));return this.Dj}Re(){this.Ad||(this.Ad=new d.bP(null,this));return this.Ad}JE(){return this.im}vu(){return this.Zl}Li(){return this.qg}Pi(){return this.vg}nl(){return this.fh}Gl(a){this.fh=!!a}Wj(){return this.ff}$f(){return this.HK}pl(){return this.hC}ak(){return this.wn[0]}$j(){this.wn||
(this.wn=[]);return this.wn[1]}ek(){return this.Aa}Ca(){return this.Ga}oa(){return{keyframeDataJson:this.Dj.oa(),propertyTrackDataJson:this.Ad.oa(),instanceData:this.BB,additionalInstanceData:this.wn,instanceUid:this.Zl,objectClassIndex:this.im,interpolationMode:this.qg,resultMode:this.vg,enabled:this.fh,id:this.ff,nestedData:this.ct,type:this.Aa,name:this.Ga}}ua(a){a&&(this.BB=a.instanceData,this.Zl=a.instanceUid,this.im=a.objectClassIndex,this.qg=a.interpolationMode,this.vg=a.resultMode,this.fh=
a.enabled,this.ff=a.id,this.Aa=a.type?a.type:0,this.Aa=a.name?a.name:"",this.hC=this.mf.lf.Rd(),a.nestedData&&(this.ct=a.nestedData,this.HK=this.ct[0],this.hC=this.ct[1]),a.additionalInstanceData&&(this.wn=a.additionalInstanceData),this.Ni().ua(a.keyframeDataJson),this.Re().ua(a.propertyTrackDataJson))}}d.lQ=class{constructor(a,e){this.lf=e;this.Nq=[];this.Ew=new Map;d.Xg.kv(this.Nq,a,b,this)}m(){this.lf=null;for(const a of this.Nq)a.m();d.D(this.Nq);this.Nq=null;this.Ew.clear();this.Ew=null}z0(a,
e){const c=this.Ew.get(e);if(c&&c.has(a))return c.get(a);for(const f of e.Ni().TW())if(f.Fa()===a)return c||this.Ew.set(e,new Map),this.Ew.get(e).set(a,f),f}i0(a,e){for(const c of e.Ni().TW())if(c.Fa()>=a)return c}j0(a,e){for(const c of e.Ni().hha())if(c.Fa()<=a)return c}*Yha(){for(const a of this.Nq)yield a}oa(){return{trackDataItemsJson:this.Nq.map(a=>a.oa())}}ua(a){a&&d.Xg.vv(this.Nq,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.A;class b{constructor(a,e){this.Ad=e;this.HC="";this.Aa=this.Jd=this.ph=null;this.OJ=this.SJ=NaN;this.vg=this.qg="default";this.fh=!1;this.Pk=null;a&&(this.HC=a[0][0],this.ph=a[0].slice(1),this.Jd=a[1],this.Aa=a[2],this.SJ=a[3],this.OJ=a[4],this.qg=a[5],this.vg=a[6],this.fh=!!a[7],this.Pk=new d.aP(a[8],this))}m(){this.Pk.m();this.ph=this.Ad=this.Pk=null}Re(){return this.Ad}Oi(){this.Pk||(this.Pk=new d.aP(null,this));return this.Pk}Qd(){return this.HC}ek(){return this.Aa}cQ(a){this.Aa=
a}Li(){return this.qg}Pi(){return this.vg}nl(){return this.fh}Gl(a){this.fh=!!a}oa(){return{propertyKeyframeDataJson:this.Pk.oa(),sourceAdapterId:this.HC,sourceAdapterArguments:this.ph,property:this.Jd,type:this.Aa,min:this.SJ,max:this.OJ,interpolationMode:this.qg,resultMode:this.vg,enabled:this.fh}}ua(a){a&&(this.HC=a.sourceAdapterId,this.ph=a.sourceAdapterArguments,this.Jd=a.property,this.Aa=a.type,this.SJ=a.min,this.OJ=a.max,this.qg=a.interpolationMode,this.vg=a.resultMode,this.fh=a.enabled,this.Oi().ua(a.propertyKeyframeDataJson))}}
d.bP=class{constructor(a,e){this.Yb=e;this.zq=[];this.Uw=new Map;d.Xg.kv(this.zq,a,b,this)}m(){this.Yb=null;for(const a of this.zq)a.m();d.D(this.zq);this.zq=null;this.Uw.clear();this.Uw=null}Oy(a){return a.Oi().Rc[0]}Qo(a){return a.Oi().Rc.oe(-1)}LE(a,e){const c=this.Uw.get(e);if(c&&c.has(a))return c.get(a);const f=e.Oi();for(const l of f.WL())if(l.Fa()===a)return c||this.Uw.set(e,new Map),this.Uw.get(e).set(a,l),l}nN(a,e){e=e.Oi();for(const c of e.WL())if(c.Fa()>a)return c}zE(a,e){e=e.Oi();for(const c of e.WL())if(c.Fa()>=
a)return c}AE(a,e){e=e.Oi();for(const c of e.Bha())if(c.Fa()<=a)return c}*Dha(){for(const a of this.zq)yield a}oa(){return{propertyTrackDataItemsJson:this.zq.map(a=>a.oa())}}ua(a){a&&d.Xg.vv(this.zq,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.A;class b{constructor(a,e){this.Dj=e;this.Tc=-1;this.rj="noease";this.sj=!1;this.Kw=this.rh=null;a&&(this.Tc=a[0],this.rj=a[1],this.sj=!!a[2],this.rh=(a=a[3])?a.split(" "):[],this.Kw=new Set(this.rh.map(c=>c.toLowerCase())))}m(){this.Dj=null;d.D(this.rh);this.rh=null;this.Kw.clear();this.Kw=null}Ni(){return this.Dj}Fa(){return this.Tc}Xr(a){this.Tc=a}Qm(){return this.rj}nk(a){this.rj=a}nl(){return this.sj}Gl(a){this.sj=!!a}aQ(a){this.rh=a?a.split(" "):[];this.Kw=new Set(this.rh.map(e=>
e.toLowerCase()))}oa(){return{time:this.Tc,ease:this.rj,enable:this.sj,tags:this.rh}}ua(a){a&&(this.Tc=a.time,this.rj=a.ease,this.sj=a.enable,this.rh=a.tags,this.Kw=new Set(this.rh.map(e=>e.toLowerCase())))}}d.oO=class{constructor(a,e){this.Yb=e;this.Qc=[];d.Xg.kv(this.Qc,a,b,this)}m(){this.Yb=null;for(const a of this.Qc)a.m();d.D(this.Qc);this.Qc=null}HX(){const a=new b(null,this);this.Qc.push(a);return a}fZ(a){for(const e of this.Qc){if(!a(e))continue;const c=this.Qc.indexOf(e);-1!==c&&(e.m(),this.Qc.splice(c,
1))}this.d7()}d7(){this.Qc.sort((a,e)=>a.Fa()-e.Fa())}B0(a){return this.Qc.indexOf(a)}A0(a){return this.Qc[a]}*TW(){for(const a of this.Qc)yield a}*hha(){for(let a=this.Qc.length-1;0<=a;a--)yield this.Qc[a]}oa(){return{keyframeDataItemsJson:this.Qc.map(a=>a.oa())}}ua(a){a&&d.Xg.vv(this.Qc,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.A;class b{constructor(a,e){this.Pk=e;this.Vh=this.Dd=null;this.Aa="";this.Tc=NaN;this.rj="noease";this.sj=!1;this.fj=null;a&&(this.Dd=a[0][0],this.Vh=a[0][1],this.Aa=a[0][2],this.Tc=a[1],this.rj=a[2],this.sj=!!a[3],this.fj=null,a[4]&&(this.fj=new d.UX(a[4],this)))}m(){this.Pk=null;this.fj&&(this.fj.m(),this.fj=null)}Sd(){return this.Dd}Tg(a){"color"===this.Aa&&d.Wm(a)?(this.Dd[0]=d.NE(a),this.Dd[1]=d.CE(a),this.Dd[2]=d.qE(a)):this.Dd=a}yP(a){"color"===this.Aa&&d.Wm(a)?(this.Vh[0]=
d.NE(a),this.Vh[1]=d.CE(a),this.Vh[2]=d.qE(a)):this.Vh=a}rc(){const a=this.Pk.Qa.Pi();if("relative"===a)return this.Sd();if("absolute"===a)return this.Vh}ek(){return this.Aa}cQ(a){this.Aa=a}Fa(){return this.Tc}Xr(a){this.Tc=a}Qm(){return this.rj}nk(a){this.rj=a}nl(){return this.sj}Gl(a){this.sj=!!a}oE(a){if(this.fj)for(const e of this.fj.bga())if(e.Wj()===a)return e}oa(){const a=this.fj;return{addonDataJson:a?a.oa():a,value:this.Dd,aValue:this.Vh,type:this.Aa,time:this.Tc,ease:this.rj,enable:this.sj}}ua(a){a&&
(a.addonDataJson&&this.fj.lua(a.addonDataJson),this.Dd=a.value,this.Vh=a.aValue,this.Aa=a.type,this.Tc=a.time,this.rj=a.ease,this.sj=a.enable)}}d.aP=class{constructor(a,e){this.Qa=e;this.Rc=[];d.Xg.kv(this.Rc,a,b,this)}m(){this.Qa=null;for(const a of this.Rc)a.m();d.D(this.Rc);this.Rc=null}IX(){const a=new b(null,this);this.Rc.push(a);return a}hZ(a){for(const e of this.Rc){if(!a(e))continue;const c=this.Rc.indexOf(e);-1!==c&&(e.m(),this.Rc.splice(c,1))}this.e7()}e7(){this.Rc.sort((a,e)=>a.Fa()-e.Fa())}*WL(){for(const a of this.Rc)yield a}*Bha(){for(let a=
this.Rc.length-1;0<=a;a--)yield this.Rc[a]}oa(){return{propertyKeyframeDataItemsJson:this.Rc.map(a=>a.oa())}}ua(a){a&&d.Xg.vv(this.Rc,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.A;class b{constructor(c,f){this.fj=f;this.ff=c[0];this.Vl=c[1]}m(){this.Vl=this.fj=null}Wj(){return this.ff}oa(){return{id:this.ff,data:this.Vl}}ua(c){c&&(this.ff=c.id,this.Vl=c.data)}}class a extends b{constructor(c,f){super(c,f);this.GK=this.Vl[0];this.hx=!!this.Vl[1];this.zI=this.Vl[2];this.fB=!!this.Vl[3]}m(){super.m()}oa(){return Object.assign(super.oa(),{startAnchor:this.GK,startEnable:!!this.hx,endAnchor:this.zI,endEnable:!!this.fB})}ua(c){c&&(super.ua(c),this.GK=
c.startAnchor,this.hx=!!c.startEnable,this.zI=c.endAnchor,this.fB=!!c.endEnable)}}class e extends b{constructor(c,f){super(c,f);this.sI=this.Vl[0];this.uK=this.Vl[1]}m(){super.m()}oa(){return Object.assign(super.oa(),{direction:this.sI,revolutions:this.uK})}ua(c){c&&(super.ua(c),this.sI=c.direction,this.uK=c.revolutions)}}d.UX=class{constructor(c){this.Gp=[];d.Xg.kv(this.Gp,c,{fX:0,map:new Map([["cubic-bezier",a],["angle",e]])},this)}m(){for(const c of this.Gp)c.m();d.D(this.Gp);this.Gp=null}*bga(){for(const c of this.Gp)yield c}oa(){return{addonDataItemsJson:this.Gp.map(c=>
c.oa())}}ua(c){c&&d.Xg.vv(this.Gp,c.addonDataItemsJson,{fX:"id",map:new Map([["cubic-bezier",a],["angle",e]])},this)}}}
{"use strict";const d=self.A;let b=0;d.y7=class extends d.de{constructor(a,e){super(`tween-${b++}`,a,e);this.ff="";this.NT=!1;this.YI="start-value";this.pV=this.oV=null}Ea(){var a=this.Rb;if(a&&a.length&&(a=a[0])){var e=a.Ea();return a.xl()?e:null}}Wj(){return this.ff}VO(){if(this.pV)for(const a of this.pV)a(this);if(!this.mg)for(const a of this.Rb)a.Hi()}JO(){this.vs=this.g.Sk}ZM(){if(!this.Yp&&(this.Yp=!0,this.oV))for(const a of this.oV)a(this)}Xr(a){this.VQ();super.Xr(a)}yd(a){if(!this.Jn&&"current-state"===
this.YI)for(const e of this.Rb)e.Gi();super.yd(a)}hg(a=!1){super.hg(a);if(!this.mg)for(const e of this.Rb)e.np()}Jc(a=!0,e=!1){this.VQ();super.Jc(a,e)}VQ(){for(const a of this.Rb){const e=c=>{c=c.Fa();const f=this.Rd();return 0!==c&&c!==f};a.gZ(e);a.gE(e)}}kA(){if(this.mi)return!0;const a=this.Ea();if(a&&a.H().Og())return!1;this.Fb.my(this);this.pP();return!0}yO(){}Hd(){const a=this.Ea();super.Hd(this.I().Pm(a),1)}oa(){const a=super.oa();return Object.assign(a,{tweenDataItemJson:this.lf.oa(),id:this.ff,
destroyInstanceOnComplete:this.NT,initialValueMode:this.YI})}ua(a){a&&(this.lf.ua(a.tweenDataItemJson),super.ua(a),this.ff=a.id,this.NT=a.destroyInstanceOnComplete,this.YI=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.A,b=self.iu;d.oQ=class extends d.ga{constructor(a){super();this.Ga=a[0];this.si=[];for(const e of a[1])a=d.pQ.Ra(this,e),this.si.push(a);this.Tw=new Map;this.UC=new Map;this.Tba();b.GX(this.Ga,(e,c,f,l)=>this.qb(e,c,f,l))}static Ra(a){return d.B(d.oQ,a)}m(){for(const a of this.si)a.m();d.D(this.si);this.si=null;this.Tw.clear();this.Tw=null;this.UC.clear();this.UC=null}W0(a){const e=this.UC.get(a);if(e)return e;for(const c of this.si)if(c.nf===a)return this.UC.set(a,c),c}m0(a){for(const e of this.si)if(e.nf>
a)return e}l0(a){for(const e of this.si)if(e.nf>=a)return e}n0(a){for(let e=this.si.length-1;0<=e;e--){const c=this.si[e];if(c.nf<=a)return c}}qb(a,e,c,f){var l=a/f;(a=this.W0(l))?f=this.m0(l):(a=this.n0(l),f=this.l0(l));l=d.oha(l,a.nf,f.nf,f.nf-a.nf);const g=a.nf,k=a.yx,n=a.nf+a.$V,q=a.yx+a.Sfa,r=f.nf+f.VT,p=f.yx+f.Xea,v=f.nf;f=f.yx;f=b.Ro("spline")(l,g,k,n,q,r,p,v,f,this.Tw.get(a));f+=a.yx;return(1-f)*e+f*(e+c)}Tba(){this.Tw.clear();for(let e=0;e<this.si.length-1;e++){var a=this.si[e];if(!a.hx)continue;
const c=this.si[e+1];this.Tw.set(a,b.O_(a.nf,a.nf+a.$V,c.nf+c.VT,c.nf))}}}}{"use strict";const d=self.A;d.pQ=class extends d.ga{constructor(b,a){super();this.nf=a[0];this.yx=a[1];this.$V=a[2];this.Sfa=a[3];this.VT=a[4];this.Xea=a[5];this.hx=a[6];this.fB=a[7]}m(){}static Ra(b,a){return d.B(d.pQ,b,a)}}}{"use strict";const d=self.A;d.x7=class extends d.ga{constructor(b){super();this.g=b;this.VC=[]}m(){for(const b of this.VC)b.m();d.D(this.VC);this.VC=null}Ra(b){this.VC.push(d.oQ.Ra(b))}}}
{"use strict";const d=self.A;d.c7=class extends d.ga{constructor(b){super();this.K=b;this.nb=[];this.nb.push(d.B(d.kG,this));this.Ta=0;this.nj=this.nb[0]}m(){for(const b of this.nb)b.m();d.D(this.nb);this.K=this.nj=null}H(){return this.K}aa(){return this.nj}Gc(){this.aa().Gc()}P4(){var b=this.nb,a=++this.Ta;a===b.length?(a=d.B(d.kG,this),b.push(a),this.nj=a):(b=b[a],b.Jc(),this.nj=b)}Q4(){const b=this.nb,a=++this.Ta;a===b.length&&b.push(d.B(d.kG,this));const e=b[a];e.MY(b[a-1]);this.nj=e}La(){this.nj=
this.nb[--this.Ta]}kp(b){const a=this.nb;for(let e=0,c=a.length;e<c;++e)a[e].kp(b)}}}
{"use strict";const d=self.A;d.kG=class extends d.ga{constructor(b){super();this.nb=b;this.K=this.nb.H();this.Ud=this.K.I().kd();this.Xb=!0;this.G=[];this.hc=[]}m(){this.iy();this.Ud=this.K=this.nb=null}iy(){d.D(this.G);d.D(this.hc)}H(){return this.K}WE(){return this.Xb?!!this.K.G.length:!!this.G.length}ma(){return this.Xb?this.K.ma():this.G}f1(){return!!this.hc.length}c0(){const b=this.ma();return b.length?b:this.hc}Jc(){this.Xb=!0;d.D(this.hc)}Gc(){this.Xb=!0}MY(b){b.Xb?this.Jc():(this.Xb=!1,d.td(this.G,
b.G),d.D(this.hc))}Bp(b){this.G.push(b)}sn(b){this.hc.push(b)}ve(b){this.Xb=!!b}pk(b){this.Xb=!1;d.D(this.G);this.G.push(b)}Ru(b){this.Xb=!1;d.td(this.G,b)}av(b){this.Xb=!1;d.D(this.G);for(const a of b)this.G.push(a)}nM(b,a){for(const e of a)b.has(e)||this.hc.push(e)}v7(b){for(const a of b)this.G.push(a);d.xh(this.hc,b)}cn(b){b&&(this.Ud.xf().Hb().Wd?(this.Xb&&(d.D(this.G),d.td(this.hc,b.H().ma()),this.Xb=!1),b=this.hc.indexOf(b),-1!==b&&(this.G.push(this.hc[b]),this.hc.splice(b,1))):this.pk(b))}kp(b){d.xh(this.G,
b);d.xh(this.hc,b)}}}
{"use strict";const d=self.A;d.v_=class extends d.ga{constructor(b){super();this.za=b;this.g=this.za.I();this.nb=[];this.nb.push(d.B(d.VM,this,null));this.Ta=0;this.hB=[]}m(){for(const b of this.nb)b.m();d.D(this.nb);d.D(this.hB);this.g=this.za=null}la(){return this.za}I(){return this.g}xf(){return this.nb[this.Ta]}Na(b){var a=this.nb;const e=++this.Ta;if(e===a.length)return b=d.B(d.VM,this,b),a.push(b),b;a=a[e];a.Jc(b);return a}La(){--this.Ta}R4(b){this.hB.push(b)}H4(){this.hB.pop()}T_(){const b=this.hB;
return 0===b.length?null:b.oe(-1)}}}
{"use strict";const d=self.A;d.VM=class extends d.ga{constructor(b,a){super();this.nb=b;this.g=this.nb.I();this.Tv=a;this.jg=this.Sl=0;this.yI=this.nq=!1;this.DI=null;this.KI=this.hU=0}m(){this.Jc(null);this.g=this.nb=null}Jc(b){this.Tv=b;this.jg=this.Sl=0;this.yI=this.nq=!1}rH(b,a){this.Tv=b;this.Sl=0;this.jg=a}qP(){this.jg=this.Sl=0}Hb(){return this.Tv}Rg(b){this.Tv=b}gn(b){this.Sl=b}Fz(b){this.jg=b}ln(b){this.nq=!!b}Qr(b){this.yI=!!b}Y5(b){this.DI=b}N1(b,a){this.hU=b;this.KI=a}Lz(b){this.KI=b}hk(){const b=
this.Tv;return b.SB?!0:this.Sl<b.$b.length-1?!!b.Fd().length:!1}}}{"use strict";const d=self.A;d.f3=class extends d.ga{constructor(b){super();this.za=b;this.g=this.za.I();this.nb=[];this.Ta=-1;this.nj=null;this.zB=[]}m(){d.D(this.nb);this.g=this.za=null}wda(b){this.zB=b;b=this.zB.slice(0);this.nb.push(b);this.Ta=0;this.nj=b}la(){return this.za}I(){return this.g}jr(){return this.nj}Na(){const b=++this.Ta,a=this.nb;b===a.length?a.push(this.zB.slice(0)):d.td(a[b],this.zB);this.nj=a[b]}La(){this.nj=this.nb[--this.Ta]}}}
{"use strict";const d=self.A;d.h3=class extends d.ga{constructor(b){super();this.za=b;this.g=this.za.I();this.nb=[];this.Ta=-1}m(){d.D(this.nb);this.g=this.za=null}la(){return this.za}I(){return this.g}jO(){return 0<=this.Ta}jr(){return this.nb[this.Ta]}Na(){++this.Ta;if(this.Ta===this.nb.length){var b=d.B(d.g3,this);this.nb.push(b);return b}b=this.nb[this.Ta];b.Jc();return b}La(){--this.Ta}C_(b){const a=this.nb;for(let e=this.Ta;0<=e;--e){const c=a[e];if(c.Ca()===b)return c}return null}}}
{"use strict";const d=self.A;d.g3=class extends d.ga{constructor(b){super();this.If=b;this.Ga="";this.Ta=0;this.uc=!1}Jc(){this.Ga="";this.Ta=0;this.uc=!1}Nz(b){this.Ga=b}Ca(){return this.Ga}Lc(b){this.Ta=b}Ha(){return this.Ta}hg(){this.uc=!0}}}{"use strict";const d=self.A;d.aY=class extends d.ga{constructor(){super();this.nb=[];this.Ta=-1}m(){d.D(this.nb)}jr(){return this.nb[this.Ta]}Na(){++this.Ta;if(this.Ta===this.nb.length){const b=[];this.nb.push(b);return b}return this.nb[this.Ta]}La(){--this.Ta}}}
{"use strict";const d=self.A;function b(a,e){return a.Ha()-e.Ha()}d.u_=class extends d.ga{constructor(a){super();this.g=a;this.Hv=[];this.yK=new Map;this.TH=[];this.lU=new Map;this.hI=new Map;this.nI=new Map;this.BA=new Map;this.yT=new Map;this.BI=new Map;this.Ffa=0;this.SH=[];this.Bea=[];this.aV=[];this.II=new Map;this.Ud=d.B(d.v_,this);this.zd=d.B(d.f3,this);this.If=d.B(d.h3,this);this.RK=[];this.zC=[];this.yC=[];this.gI=this.Wl=this.tm=0;this.wg=[];this.JA=[];self.c3_callFunction=(e,c)=>this.jA(e,
c)}m(){this.hy();this.Ud.m();this.Ud=null;this.zd.m();this.zd=null;d.D(this.zC);d.D(this.yC);this.g=null;d.D(this.Hv);this.yK.clear()}Ra(a){a=d.B(d.t_,this,a);this.Hv.push(a);this.yK.set(a.Ca().toLowerCase(),a)}l8(a){this.RK.push(a)}Qb(){for(const a of this.II.values())a.Qb(!1);for(const a of this.Hv)a.Qb();for(const a of this.Hv)a.GH();for(const a of this.RK)a.Qb(!1);d.D(this.RK);this.zd.wda(this.aV)}I(){return this.g}lN(a){return this.yK.get(a.toLowerCase())||null}fca(a){this.TH.push(a);this.lU.set(a.kU,
a)}cca(a){this.hI.set(a.Va,a)}bca(a){this.nI.set(a.Va,a)}aca(a){this.BA.set(a.Va,a)}eca(a){this.II.set(a.qB.toLowerCase(),a)}dca(a){this.BI.set(a.Va,a);a.Og()?this.SH.push(a):this.Bea.push(a)}Yz(a){2<=a.length&&a.sort(b);let e=this.yT.get(a.length);e||(e=[],this.yT.set(a.length,e));for(let f=0,l=e.length;f<l;++f){const g=e[f];a:{for(let k=0,n=a.length;k<n;++k)if(a[k]!==g[k]){var c=!1;break a}c=!0}if(c)return g}e.push(a);return a}P$(a){this.aV.push(a.lb);return this.Ffa++}kd(){return this.Ud}wf(){return this.kd().xf()}Hb(){return this.wf().Hb()}vf(){const a=
this.wf();return a.Hb().hN(a.Sl)}su(){const a=this.wf();return a.Hb().aN(a.jg)}K_(a){const e=[];for(a=a.ur();a;)d.Em(e,a.oR()),a=a.ur();return e}FR(a){const e={};for(const c of this.K_(a))e[c.Mi()]=c.JR();return Object.create(Object.prototype,e)}yE(a){return this.BI.get(a)||null}Z_(a){return this.hI.get(a)||null}I_(a){return this.BA.get(a)||null}Qy(a){return this.II.get(a.toLowerCase())||null}n5(){for(const a of this.SH)a.s5()}kN(a){return this.lU.get(a.toLowerCase())||null}$_(a){return(a=this.hI.get(a))&&
a.Cj?a:null}o5(){for(const a of this.TH)a.p5()}BS(){for(const a of this.Hv)a.vca()}y5(a){this.BS();this.tm++;for(const e of a.Vx())if(a=e.dd)this.g.Ou(e),a.qa(),this.g.Nu();this.tm--}async aZ(a){this.BS();this.tm++;for(const e of this.z9(a))await this.g.hr(e);this.tm--}*z9(a){for(const e of a.Vx())if(a=e.dd)this.g.Ou(e),yield*a.pb(),this.g.Nu()}Fv(a,e,c,f){let l=!1;if(!a.Nb())return this.EF(e,c,f);this.Wl++;for(const g of a.Vx())if(a=g.dd){this.g.Ou(g);for(const k of a.YA){const n=k.Fv(e,c,f);l=l||
n}a=a.Fv(e,c,f);l=l||a;this.g.Nu()}this.Wl--;return l}*ov(a,e,c,f){let l=!1;if(!a.Nb())return this.EF(e,c,f);this.Wl++;for(const g of a.Vx())if(a=g.dd){this.g.Ou(g);for(const k of a.YA){const n=yield*k.ov(e,c,f);l=l||n}a=yield*a.ov(e,c,f);l=l||a;this.g.Nu()}this.Wl--;return l}EF(a,e,c){this.zC.push([a,e,c]);return!1}U4(a,e,c){let f=null;const l=new Promise(g=>f=g);this.yC.push([a,e,c,f]);return l}*Fca(){if(this.g.Gu())throw Error("should not be in breakpoint");const a=this.g.$a;for(;this.yC.length;){const [e,
c,f,l]=this.yC.shift(),g=yield*this.ov(a,e,c,f);l(g)}}async sP(){for(const a of this.Fca())await this.g.hr(a)}nF(){return 0<this.Wl}tv(){return++this.Wl}pv(){--this.Wl}I2(){return 0<this.tm}oz(){return this.I2()||this.nF()}Gca(a){for(const [e,c,f]of this.zC)this.Fv(a,e,c,f);d.D(this.zC)}Le(a){a?this.gI++:this.gI--}iO(){return 0<this.gI}er(a){for(let e=0,c=a.length;e<c;++e)a[e].eo.Gc()}Pg(a){for(let e=0,c=a.length;e<c;++e)a[e].eo.P4()}Te(a){for(let e=0,c=a.length;e<c;++e)a[e].eo.Q4()}Pb(a){for(let e=
0,c=a.length;e<c;++e)a[e].eo.La()}PD(){const a=d.B(d.TF,this);this.wg.push(a);return a}A5(){if(this.wg.length){var a=this.wf(),e=!1;this.tm++;for(let c=0,f=this.wg.length;c<f;++c){const l=this.wg[c];l.gT()&&l.xca(a);l.bx&&(e=!0)}e&&this.kR();this.tm--}}async cZ(){if(this.wg.length){var a=this.wf(),e=!1;this.tm++;for(let c=0,f=this.wg.length;c<f;++c){const l=this.wg[c];l.gT()&&await l.t9(a);l.bx&&(e=!0)}e&&this.kR();this.tm--}}kR(){const a=d.jga(this.wg,e=>e.bx);for(const e of a)e.m()}hy(){for(const a of this.wg)a.m();
d.D(this.wg)}d5(a){for(const e of this.wg)e.kp(a)}KD(a){this.JA.push(a)}jy(){d.D(this.JA)}N0(){const a=Promise.all(this.JA);this.JA=[];return a}oa(){return{groups:this.Nca(),cnds:this.Mca(),acts:this.Lca(),vars:this.Yca(),waits:this.Uca()}}ua(a){this.Gaa(a.groups);this.Baa(a.cnds);this.zaa(a.acts);this.Saa(a.vars);this.Oaa(a.waits)}Nca(){const a={};for(const e of this.TH)a[e.Va.toString()]=e.yr();return a}Gaa(a){for(const [e,c]of Object.entries(a))(a=this.$_(parseInt(e,10)))&&a.qp(c)}Mca(){const a=
{};for(const [e,c]of this.nI){const f=c.oa();f&&(a[e.toString()]=f)}return a}Baa(a){const e=new Map;for(const [c,f]of Object.entries(a))e.set(parseInt(c,10),f);for(const [c,f]of this.nI)f.ua(e.get(c)||null)}Lca(){const a={};for(const [e,c]of this.BA){const f=c.oa();f&&(a[e.toString()]=f)}return a}zaa(a){const e=new Map;for(const [c,f]of Object.entries(a))e.set(parseInt(c,10),f);for(const [c,f]of this.BA)f.ua(e.get(c)||null)}Yca(){const a={};for(const [e,c]of this.BI)c.zb||!c.Og()&&!c.fi||(a[e.toString()]=
c.Sd());return a}Saa(a){for(const [e,c]of Object.entries(a))(a=this.yE(parseInt(e,10)))&&a.Tg(c)}Uca(){return this.wg.filter(a=>!a.G2()).map(a=>a.oa())}Oaa(a){this.hy();for(const e of a)(a=d.TF.T8(this,e))&&this.wg.push(a)}mE(a){for(;a;)if(a=a.ur(),a instanceof d.ou)return a;return null}jA(a,e){Array.isArray(e)||(e=[]);a=this.Qy(a.toLowerCase());if(!a)return null;if(!a.wl())return a.uu();var c=a.gh;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].lb);while(e.length<c.length)}c=a.Oe();return c.NF(c.Gd(),
a.qm,a.uu(),...e)}}}
{"use strict";const d=self.A;d.t_=class extends d.ga{constructor(b,a){super();this.za=b;this.g=b.I();this.Ga=a[0];this.gB=[];this.YC=new Map;this.bU=new Map;this.Yea=new Map;this.ew=!1;this.SV=[];this.YA=[];this.zT=new Set;for(const e of a[1])this.SQ(e,null,this.gB);this.Hj=this.g.ub?{type:"sheet",name:this.Ga,Xx:0,children:[]}:null}m(){this.g=this.za=null}SQ(b,a,e){switch(b[0]){case 0:case 3:this.Q8(b,a,e);break;case 1:this.S8(b,a,e);break;case 2:this.W8(b,a,e);break;case 4:this.U8(b,a);break;case 5:this.f9(b,
a,e);break;default:throw Error("invalid event type");}}Q8(b,a,e){b=d.il.Ra(this,a,b);if(b.Wd){e.push(b);e=b.$b;for(let c=0,f=e.length;c<f;++c)e[c].fp()&&this.WR(b,c)}else b.fp()?this.WR(b,0):e.push(b)}U8(b,a){b=d.ou.Ra(this,a,b);this.za.eca(b)}S8(b,a,e){b=d.zy.Ra(this,a,b);e.push(b)}W8(b,a,e){b=d.UM.Ra(this,a,b);e.push(b)}f9(b,a,e){b=d.yy.Ra(this,a,b);e.push(b)}WR(b,a){b.Wd||this.za.l8(b);var e=b.hN(a),c=e.Ia,f=e.H();if(e.GU){var l=this.bU.get(f);l||(l=new Map,this.bU.set(f,l));e=e.e0().toLowerCase();
f=l.get(c);f||(f=new Map,l.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([b,a])}else l=this.YC.get(f),l||(l={GL:new Map,Dx:new Map},this.YC.set(f,l)),(f=e.Eh())?(e=l.Dx.get(f),e||(e=new Map,l.Dx.set(f,e))):e=l.GL,l=e.get(c),l||(l=[],e.set(c,l)),l.push([b,a])}Qb(){const b=this.gB;for(let a=0,e=b.length;a<e;++a)b[a].Qb(a<e-1&&b[a+1]instanceof d.il&&b[a+1].nz())}j8(b){this.SV.push(b)}GH(){d.D(this.YA);this.CQ(this);this.zT.clear()}CQ(b){const a=b.YA,e=b.zT;for(const c of this.SV){const f=c.jw;c.Jb&&
b!==f&&!e.has(f)&&(e.add(f),f.CQ(b),a.push(f))}}la(){return this.za}I(){return this.g}Ca(){return this.Ga}vS(b,a){this.Yea.set(a,b)}vca(){this.ew=!1}qa(){if(!this.ew){var b=this.g,a=b.gF(),e=a?performance.now():0;this.ew=!0;var c=this.la(),f=c.wf();for(const l of this.gB)l.qa(f),c.er(l.Fd()),c.jy(),b.ae();f.Jc(null);a&&(this.Hj.Xx+=performance.now()-e)}}*pb(){if(!this.ew){this.ew=!0;var b=this.g,a=this.la(),e=a.wf();for(const c of this.gB)yield*c.pb(e),a.er(c.Fd()),a.jy(),b.ae();e.Jc(null)}}Fv(b,
a,e){if(a){const c=a.H();this.EH(b,a,c,e);for(const f of c.ci)this.EH(b,a,f,e)}else return this.EH(b,a,null,null)}EH(b,a,e,c){e=this.YC.get(e);if(!e)return!1;c=c?e.Dx.get(c):e.GL;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [f,l]of c)c=this.jR(a,f,l),b=b||c;return b}*ov(b,a,e){if(a){const c=a.H();yield*this.KG(b,a,c,e);for(const f of c.ci)yield*this.KG(b,a,f,e)}else return yield*this.KG(b,a,null,null)}*KG(b,a,e,c){e=this.YC.get(e);if(!e)return!1;c=c?e.Dx.get(c):e.GL;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [f,l]of c)c=f.Me()?this.jR(a,f,l):yield*this.n9(a,f,l),b=b||c;return b}jR(b,a,e){const c=this.g,f=this.za,l=f.Hb(),g=f.kd(),k=f.Wl;let n=!1;l&&f.Pg(l.Gd());f.Pg(a.Gd());const q=1<k;q&&f.zd.Na();const r=g.Na(a);b&&(a.$b[e].H().aa().pk(b),b.Zb()&&b.Xi());b=!0;if(a.Da()){const p=a.Pq;for(let v=0,t=p.length;v<t;++v)if(!p[v].rP(r)){b=!1;break}}b&&(c.ul(),a.Wd?a.z5(r,e):a.qa(r),n=r.nq);g.La();q&&f.zd.La();f.Pb(a.Gd());l&&f.Pb(l.Gd());l||1!==k||(f.jy(),f.iO()||c.ae());return n}*n9(b,
a,e){const c=this.g,f=this.za,l=f.Hb(),g=f.kd(),k=f.Wl;let n=!1;l&&f.Pg(l.Gd());f.Pg(a.Gd());const q=1<k;q&&f.zd.Na();const r=g.Na(a);b&&(a.$b[e].H().aa().pk(b),b.Zb()&&b.Xi());b=!0;if(a.Da()){const p=a.Pq;for(let v=0,t=p.length;v<t;++v)if(!(yield*p[v].NM(r))){b=!1;break}}b&&(c.ul(),a.Wd?yield*a.bZ(r,e):yield*a.pb(r),n=r.nq);g.La();q&&f.zd.La();f.Pb(a.Gd());l&&f.Pb(l.Gd());l||1!==k||(f.jy(),f.iO()||c.ae());return n}}}
{"use strict";const d=self.A,b=[];function a(){return!0}function*e(){return!0}d.il=class extends d.ga{constructor(c,f,l){super();this.dd=c;this.g=c.I();this.Dc=f;this.ke=null;this.Ud=this.g.la().kd();this.jf=[];this.ot=[];this.aw=this.UB=this.SB=this.qU=!1;this.Wd=!!l[2];this.HB=!1;this.Pq=null;this.$b=[];this.$g=[];this.ri=[];this.dj=a;this.vp=e;this.kJ=this.Cj=!1;this.kU="";this.JB=!1;this.Hj=this.WA=null;this.Va=l[4];this.Cs=l[5];this.dd.vS(this,this.Cs);this.Oa=this.g.ub?{fd:l[3][0],BL:l[3][1],
yW:!1,mL:!1,nL:!1,zW:!1}:null;this.la().cca(this);3===l[0]&&this.gaa(l[1]);c=0;for(var g of l[6])f=d.EM.Ra(this,g,c++),this.$b.push(f),this.HQ(f.H());c=0;for(const k of l[7])g=d.by.Ra(this,k,c++),this.$g.push(g);if(9===l.length){l=l[8];for(const k of l)this.dd.SQ(k,this,this.ri)}this.$b.length&&(this.HB=null===this.$b[0].H()&&this.$b[0].Ia===d.C.Ya.F.TM);0===this.$b.length&&(this.$b=b);0===this.$g.length&&(this.$g=b);0===this.ri.length&&(this.ri=b)}static Ra(c,f,l){return d.B(d.il,c,f,l)}gaa(c){this.Cj=
!0;this.JB=this.kJ=!!c[0];this.kU=c[1].toLowerCase();this.WA=[];this.la().fca(this);this.g.ub&&(this.Hj={type:"group",name:c[1],Xx:0,children:[]})}b8(c){this.WA.push(c)}BQ(c,f){for(const l of c.bh.km)f.includes(l)||f.push(l)}IQ(c,f){if(c)if(f.includes(c)||f.push(c),c.Wa)for(const l of c.Gn)l.Zb()&&this.BQ(l,f);else c.Zb()&&this.BQ(c,f)}HQ(c){this.IQ(c,this.jf)}f8(c){this.IQ(c,this.ot)}G5(){this.jf=this.g.Zc}Qb(c){this.aw=!!c;this.$$();this.aaa();for(const l of this.$b)l.Qb();if(0<this.$g.length){c=
!1;for(var f of this.$g)f.Qb(),f.n1()&&(c=!0);c?(this.dj=this.zca,this.vp=this.v9):(this.dj=this.yca,this.vp=this.u9)}f=this.ri;for(let l=0,g=f.length;l<g;++l)f[l].Qb(l<g-1&&f[l+1]instanceof d.il&&f[l+1].nz());this.Oa&&this.iea();this.Hj&&this.Q$().Hj.children.push(this.Hj)}Q$(){let c=this.Da();for(;c;){if(c.Cj)return c;c=c.Da()}return this.dd}iea(){const c=this.Oa;c.yW=this.$b.every(f=>f.Me());c.mL=this.$g.every(f=>f.Me());c.nL=this.ri.every(f=>f.Me());c.zW=c.yW&&c.mL&&c.nL}$$(){if(this.Cj){var c=
this.Da();for(this.UB=!0;c;){if(!c.Cj){this.UB=!1;break}c=c.Da()}}}Z$(){var c=this.g.Zc;if(this.jf===c)this.ot=c;else{this.ot=d.gD(this.jf);for(c=this.Da();c;){for(var f of c.jf)this.f8(f);c=c.Da()}f=this.la();this.jf=f.Yz(this.jf);this.ot=f.Yz(this.ot)}}aaa(){if(this.g1()){this.Pq=[];for(var c=this.Da();c;)this.Pq.push(c),c=c.Da();this.Pq.reverse()}}bv(){this.SB=!0;this.Dc&&this.Dc.bv()}Fd(){return this.jf}Gd(){this.qU||(this.qU=!0,this.Z$());return this.ot}p1(c){return this.jf.includes(c)}la(){return this.dd.la()}I(){return this.g}Da(){return this.Dc}Ida(c){this.ke=
c}ur(){return this.ke||this.Dc}hF(){return this.Oa&&this.Oa.BL}bp(){return this.hF()&&this.Oa.fd}nz(){return this.HB}yr(){return this.JB}p5(){this.qp(this.kJ)}qp(c){c=!!c;if(!this.Cj)throw Error("not a group");if(this.JB!==c){this.JB=c;for(const f of this.WA)f.qQ();this.WA.length&&(c=this.g.Ka().dd)&&c.GH()}}fp(){return this.$b.length&&this.$b[0].fp()}A2(){return this.ke&&this.ke instanceof d.ou}g1(){return this.A2()||this.$b.some(c=>c.fp())}hN(c){c=Math.floor(c);if(0>c||c>=this.$b.length)throw new RangeError("invalid condition index");
return this.$b[c]}z2(c){let f=c.Ha();if(0===f)return!0;for(--f;0<=f;--f)if(this.$b[f].H()===c.H())return!1;return!0}aN(c){c=Math.floor(c);if(0>c||c>=this.$g.length)throw new RangeError("invalid action index");return this.$g[c]}Y$(c){c=Math.floor(c);return 0<=c&&c<this.$g.length}oR(){return this.ri.filter(c=>c instanceof d.zy)}rP(c){c.Rg(this);let f=!1;const l=this.$b;for(let g=0,k=l.length;g<k;++g){const n=l[g];c.gn(g);if(n.LB)throw Error("trigger cannot be used as sub-event to a loop");if(n.qa())f=
!0;else if(!this.Wd)return!1}return this.Wd?f:!0}z5(c,f){c.Rg(this);this.$b[f].qa()&&(this.dj(c,0)&&this.Nl(),c.ln(!0))}*NM(c){c.Rg(this);let f=!1;const l=this.$b;for(let g=0,k=l.length;g<k;++g){const n=l[g];c.gn(g);if(n.LB)throw Error("trigger cannot be used as sub-event to a loop");if(n.Me()?n.qa():yield*n.pb())f=!0;else if(!this.Wd)return!1}return this.Wd?f:!0}*bZ(c,f){c.Rg(this);f=this.$b[f];if(f.Me()?f.qa():yield*f.pb())(this.ty()?this.dj(c,0):yield*this.vp(c,0))&&(this.uy()?this.Nl():yield*this.nv()),
c.ln(!0)}qa(c){c.Rg(this);this.HB||c.Qr(!1);this.Wd?this.Eca(c):this.pA(c)}*pb(c){if(this.bp()||this.g.nc())yield this;c.Rg(this);this.HB||c.Qr(!1);this.Wd?yield*this.G9(c):yield*this.HG(c)}Eca(c){const f=this.$b;let l=0===f.length;for(let k=0,n=f.length;k<n;++k){var g=f[k];g.fp()||(c.gn(k),g=g.qa(),l=l||g)}c.ln(l);l&&(this.dj(c,0)&&this.Nl(),this.aw&&c.Qr(!0))}*G9(c){const f=this.$b;let l=0===f.length;for(let k=0,n=f.length;k<n;++k){var g=f[k];g.fp()||(c.gn(k),g=g.Me()?g.qa():yield*g.pb(),l=l||g)}c.ln(l);
l&&((this.ty()?this.dj(c,0):yield*this.vp(c,0))&&(this.uy()?this.Nl():yield*this.nv()),this.aw&&c.Qr(!0))}pA(c){const f=this.$b;for(let l=0,g=f.length;l<g;++l){const k=f[l];c.gn(l);if(!k.qa()){c.ln(!1);return}}c.ln(!0);this.dj(c,0)&&this.Nl();c.nq&&this.aw&&c.Qr(!0)}*HG(c){const f=this.$b;for(let l=0,g=f.length;l<g;++l){const k=f[l];c.gn(l);if(k.Me()?!k.qa():!(yield*k.pb())){c.ln(!1);return}}c.ln(!0);(this.ty()?this.dj(c,0):yield*this.vp(c,0))&&(this.uy()?this.Nl():yield*this.nv());c.nq&&this.aw&&
c.Qr(!0)}yca(c,f){const l=this.$g;for(let g=f,k=l.length;g<k;++g)f=l[g],c.Fz(g),f.qa();return!0}*u9(c,f){const l=this.$g;for(let g=f,k=l.length;g<k;++g)f=l[g],c.Fz(g),f.Me()?f.qa():yield*f.pb();return!0}zca(c,f){const l=this.la(),g=this.$g;for(let k=f,n=g.length;k<n;++k){f=g[k];c.Fz(k);const q=f.qa();if(f.xM()&&!0===q)return!1;f.Mg()&&q instanceof Promise&&l.KD(q)}return!0}*v9(c,f){const l=this.la(),g=this.$g;for(let k=f,n=g.length;k<n;++k){f=g[k];c.Fz(k);let q;q=f.Me()?f.qa():yield*f.pb();if(f.xM()&&
!0===q)return!1;f.Mg()&&q instanceof Promise&&l.KD(q)}return!0}wca(c){this.dj(c,c.jg)&&this.Nl()}*s9(c){if(yield*this.vp(c,c.jg))yield*this.nv()}Nl(){if(this.ri.length){var c=this.Cj&&this.g.gF(),f=c?performance.now():0,l=this.Ud,g=l.Na(this);this.SB?this.Jca(g):this.Ica(g);l.La();c&&(this.Hj.Xx+=performance.now()-f)}}Jca(c){const f=this.Cj,l=this.UB,g=this.la(),k=this.ri;for(let n=0,q=k.length,r=q-1;n<q;++n){const p=k[n],v=p.Fd(),t=!l||!f&&n<r;t&&g.Te(v);p.qa(c);t?g.Pb(v):g.er(v)}}Ica(c){const f=
this.ri;for(let l=0,g=f.length;l<g;++l)f[l].qa(c)}*nv(){if(this.ri.length){var c=this.Ud,f=c.Na(this);this.SB?yield*this.J9(f):yield*this.I9(f);c.La()}}*J9(c){const f=this.Cj,l=this.UB,g=this.la(),k=this.ri;for(let n=0,q=k.length,r=q-1;n<q;++n){const p=k[n],v=p.Fd(),t=!l||!f&&n<r;t&&g.Te(v);yield*p.pb(c);t?g.Pb(v):g.er(v)}}*I9(c){const f=this.ri;for(let l=0,g=f.length;l<g;++l)yield*f[l].pb(c)}Qg(c,f){this.g.ul();f.qP();const l=this.$b;if(!this.Wd)for(let g=c.Sl+1,k=l.length;g<k;++g)if(c=l[g],f.gn(g),
!c.qa())return!1;this.dj(f,0)&&this.Nl();return!0}*Cg(c,f){this.g.ul();f.qP();const l=this.$b;if(!this.Wd)for(let g=c.Sl+1,k=l.length;g<k;++g)if(c=l[g],f.gn(g),c.Me()?!c.qa():!(yield*c.pb()))return!1;(this.ty()?this.dj(f,0):yield*this.vp(f,0))&&(this.uy()?this.Nl():yield*this.nv());return!0}Me(){return!this.bp()&&!this.g.nc()&&this.Oa.zW}ty(){return!this.g.nc()&&this.Oa.mL}uy(){return!this.g.nc()&&this.Oa.nL}AG(c){if(this.Da()){const f=this.Pq;for(let l=0,g=f.length;l<g;++l)if(!f[l].rP(c))return!1}return!0}*TQ(c){if(this.Da()){const f=
this.Pq;for(let l=0,g=f.length;l<g;++l)if(!(yield*f[l].NM(c)))return!1}return!0}iR(c,f,l){0<f.length?l?(f=f.map(g=>g.$(0)),c.zd.Na(),this.ke.Vu(f)):this.ke.s_(f):l&&c.zd.Na()}w5(c,f){let l,g;const k=0<c.length;var n=this.g;const q=this.Ud,r=n.la(),p=1<r.tv();this.iR(r,f,p);k&&r.Pg(c);f=q.Na(this);this.AG(f)&&(n.ul(),f.Rg(this),(n=this.ke.Mg())&&([g,l]=this.ke.nG()),this.pA(f),n&&this.ke.Ku(g));q.La();p&&r.zd.La();k&&r.Pb(c);r.pv();return l}*ZY(c,f){let l,g;if(this.bp()||this.g.nc())yield this;const k=
0<c.length;var n=this.g;const q=this.Ud,r=n.la(),p=1<r.tv();this.iR(r,f,p);k&&r.Pg(c);f=q.Na(this);if(yield*this.TQ(f))n.ul(),f.Rg(this),(n=this.ke.Mg())&&([g,l]=this.ke.nG()),yield*this.HG(f),n&&this.ke.Ku(g);q.La();p&&r.zd.La();k&&r.Pb(c);r.pv();return l}x5(c){const f=this.Gd(),l=0<f.length,g=this.g,k=this.Ud,n=g.la(),q=1<n.tv();q&&n.zd.Na();this.ke.Vu(c);l&&n.Pg(f);c=k.Na(this);this.AG(c)&&(g.ul(),c.Rg(this),this.pA(c));k.La();q&&n.zd.La();l&&n.Pb(f);n.pv()}*$Y(c){if(this.bp()||this.g.nc())yield this;
const f=this.Gd(),l=0<f.length,g=this.g,k=this.Ud,n=g.la(),q=1<n.tv();q&&n.zd.Na();this.ke.Vu(c);l&&n.Pg(f);c=k.Na(this);if(yield*this.TQ(c))g.ul(),c.Rg(this),yield*this.HG(c);k.La();q&&n.zd.La();l&&n.Pb(f);n.pv()}NF(c,f,l,...g){let k,n;const q=0<c.length,r=this.g,p=this.Ud,v=r.la(),t=1<v.tv();t&&v.zd.Na();0<g.length&&this.ke.Vu(g);q&&v.Pg(c);g=p.Na(this);g.N1(f,l);p.R4(g);r.Iz(!1);this.AG(g)&&(r.ul(),g.Rg(this),(f=this.ke.Mg())&&([n,k]=this.ke.nG()),this.pA(g),f&&this.ke.Ku(n));r.Iz(!0);p.La();p.H4();
t&&v.zd.La();q&&v.Pb(c);v.pv();return k||g.KI}}}
{"use strict";const d=self.A,b=[];let a=!1;d.yy=class extends d.ga{constructor(e,c,f){super();const l=e.I(),g=e.la();this.dd=e;this.za=g;this.g=e.I();this.Dc=c;this.Ia=l.Ih(f[1]);this.Cs=f[2];this.dd.vS(this,this.Cs);this.Oa=l.ub?{fd:f[3][0],BL:f[3][1]}:null}static Ra(e,c,f){return d.B(d.yy,e,c,f)}Qb(){const e=this.Ia,c=this.g.la().FR(this);this.Ia=e.bind(null,this.g.Aj,c)}Da(){return this.Dc}ur(){return this.Dc}hF(){return this.Oa&&this.Oa.BL}bp(){return this.hF()&&this.Oa.fd}nz(){return!1}Fd(){return b}Gd(){return this.Dc?
this.Dc.Gd():b}qa(e){e.Rg(this);this.za.KD(this.Kca())}async Kca(){try{await this.Ia()}catch(e){console.error(`Unhandled exception running script %c${this.dd.Ca()}, event ${this.Cs}:`,"font-size: 1.2em; font-weight: bold;",e),self.Vf&&self.Vf.xda(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*pb(e){e.Rg(this);if(this.bp()||this.g.nc())yield this;
this.qa(e)}Me(){return!this.bp()&&!this.g.nc()}static b1(){return a}static g6(){a=!0}}}
{"use strict";const d=self.A;d.ou=class extends d.ga{constructor(b,a,e){super();this.dd=b;this.g=b.I();this.Dc=a;const c=e[1];this.qB=c[0];this.qm=c[1];this.gh=c[2].map(f=>d.zy.Ra(b,this,f));this.ia=c[3];this.ZI=[];this.mw=c[4];this.Bfa=0;this.Sv=-1;this.Kv=new Map;this.fe=d.il.Ra(b,a,e);this.fe.Ida(this)}static Ra(b,a,e){return d.B(d.ou,b,a,e)}Qb(){for(const b of this.gh)b.Qb();this.fe.Qb(!1)}oR(){return this.gh}gca(b){this.ZI.push(b)}s_(b){const a=this.gh;for(let e=0,c=a.length;e<c;++e)a[e].Tg(b[e].$(0))}Vu(b){const a=
this.gh;for(let e=0,c=a.length;e<c;++e)a[e].Tg(b[e])}uY(){return this.gh.map(b=>b.Sd())}Da(){return this.Dc}ur(){return this.Dc}wl(){return this.ia}uu(){switch(this.qm){case 0:return null;case 2:return"";default:return 0}}Oe(){return this.fe}Mg(){return this.mw}nG(){const b=this.Bfa++;this.Sv=b;let a;const e=new Promise(c=>a=c);this.Kv.set(b,{resolve:a,PL:0});return[b,e]}Ku(b){const a=this.Kv.get(b);0===a.PL&&(a.resolve(),this.Kv.delete(b));this.Sv=-1}E4(){this.Kv.get(this.Sv).PL++;return this.Sv}v5(b){this.Sv=
b;this.Kv.get(b).PL--}}}
{"use strict";const d=self.A,b=[];d.zy=class extends d.ga{constructor(a,e,c){super();const f=a.la();this.dd=a;this.za=f;this.g=a.I();this.Dc=e;this.zd=f.zd;this.Ga=c[1];this.Aa=c[2];this.lb=c[3];this.fi=!!c[4];this.zb=!!c[5];this.kfa=e instanceof d.ou;this.Va=c[6];this.Cw=this.g.Mi(c[8]);this.Qfa=l=>this.Tg(l);this.Ofa=()=>this.Sd();this.sU=!this.Dc||this.fi||this.zb;this.Dd=this.lb;this.LJ=-1;this.cO()&&(this.Dd=this.Dd?1:0);!this.qF()||this.fi||this.zb||(this.LJ=f.P$(this));f.dca(this)}static Ra(a,
e,c){return d.B(d.zy,a,e,c)}Qb(){if(this.qF()&&!this.fi&&!this.zb&&!this.kfa){const a=this.za.mE(this);a&&a.gca(this)}}Ca(){return this.Ga}Mi(){return this.Cw}Da(){return this.Dc}ur(){return this.Da()}Og(){return!this.Da()}qF(){return!this.Og()}Zm(){return 0===this.Aa}Ri(){return 1===this.Aa}cO(){return 2===this.Aa}nz(){return!1}Fd(){return b}qa(){!this.qF()||this.fi||this.zb||this.Tg(this.lb)}Me(){return!0}*pb(a){this.qa(a)}Tg(a){this.Zm()?"number"!==typeof a&&(a=parseFloat(a)):this.Ri()?"string"!==
typeof a&&(a=a.toString()):this.cO()&&(a=a?1:0);this.sU?this.Dd=a:this.zd.jr()[this.LJ]=a}Sd(){return this.sU?this.Dd:this.zd.jr()[this.LJ]}s5(){this.Dd=this.lb}JR(){return{configurable:!1,enumerable:!0,get:this.Ofa,set:this.Qfa}}}}
{"use strict";const d=self.A,b=[];d.UM=class extends d.ga{constructor(a,e,c){super();const f=a.la();this.dd=a;this.za=f;this.g=a.I();this.Dc=e;this.jw=null;this.dfa=c[1];this.Jb=!0}static Ra(a,e,c){return d.B(d.UM,a,e,c)}Qb(){this.jw=this.za.lN(this.dfa);this.dd.j8(this);let a=this.Da();for(;a;)a instanceof d.il&&a.Cj&&a.b8(this),a=a.Da();this.qQ();this.g.ub&&this.dd.Hj.children.push(this.jw.Hj)}Da(){return this.Dc}Fd(){return b}qa(){const a=!!this.Da(),e=this.g.Zc;a&&this.za.Pg(e);this.jw.qa();a&&
this.za.Pb(e)}*pb(){const a=!!this.Da(),e=this.g.Zc;a&&this.za.Pg(e);yield*this.jw.pb();a&&this.za.Pb(e)}Me(){return!1}qQ(){let a=this.Da();for(;a;){if(a instanceof d.il&&a.Cj&&!a.yr()){this.Jb=!1;return}a=a.Da()}this.Jb=!0}}}
{"use strict";const d=self.A;d.Lo=class extends d.ga{constructor(g){super();this.ic=g;this.g=g.I()}Qb(){}static TY(g,k){return d.B([f,e,c,l,b,a][k[0]],g,k)}};class b extends d.Lo{constructor(g,k){super(g);this.Ld=this.g.Au();this.Ia=this.g.Ih(k[1]);this.Ia!==d.C.Ya.$d.random&&this.Ia!==d.C.Ya.$d.pga||this.ic.jG()}Uj(){return this.Ld.tk(this.Ia,this.Ld)}}class a extends d.Lo{constructor(g,k){super(g);this.Js=null;this.qB=k[1];this.ic.jG()}Qb(){const g=this.g.la();this.Js=g.Qy(this.qB);this.qB=null;
const k=this.Js.Oe();this.Tl=[...new Set([...this.ic.Oe().Gd(),...k.Gd()])];this.Tl=g.Yz(this.Tl)}Uj(){const g=this.Js;if(g.wl())return d.il.prototype.NF.bind(g.Oe(),this.Tl,g.qm,g.uu());{const k=g.uu();return()=>k}}}class e extends d.Lo{constructor(g,k){super(g);this.K=this.g.yf(k[1]);this.Ia=this.g.Ih(k[2]);this.tK=!!k[3];this.Ud=this.g.la().kd();this.ic.fH(this.K)}Uj(){return this.K.Ib().tk(this.Ia,this.K.dk().ja)}WM(){const g=this.K,k=g.aa().c0();var n=k.length;if(0===n)return this.tK?"":0;var q=
this.ic.GC;q>=n?n=q%n:(0>q&&(q<=-n&&(q%=n),0>q&&(q+=n)),n=q);this.Ud.xf().Y5(g);return this.Ia.apply(k[n].ja,[])}}class c extends d.Lo{constructor(g,k){super(g);this.K=this.g.yf(k[1]);this.tK=!!k[2];this.ic.fH(this.K)}}class f extends d.Lo{constructor(g,k){super(g);this.K=this.g.yf(k[1]);this.bd=this.K.Ey(k[2]);this.jj=this.K.ru(k[2]);this.Ia=this.g.Ih(k[3]);this.tK=!!k[4];this.Ud=this.g.la().kd();this.ic.fH(this.K)}}class l extends d.Lo{constructor(g,k){super(g);this.Fn=null;this.AI=k[1]}Qb(){this.Fn=
this.g.la().yE(this.AI)}}}
{"use strict";const d=self.A;d.Se=class extends d.ga{constructor(z,E,G){super();this.ic=z;this.Ta=G;this.Aa=E;this.$=null;this.zb=this.pf=!1}static Ra(z,E,G){const N=E[0];return d.B([a,e,q,f,g,c,k,a,f,f,r,p,q,t,e,n,l,v,w,x][N],z,N,G,E)}Qb(){}jG(){this.pf=!0}fH(z){this.pf||!z||z.Ib().Mn||(this.pf=!0)}Ha(){return this.Ta}I(){return this.ic.I()}Oe(){return this.ic.Oe()}};function b(z){z=self.jY[z];if(!z)throw Error("invalid expression number");return z}class a extends d.Se{constructor(z,E,G,N){super(z,
E,G);this.GC=0;z=N[1];this.CI=z[0];this.dt=[];this.iB=null;for(let C=1,H=z.length;C<H;++C)this.dt.push(d.Lo.TY(this,z[C]));this.dt.length?this.$=this.b0:(this.$=b(this.CI),this.zb=!0)}ig(){if(0>=this.dt.length)throw new RangeError("invalid numbered node");return this.dt[0]}Qb(){for(var z of this.dt)z.Qb();z=b(this.CI);this.iB=this.dt.length?z(this):z}b0(z){this.GC=z;return this.iB()}}class e extends a{constructor(z,E,G,N){super(z,E,G,N);this.$=this.Q0;14===E&&(this.Oe().G5(),this.ic instanceof d.by&&
this.Oe().bv())}Q0(z){this.GC=z;z=this.iB();return"string"===typeof z?z:""}J$(){return b(this.CI)()}}class c extends a{constructor(z,E,G,N){super(z,E,G,N);this.$=this.da;this.zb=!1}da(z){this.GC=z;z=this.iB();return this.I().Ka().da(z)}}class f extends d.Se{constructor(z,E,G,N){super(z,E,G);this.Qea=N[1];this.$=this.S_;this.zb=!0}S_(){return this.Qea}}class l extends d.Se{constructor(z,E,G,N){super(z,E,G);this.Gea=N[1];this.$=this.P_;this.zb=!0}P_(){return this.Gea}}class g extends d.Se{constructor(z,
E,G,N){super(z,E,G);this.K=this.I().yf(N[1]);this.$=this.H;z=this.Oe();z.HQ(this.K);this.ic instanceof d.by?z.bv():z.Da()&&z.Da().bv();this.zb=!0}H(){return this.K}}class k extends d.Se{constructor(z,E,G,N){super(z,E,G);this.Fj=this.I().$a.mr(N[1]);this.$=this.oc;this.zb=!0}oc(){return this.Fj}}class n extends d.Se{constructor(z,E,G,N){super(z,E,G);this.io=this.I().Fb.az(N[1]);this.$=this.qc;this.zb=!0}qc(){return this.io}}class q extends d.Se{constructor(z,E,G,N){super(z,E,G);this.Zea=N[1];this.$=
this.f0;this.zb=!0}f0(){return this.Zea}}class r extends d.Se{constructor(z,E,G,N){super(z,E,G);this.CU=N[1];(z=this.ic.H())&&z.Wa?(this.$=this.d0,this.jG()):(this.$=this.u0,this.zb=!0)}u0(){return this.CU}d0(z){z=z||0;const E=this.ic.H();var G=E.aa();const N=G.ma();if(N.length)z=N[z%N.length].H();else if(G.f1())G=G.hc,z=G[z%G.length].H();else if(0<E.G.length)G=E.ma(),z=G[z%G.length].H();else return 0;return this.CU+z.mN(E.vj)}}class p extends d.Se{constructor(z,E,G,N){super(z,E,G);this.AI=N[1];this.Fn=
null;this.$=this.a0;this.zb=!0}Qb(){this.Fn=this.I().la().yE(this.AI)}a0(){return this.Fn}}class v extends d.Se{constructor(z,E,G,N){super(z,E,G);this.fU=N[1];this.Js=null;this.$=this.o0;this.zb=!0}Qb(){this.Js=this.I().la().Qy(this.fU);this.fU=null}o0(){return this.Js}}class t extends d.Se{constructor(z,E,G,N){super(z,E,G);this.KK=[];this.oW=[];this.zb=!0;for(let C=1,H=N.length;C<H;++C)z=d.Se.Ra(this.ic,N[C],0),this.KK.push(z),this.oW.push(0),z.zb||(this.zb=!1);this.$=this.X0}Qb(){for(const z of this.KK)z.Qb()}X0(){const z=
this.KK,E=this.oW;for(let G=0,N=z.length;G<N;++G)E[G]=z[G].$(0);return E}}class w extends d.Se{constructor(z,E,G,N){super(z,E,G);this.Vea=N[1];this.$=this.Qm;this.zb=!0}Qm(){return this.Vea}}class x extends d.Se{constructor(z,E,G,N){super(z,E,G);this.Mea=N[1];this.$=this.S0;this.zb=!0}S0(){return this.Mea}}}
{"use strict";const d=self.A;function b(c,f){for(let l=0,g=c.length;l<g;++l)f[l]=c[l].$(0)}const a=[],e=function(){};d.EM=class extends d.ga{constructor(c,f,l){super();this.fe=c;this.g=c.I();this.Ta=l;this.Ia=this.g.Ih(f[1]);this.rJ=0<f[3];this.GU=2===f[3];this.LB=!!f[4];this.ei=!!f[5];this.fi=!!f[6];this.Va=f[7];this.HU=this.fe.Wd;this.bd=this.K=null;this.jj=-1;this.Ld=null;this.pb=this.qa=e;this.Ja=[];this.Ab=[];this.Pl=!1;this.ti=this.Eb=null;this.Oa=this.g.ub?{fd:f[8][0],Pf:f[8][1]}:null;-1===
f[0]?this.Ld=this.g.Au():(this.K=this.g.yf(f[0]),f[2]&&(this.bd=this.K.Ey(f[2]),this.jj=this.K.ru(f[2])),this.fe.Da()&&this.fe.Da().bv());if(10===f.length){c=f[9];for(let g of c)this.Ja.push(d.Se.Ra(this,g,this.Ja.length)),this.Ab.push(0)}0===this.Ja.length&&(this.Ab=this.Ja=a);this.fe.la().bca(this)}static Ra(c,f,l){return d.B(d.EM,c,f,l)}Qb(){for(const c of this.Ja)c.Qb(),c.pf&&(this.Pl=!0);this.GU?(this.qa=this.Aca,this.pb=this.A9):this.Ld?(this.AH(),this.pb=this.JG):this.K.Ib().Mn?(this.zH(),
this.pb=this.IG):this.fi?(this.qa=this.Hca,this.pb=this.H9):(this.qa=this.HS,this.pb=this.B9)}AH(){this.Ev(this.Ld,this.Ld,this.uH)}zH(){const c=this.K.Ib(),f=this.K.dk().ja;this.Ev(c,f,this.tH)}Ev(c,f,l){const g=this.Ia,k=this.ei,n=this.Ja;if(0===n.length){const q=c.tk(g,f);this.qa=k?function(){return d.xor(q(),k)}:q}else if(1===n.length){const q=n[0];if(!k&&q.zb)this.qa=c.sR(g,f,q.$(0));else{const r=c.tk(g,f);this.qa=function(){return d.xor(r(q.$(0)),k)}}}else if(2===n.length){const q=n[0],r=n[1];
if(!k&&q.zb&&r.zb)this.qa=c.tR(g,f,q.$(0),r.$(0));else{const p=c.tk(g,f);this.qa=function(){return d.xor(p(q.$(0),r.$(0)),k)}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(!k&&q.zb&&r.zb&&p.zb)this.qa=c.uR(g,f,q.$(0),r.$(0),p.$(0));else{const v=c.tk(g,f);this.qa=function(){return d.xor(v(q.$(0),r.$(0),p.$(0)),k)}}}else this.qa=l}H(){return this.K}Eh(){return this.bd}Oe(){return this.fe}I(){return this.g}Ha(){return this.Ta}iN(){return this.Ha()}fp(){return this.rJ}Me(){return!this.Oa.fd&&!this.g.nc()&&
!this.Oa.Pf}Xf(){this.Eb||(this.Eb=new Map);return this.Eb}Cu(){this.ti||(this.ti=new Map);return this.ti}uH(){const c=this.Ab;b(this.Ja,c);return d.xor(this.Ia.apply(this.Ld,c),this.ei)}*JG(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){var c=this.Ab;b(this.Ja,c);c=this.Ia.apply(this.Ld,c);d.Ym(c)&&(c=yield*c);return d.xor(c,this.ei)}return this.qa()}tH(){const c=this.Ab;b(this.Ja,c);const f=this.K.dk().ja;return d.xor(this.Ia.apply(f,c),this.ei)}*IG(){if(this.Oa.fd||this.g.nc())yield this;
if(this.Oa.Pf){var c=this.Ab;b(this.Ja,c);const f=this.K.dk().ja;c=this.Ia.apply(f,c);d.Ym(c)&&(c=yield*c);return d.xor(c,this.ei)}return this.qa()}Aca(){return!0}*A9(){if(this.Oa.fd||this.g.nc())yield this;return!0}Hca(){var c=this.Ab;b(this.Ja,c);c=this.Ia.apply(this.bd||this.K,c);this.K.dc();return c}*H9(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){var c=this.Ab;b(this.Ja,c);c=this.Ia.apply(this.bd||this.K,c);d.Ym(c)&&(c=yield*c);this.K.dc();return c}return this.qa()}HS(){const c=this.Ja,
f=this.Ab,l=this.K.aa();for(let g=0,k=c.length;g<k;++g){const n=c[g];n.pf||(f[g]=n.$(0))}return l.Xb?this.Bca(l):this.Cca(l)}*B9(){if(this.Oa.fd||this.g.nc())yield this;return this.HS()}TG(c){const f=this.Ja,l=this.Ab;for(let g=0,k=f.length;g<k;++g){const n=f[g];n.pf&&(l[g]=n.$(c))}}Bca(c){const f=this.K,l=f.Wa,g=f.vj,k=this.jj,n=0<=k,q=f.ma(),r=this.Pl,p=this.Ab,v=this.Ia,t=this.ei,w=this.HU&&!this.rJ;c.iy();for(let z=0,E=q.length;z<E;++z){const G=q[z];r&&this.TG(z);var x=void 0;n?(x=l?G.H().Oo(g):
0,x=v.apply(G.$c[k+x].ja,p)):x=v.apply(G.ja,p);d.xor(x,t)?c.Bp(G):w&&c.sn(G)}f.nu(!0);c.ve(!1);f.dc();return c.WE()}Cca(c){const f=this.K;var l=f.Wa;const g=f.vj,k=f.Zb(),n=this.jj,q=0<=n,r=this.Pl,p=this.Ab,v=this.Ia,t=this.ei,w=this.HU&&!this.rJ,x=c.G,z=c.hc,E=w&&!this.fe.z2(this),G=E?z:x;let N=0,C=!1;for(let I=0,K=G.length;I<K;++I){const Q=G[I];r&&this.TG(I);var H=void 0;q?(H=l?Q.H().Oo(g):0,H=v.apply(Q.$c[n+H].ja,p)):H=v.apply(Q.ja,p);d.xor(H,t)?(C=!0,E?(x.push(Q),k&&Q.Yba()):(G[N]=Q,k&&Q.Kda(N),
++N)):E?(G[N]=Q,k&&Q.Jda(N),++N):w&&(z.push(Q),k&&Q.Xba())}d.qe(G,N);k&&f.fea(E,N);l=C;E&&!C&&(C=this.Pba(x));f.nu(l||w);return w?C:c.WE()}Pba(c){var f=this.K;const l=f.Wa;f=f.vj;const g=this.Pl,k=this.jj,n=0<=k,q=this.Ab,r=this.Ia,p=this.ei;for(let t=0,w=c.length;t<w;++t){var v=c[t];g&&this.TG(t);if(n){const x=l?v.H().Oo(f):0;v=r.apply(v.$c[k+x].ja,q)}else v=r.apply(v.ja,q);if(d.xor(v,p))return!0}return!1}Qu(c,f){return this.Ja[c].$(f)}e0(){const c=this.Ja;if(!c.length)throw Error("no parameters");
return c[0].J$()}oa(){if(!this.Eb||!this.Eb.size)return null;const c={};for(const [f,l]of this.Eb.entries()){let g=l;"collmemory"===f&&(g=[...l.entries()].map(k=>[k[0].yb,k[1].yb,k[2]]));c[f]=g}return{ex:c}}ua(c){this.Eb&&(this.Eb.clear(),this.Eb=null);if(c){var f=this.g,l=c.ex;if(l){c=this.Xf();c.clear();for(const [g,k]of Object.entries(l))l=k,"collmemory"===g&&(l=d.B(d.Mu,k.map(n=>[f.Pe(n[0]),f.Pe(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,l)}}}}}
{"use strict";const d=self.A;function b(f,l){for(let g=0,k=f.length;g<k;++g)l[g]=f[g].$(0)}const a=[],e=function(){},c=function*(){};d.by=class extends d.ga{constructor(f,l,g){super();this.fe=f;this.g=f=f.I();this.Ta=g;this.Va=4<=l.length?l[3]:-1;this.zA=5<=l.length?l[4]:0;this.bd=this.K=this.Ia=null;this.jj=-1;this.Ld=null;this.RA="";this.Tl=this.QA=null;this.pb=this.qa=e;this.Ja=[];this.Ab=[];this.Pl=!1;this.ti=this.Eb=null;const k=(g=-3===l[0])?l[2]:l[5];this.Oa=f.ub||g?{fd:k[0],Pf:k[1],index:k[2]}:
null;-1===l[0]?(this.Ld=f.Au(),this.Ia=f.Ih(l[1])):-2===l[0]?this.RA=l[1]:g?(this.Ia=f.Ih(l[1]),this.qa=this.OF,this.pb=this.dZ,this.zA=1):(this.Ia=f.Ih(l[1]),this.K=f.yf(l[0]),l[2]&&(this.bd=this.K.Ey(l[2]),this.jj=this.K.ru(l[2])));if(7===l.length){l=l[6];for(const n of l)this.Ja.push(d.Se.Ra(this,n,this.Ja.length)),this.Ab.push(0)}0===this.Ja.length&&(this.Ab=this.Ja=a);this.fe.la().aca(this)}static Ra(f,l,g){return d.B(d.by,f,l,g)}Qb(){for(var f of this.Ja)f.Qb(),f.pf&&(this.Pl=!0);if(this.Ld)this.AH(),
this.pb=this.JG;else if(this.RA)this.gda(),this.RA="";else if(this.qa===this.OF){f=this.Ia;const l=this.g.la().FR(this.fe);this.Ia=f.bind(null,this.g.Aj,l)}else this.bd?this.Mg()?(this.qa=this.FS,this.pb=this.x9):(this.qa=this.ES,this.pb=this.w9):this.K.Ib().Mn?(this.zH(),this.pb=this.IG):this.Mg()?(this.qa=this.JS,this.pb=this.D9):this.Ja.length?this.Ja.every(l=>l.pf)?(this.qa=this.IS,this.pb=this.C9):this.Pl?(this.qa=this.LS,this.pb=this.F9):this.Ja.every(l=>l.zb)?(b(this.Ja,this.Ab),this.qa=this.sH,
this.pb=this.UQ):(this.qa=this.KS,this.pb=this.E9):(this.qa=this.sH,this.pb=this.UQ)}AH(){this.Ev(this.Ld,this.Ld,this.uH)}zH(){const f=this.K.Ib(),l=this.K.dk().ja;this.Ev(f,l,this.tH)}gda(){const f=this.fe.la(),l=f.Qy(this.RA);l.wl()?(this.QA=l.Oe(),this.Tl=[...new Set([...this.fe.Gd(),...this.QA.Gd()])],this.Tl=f.Yz(this.Tl),this.qa=d.il.prototype.w5.bind(this.QA,this.Tl,this.Ja),this.pb=this.y9):(this.qa=e,this.pb=c)}Ev(f,l,g){const k=this.Ia,n=this.Ja;if(0===n.length)this.qa=f.tk(k,l);else if(1===
n.length){const q=n[0];if(q.zb)this.qa=f.sR(k,l,q.$(0));else{const r=f.tk(k,l);this.qa=function(){return r(q.$(0))}}}else if(2===n.length){const q=n[0],r=n[1];if(q.zb&&r.zb)this.qa=f.tR(k,l,q.$(0),r.$(0));else{const p=f.tk(k,l);this.qa=function(){return p(q.$(0),r.$(0))}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(q.zb&&r.zb&&p.zb)this.qa=f.uR(k,l,q.$(0),r.$(0),p.$(0));else{const v=f.tk(k,l);this.qa=function(){return v(q.$(0),r.$(0),p.$(0))}}}else this.qa=g}Mg(){return 1===this.zA}xM(){return 2===
this.zA}n1(){return 0!==this.zA}H(){return this.K}Oe(){return this.fe}I(){return this.g}Ha(){return this.Ta}iN(){return this.Oa.index}Me(){return!this.Oa.fd&&!this.g.nc()&&!this.Oa.Pf}Xf(){this.Eb||(this.Eb=new Map);return this.Eb}Cu(){this.ti||(this.ti=new Map);return this.ti}uH(){const f=this.Ab;b(this.Ja,f);return this.Ia.apply(this.Ld,f)}*JG(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){const f=this.Ab;b(this.Ja,f);return yield*this.Ia.apply(this.Ld,f)}return this.qa()}*y9(){if(this.Oa.fd||
this.g.nc())yield this;return yield*this.QA.ZY(this.Tl,this.Ja)}tH(){const f=this.Ab;b(this.Ja,f);return this.Ia.apply(this.K.dk().ja,f)}*IG(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){const f=this.Ab;b(this.Ja,f);return yield*this.Ia.apply(this.K.dk().ja,f)}return this.qa()}sH(){const f=this.Ab,l=this.K.aa().ma();for(let g=0,k=l.length;g<k;++g)this.Ia.apply(l[g].ja,f)}*UQ(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){const f=this.Ab,l=this.K.aa().ma();for(let g=0,k=l.length;g<
k;++g)yield*this.Ia.apply(l[g].ja,f)}else this.sH()}KS(){const f=this.Ab;b(this.Ja,f);const l=this.K.aa().ma();for(let g=0,k=l.length;g<k;++g)this.Ia.apply(l[g].ja,f)}*E9(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){const f=this.Ab;b(this.Ja,f);const l=this.K.aa().ma();for(let g=0,k=l.length;g<k;++g)yield*this.Ia.apply(l[g].ja,f)}else this.KS()}IS(){const f=this.Ja,l=this.Ab,g=this.Ia,k=this.K.aa().ma();for(let n=0,q=k.length;n<q;++n){const r=k[n];for(let p=0,v=f.length;p<v;++p)l[p]=f[p].$(n);
g.apply(r.ja,l)}}*C9(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){const f=this.Ja,l=this.Ab,g=this.Ia,k=this.K.aa().ma();for(let n=0,q=k.length;n<q;++n){const r=k[n];for(let p=0,v=f.length;p<v;++p)l[p]=f[p].$(n);yield*g.apply(r.ja,l)}}else this.IS()}LS(){const f=this.Ja,l=this.Ab,g=this.Ia,k=this.K.aa().ma();for(let q=0,r=f.length;q<r;++q){var n=f[q];n.pf||(l[q]=n.$(0))}for(let q=0,r=k.length;q<r;++q){n=k[q];for(let p=0,v=f.length;p<v;++p){const t=f[p];t.pf&&(l[p]=t.$(q))}g.apply(n.ja,l)}}*F9(){if(this.Oa.fd||
this.g.nc())yield this;if(this.Oa.Pf){const l=this.Ja,g=this.Ab,k=this.Ia,n=this.K.aa().ma();for(let q=0,r=l.length;q<r;++q){var f=l[q];f.pf||(g[q]=f.$(0))}for(let q=0,r=n.length;q<r;++q){f=n[q];for(let p=0,v=l.length;p<v;++p){const t=l[p];t.pf&&(g[p]=t.$(q))}yield*k.apply(f.ja,g)}}else this.LS()}ES(){var f=this.K;const l=f.Wa,g=f.vj,k=this.Ja,n=this.Pl,q=this.Ab,r=this.Ia,p=this.jj;f=f.aa().ma();for(let w=0,x=k.length;w<x;++w){var v=k[w];v.pf||(q[w]=v.$(0))}for(let w=0,x=f.length;w<x;++w){v=f[w];
if(n)for(let z=0,E=k.length;z<E;++z){var t=k[z];t.pf&&(q[z]=t.$(w))}t=l?v.H().Oo(g):0;r.apply(v.$c[p+t].ja,q)}}*w9(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){var f=this.K;const k=f.Wa,n=f.vj,q=this.Ja,r=this.Pl,p=this.Ab,v=this.Ia,t=this.jj;f=f.aa().ma();for(let w=0,x=q.length;w<x;++w){var l=q[w];l.pf||(p[w]=l.$(0))}for(let w=0,x=f.length;w<x;++w){l=f[w];if(r)for(let z=0,E=q.length;z<E;++z){var g=q[z];g.pf&&(p[z]=g.$(w))}g=k?l.H().Oo(n):0;yield*v.apply(l.$c[t+g].ja,p)}}else this.ES()}JS(){const f=
this.Ja,l=this.Ab,g=this.Ia,k=this.K.aa().ma(),n=[];for(let q=0,r=k.length;q<r;++q){const p=k[q];for(let v=0,t=f.length;v<t;++v)l[v]=f[v].$(q);n.push(g.apply(p.ja,l))}return Promise.all(n)}*D9(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){const f=this.Ja,l=this.Ab,g=this.Ia,k=this.K.aa().ma(),n=[];for(let q=0,r=k.length;q<r;++q){const p=k[q];for(let v=0,t=f.length;v<t;++v)l[v]=f[v].$(q);n.push(yield*g.apply(p.ja,l))}return Promise.all(n)}return this.JS()}FS(){var f=this.K;const l=f.Wa,g=
f.vj,k=this.Ja,n=this.Ab,q=this.Ia,r=this.jj;f=f.aa().ma();const p=[];for(let v=0,t=f.length;v<t;++v){const w=f[v];for(let z=0,E=k.length;z<E;++z)n[z]=k[z].$(v);const x=l?w.H().Oo(g):0;p.push(q.apply(w.$c[r+x].ja,n))}return Promise.all(p)}*x9(){if(this.Oa.fd||this.g.nc())yield this;if(this.Oa.Pf){var f=this.K;const l=f.Wa,g=f.vj,k=this.Ja,n=this.Ab,q=this.Ia,r=this.jj;f=f.aa().ma();const p=[];for(let v=0,t=f.length;v<t;++v){const w=f[v];for(let z=0,E=k.length;z<E;++z)n[z]=k[z].$(v);const x=l?w.H().Oo(g):
0;p.push(yield*q.apply(w.$c[r+x].ja,n))}return Promise.all(p)}return this.FS()}async OF(){try{await this.Ia()}catch(f){console.error(`Unhandled exception running script %c${this.fe.dd.Ca()}, event ${this.fe.Cs}, action ${this.iN()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.Vf&&self.Vf.xda(this),d.yy.b1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),
d.yy.g6())}}*dZ(){if(this.Oa.fd||this.g.nc())yield this;return this.OF()}oa(){return this.Eb&&this.Eb.size?{ex:d.tG(this.Eb)}:null}ua(f){this.Eb&&(this.Eb.clear(),this.Eb=null);f&&(f=f.ex)&&(this.Eb=d.nE(f))}}}
{"use strict";const d=self.A,b=new d.gb;function a(L,O){return d.compare(this.j().R(),L,O)}function e(L,O){return d.compare(this.j().S(),L,O)}function c(){const L=this.j(),O=L.da();return O.wr()?L.zr(O.sv()):L.kO(O.Mf,L.oc().WN(),L.oc().Ef)}function f(){var L=this.j();const O=L.oc();L=L.Vc();return 0>L.X||0>L.V||L.N>O.P()||L.L>O.U()}function l(L,O,V){const ba=this.aa(),ia=ba.ma();if(!ia.length)return!1;let ja=ia[0];var la=ja.j();let va=ja,na=d.HW(la.R(),la.S(),O,V);for(let wa=1,xa=ia.length;wa<xa;++wa)if(ja=
ia[wa],la=ja.j(),la=d.HW(la.R(),la.S(),O,V),0===L&&la<na||1===L&&la>na)na=la,va=ja;ba.cn(va);return!0}function g(L){const O=this.j();O.R()!==L&&(O.Ug(L),O.Sa())}function k(L){const O=this.j();O.S()!==L&&(O.Vg(L),O.Sa())}function n(L,O){const V=this.j();V.q_(L,O)||(V.Hl(L,O),V.Sa())}function q(L,O){if(L&&(L=L.K0(this.J))){var [V,ba]=L.ol(O);O=this.j();if(O.R()!==V||O.S()!==ba)O.Hl(V,ba),O.Sa()}}function r(L){if(0!==L){var O=this.j();O.Lu(O.uE()*L,O.QE()*L);O.Sa()}}function p(L,O){if(0!==O){var V=this.j();
L=d.Ba(L);V.Lu(Math.cos(L)*O,Math.sin(L)*O);V.Sa()}}function v(){return this.j().R()}function t(){return this.j().S()}function w(){return this.g.Pm(this.J)}function x(L,O){return d.compare(this.j().P(),L,O)}function z(L,O){return d.compare(this.j().U(),L,O)}function E(L){const O=this.j();O.P()!==L&&(O.Xe(L),O.Sa())}function G(L){const O=this.j();O.U()!==L&&(O.Ue(L),O.Sa())}function N(L,O){const V=this.j();if(V.P()!==L||V.U()!==O)V.yc(L,O),V.Sa()}function C(){return this.j().P()}function H(){return this.j().U()}
function I(){return this.j().Vc().N}function K(){return this.j().Vc().L}function Q(){return this.j().Vc().X}function R(){return this.j().Vc().V}function U(L,O){return d.Ht(this.j().ka(),d.Ba(O))<=d.Ba(L)}function Z(L){return d.Ke(this.j().ka(),d.Ba(L))}function ca(L,O){L=d.Ba(L);O=d.Ba(O);const V=this.j().ka();return d.Ke(O,L)?d.Ke(V,L)&&!d.Ke(V,O):!(!d.Ke(V,L)&&d.Ke(V,O))}function Y(L){const O=this.j();L=d.pe(d.Ba(L));isNaN(L)||O.ka()===L||(O.Kc(L),O.Sa())}function ha(L){if(!isNaN(L)&&0!==L){var O=
this.j();O.Kc(O.ka()+d.Ba(L));O.Sa()}}function ka(L){if(!isNaN(L)&&0!==L){var O=this.j();O.Kc(O.ka()-d.Ba(L));O.Sa()}}function za(L,O){const V=this.j(),ba=V.ka();L=d.kL(ba,d.Ba(O),d.Ba(L));isNaN(L)||ba===L||(V.Kc(L),V.Sa())}function Oa(L,O,V){const ba=this.j(),ia=ba.ka();O-=ba.R();V-=ba.S();L=d.kL(ia,Math.atan2(V,O),d.Ba(L));isNaN(L)||ia===L||(ba.Kc(L),ba.Sa())}function ab(L,O){const V=this.j(),ba=V.ka();L-=V.R();O-=V.S();O=Math.atan2(O,L);isNaN(O)||ba===O||(V.Kc(O),V.Sa())}function Ua(){return d.Od(this.j().ka())}
function bb(L,O){return d.compare(d.hX(100*this.j().Ed()),L,O)}function mb(){return this.j().Wc()}function Va(L){const O=this.j();L=2===L?!O.Wc():0!==L;O.Wc()!==L&&(O.Yi(L),this.g.ea())}function Pa(L){L=d.ba(L/100,0,1);const O=this.j();O.Ed()!==L&&(O.Ve(L),this.g.ea())}function fb(L){b.Wx(L);L=this.j();L.tb.yo(b)||(L.dQ(b),this.g.ea())}function cb(){const L=this.j().tb;return d.Az(L.ab,L.eb,L.Za,L.Ua)}function ub(){return d.hX(100*this.j().Ed())}function vb(L){return L?this.j().da()===L:!1}function wb(L){const O=
this.aa(),V=O.ma();if(!V.length)return!1;let ba=V[0];for(let ia=1,ja=V.length;ia<ja;++ia){const la=V[ia],va=la.j(),na=ba.j(),wa=va.da().Ha(),xa=na.da().Ha();if(0===L){if(wa>xa||wa===xa&&va.fk()>na.fk())ba=la}else if(wa<xa||wa===xa&&va.fk()<na.fk())ba=la}O.cn(ba);return!0}function gb(L,O,V){const ba=this.j();L=0===L?ba.Xa():ba.ag();return d.compare(L,O,V)}function xb(){this.j().Y7()}function yb(){this.j().W7()}function zb(L){L&&this.j().X7(L)}function Ab(L,O){L=0===L;O&&(O=O.Gh(this.Ea()))&&this.j().V7(O,
L)}function Bb(L){const O=this.j();O.Xa()!==L&&(O.Ye(L),this.g.ea())}function Cb(){return this.j().da().Ha()}function Db(){return this.j().da().Ca()}function hb(){return this.j().fk()}function Eb(){return this.j().Xa()}function Fb(){return this.j().ag()}function Gb(L,O){if(O=this.H().Pa.ml(O)){O=O.Ha();L=1===L;var V=this.j().Ae;V.Iu(O)!==L&&(V.HP(O,L),V.pn(),this.g.ea())}}function Hb(L,O,V){var ba=this.H().Pa.ml(L);if(ba){L=ba.Ha();var ia=this.j().Ae,ja=ia.Fg(L);O=Math.floor(O);if(!(0>O||O>=ja.length)){ba=
ba.mb.Uy(O);if("color"===ba){b.Wx(V);O=ja[O];if(b.yo(O))return;O.Fm(b)}else{"percent"===ba&&(V/=100);if(ja[O]===V)return;ja[O]=V}ia.Iu(L)&&this.g.ea()}}}const ib=d.B(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(L,O,V,ba){O.yb<V.yb?L.Set(O,V,ba):L.Set(V,O,ba)}function qa(L,O,V){O.yb<V.yb?L.Jo(O,V):L.Jo(V,O)}function Ka(L,O,V){return O.yb<V.yb?L.$(O,V):L.$(V,O)}function Ib(L,O,V,ba){if(!O)return!1;L=L.Ea();const ia=0!==V||0!==ba,ja=L.j(),la=L.I(),va=la.lg;var na=la.vf();
const wa=na.Oe().Wd;var xa=na.H();na=na.ei;const Ha=O.aa();xa=xa!==O;Wa=O;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.Xb?(ib.ta(ja.Vc()),ib.offset(V,ba),va.tE(ja.da(),O,ib,jb),O=jb):wa?la.x2()&&!Ha.hc.length&&Ha.G.length?O=Ha.G:(O=Ha.hc,lb=!0):O=Ha.G;ia&&(La=ja.R(),Ca=ja.S(),ja.Lu(V,ba),ja.Sa());for(const ea of O)if(va.rG(L,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Hl(La,Ca),ja.Sa());d.D(jb);return ma}function Ob(L,O){if(kb){if(O){{L=L.I().Hb().Wd;O=Wa.aa();const V=O.G,ba=O.hc;O.Xb?(O.av(Ma),L&&(d.D(ba),
O.nM(Ma,Wa.ma()))):L?lb?O.v7(Ma):(O.nM(Ma,V),O.av(Ma)):O.av(Ma);Wa.dc()}}Ma.clear();Wa=null;kb=!1}}function Pb(L){if(this.g.Ce)return Qb.call(this,L);if(!L)return!1;var O=this.g;const V=O.lg,ba=O.la(),ia=ba.kd();var ja=ba.vf();const la=ja.H();var va=ja.Xf(),na=ja.Cu();ja=ia.xf();const wa=O.Sk,xa=wa-1,Ha=ja.Hb(),La=ia.Na(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.B(d.Mu),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),O.Gb().addEventListener("instancedestroy",
Na=>{Ca.PM(Na.instance)}));O=L.aa();va=la.aa().ma();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];O.Xb?(V.tE(Ba.j().da(),L,Ba.j().Vc(),Sa),na=Sa,V.oM(Ba,L,na)):na=O.ma();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(V.rG(Ba,Ja)||V.BM(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Fd(),ba.Te(ma),oa=la.aa(),ea=L.aa(),oa.ve(!1),ea.ve(!1),la===L?(ea=oa.G,d.D(ea),ea.push(Ba),ea.push(Ja),la.dc()):(oa=oa.G,ea=ea.G,d.D(oa),
d.D(ea),oa.push(Ba),ea.push(Ja),la.dc(),L.dc()),Ha.Qg(ja,La),ba.Pb(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.La();return!1}function*Qb(L){if(!L)return!1;var O=this.g;const V=O.lg,ba=O.la(),ia=ba.kd(),ja=ia.xf(),la=O.Sk,va=la-1,na=ja.Hb(),wa=ia.Na(na);var xa=ba.vf();const Ha=xa.H();var La=xa.Xf();xa=xa.Cu();let Ca=La.get("collmemory");Ca||(Ca=d.B(d.Mu),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),O.Gb().addEventListener("instancedestroy",
Na=>{Ca.PM(Na.instance)}));O=L.aa();La=Ha.aa().ma();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];O.Xb?(V.tE(Ba.j().da(),L,Ba.j().Vc(),Sa),xa=Sa,V.oM(Ba,L,xa)):xa=O.ma();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(V.rG(Ba,Ja)||V.BM(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Fd(),ba.Te(ma),oa=Ha.aa(),ea=L.aa(),oa.ve(!1),ea.ve(!1),Ha===L?(ea=oa.G,d.D(ea),ea.push(Ba),ea.push(Ja),Ha.dc()):(oa=oa.G,ea=ea.G,d.D(oa),
d.D(ea),oa.push(Ba),ea.push(Ja),Ha.dc(),L.dc()),yield*na.Cg(ja,wa),ba.Pb(ma))}else qa(Ca,Ba,Ja)}d.D(Sa)}ia.La();return!1}function Rb(L){return Ib(this,L,0,0)}function Sb(L,O,V){return Ib(this,L,O,V)}function ob(){return this.j().gk()}function pb(){return this.j().zf()}function qb(L,O){const V=this.aa().ma();if(0===V.length)return!1;const ba=L.aa();var ia=ba.ma();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=V.length;va<na;++va){var la=V[va];if(1===O)for(const wa of la.Qx())wa.dr(L)&&
ia.has(wa)&&ja.add(wa);else{if(0===O){if(la=la.Da(),null===la)continue}else la=la.bz();la.dr(L)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.av(ja);L.dc();return!0}function rb(L,O){const V=this.aa().ma();if(0===V.length)return!1;const ba=L.aa();var ia=ba.ma();if(ba.Xb){var ja=[...this.g.zL(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=V.length;la<va;++la){const na=V[la];2===O&&!na.zf()&&na.dr(L)&&ia.has(na)&&ja.add(na);for(const wa of 0===
O?na.children():na.al())2===O&&wa.zf()||wa.dr(L)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.av(ja);L.dc();return!0}function db(L,O){const V=this.aa().ma();if(0===V.length)return!1;const ba=L.aa();var ia=ba.ma();if(ba.Xb){var ja=[...this.g.zL(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=V.length;la<va;++la){const na=V[la].sE(O);null!==na&&na.dr(L)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.Ru(ja);L.dc();return!0}function h(L,
O){return d.compare(this.J.Iy(),L,O)}function m(L,O,V,ba,ia,ja,la,va){const na=this.J,wa=this.g.su().H();for(const xa of L.vW(na,wa)){if(!xa.Ib().dW)break;na.Mm(xa,{Zt:O,$t:V,$q:ba,Zq:ia,Yt:ja,au:la,Fx:va})}}function u(L){const O=this.J,V=this.g.su().H();for(const ba of L.vW(O,V))O.jk(ba)}function y(){this.J.gk()&&this.J.Da().jk(this.J)}function B(){return this.J.Iy()}function D(L,O){L=Math.floor(L);O=Math.floor(O);const V=this.j();2>L||2>O||!isFinite(L)||!isFinite(O)?(V.Ez(),V.Sa()):V.dE(L,O)}function F(L,
O,V,ba,ia,ja,la,va){const na=this.j();na.RP(L,O,{mode:0===V?"absolute":"relative",x:ba,y:ia,ay:ja,uX:la,vX:va})&&na.Sa()}function J(){const L=this.j();return L.Jg()?L.rl().Ik:0}function M(){const L=this.j();return L.Jg()?L.rl().Vk:0}function P(L){const O=this.j();L=2===L?!O.Wc():0!==L;O.Wc()!==L&&O.Yi(L)}function S(L,O){this.W5(L,O)}function T(L,O){this.V5(L,""+O)}function X(L){this.c5(L)}function W(){this.$M()}function fa(){this.tM()}function da(){return this.xI}function aa(L){this.tn(0!==L)}function ua(){return this.ia}
function pa(L,O,V){return d.compare(this.Ea().Qe(L),O,V)}function sa(L){return!!this.Ea().Qe(L)}function ta(L,O){const V=this.aa(),ba=V.ma();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.Qe(O);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.Qe(O);if(0===L&&wa<la||1===L&&wa>la)la=wa,ja=ia}V.cn(ja);return!0}function ra(L){if(this.g.vf().ei){{const ba=this.aa();if(ba.Xb){ba.ve(!1);ba.iy();var O=this.ma();for(let ia=0,ja=O.length;ia<ja;++ia){var V=O[ia];V.yb===L?ba.sn(V):ba.Bp(V)}this.dc();
L=!!ba.G.length}else{O=ba.G;V=0;for(let ia=0,ja=O.length;ia<ja;++ia){const la=O[ia];O[V]=la;la.yb===L?ba.sn(la):++V}d.qe(O,V);this.dc();L=!!O.length}}}else L=Da(this,L);return L}function Da(L,O){O=L.I().Pe(O);if(!O)return!1;const V=L.aa();if(!V.Xb&&!V.G.includes(O))return!1;if(L.Wa){if(O.H().UD(L))return V.cn(O),L.dc(),!0}else if(O.H()===L)return V.cn(O),L.dc(),!0;return!1}function Ea(){this.g.Nm(this.J)}function Fa(){return!0}function Ga(){return!0}function Ia(L,O){this.Ea().kn(L,O)}function Qa(L,
O){const V=this.Ea(),ba=V.Qe(L);"number"===typeof ba&&"number"!==typeof O?O=parseFloat(O):"string"===typeof ba&&"string"!==typeof O&&(O=O.toString());V.kn(L,ba+O)}function Ra(L,O){const V=this.Ea(),ba=V.Qe(L);"number"===typeof ba&&("number"!==typeof O&&(O=parseFloat(O)),V.kn(L,ba-O))}function Aa(L,O){this.Ea().kn(L,O?1:0)}function Jb(L){const O=this.Ea();O.kn(L,0===O.Qe(L)?1:0)}function Kb(L){let O;try{O=JSON.parse(L)}catch(V){console.error("Failed to load from JSON string: ",V);return}L=this.Ea();
L.ns("state");L.Xc(O,"state")}function pc(){return JSON.stringify(this.Ea().md("state"))}function qc(){return this.Ea().H().Ca()}function rc(){const L=this.g.wf().DI;let O=L.G.length;for(const V of this.g.zL(L))++O;return O}function sc(){return this.g.wf().DI.aa().ma().length}function tc(){return this.J.Po()}function uc(){return this.J.yb}d.FX=function(L,O){const V=L[1],ba=L[4],ia=L[5],ja=L[6],la=L[7],va=L[8],na=L[10],wa=L[11],xa=L[12],Ha=L[13],La=L[14],Ca=L[15],ma=O.F,ea=O.ib,oa=O.$d;L[3]&&(ma.pka=
a,ma.qka=e,ma.Cma=c,ma.Ema=f,ma.Goa=l,ea.Ug=g,ea.Vg=k,ea.YP=n,ea.dsa=q,ea.Mna=r,ea.Lna=p,oa.zQ=v,oa.AQ=t,oa.JW=w);ba&&(ma.oka=x,ma.Zja=z,ea.Xe=E,ea.Ue=G,ea.yc=N,oa.Xta=C,oa.s1=H,oa.mja=I,oa.oja=K,oa.nja=Q,oa.lja=R);ia&&(ma.VX=U,ma.u2=Z,ma.s2=ca,ea.Kc=Y,ea.rqa=ha,ea.sqa=ka,ea.tqa=za,ea.uqa=Oa,ea.gsa=ab,oa.Ria=Ua);ja&&(ma.Wc=mb,ma.eka=bb,ea.Yi=Va,ea.Ve=Pa,ea.bra=fb,oa.Opacity=ub,oa.Qja=cb);la&&(ma.Ama=vb,ma.Ooa=wb,ma.rka=gb,ea.Pna=xb,ea.Nna=yb,ea.Ona=zb,ea.iua=Ab,ea.Ye=Bb,oa.cna=Cb,oa.bna=Db,oa.hua=
hb,oa.gua=Eb,oa.lta=Fb);va&&(ea.dra=Gb,ea.fra=Hb);Ha&&(ma.gk=ob,ma.zf=pb,ma.Moa=qb,ma.Foa=rb,ma.Koa=db,ma.Xja=h,ea.Mm=m,ea.jk=u,ea.tpa=y,oa.Kja=B);La&&(ea.Vra=D,ea.RP=F,oa.zna=J,oa.Ana=M);na&&(ma.Wc=mb,ea.Yi=P,ea.Xqa=S,ea.ira=T,ea.spa=X);wa&&(ma.qma=da,ea.nra=W,ea.Tqa=fa);xa&&(ma.wl=ua,ea.IP=aa);Ca&&(ma.J3=Pb,ma.Gma=Rb,ma.Hma=Sb,O.D_=Ob);V||(ma.$ja=pa,ma.fma=sa,ma.Hoa=ta,ma.Eoa=ra,ea.ura=Ia,ea.Bia=Qa,ea.dta=Ra,ea.Uqa=Aa,ea.jta=Jb,ma.K3=Fa,ma.L3=Ga,ea.jZ=Ea,ea.vF||(ea.vF=Kb),oa.bY||(oa.bY=pc),oa.Aka=
rc,oa.Poa=sc,oa.Ola=tc,oa.tta=uc,oa.$na=qc)}}
{"use strict";const d=self.A;d.TF=class extends d.ga{constructor(b){super();this.za=b;this.Aa="";this.Tc=-1;this.cx="";this.RB=!1;this.tj=null;this.jg=0;this.jf=[];this.Gq=new Map;this.Rl=null;this.Jv=-1;this.JI=this.gh=null;this.bx=!1}m(){this.Aa="";this.Tc=-1;this.cx="";this.JI=this.gh=this.Rl=this.tj=null;this.Jv=-1;d.D(this.jf);for(const b of this.Gq.values())b.m();this.Gq.clear()}cj(){var b=this.za,a=b.I().Zc;const e=b.wf();this.tj=e.Hb();this.jg=e.jg+1;if(b=b.mE(this.tj))this.Rl=b,this.gh=b.uY(),
this.JI=b.ZI.map(c=>c.Sd()),b.Mg()&&(this.Jv=b.E4());for(const c of a)if(a=c.aa(),!a.Xb||this.tj.p1(c))this.jf.push(c),this.Gq.set(c,d.B(d.hQ,a))}m2(b){this.Aa="timer";this.cj();this.Tc=this.za.I().Gg()+b}k2(b){this.Aa="signal";this.cj();this.cx=b.toLowerCase()}Z1(b){this.Aa="promise";this.cj();b.then(()=>this.cG()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.cG()})}M2(){return"timer"===this.Aa}K2(){return"signal"===this.Aa}G2(){return"promise"===
this.Aa}cG(){this.RB=!0}gT(){return this.M2()?this.Tc<=this.za.I().Gg():this.RB}DS(b){b.rH(this.tj,this.jg);for(const [a,e]of this.Gq.entries())e.rH(a.aa());if(b=this.Rl)b.Vu(this.gh),b.ZI.map((a,e)=>a.Tg(this.JI[e])),b.Mg()&&b.v5(this.Jv)}xca(b){this.DS(b);this.tj.wca(b);this.Rl&&this.Rl.Mg()&&this.Rl.Ku(this.Jv);this.za.er(this.jf);this.bx=!0}async t9(b){this.DS(b);for(const a of this.tj.s9(b))await this.za.I().hr(a);this.Rl&&this.Rl.Mg()&&this.Rl.Ku(this.Jv);this.za.er(this.jf);this.bx=!0}kp(b){for(const a of this.Gq.values())a.kp(b)}oa(){const b=
{},a={t:this.Tc,st:this.cx,s:this.RB,ev:this.tj.Va,sm:this.jf.map(e=>e.Va),sols:b};this.tj.Y$(this.jg)&&(a.act=this.tj.aN(this.jg).Va);for(const [e,c]of this.Gq)b[e.Va.toString()]=c.oa();return a}static T8(b,a){const e=b.I();var c=b.Z_(a.ev);if(!c)return null;let f=0;if(a.hasOwnProperty("act")){var l=b.I_(a.act);if(!l)return null;f=l.Ha()}l=d.B(d.TF,b);l.Tc=a.t;l.Aa=-1===l.Tc?"signal":"timer";l.cx=a.st;l.RB=a.s;l.tj=c;l.jg=f;for(var g of a.sm)(c=e.Ty(g))&&l.jf.push(c);for(const [k,n]of Object.entries(a.sols))if(a=
e.Ty(parseInt(k,10)))g=d.B(d.hQ,null),g.ua(b,n),l.Gq.set(a,g);return l}}}{"use strict";const d=self.A;d.hQ=class extends d.ga{constructor(b){super();this.K=null;this.QB=!0;this.G=[];b&&(this.K=b.H(),this.QB=b.Xb,d.td(this.G,b.G))}m(){this.K=null;d.D(this.G)}rH(b){b.ve(this.QB);d.td(b.G,this.G)}kp(b){d.xh(this.G,b)}oa(){return{sa:this.QB,insts:this.G.map(b=>b.yb)}}ua(b,a){b=b.I();this.QB=!!a.sa;d.D(this.G);for(const e of a.insts)(a=b.Pe(e))&&this.G.push(a)}}}
{"use strict";const d=self.A;function b(a,e){let c=a.get(e);c||(c=new Map,a.set(e,c));return c}d.El=class extends d.ga{constructor(a){super();this.g=a.Fc;this.Mn=!!a.RW;this.Ff=!!a.eha;this.pfa=!!a.dha;this.zfa=!!a.sha;this.afa=!!a.Rga;this.dW=!!a.Uha;this.Ufa=!!a.Tha;this.TV=null;this.FT=new Map;this.Hea=new Map;this.Iea=new Map;this.Jea=new Map}m(){this.g=null}I(){return this.g}Hc(){}Cr(){return this.pfa}bn(){return this.zfa}XE(){return this.afa}tk(a,e){if(!e)throw Error("missing 'this' binding");
let c=this.FT.get(a);if(c)return c;c=a.bind(e);this.FT.set(a,c);return c}sR(a,e,c){if(!e)throw Error("missing 'this' binding");const f=b(this.Hea,a);let l=f.get(c);if(l)return l;l=a.bind(e,c);f.set(c,l);return l}tR(a,e,c,f){if(!e)throw Error("missing 'this' binding");var l=b(this.Iea,a);l=b(l,c);let g=l.get(f);if(g)return g;g=a.bind(e,c,f);l.set(f,g);return g}uR(a,e,c,f,l){if(!e)throw Error("missing 'this' binding");var g=b(this.Jea,a);g=b(g,c);g=b(g,f);let k=g.get(l);if(k)return k;k=a.bind(e,c,f,
l);g.set(l,k);return k}Lda(a){if(!this.Mn)throw Error("must be single-global plugin");this.TV=a}dk(){if(!this.Mn)throw Error("must be single-global plugin");return this.TV.dk()}}}
{"use strict";const d=self.A;d.xqa=class extends d.El{constructor(b,a){super(b);this.Dn=a;this.Dfa=0;this.$I=new Map;this.mM("elem-focused",e=>e.rba());this.mM("elem-blurred",e=>{e&&e.qba()})}m(){super.m()}d8(b){const a=this.Dfa++;this.$I.set(a,b);return a}mca(b){this.$I.delete(b)}mM(b,a){this.g.Fi(this.Dn,b,e=>{const c=this.$I.get(e.elementId);a(c,e)})}}}{"use strict";const d=self.A;d.mp=class extends d.ga{constructor(b){super();this.K=b;this.g=b.I();this.ji=b.Ib()}m(){this.ji=this.g=this.K=null}H(){return this.K}I(){return this.g}Ib(){return this.ji}Pd(){return this.K.Pd()}nu(){}Fr(){}jp(){}zz(){}BF(){}Jh(){return null}}}
{"use strict";const d=self.A;d.lp=class extends d.ga{constructor(b,a){super();this.J=b;this.Dn=a;this.g=b.I();this.K=this.J.H();this.bb=this.K.bb;this.yt=this.wm=null;this.yw=this.dm=!1;this.ee=null;this.Cx=!1}m(){this.Cx=!0;this.un();this.DH();this.yt=this.wm=null;this.ee&&(this.ee.m(),this.ee=null);this.bb=this.K=this.g=this.J=null}Sz(){return this.Cx}Ea(){return this.J}I(){return this.g}H(){return this.K}Ib(){return this.bb.Ib()}Zy(){return this.J.Hh()}na(b){return this.g.na(b,this.J,null)}kb(b){return this.g.kb(b,
this.J,null)}lk(b){return this.g.lk(b)}LD(b,a){this.g.Fi(this.Dn,b,a)}MD(b){for(const [a,e]of b)this.LD(a,e)}Ma(b,a){this.g.Cl(this.Dn,b,a)}ik(b,a){return this.g.hp(this.Dn,b,a)}vk(b,a){this.g.De?this.Ma(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Dn,handler:b,data:a,responseId:null})}Hd(){}Bf(){this.dm||(this.wm||(this.wm=()=>this.Hd()),this.g.Gb().addEventListener("tick",this.wm),this.dm=!0)}un(){this.dm&&(this.g.Gb().removeEventListener("tick",this.wm),this.dm=
!1)}DH(){this.yw&&(this.g.Gb().removeEventListener("tick2",this.yt),this.yw=!1)}md(){return null}Xc(){}pc(){}fg(){}yF(b,a){if(0!==a){var e=this.pc(b);if("number"!==typeof e)throw Error("expected number");this.fg(b,e+a)}}Jh(){return null}}}
{"use strict";const d=self.A;d.SF=class extends d.lp{constructor(b,a){super(b,a);this.ob=b.j();this.dD=this.Et=null}m(){if(this.Et){const b=this.g.Gb();b.removeEventListener("webglcontextlost",this.Et);b.removeEventListener("webglcontextrestored",this.dD);this.dD=this.Et=null}this.ob=null;super.m()}c1(){if(!this.Et){this.Et=()=>this.Ir();this.dD=()=>this.ZO();var b=this.g.Gb();b.addEventListener("webglcontextlost",this.Et);b.addEventListener("webglcontextrestored",this.dD)}}Ir(){}ZO(){}j(){return this.ob}ep(){return!1}ak(){if(!this.ep())throw Error("original size not known");
const b=this.Fh();if(b)return b.P()}$j(){if(!this.ep())throw Error("original size not known");const b=this.Fh();if(b)return b.U()}Fh(){return null}Jy(){var b=this.Fh();return b&&(b=b.se())?[b.P(),b.U()]:[100,100]}Ky(){const b=this.Fh();return b?b.Kh():null}ol(){const b=this.J.j();return[b.R(),b.S()]}Lr(){return!0}}}
{"use strict";const d=self.A,b=d.B(d.Rect);d.wqa=class extends d.SF{constructor(a,e){super(a,e);this.eB=this.Ib().d8(this);this.FU=!0;this.Dea=this.xI=!1;this.Ts=d.B(d.Rect,0,0,-1,-1);a=this.g.W;this.XU=a.Zk;this.WU=a.Yk;this.Bf()}m(){this.Ib().mca(this.eB);this.Jr("destroy");this.eB=-1;super.m()}Jr(a,e){e||(e={});e.elementId=this.eB;this.Ma(a,e)}tS(a){a||(a={});a.elementId=this.eB;this.vk("focus",a)}Kz(a){a=!!a;this.FU!==a&&(this.FU=a,this.Jr("set-visible",{isVisible:a}))}Hd(){this.lea()}Rda(){const a=
this.g.W.Py();return"Android"===d.Yc.Hr&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}lea(){var a=this.j();const e=a.da();var c=a.R(),f=a.S();let [l,g]=e.gp(c,f),[k,n]=e.gp(c+a.P(),f+a.U());c=this.g.W;f=c.cd;const q=c.Oc;if(a.Wc()&&e.Wc()){if(!this.Rda()){if(0>=k||0>=n||l>=f||g>=q){this.Kz(!1);return}1>l&&(l=1);1>g&&(g=1);k>=f&&(k=f-1);n>=q&&(n=q-1)}b.set(l,g,k,n);a=c.Zk;f=c.Yk;b.Uc(this.Ts)&&this.XU===a&&this.WU===f?this.Kz(!0):(this.Ts.ta(b),this.XU=a,this.WU=f,this.Kz(!0),a=null,this.Dea&&
(a=e.ll()-.2),this.Jr("update-position",{left:Math.round(this.Ts.N)+c.Mo(),top:Math.round(this.Ts.L)+c.No(),width:Math.round(this.Ts.width()),height:Math.round(this.Ts.height()),fontSize:a}))}else this.Kz(!1)}$M(){this.tS({focus:!0})}tM(){this.tS({focus:!1})}rba(){this.xI=!0}qba(){this.xI=!1}W5(a,e){this.Jr("set-css-style",{prop:d.lY(a),val:e})}V5(a,e){this.Jr("set-attribute",{name:a,val:e})}c5(a){this.Jr("remove-attribute",{name:a})}}}
{"use strict";const d=self.A,b=self.XN;d.PF=class extends d.ga{constructor(a){super();this.g=a.Fc;this.VJ=d.B(d.SD);this.nC=d.B(d.SD);this.fw=null;this.Pfa=a.Mha||null}m(){this.nC.m();this.VJ.m();this.g=null}I(){return this.g}Hc(){}e8(a){this.VJ.wc(a)}yN(){return this.VJ.pE()}Yg(a){this.nC.wc(a)}Cp(a){this.nC.Jo(a)}ma(){return this.nC.pE()}p0(){if(null===this.fw){const a=this.Pfa;if(a){if(this.fw=new a(this),!(this.fw instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.fw=new b(this)}return this.fw}}}{"use strict";const d=self.A;d.RF=class extends d.ga{constructor(b){super();this.g=b.I();this.bd=b;this.K=b.H();this.ij=b.tf();this.ij.e8(this.K)}m(){this.ij=this.K=this.bd=this.g=null}Eh(){return this.bd}H(){return this.K}I(){return this.g}tf(){return this.ij}}}
{"use strict";const d=self.A;d.QF=class extends d.ga{constructor(b,a){super();this.NA=b;this.Dn=a;this.J=b.J;this.g=b.I();this.bd=b.Eh();this.bb=this.bd.bb;this.JU=this.yw=this.dm=!1;this.ee=null}m(){this.un();this.DH();this.Yda();this.ee&&(this.ee.m(),this.ee=null);this.bb=this.bd=this.g=this.J=this.NA=null}tf(){return this.bd.tf()}H(){return this.J.H()}j(){return this.J.j()}I(){return this.g}Eh(){return this.bd}Zy(){return this.NA.Zy()}na(b){return this.g.na(b,this.J,this.bd)}kb(b){return this.g.kb(b,
this.J,this.bd)}Bz(){}Hd(){}Bf(){this.dm||(this.g.Z7(this),this.dm=!0)}un(){this.dm&&(this.g.jca(this),this.dm=!1)}DH(){this.yw&&(this.g.kca(this),this.yw=!1)}Yda(){this.JU&&(this.g.ica(this),this.JU=!1)}LD(b,a){this.g.Fi(this.Dn,b,a)}md(){return null}Xc(){}pc(){}fg(){}yF(b,a){if(0!==a){var e=this.pc(b);if("number"!==typeof e)throw Error("expected number");this.fg(b,e+a)}}Jh(){return null}}}
{"use strict";const d=self.A;d.C={};d.ra={};d.F4=class extends d.ga{constructor(b){super();this.g=b;this.Cea=[];this.uV=new Map;this.Ld=null;this.zea=[];this.dI=new Map;this.OU=this.WV=null}UY(b){const a=this.g.Ih(b[0]);if(!a)throw Error("missing plugin");d.FX(b,a);b=d.B(a,{Fc:this.g,RW:b[1],eha:b[2],dha:b[5],Rga:b[8],sha:b[9],Uha:b[13],Tha:b[14]});b.Hc();this.Cea.push(b);this.uV.set(a,b)}WY(){this.Ld=d.B(d.C.Ya,{Fc:this.g,RW:!0});this.Ld.Hc()}QY(b){b=this.g.Ih(b[1]);if(!b)throw Error("missing behavior");
const a=d.B(b,{Fc:this.g});a.Hc();this.zea.push(a);this.dI.set(b,a);!this.WV&&d.ra.Rha&&a instanceof d.ra.Rha?this.WV=a:!this.OU&&d.ra.gha&&a instanceof d.ra.gha&&(this.OU=a)}M0(b){return this.uV.get(b)||null}i1(b){return this.dI.has(b)}N_(b){return this.dI.get(b)||null}Au(){return this.Ld}}}
{"use strict";const d=self.A,b=new Set;d.kz=class extends d.ga{constructor(){super();this.Uk="";this.M=this.T=this.ft=this.et=this.nt=0;this.bw=this.PB=!1;this.gf=null;this.um="";this.ug=d.B(d.Rect);this.Aq=d.B(d.xd);b.add(this)}m(){this.Nh();this.gf=null;b.delete(this)}static Ir(){for(const a of b)a.um="",a.ug.set(0,0,0,0),a.Aq.Rj(a.ug)}tO(a){this.Uk=a[0];this.nt=a[1];this.et=a[2];this.ft=a[3];this.T=a[4];this.M=a[5];this.PB=a[6];this.bw=!0}Z2(a,e){if(this.gf)throw Error("already loaded asset");
this.Uk=e;const c={};d.fF(e)&&(c.Nx="remote");this.uF(a,c);return this.gf.sO()}m5(a){if(a===this)throw Error("cannot replace with self");this.Nh();this.Uk=a.Uk;this.nt=a.nt;this.et=a.et;this.ft=a.ft;this.T=a.T;this.M=a.M;this.bw=a.bw;this.gf=a.gf;this.um=a.um;this.ug=a.ug;this.Aq=a.Aq}Um(){return this.nt}P(){return this.T}U(){return this.M}uF(a,e){if(this.gf)throw Error("already got asset");e=Object.assign({},e,{url:this.Uk,size:this.Um()});this.gf=a.xz(e)}pF(){return this.gf&&this.gf.pF()}async Er(a,
e){if(!this.gf)throw Error("no asset");if(this.um)throw Error("already loaded texture");this.um="loading";a=await this.gf.Er(a,e);if(!a)return this.um="",null;this.um="loaded";this.bw||(this.T=a.P(),this.M=a.U(),this.bw=!0);this.ug.set(this.et,this.ft,this.et+(this.PB?this.M:this.T),this.ft+(this.PB?this.T:this.M));this.ug.bl(a.P(),a.U());this.Aq.Rj(this.ug);this.PB&&this.Aq.Iha();return a}Nh(){this.um&&(this.gf&&this.gf.Nh(),this.um="",this.ug.set(0,0,0,0),this.Aq.Rj(this.ug))}se(){return this.gf?
this.gf.se():null}Kh(){return this.ug}$y(){return this.Aq}async y_(){const a=await this.gf.e3(),e=d.Bg(this.T,this.M);e.getContext("2d").drawImage(a,this.et,this.ft,this.T,this.M,0,0,this.T,this.M);return e}}}
{"use strict";const d=self.A;d.XX=class extends d.ga{constructor(b){super();this.Ga=b[0];this.Rfa=b[1];this.LB=!!b[2];this.mt=b[3];this.IV=b[4];this.ofa=!!b[5];this.Va=b[6];this.Vd=b[7].map(a=>d.B(d.WX,a))}m(){for(const b of this.Vd)b.m();d.D(this.Vd)}W2(b){for(const a of this.Vd)a.Pd().uF(b)}X2(b,a){return Promise.all(this.Vd.map(e=>e.Pd().Er(b,a)))}Z4(){for(const b of this.Vd)b.Pd().Nh()}Ca(){return this.Ga}Rm(b){b=Math.floor(b);if(0>b||b>=this.Vd.length)throw new RangeError("invalid frame");return this.Vd[b]}sl(){return this.Rfa}Tm(){return this.mt}}}
{"use strict";const d=self.A;d.WX=class extends d.ga{constructor(b){super();this.pg=d.B(d.kz);this.pg.tO(b);this.UT=b[7];this.rV=d.B(d.gv,b[8],b[9]);this.wB=b[10].map(a=>d.B(d.I1,this,a));this.xU=new Map;for(const a of this.wB)this.xU.set(a.Ca().toLowerCase(),a);this.Pp=null;b=b[11];6<=b.length&&(this.Pp=d.B(d.Io,b))}m(){this.Pp&&(this.Pp.m(),this.Pp=null);this.pg.m();this.pg=null}Pd(){return this.pg}Yj(){return this.rV.Y}Zj(){return this.rV.O}r0(b){return this.xU.get(b.toLowerCase())||null}q0(b){b=
Math.floor(b);return 0>b||b>=this.wB.length?null:this.wB[b]}EE(){return this.wB.length}}}{"use strict";const d=self.A;d.I1=class extends d.ga{constructor(b,a){super();this.Ga=a[0];this.lK=d.B(d.gv,a[1],a[2])}m(){}Ca(){return this.Ga}R(){return this.lK.Y}S(){return this.lK.O}Wo(){return this.lK}}}
{"use strict";const d=self.A,b=self.Vf,a=self.iz;d.xF=class extends d.ga{constructor(e,c,f){super();const l=e.Ih(f[1]);this.g=e;this.ji=e.xq.M0(l);this.bb=null;this.AB=l.Instance;this.Ta=c;this.Va=f[11];this.Ga=f[0];this.Cw=this.g.Mi(f[14]);this.lfa=!!f[9];this.Wa=!!f[2];this.oJ=!!f[10];this.Bj=f[3].map(g=>({lX:g[0],type:g[1],name:g[2],fha:e.Mi(g[3])}));this.Fea=f[4];this.Wea=f[5];this.Ff=this.ji.Ff;this.Pa=null;this.UA=d.B(d.f7,e.nh,e.mh);this.WH=!0;this.XH=!1;this.GI=this.Gn=null;this.vj=-1;this.FI=
this.jB=this.kB=this.EI=this.ci=null;this.iJ=!1;this.bh=null;this.DT=f[8].map(g=>d.qM.Ra(this,g));this.OA=[];this.eI=new Map;this.cI=new Map;this.mW=new Set;this.eo=d.B(d.c7,this);this.HA=this.GA=this.Td=this.pg=this.bh=this.As=null;this.xt=0;this.Eb=new Map;this.ti=new Map;this.G=[];this.WI=!0;this.ji.XE()&&(this.Pa=d.B(d.hl,this,f[12]));f[6]&&(this.pg=d.B(d.kz),this.pg.tO(f[6]));if(f[7]){this.Td=f[7].map(g=>d.B(d.XX,g));this.GA=new Map;this.HA=new Map;for(const g of this.Td)this.GA.set(g.Ca().toLowerCase(),
g),this.HA.set(g.Va,g)}this.Wa?(this.Gn=[],this.GI=new Set,this.vj=this.g.O$()):(this.ci=[],this.EI=new Set,this.kB=[],this.jB=[],this.FI=[]);this.bb=d.B(l.Rh,this,f[15]);this.DU=this.hw=null;this.ne=d.B(d.Event.Gb);if(c=this.bb.Jh()){if(this.hw=new c(this),!(this.hw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.hw=new a(this);this.g.$C&&!this.Wa&&!this.oJ&&this.Ff||this.Hc();this.ji.Mn&&(this.ji.Lda(this),this.g9(f))}static Ra(e,c,f){return d.B(d.xF,
e,c,f)}m(){this.pg&&(this.pg.m(),this.pg=null);if(this.Td){for(const e of this.Td)e.m();d.D(this.Td);this.GA.clear();this.HA.clear()}this.eo.m();this.eo=null;this.Eb.clear();this.ti.clear();this.g=this.bh=null}Faa(e){for(let c=1,f=e.length;c<f;++c){const l=this.g.yf(e[c]);this.Gn.push(l);this.GI.add(l);l.ci.push(this);l.EI.add(this)}}ida(e){this.iJ=!0;this.bh=e}Zb(){return this.iJ}jba(){var e=0;if(!this.Wa)for(var c of this.ci)for(var f of c.DT){const k=f.Ca().toLowerCase();this.eI.set(k,f);this.cI.set(k,
e);this.OA.push(f);++e}for(var l of this.DT)c=l.Ca().toLowerCase(),this.eI.set(c,l),this.cI.set(c,e),this.OA.push(l),++e;for(var g of this.OA)this.mW.add(g.tf().constructor);if(!this.Wa&&this.ci.length){e=this.g.$T;d.lD(this.kB,e,0);d.lD(this.jB,e,0);d.lD(this.FI,e,0);e=[];c=g=l=0;for(const k of this.ci)if(f=k.vj,this.kB[f]=l,l+=k.Bj.length,this.jB[f]=g,g+=k.Fea,this.FI[f]=c,c+=k.Wea,(f=k.Pa)&&this.Pa)for(const n of f.Dg())e.push(n.EY(this.Pa));this.Pa&&this.Pa.M4(e)}}g9(e){const c=this.g.N$(),f=
d.B(d.Instance,{Fc:this.g,LL:this,uid:c});f.Wz(e[16],[]);this.g.Xaa(c,f);this.G.push(f)}Hc(){this.Wa||this.bb.Hc()}m1(){return 0<this.xt}Fr(e){if(this.Wa)return Promise.resolve();this.xt++;return 1===this.xt?this.bb.Fr(e)||Promise.resolve():Promise.resolve()}jp(){if(!this.Wa){this.xt--;if(0>this.xt)throw Error("released textures too many times");0===this.xt&&this.bb.jp()}}zz(){if(this.Wa)throw Error("not applicable to family");this.bb.zz()}BF(e){return this.Wa?Promise.resolve():this.bb.BF(e)}I(){return this.g}Ib(){return this.ji}Ca(){return this.Ga}Mi(){return this.Cw}Ha(){return this.Ta}Og(){return this.lfa}sQ(e){return e&&
this.mW.has(e)}x0(){return this.Bj.map(e=>e.lX)}w0(e){return this.Bj.findIndex(c=>c.lX===e)}v0(e){return this.Bj.findIndex(c=>c.name===e)}B$(){return this.Bj.map(e=>e.fha)}wu(e){e=Math.floor(e);if(0>e||e>=this.Bj.length)throw new RangeError("invalid instance variable index");return this.Bj[e].type}qN(e){e=Math.floor(e);if(0>e||e>=this.Bj.length)throw new RangeError("invalid instance variable index");return this.Bj[e].name}Ey(e){return this.eI.get(e.toLowerCase())||null}ru(e){e=this.cI.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}XE(){return this.ji.XE()}tQ(){return this.Pa&&this.Pa.e1()}aa(){return this.eo.aa()}Pd(){return this.pg}DP(e){this.As=e}UD(e){return this.EI.has(e)}XM(e){return this.GI.has(e)}Oo(e){return this.jB[e]}mN(e){return this.kB[e]}bN(e){if(!this.Td)throw Error("no animations");return this.GA.get(e.toLowerCase())||null}L_(e){if(!this.Td)throw Error("no animations");return this.HA.get(e)||null}h0(){if(!this.Td)throw Error("no animations");return this.Td[0].Rm(0)}V_(){if(this.Td){const e=
this.h0().Pd();return[e.P(),e.U()]}return this.pg?[this.pg.P(),this.pg.U()]:[100,100]}dk(){if(!this.ji.Mn)throw Error("not a single-global plugin");return this.G[0]}ma(){return this.G}*PW(){yield*this.G}*Wga(){yield*this.G;for(const e of this.g.$l)e.H()===this&&(yield e)}Yg(e){this.G.push(e)}Cv(){this.WI=!0}yA(){if(this.WI&&!this.Wa){var e=this.G,c=0;for(let f=e.length;c<f;++c)e[c].VS(c);e=this.g.$l;for(const f of e)f.H()===this&&f.VS(c++);this.WI=!1}}pN(e){var c=this.G;if(e<c.length)return c[e];
e-=c.length;c=this.g.$l;for(const f of c)if(f.H()===this){if(0===e)return f;--e}return null}Gh(e){if(e&&e.Zb()&&e.H()!==this)for(const c of e.Kd)if(c.H()===this)return c;e=this.aa().ma();return e.length?e[0]:null}K0(e){const c=this.aa().ma();return 0<c.length?c[e.Po()%c.length]:null}*vW(e,c){const f=this.aa().ma();var l=f.length;const g=c.aa(),k=c.aa().ma(),n=k.length;var q=e.Po();if(c.Wa||!g.Xb)q=k.indexOf(e);e=Math.ceil(l/n);l%=n;0===l||q<l?(q*=e,l=e):(q=l*e+(q-l)*(e-1),l=e-1);for(let r=q,p=q+l;r<
p;++r)yield f[r]}nu(e){this.bb.nu(e)}dc(){if(this.iJ&&!this.Wa){this.yA();var e=this.aa(),c=e.G,f=e.Xb,l=this.g.wf();l=l&&l.Hb()&&l.Hb().Wd;for(const n of this.bh.km)if(n!==this){n.yA();var g=n.aa();g.ve(f);if(!f){var k=g.G;d.D(k);for(const q of c)k.push(n.pN(q.Po()));if(l){k=e.hc;g=g.hc;d.D(g);for(const q of k)g.push(n.pN(q.Po()))}}}}}fea(e,c){for(const f of this.bh.km){const l=f.aa();e?d.qe(l.hc,c):d.qe(l.G,c)}}OS(){this.WH=!0}vH(e){this.XH=!!e}nT(){if(this.WH&&this.Ff){for(const e of this.G)e.j().qT();
for(const e of this.g.$l)e.H()===this&&e.j().qT();this.WH=!1}}Xf(){this.Eb||(this.Eb=new Map);return this.Eb}Cu(){this.ti||(this.ti=new Map);return this.ti}UN(){return this.sQ(d.ra.Wna)}YE(){return this.sQ(d.ra.zoa)}oa(){const e={instances:this.G.map(c=>c.md())};this.Eb&&this.Eb.size&&(e.ex=d.tG(this.Eb));return e}ua(e){this.Eb&&(this.Eb.clear(),this.Eb=null);var c=e.ex;c&&(this.Eb=d.nE(c));c=this.G;e=e.instances;for(let f=0,l=Math.min(c.length,e.length);f<l;++f)c[f].Xc(e[f]);for(let f=e.length,l=
c.length;f<l;++f)this.g.Nm(c[f]);for(let f=c.length,l=e.length;f<l;++f){c=e[f];let g=null;if(this.Ff&&(g=this.g.Nb().Sy(c.w.l),!g))continue;this.g.Ii(this.As||this,g,!1,0,0,!0).Xc(c)}this.Cv()}Ch(e){var c=this.g;(c=c.ub&&!c.la().oz())&&b.oG();this.ne.dispatchEvent(e);c&&b.QD()}}}{"use strict";const d=self.A;d.KY=class extends d.ga{constructor(b,a){super();this.g=b;this.km=a;for(const e of this.km)e.ida(this)}m(){this.g=null}I(){return this.g}h1(){return this.km.some(b=>b.Ff)}}}
{"use strict";const d=self.A,b=self.Vf,a=self.Hu,e=[];let c=0;const f=new WeakMap,l=new WeakMap;d.Instance=class extends d.ga{constructor(g){super();this.g=g.Fc;this.he=g.LL;this.ye=this.ja=this.ob=null;this.vU=0;this.yb=g.uid;this.BV=c++;this.wa=0;this.$c=this.Df=e;var k=this.he.OA;0<k.length&&(this.$c=k.map((n,q)=>d.B(d.cy,{Fc:this.g,lL:n,instance:this,index:q})));this.Kd=this.he.Zb()?[]:null;this.Cd=-1;this.Vb=null;k=this.Ib();k.bn()&&(this.wa|=4);if(k.Ff)if(this.ob=d.B(d.S7,this,g.Zd),g.wX)this.ob.Kg(g.wX);
else{this.ob.Y1();const [n,q]=this.he.V_();this.ob.yc(n,q);this.H().tQ()&&this.ob.Ae.Y2()}g.OW?this.Iaa(g.OW):this.Daa()}m(){this.ye&&(this.ye.Bv(),this.ye=null);if(0<this.$c.length){for(var g of this.$c)g.m();d.D(this.$c)}this.ja.m();this.ja=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=l.get(this))g.clear(),l.delete(this);this.Kd&&d.D(this.Kd);this.Vb&&(this.Vb.m(),this.Vb=null);this.he=this.g=null;0<this.Df.length&&d.D(this.Df);this.ob&&(this.ob.m(),this.ob=null)}Iaa(g){0<g.length&&(this.Df=
[],d.td(this.Df,g))}Daa(){const g=this.he.Bj.length;if(0!==g){this.Df=[];var k=[0,0,""];for(let n=0;n<g;++n)this.Df.push(k[this.he.wu(n)])}}Wz(g,k){if(this.ja)throw Error("already got sdk instance");for(let n=0,q=this.$c.length;n<q;++n)this.$c[n].Wz(k?k[n]:null);this.ja=d.B(this.he.AB,this,g);if(!(this.ja instanceof d.lp))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.$c.length;n<q;++n)this.$c[n].Bz();this.he.DU&&this.XR()}j(){return this.ob}I(){return this.g}J_(){const g=
this.Cd;return-1===g?this.I().Cd:g}gG(g){g=+g;if(0>g||!isFinite(g))g=0;this.Cd=g}u5(){this.Cd=-1}Gb(){this.Vb||(this.Vb=d.B(d.Event.Gb));return this.Vb}sf(g){this.ja.sf(g)}Hc(g){this.ja.Hc(g)}sda(){this.wa|=2}Qi(){return 0!==(this.wa&2)}dH(){this.wa|=1}eO(){return 0!==(this.wa&1)}bn(){return 0!==(this.wa&4)}t6(){this.wa|=32}AO(){return 0!==(this.wa&32)}Uu(g,k){g<<=16;this.wa=k?this.wa|g:this.wa&~g}BE(g){return 0!==(this.wa&g<<16)}Fh(){return this.ja.Fh()}Jy(){return this.ja.Jy()}Ky(){return this.ja.Ky()}ol(g){return this.ja.ol(g)}H(){return this.he}Lr(){return this.ja.Lr()}dr(g){return g.Wa?
g.XM(this.H()):this.H()===g}uQ(){if(!this.Ib().dW)throw Error("object does not support scene graph");}gk(){return null!==this.Da()}Da(){var g=this.j();return g?(g=g.Da())?g.Ea():null:null}bz(){var g=this.j();return g?(g=g.bz())?g.Ea():null:null}*Qx(){const g=this.j();if(g)for(const k of g.Qx())yield k.Ea()}zf(){const g=this.j();return g?g.zf():!1}uf(){const g=this.j();return g?g.uf().map(k=>k.Ea()):[]}*children(){const g=this.j();if(g)for(const k of g.children())yield k.Ea()}*al(){const g=this.j();
if(g)for(const k of g.al())yield k.Ea()}Iy(){const g=this.j();return g?g.Iy():0}sE(g){const k=this.j();return k?(g=k.sE(g))?g.Ea():null:null}Mm(g,k){this.uQ();g.uQ();this.j().Mm(g.j(),k||{})}jk(g){const k=this.j();k&&k.jk(g.j())}My(){const g=this.j();return g?g.My():!1}X6(){var g=this.j();if(g&&(g=g.xK))for(const k of g)if(g=this.g.Pe(k[2])){const n=k[3];this.Mm(g,{Zt:!!(n>>0&1),$t:!!(n>>1&1),$q:!!(n>>2&1),Zq:!!(n>>3&1),Yt:!!(n>>4&1),Fx:!!(n>>5&1),au:!!(n>>6&1)})}}Zb(){return null!==this.Kd}es(g){this.Kd.push(g)}o1(g){return!!this.LN(g)}LN(g){const k=
this.Kd;if(null===k||0===k.length)return!1;for(const n of k)if(n.H()===g)return n;return null}Xi(){for(const g of this.Kd)g.H().aa().pk(g)}Yba(){for(const g of this.Kd)g.H().aa().Bp(g)}Kda(g){for(const k of this.Kd)k.H().aa().G[g]=k}Xba(){for(const g of this.Kd)g.H().aa().sn(g)}Jda(g){for(const k of this.Kd)k.H().aa().hc[g]=k}Ib(){return this.he.Ib()}VS(g){this.vU=g}Po(){this.he.yA();return this.vU}cN(g){const k=this.$c;for(let n=0,q=k.length;n<q;++n)if(k[n].Eh().Va===g)return n;return-1}Qe(g){g|=
0;const k=this.Df;if(0>g||g>=k.length)throw new RangeError("invalid instance variable");return k[g]}L$(g){const k=this.Df[g];return 0===this.he.wu(g)?!!k:k}kn(g,k){g|=0;const n=this.Df;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.he.wu(g)){case 0:n[g]=k?1:0;break;case 1:n[g]="number"===typeof k?k:parseFloat(k);break;case 2:n[g]="string"===typeof k?k:k.toString();break;default:throw Error("unknown instance variable type");}}m6(g,k){if(0!==k){g|=0;var n=this.Df;
if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var q=n[g];if("number"===typeof q)n[g]="number"===typeof k?n[g]+k:n[g]+parseFloat(k);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Xf(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}Cu(){let g=l.get(this);if(g)return g;g=new Map;l.set(this,g);return g}RR(g){const k=
this.H();if(k.ne.VE(g))return!0;for(const n of k.ci)if(n.ne.VE(g))return!0;return this.g.ne.VE(g)?!0:!1}xA(){const g=new Set;g.add(this);const k=this.j();if(k&&k.zf())for(const n of this.al())if(g.add(n),n.Zb())for(const q of n.Kd)g.add(q);if(this.Zb())for(const n of this.Kd)g.add(n);for(const n of g.values())n.kT()}kT(){if(this.RR("instancecreate")){const g=this.H(),k=new d.Event("instancecreate");k.instance=this.Hh();g.Ch(k);for(const n of g.ci)n.Ch(k);this.g.Ch(k)}this.g.na(this.Ib().constructor.F.K3,
this,null)}dea(){this.g.na(this.Ib().constructor.F.L3,this,null)}t$(g){if(this.ye){var k=new d.Event("destroy");k.$ga=g;this.Ch(k)}if(this.RR("instancedestroy")){k=this.H();var n=new d.Event("instancedestroy");n.instance=this.Hh();n.$ga=g;k.Ch(n);for(const q of k.ci)q.Ch(n);this.g.Ch(n)}}md(g="full"){const k={};"full"===g?k.uid=this.yb:k.c3=!0;if("visual-state"!==g){var n=f.get(this);n&&n.size&&(k.ex=d.tG(n));-1!==this.Cd&&(k.mts=this.Cd);if(0<this.he.Bj.length){n={};var q=this.he.x0();for(let r=
0,p=this.Df.length;r<p;++r)n[q[r].toString()]=this.Df[r];k.ivs=n}if(this.$c.length){n={};for(const r of this.$c)(q=r.md())&&(n[r.Eh().Va.toString()]=q);k.behs=n}}this.ob&&(k.w=this.ob.oa(g));(g=this.ja.md())&&(k.data=g);return k}ns(g="full"){this.ob&&this.ob.ns(g)}Xc(g,k="full"){if("full"===k)this.yb=g.uid;else if(!g.c3)return;if("visual-state"!==k){var n=f.get(this);n&&(n.clear(),f.delete(this));if(n=g.ex)n=d.nE(n),f.set(this,n);this.Cd=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [p,v]of Object.entries(n))if(n=
this.he.w0(parseInt(p,10)),!(0>n||n>=this.Df.length)){var q=v;null===q&&(q=NaN);this.Df[n]=q}}if(this.Ib().Ff){n=g.w;var r=n.l;this.ob.da().Va!==r&&(q=this.ob.da(),(r=q.oc().Sy(r))?(this.ob.Dv(r),q.Cp(this,!0),r.Yg(this,!0),r.Wg(),this.ob.Sa()):"full"===k&&this.g.Nm(this));this.ob.ua(n,k)}if("visual-state"!==k&&(k=g.behs))for(const [p,v]of Object.entries(k))k=this.cN(parseInt(p,10)),0>k||k>=this.$c.length||this.$c[k].Xc(v);(g=g.data)&&this.ja.Xc(g)}Hh(){return this.ye||this.XR()}XR(){var g=this.ob?
self.jz:a;const k=this.ja.Jh(),n=this.he.DU,q=n||k||g;a.cj(this);this.ye=new q;a.cj(null);if(k&&!(this.ye instanceof g))throw new TypeError(`script interface class '${k.name}' does not extend the right base class '${g.name}'`);if(n&&(g=k||g,!(this.ye instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.ye}K$(g){if(0!==this.Df.length){var k={},n=this.he.B$();for(let q=0,r=n.length;q<r;++q)k[n[q]]={configurable:!1,enumerable:!0,
get:d.Instance.prototype.L$.bind(this,q),set:d.Instance.prototype.kn.bind(this,q)};k=Object.create(Object.prototype,k);g.xva={value:k,writable:!1}}}C$(g){var k=this.$c;if(0!==k.length){var n={};for(const q of k)n[q.Eh().Mi()]={value:q.Zy(),writable:!1};k=Object.create(Object.prototype,n);g.Dx={value:k,writable:!1}}}Ch(g){g.instance=this.Hh();var k=this.g;(k=k.ub&&!k.la().oz())&&b.oG();this.Hh().dispatchEvent(g);k&&b.QD()}}}
{"use strict";const d=self.A;d.D5=class extends d.ga{constructor(b){super();this.ic=b;this.Dc=null;this.SA=[];this.MC=b.P();this.LC=b.U();this.JK=this.IK=1;this.qC=0}m(){this.Dc=null;d.D(this.SA)}VP(b){this.qC=(this.Dc=b)?b.ka():0}Da(){return this.Dc}zf(){return 0<this.SA.length}uf(){return this.SA}D6(b){this.IK=b}E6(b){this.JK=b}bk(){return this.ic.To()?this.Dc.P()/this.Dc.Kb.MC:1}ck(){return this.ic.So()?this.Dc.U()/this.Dc.Kb.LC:1}oa(){return{sw:this.MC,sh:this.LC,sx:this.IK,sy:this.JK,psa:this.qC,
c:this.SA.map(b=>{let a="";b.Uo()&&(a+="x");b.Vo()&&(a+="y");b.To()&&(a+="w");b.So()&&(a+="h");b.dz()&&(a+="a");b.ez()&&(a+="z");b.My()&&(a+="d");return{uid:b.Ea().yb,f:a}})}}ua(b){this.MC=b.sw;this.LC=b.sh;this.IK=b.sx;this.JK=b.sy;this.qC=b.psa}Ap(b){const a=this.ic,e=a.I();for(const c of b.c){b=e.Pe(c.uid).j();const f=c.f,l={};l.Zt=f.includes("x");l.$t=f.includes("y");l.$q=f.includes("w");l.Zq=f.includes("h");l.Yt=f.includes("a");l.au=f.includes("z");l.Fx=f.includes("d");a.Mm(b,l)}}}}
{"use strict";const d=self.A,b=d.B(d.Rect),a=d.B(d.xd),e=d.B(d.Event,"bboxchange",!1),c=d.B(d.gb,0,0,0,0),f=d.B(d.Io),l=d.B(d.gb,1,1,1,1),g=d.B(d.Rect,0,0,-1,-1),k=d.B(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let r=!0;d.S7=class extends d.ga{constructor(p,v){super();this.J=p;this.K=p.H();this.g=p.I();this.Nk=v;this.$k=-1;this.wa=196635;this.K.Ib().Cr()&&(this.wa|=128);this.ht=this.gt=this.oI=this.zK=this.Ua=this.ef=this.zj=this.Oj=this.ed=this.O=this.Y=NaN;this.iI=d.B(d.Rect);this.jI=
d.B(d.xd);this.TA=k;this.Ww=g;this.Kj=this.At=this.IC=null;this.Rp=this.tb=l;this.Ae=this.Jq=null;this.J.H().tQ()&&(this.Ae=d.B(d.o2,this.J,this));this.xK=this.Kb=null;this.Fq=this.NV=NaN;this.ii=null}dH(){this.wa|=256}m(){this.Jq&&(this.g.Bb().fP(this.Jq),this.Jq=null);this.IC=null;this.At&&(this.At.dX.m(),this.At=null);this.Kj&&(this.Kj.clear(),this.Kj=null);this.Ez();this.gk()&&this.Da().jk(this);if(this.zf()){const p=[...this.uf()];for(const v of p)this.jk(v)}this.oA();this.Nk=this.g=this.K=this.J=
null}Kg(p){r=!1;this.Hl(p[0],p[1]);this.Ye(p[2]);this.yc(p[3],p[4]);this.ef=0;this.Cr()?this.Kc(p[6]):this.Ua=0;c.Eo(p[7]);this.qA(c);this.Sr(p[8]);this.Tr(p[9]);this.eg(p[10]);this.Ae&&this.Ae.Eaa(p[12]);p[14]&&(this.xK=p[14][1],this.NV=p[14][2]);if(p[15]){var v=p[15];this.dE(v[0],v[1]);p=this.rl();v=v[2];for(let t=0,w=v.length;t<w;++t){const x=v[t];for(let z=0,E=x.length;z<E;++z){const G=x[z],N=p.qr(z,t);N.Ug(G[0]);N.Vg(G[1]);N.Ye(G[2]);N.hG(G[3]);N.iG(G[4])}}}r=!0;this.ps()}Y1(){this.zK=this.Ua=
this.ef=this.zj=this.Oj=this.ed=this.O=this.Y=0;this.oI=1;this.ht=this.gt=0;this.ps()}I(){return this.g}H(){return this.K}Ea(){return this.J}rv(){return this.dz()?this.Da().ka()-this.Kb.qC:0}Ug(p){p=+p;if(this.Uo()){const v=this.Kb;p-=this.R();const t=-this.rv();0===t?this.Y+=p/v.bk():(this.Y+=Math.cos(t)*p/v.bk(),this.Vo()&&(this.O+=Math.sin(t)*p/v.ck()))}else this.Y=p}y3(p){p=+p;this.Uo()?this.Ug(this.R()+p):this.Y+=p}R(){if(this.Uo()){let p=this.Y;const v=this.Kb,t=this.Da(),w=this.rv();0===w?
p*=v.bk():(p=p*v.bk()*Math.cos(w),this.Vo()&&(p-=this.O*v.ck()*Math.sin(w)));return t.R()+p}return this.Y}Vg(p){p=+p;if(this.Vo()){const v=this.Kb;p-=this.S();const t=-this.rv();0===t?this.O+=p/v.ck():(this.Uo()&&(this.Y-=Math.sin(t)*p/v.bk()),this.O+=Math.cos(t)*p/v.ck())}else this.O=p}z3(p){p=+p;this.Vo()?this.Vg(this.S()+p):this.O+=p}S(){if(this.Vo()){let p=this.O;const v=this.Kb,t=this.Da(),w=this.rv();0===w?p*=v.ck():(p=p*v.ck()*Math.cos(w),this.Uo()&&(p+=this.Y*v.bk()*Math.sin(w)));return t.S()+
p}return this.O}Hl(p,v){p=+p;v=+v;if(this.SN()){const w=this.Uo(),x=this.Vo(),z=this.Kb,E=p-this.R(),G=v-this.S();var t=-this.rv();if(0===t)this.Y=w?this.Y+E/z.bk():p,this.O=x?this.O+G/z.ck():v;else{const N=Math.sin(t);t=Math.cos(t);this.Y=w?x?this.Y+(t*E-N*G)/z.bk():this.Y+t*E/z.bk():p;this.O=x?w?this.O+(N*E+t*G)/z.ck():this.O+t*G/z.ck():v}}else this.Y=p,this.O=v}Lu(p,v){p=+p;v=+v;this.SN()?this.Hl(this.R()+p,this.S()+v):(this.Y+=p,this.O+=v)}q_(p,v){return this.R()===p&&this.S()===v}Ye(p){p=+p;
this.ez()&&(p-=this.Da().Xa());this.ed!==p&&(this.ed=p,this.wT(),p=this.da(),0!==this.ed&&p.PS(),p.Wg())}wT(){this.ps();if(this.zf()){const p=this.uf();for(let v=0,t=p.length;v<t;v++){const w=p[v];w.ez()&&w.wT()}}}A3(p){this.Ye(this.Xa()+p)}Xa(){return this.ez()?this.Da().Xa()+this.ed:this.ed}ag(){return this.da().Xa()+this.Xa()}Xe(p){p=+p;this.Oj=this.To()?this.Oj*(p/this.P()):p}DO(p){p=+p;this.To()?this.Xe(this.P()+p):this.Oj+=p}P(){return this.To()?this.Da().P()*this.Oj:this.Oj}Ue(p){p=+p;this.zj=
this.So()?this.zj*(p/this.U()):p}CO(p){p=+p;this.So()?this.Ue(this.U()+p):this.zj+=p}U(){return this.So()?this.Da().U()*this.zj:this.zj}yc(p,v){p=+p;v=+v;this.Oj=this.To()?this.Oj*(p/this.P()):p;this.zj=this.So()?this.zj*(v/this.U()):v}EN(){if(this.gk()){const p=this.Kb;return Math.min(p.bk(),p.ck())}return 1}Cr(){return 0!==(this.wa&128)}Kc(p){p=+p;this.Cr()&&(this.dz()&&(p-=this.Da().ka()),p=d.pe(p),this.Ua!==p&&(this.Ua=p,this.eH()))}u3(p){p=+p;0!==p&&this.Cr()&&(this.Ua=d.pe(this.Ua+p),this.eH())}eH(){this.wa|=
262144;if(this.zf()){const p=this.uf();for(let v=0,t=p.length;v<t;v++)p[v].eH()}}ka(){return this.dz()?d.pe(this.Da().ka()+this.Ua):this.Ua}mS(){const p=this.wa;if(0!==(p&262144)){var v=this.ka();this.zK=Math.sin(v);this.oI=Math.cos(v);this.wa=p&-262145}}QE(){this.mS();return this.zK}uE(){this.mS();return this.oI}Sr(p){this.gt=+p}w3(p){this.gt+=+p}Yj(){return this.gt}Tr(p){this.ht=+p}x3(p){this.ht+=+p}Zj(){return this.ht}qA(p){this.tb.Uc(p)||(this.tb===l?(this.tb=d.B(d.gb,p),this.Rp=d.B(d.gb,p),this.Rp.vD()):
p.Hx(1,1,1,1)?this.Rp=this.tb=l:(this.tb.set(p),this.Rp.set(p),this.Rp.vD()),this.ps())}Ve(p){p=d.ba(+p,0,1);this.tb.uo!==p&&(c.Fm(this.tb),c.uo=p,this.qA(c))}v3(p){this.Ve(this.Ed()+p)}Ed(){return this.tb.uo}dQ(p){this.tb.yo(p)||(c.Fm(p),c.uo=this.tb.uo,this.qA(c))}R6(p,v,t){c.AD(p,v,t);this.dQ(c)}KE(){return this.Rp}My(){return 0!==(this.wa&512)}R5(p){this.$e(512,p)}Uo(){return 0!==(this.wa&1024)}M6(p){this.$e(1024,p)}Vo(){return 0!==(this.wa&2048)}SN(){return 0!==(this.wa&3072)}N6(p){this.$e(2048,
p)}To(){return 0!==(this.wa&4096)}L6(p){this.$e(4096,p)}So(){return 0!==(this.wa&8192)}K6(p){this.$e(8192,p)}dz(){return 0!==(this.wa&16384)}J6(p){this.$e(16384,p)}ez(){return 0!==(this.wa&32768)}O6(p){this.$e(32768,p)}MQ(){this.wa&=-65025}Mm(p,v){if(p!==this&&!p.gk()&&!this.TR(p)&&!this.SR(p)){var t=p.R(),w=p.S(),x=p.P(),z=p.U(),E=p.ka(),G=p.Xa();p.ZS(this);p.M6(v.Zt);p.N6(v.$t);p.L6(v.$q);p.K6(v.Zq);p.J6(v.Yt);p.O6(v.au);p.R5(v.Fx);v.Zt&&(p.Y=t-this.R(),v.$q&&(p.Y/=this.P()/this.Kb.MC));v.$t&&(p.O=
w-this.S(),v.Zq&&(p.O/=this.U()/this.Kb.LC));v.$q&&(p.Oj=x/this.P(),p.Kb.D6(p.Oj));v.Zq&&(p.zj=z/this.U(),p.Kb.E6(p.zj));v.Yt&&(p.Ua=E-this.ka());v.au&&(p.ed=G-this.Xa());this.a8(p);this.Sa()}}jk(p){if(p.Da()===this){var v=p.R(),t=p.S(),w=p.P(),x=p.U(),z=p.ka(),E=p.Xa();p.ZS(null);p.MQ();p.Hl(v,t);p.yc(w,x);p.Kc(z);p.Ye(E);this.lca(p);this.Sa()}}uca(){for(var p of this.children())this.jk(p);(p=this.Da())&&p.jk(this);this.MQ()}gk(){return null!==this.Da()}Da(){const p=this.Kb;return null!==p?p.Da():
null}bz(){let p=this;for(;p.gk();)p=p.Da();return p}*Qx(){let p=this.Da();for(;p;)yield p,p=p.Da()}j1(p){return this.uf().includes(p)}zf(){const p=this.Kb;return null!==p?p.zf():!1}uf(){const p=this.Kb;return null!==p?p.uf():q}children(){return this.uf()}*al(){for(const p of this.children())yield p,yield*p.al()}Iy(){return this.uf().length}sE(p){const v=this.uf();p=Math.floor(+p);return 0>p||p>=v.length?null:v[p]}FG(p){this.Kb||(this.Kb=d.B(d.D5,this));p&&this.Kb.VP(p)}oA(){this.Kb&&(this.Kb.m(),
this.Kb=null)}ZS(p){p?(p.FG(null),this.FG(p)):(this.Kb&&this.Kb.VP(null),this.zf()||this.oA())}SR(p){if(!this.gk())return!1;const v=this.Da();return v===p?!0:v.SR(p)}TR(p){if(this.j1(p))return!0;for(const v of this.uf())if(v.TR(p))return!0;return!1}a8(p){this.Kb.uf().push(p)}lca(p){const v=this.Kb.uf(),t=v.indexOf(p);-1!==t&&v.splice(t,1);0!==v.length||this.gk()||this.oA();p.zf()||p.oA()}bG(p){this.Fq=p}ps(){if(r){var p=this.g.Bb();this.Jq&&p.fP(this.Jq);this.Jq=p.DX(0!==(this.wa&524288)?p.JC||"<point>":
p.KC||"<default>",this.Ki(),this.Rp,this.Xa())}}Vm(){return this.tb===l}eg(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Ki()!==p&&(this.wa=this.wa&-2080374785|p<<26,this.ps())}Ki(){return(this.wa&2080374784)>>26}Dv(p){this.Nk=p;0!==this.Xa()&&this.Nk.PS()}da(){return this.Nk}oc(){return this.da().oc()}vA(p){this.$k=p|0}fk(){this.Nk.Gv();return this.$k}$e(p,v){this.wa=v?this.wa|p:this.wa&~p}Wc(){return 0!==(this.wa&1)}Yi(p){this.$e(1,p)}Ng(){return 0!==(this.wa&8)}Tu(p){p=!!p;
this.Ng()!==p&&(this.$e(8,p),p?this.Sa():this.yS())}dG(p,v){this.$e(32,p);this.Kj&&this.Kj.clear();if(v.trim()){this.Kj||(this.Kj=new Set);for(const t of v.split(" "))t&&this.Kj.add(t.toLowerCase())}else this.Kj=null}Sa(){this.wa|=65554;this.K.OS();this.g.ea();this.Nk.up()&&(this.fy(this.iI,this.jI,!0),this.wa&=-3,this.mea());0!==(this.wa&4)&&this.J.Gb().dispatchEvent(e);if(null!==this.Kb){const p=this.Kb.uf();for(let v=0,t=p.length;v<t;++v)p[v].Sa()}}fy(p,v,t){const w=this.R(),x=this.S(),z=this.P(),
E=this.U(),G=this.ka();p.Ei(w-this.gt*z,x-this.ht*E,z,E);t&&this.Jg()&&this.n$(p);0===G?v.Rj(p):(p.offset(-w,-x),v.yD(p,this.QE(),this.uE()),v.offset(w,x),v.xL(p));p.normalize()}pT(){const p=this.wa;0!==(p&2)&&(this.fy(this.iI,this.jI,!0),this.wa=p&-3)}Vc(){this.pT();return this.iI}Vj(){this.pT();return this.jI}AF(p){var v=this.R(),t=this.S();v=Math.round(v)-v;t=Math.round(t)-t;if(0===v&&0===t)return p;a.ta(p);a.offset(v,t);return a}K5(p){this.$e(4,p)}bO(){return 0!==(this.wa&4)}kO(p,v,t){return v&&
0!==this.ef?this.zr(this.da().sv()):0===this.Xa()||t?p.pD(this.Vc()):this.saa()}saa(){const p=this.da(),v=this.ag();if(v>=p.Gy())return!1;p.TN(v,b);return b.pD(this.Vc())}zr(p){var v=this.Vc();const t=v.N,w=v.X,x=v.L;v=v.V;const z=this.ag();return p.LY(t,x,z,w,v,z+this.ef)}rA(p){this.$e(1048576,p)}tA(p){this.$e(2097152,p)}eG(p){this.IC=p;this.NG();this.Jg()&&(this.ii.FL=null)}Fu(){return null!==this.IC||this.Jg()}tl(){return this.xR(this.P(),this.U(),this.ka(),this.QE(),this.uE())}U_(p,v){return this.xR(p,
v,0,0,1)}xR(p,v,t,w,x){let z=this.At;null===z&&(this.At=z={dX:d.B(d.Io),width:NaN,height:NaN,angle:NaN});const E=z.dX;if(z.width===p&&z.height===v&&z.angle===t)return E;const G=this.IC;if(this.Jg()){const N=this.Yj(),C=this.Zj(),H=this.rl();let I=this.ii.FL;I||(G?(f.ta(G),f.offset(N,C)):f.Nha(),I=H.n2(f),this.ii.FL=I);H.w7(I,E);E.offset(-N,-C);E.kM(p,v,w,x)}else G?(E.ta(G),E.kM(p,v,w,x)):E.cM(this.Vj(),-this.R(),-this.S());z.width=p;z.height=v;z.angle=t;return E}NG(){this.XP(!0);const p=this.At;null!==
p&&(p.width=NaN)}dE(p,v){p=Math.floor(p);v=Math.floor(v);if(!this.Ea().Ib().Ufa)throw Error("object does not support mesh");this.Ez();this.ii={fM:d.B(d.ca.zO,p,v),qX:d.B(d.ca.zO,p,v),FL:null}}Jg(){return null!==this.ii}rl(){if(!this.Jg())throw Error("no mesh");return this.ii.fM}V0(){if(!this.Jg())throw Error("no mesh");return this.ii.qX}QP(p){this.$e(65536,p)}B2(){return 0!==(this.wa&65536)}XP(p){this.$e(131072,p)}F2(){return 0!==(this.wa&131072)}n$(p){const v=this.ii.fM,t=Math.min(v.I0(),0),w=Math.min(v.J0(),
0),x=Math.max(v.F0(),1),z=Math.max(v.G0(),1),E=p.width(),G=p.height();p.offsetLeft(t*E);p.offsetTop(w*G);p.vha((x-1)*E);p.uha((z-1)*G);this.ef=v.H0()}Ez(){this.ii&&(this.ii.fM.m(),this.ii.qX.m(),this.ii=null,this.NG())}RP(p,v,t){p=Math.floor(p);v=Math.floor(v);var w=t.mode||"absolute";if(!n.has(w))throw Error("invalid mode");w="relative"===w;let x=t.x,z=t.y;const E=t.ay;let G="number"===typeof t.uX?t.uX:w?0:-1;t="number"===typeof t.vX?t.vX:w?0:-1;if(!this.Jg())return!1;const N=this.rl(),C=N.qr(p,
v);if(null===C)return!1;let H=!1;"number"===typeof E&&C.Xa()!==E&&(C.Ye(E),H=!0);w&&(x+=p/(N.Ik-1),z+=v/(N.Vk-1));-1!==G||w?(w&&(G+=p/(N.Ik-1)),G=d.ba(G,0,1)):G=C.uh;-1!==t||w?(w&&(t+=v/(N.Vk-1)),t=d.ba(t,0,1)):t=C.wh;if(C.R()===x&&C.S()===z&&C.uh===G&&C.wh===t)return H;C.Ug(x);C.Vg(z);C.hG(G);C.iG(t);this.NG();return!0}Qi(){return this.J.Qi()}gu(p,v){return this.Vc().Qf(p,v)&&this.Vj().Qf(p,v)?this.Qi()?void 0:this.Fu()?this.tl().Qf(p-this.R(),v-this.S()):!0:!1}paa(){return 0!==(this.wa&16)}qT(){if(this.paa()&&
this.Ng()&&0===(this.wa&256)){var p=this.Vc(),v=this.K.UA,t=this.TA;b.set(v.Zi(p.N),v.$i(p.L),v.Zi(p.X),v.$i(p.V));t.Uc(b)||(p=this.J,t===k?(v.Il(p,null,b),this.TA=d.B(d.Rect,b)):(v.Il(p,t,b),t.ta(b)),this.wa&=-17)}}yS(){const p=this.TA;p!==k&&(this.K.UA.Il(this.J,p,null),this.TA=k)}mea(){const p=this.da();if(p.up()&&0===(this.wa&256)){var v=p.lt,t=this.Vc(),w=this.Ww;b.set(v.Zi(t.N),v.$i(t.L),v.Zi(t.X),v.$i(t.V));w.Uc(b)||(t=this.J,w===g?(v.Il(t,null,b),this.Ww=d.B(d.Rect,b)):(v.Il(t,w,b),w.ta(b)),
p.z6())}}zS(){const p=this.Ww;p!==g&&(this.da().lt.Il(this.J,p,null),this.Ww=g)}Y7(){const p=this.J,v=this.Nk,t=v.G;t.length&&t.oe(-1)===p||(v.Cp(p,!1),v.Yg(p,!1),this.g.ea())}W7(){const p=this.J,v=this.Nk,t=v.G;t.length&&t[0]===p||(v.Cp(p,!1),v.Uba(p),this.g.ea())}X7(p){const v=this.J,t=this.Nk;if(t.oc()!==p.oc())throw Error("layer from different layout");p!==t&&(t.Cp(v,!0),this.Dv(p),p.Yg(v,!0),this.g.ea())}V7(p,v){const t=this.J;let w=!1;const x=this.Nk;if(p.yb!==t.yb){var z=p.j();if(!z)throw Error("expected world instance");
z=z.da();x.Ha()!==z.Ha()&&(x.Cp(t,!0),this.Dv(z),z.Yg(t,!0),w=!0);p=z.o3(t,p,!!v);(w||p)&&this.g.ea()}}rda(p){this.$e(64,p)}Eu(){return 0!==(this.wa&64)}oa(p){const v={x:this.R(),y:this.S(),w:this.P(),h:this.U(),l:this.da().Va,zi:this.fk()};0!==this.Xa()&&(v.ze=this.Xa());0!==this.ka()&&(v.a=this.ka());this.Vm()||(v.c=this.tb.toJSON());.5!==this.Yj()&&(v.oX=this.Yj());.5!==this.Zj()&&(v.oY=this.Zj());0!==this.Ki()&&(v.bm=this.Ki());this.Wc()||(v.v=this.Wc());this.Ng()||(v.ce=this.Ng());this.bO()&&
(v.be=this.bO());this.Ae&&(v.fx=this.Ae.oa());const t=0!==(this.wa&32);t&&(v.sfi=t);this.Kj&&(v.sft=[...this.Kj].join(" "));this.Kb&&"visual-state"!==p&&(v.sgi=this.Kb.oa());this.Jg()&&(v.mesh=this.rl().md());return v}ns(p){"visual-state"!==p&&this.uca()}ua(p,v){r=!1;this.Ug(p.x);this.Vg(p.y);this.Xe(p.w);this.Ue(p.h);this.vA(p.zi);this.Ye(p.hasOwnProperty("ze")?p.ze:0);this.Kc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.Eo(p.c):p.hasOwnProperty("o")?(c.Fm(this.tb),c.uo=p.o):c.Fo(1,1,1,1);
this.qA(c);this.Sr(p.hasOwnProperty("oX")?p.oX:.5);this.Tr(p.hasOwnProperty("oY")?p.oY:.5);this.eg(p.hasOwnProperty("bm")?p.bm:0);this.Yi(p.hasOwnProperty("v")?p.v:!0);this.Tu(p.hasOwnProperty("ce")?p.ce:!0);this.K5(p.hasOwnProperty("be")?p.be:!1);this.dG(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Ae&&p.hasOwnProperty("fx")&&this.Ae.ua(p.fx);if(p.hasOwnProperty("sgi")&&"visual-state"!==v){this.FG(null);const t=this.Kb,w=p.sgi;t.ua(w);const x=this.I().Gb(),z=()=>{x.removeEventListener("afterload",
z);0===(this.wa&256)&&t.Ap(w)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.dE(p.cols,p.rows),this.rl().Xc(p)):this.Ez();this.Sa();r=!0;this.ps()}}}
{"use strict";const d=self.A;d.qM=class extends d.ga{constructor(b,a){super();const e=b.I(),c=e.xq,f=e.Ih(a[1]);c.i1(f)||c.QY(a);this.g=e;this.K=b;this.ij=c.N_(f);this.bb=null;this.AB=f.Instance;this.Va=a[2];this.Ga=a[0];this.Cw=this.g.Mi(a[3]);this.bb=d.B(f.Rh,this);this.Hc()}static Ra(b,a){return d.B(d.qM,b,a)}m(){this.ij=this.g=null;this.bb.m();this.AB=this.bb=null}Hc(){this.bb.Hc()}I(){return this.g}H(){return this.K}tf(){return this.ij}Ca(){return this.Ga}Mi(){return this.Cw}}}
{"use strict";const d=self.A,b=self.aF;d.cy=class extends d.ga{constructor(a){super();this.g=a.Fc;this.bd=a.lL;this.ij=this.bd.tf();this.J=a.instance;this.Ta=a.index;this.ye=this.ja=null;this.ij.Yg(this.J)}m(){this.ye&&(this.ye.Bv(),this.ye=null);this.ij.Cp(this.J);this.ja.m();this.J=this.ij=this.bd=this.g=this.ye=this.ja=null}Wz(a){if(this.ja)throw Error("already got sdk instance");this.ja=d.B(this.bd.AB,this,a);this.haa()}I(){return this.g}Eh(){return this.bd}tf(){return this.ij}Th(){return this.Ta}Bz(){this.ja.Bz()}md(){return this.ja.md()}Xc(a){return this.ja.Xc(a)}static mG(a,
e){var c=a.J,f=e.J;const l=c.H().Ha(),g=f.H().Ha();if(l!==g)return l-g;c=c.BV;f=f.BV;return c!==f?c-f:a.NA.Th()-e.NA.Th()}haa(){const a=this.ja.Jh(),e=a||b;b.cj(this);this.ye=new e;b.cj(null);if(a&&!(this.ye instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}Zy(){return this.ye}}}
{"use strict";const d=self.A;d.hl=class extends d.ga{constructor(b,a){super();this.ic=b;this.ah=[];this.ej=[];this.dB=new Map;this.bi=[];this.it=!0;for(const e of a)b=d.B(d.SM,this,e,this.ah.length),this.ah.push(b),this.dB.set(b.Ca().toLowerCase(),b),3<=e.length&&this.bi.push(this.bH(e[2]));this.I().c8(this)}m(){d.D(this.ah);d.D(this.ej);this.dB.clear();d.D(this.bi);this.ic=null}M4(b){if(b.length){this.ah=b.concat(this.ah);for(const a of b)this.dB.set(a.Ca().toLowerCase(),a);for(let a=0,e=this.ah.length;a<
e;++a)this.ah[a].vda(a)}}bH(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const f=d.B(d.gb);f.Eo(c);b[a]=f}}return b}I(){return this.ic.I()}pn(){d.D(this.ej);let b=!0;for(const a of this.ah)a.Jb&&(this.ej.push(a),a.mb.it||(b=!1));this.it=b}Dg(){return this.ah}e1(){return 0<this.ah.length}ml(b){return this.dB.get(b.toLowerCase())||null}jN(b){b=Math.floor(+b);if(0>b||b>=this.ah.length)throw new RangeError("invalid effect type index");return this.ah[b]}Iu(b){return this.jN(b).Jb}HP(b,
a){this.jN(b).Gz(a)}Eu(){return 0<this.ej.length}Fg(b){return this.bi[b]}static B5(b){return b&&b instanceof d.gb?{t:"color",v:b.toJSON()}:b}static b3(b){if("object"===typeof b){if("color"===b.t){const a=d.B(d.gb);a.Eo(b.v);return a}throw Error("invalid effect parameter type");}return b}static uP(b){return b.map(d.hl.B5)}static uO(b){return b.map(d.hl.b3)}md(){return this.ah.map(b=>({name:b.Ca(),active:b.Jb,params:d.hl.uP(this.bi[b.Ha()])}))}Xc(b){for(const a of b)if(b=this.ml(a.name))b.Gz(a.active),
this.bi[b.Ha()]=d.hl.uO(a.params);this.pn()}}}
{"use strict";const d=self.A;d.SM=class extends d.ga{constructor(b,a,e){super();this.Pa=b;this.ff=a[0];this.Ga=a[1];this.Ta=e;this.mb=null;this.Jb=!0}m(){this.mb=this.Pa=null}EY(b){b=d.B(d.SM,b,[this.ff,this.Ga],-1);b.mb=this.mb;b.Jb=this.Jb;return b}VR(b){b=b.KN(this.ff);if(!b)throw Error("failed to find shader program '"+this.ff+"'");this.mb=b}Ca(){return this.Ga}vda(b){this.Ta=b}Ha(){return this.Ta}I(){return this.Pa.I()}Gz(b){this.Jb=!!b}W_(){const b=[];for(let a=0,e=this.mb.Sq.length;a<e;++a){const c=
this.mb.Uy(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.B(d.gb,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.A;d.o2=class extends d.ga{constructor(b,a){super();this.J=b;this.$fa=a;this.Pa=b.H().Pa;this.Fp=[];this.ej=[];this.it=!0;this.bi=[];for(const e of this.Pa.Dg())this.Fp.push(!0);this.pn()}m(){d.D(this.Fp);d.D(this.ej);d.D(this.bi);this.Pa=this.J=null}Eaa(b){for(const a of b)this.bi.push(this.bH(a))}bH(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const f=d.B(d.gb);f.Eo(c);b[a]=f}}return b}Y2(){for(const b of this.Pa.Dg())this.bi.push(b.W_())}I(){return this.J.I()}pn(){d.D(this.ej);
const b=this.Pa.Dg(),a=this.ej,e=this.Fp;let c=!0;for(let f=0,l=b.length;f<l;++f)if(e[f]){const g=b[f];a.push(g);g.mb.it||(c=!1)}this.it=c;this.$fa.rda(!!a.length)}Fg(b){return this.bi[b]}Iu(b){return this.Fp[b]}HP(b,a){this.Fp[b]=!!a}Dg(){return this.Pa.Dg()}oa(){return this.Pa.Dg().map(b=>({name:b.Ca(),active:this.Fp[b.Ha()],params:d.hl.uP(this.bi[b.Ha()])}))}ua(b){for(const a of b)if(b=this.Pa.ml(a.name))this.Fp[b.Ha()]=a.active,this.bi[b.Ha()]=d.hl.uO(a.params);this.pn()}}}
{"use strict";const d=self.A,b=[],a=d.B(d.Io),e=d.B(d.Io),c=d.B(d.xd);d.B(d.Rect);d.B(d.Rect);let f=null,l=null,g=null;d.FY=class extends d.ga{constructor(k){super();this.g=k;this.Vw=[]}m(){this.g=null}Y4(k,n){const q=k.j(),r=n.j();q&&r&&q.Ng()&&r.Ng()&&this.Vw.push([k,n])}oM(k,n,q){for(const [r,p]of this.Vw){let v;if(k===r)v=p;else if(k===p)v=r;else continue;v.dr(n)&&(q.includes(v)||q.push(v))}}BM(k,n){if(!this.Vw.length)return!1;for(const [q,r]of this.Vw)if(k===q&&n===r||k===r&&n===q)return!0;return!1}CM(){d.D(this.Vw)}rG(k,
n){if(!k||!n||k===n)return!1;k=k.j();n=n.j();if(!k.Ng()||!n.Ng())return!1;const q=k.da(),r=n.da();return q.N2(r)?this.aea(k,n):this.$da(k,n)}aea(k,n){if(!k.Vc().pD(n.Vc())||!k.Vj().AL(n.Vj())||k.Qi()&&n.Qi())return!1;if(k.Qi())return this.sG(k,n);if(n.Qi())return this.sG(n,k);if(!k.Fu()&&!n.Fu())return!0;const q=k.tl(),r=n.tl();return q.Kx(r,n.R()-k.R(),n.S()-k.S())}$da(k,n){var q=k.Qi(),r=n.Qi();if(q&&!r)return this.jQ(k,n);if(r&&!q)return this.jQ(n,k);if(r||q)return!1;r=k.da();q=n.da();a.ta(k.tl());
e.ta(n.tl());var p=a.Bd;for(let v=0,t=p.length;v<t;v+=2){const w=v+1,x=p[w],[z,E]=r.gp(p[v]+k.R(),x+k.S());p[v]=z;p[w]=E}k=e.Bd;for(let v=0,t=k.length;v<t;v+=2){r=v+1;p=k[r];const [w,x]=q.gp(k[v]+n.R(),p+n.S());k[v]=w;k[r]=x}a.bM();e.bM();return a.Kx(e,0,0)}jQ(k,n){var q=k.da(),r=n.da();f||(f=d.B(d.Io));l||(l=d.B(d.Rect));g||(g=d.B(d.xd));var p=n.R(),v=n.S();const [t,w]=r.gp(p,v),[x,z]=q.Ag(t,w);q=x-p;v=z-v;l.ta(n.Vc());l.offset(q,v);if(!k.Vc().pD(l))return!1;g.ta(n.Vj());g.offset(q,v);if(!k.Vj().AL(g))return!1;
f.ta(n.tl());r=f.Bd;for(let E=0,G=r.length;E<G;E+=2)p=E+1,r[E]+=q,r[p]+=v;f.bM();return this.sG(k,n,x,z,f,l,g)}sG(k,n,q,r,p,v,t){v=void 0!==v?v:n.Vc();const w=k.R(),x=k.S();var z=k.Ea().ja;q=void 0!==q?q:n.R();r=void 0!==r?r:n.S();k=n.Fu();t=void 0!==t?t:n.Vj();z.wla(v,b);for(let N=0,C=b.length;N<C;++N){var E=b[N];z=E.O0();if(v.Xga(z,w,x)&&(c.Rj(z),c.offset(w,x),c.AL(t)))if(k){var G=void 0!==p?p:n.tl();if(E=E.AN()){if(E.Kx(G,q-(w+z.N),r-(x+z.L)))return d.D(b),!0}else if(a.cM(c,0,0),a.Kx(G,q,r))return d.D(b),
!0}else if(G=E.AN()){if(a.cM(t,0,0),G.Kx(a,-(w+z.N),-(x+z.L)))return d.D(b),!0}else return d.D(b),!0}d.D(b);return!1}$r(k,n,q,r){const p=k.aa();var v=this.g.Hb();if(!v)throw Error("cannot call outside event");v=v.Wd;if(p.Xb){r||(p.ve(!1),d.D(p.G));for(var t of k.ma()){var w=t.j(),x=w.da();const [z,E]=x.Ag(n,q,w.ag());if(w.gu(z,E)){if(r)return!1;p.Bp(t)}else v&&p.sn(t)}}else{t=v?p.hc:p.G;w=0;for(let z=0,E=t.length;z<E;++z){x=t[z];const G=x.j(),N=G.da(),[C,H]=N.Ag(n,q,G.ag());if(G.gu(C,H)){if(r)return!1;
v?p.Bp(x):t[w++]=x}else v&&(t[w++]=x)}r||(t.length=w)}k.dc();return r?!0:p.WE()}tE(k,n,q,r){k=k?1!==k.ie||1!==k.je:!1;if(n.Wa)for(const p of n.Gn)k||p.XH?d.Em(r,p.ma()):(p.nT(),p.UA.Dz(q,r));else k||n.XH?d.Em(r,n.ma()):(n.nT(),n.UA.Dz(q,r))}}}
{"use strict";const d=self.A;d.f7=class extends d.ga{constructor(b,a){super();this.lI=b;this.kI=a;this.kj=d.B(d.Mu)}m(){this.kj.m();this.kj=null}Om(b,a,e){let c=this.kj.$(b,a);return c?c:e?(c=d.B(d.a1,this,b,a),this.kj.Set(b,a,c),c):null}Zi(b){b=Math.floor(b/this.lI);return isFinite(b)?b:0}$i(b){b=Math.floor(b/this.kI);return isFinite(b)?b:0}Il(b,a,e){if(a)for(let c=a.N,f=a.X;c<=f;++c)for(let l=a.L,g=a.V;l<=g;++l){if(e&&e.Qf(c,l))continue;const k=this.Om(c,l,!1);k&&(k.Oh(b),k.cp()&&this.kj.Jo(c,l))}if(e)for(let c=
e.N,f=e.X;c<=f;++c)for(let l=e.L,g=e.V;l<=g;++l)a&&a.Qf(c,l)||this.Om(c,l,!0).dF(b)}Dz(b,a){let e=this.Zi(b.N);const c=this.$i(b.L),f=this.Zi(b.X);b=this.$i(b.V);if(isFinite(f)&&isFinite(b))for(;e<=f;++e)for(let l=c;l<=b;++l){const g=this.Om(e,l,!1);g&&g.iE(a)}}}}{"use strict";const d=self.A;d.a1=class extends d.ga{constructor(b,a,e){super();this.Y=a;this.O=e;this.G=d.B(d.SD)}m(){this.G.m();this.G=null}cp(){return this.G.cp()}dF(b){this.G.wc(b)}Oh(b){this.G.Jo(b)}iE(b){d.Em(b,this.G.pE())}}}
{"use strict";const d=self.A;d.mpa=class{constructor(){this.rect=new d.Rect;this.Gx=0}Set(b,a,e,c){this.rect.set(b,a,e,c);this.rect.normalize();this.Gx=0;return this}}}
{"use strict";const d=self.A,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),e=self.dl.Ao,c=e.create(),f=d.B(d.xd),l=d.B(d.Rect);d.XD=class extends d.ga{constructor(g){super();this.g=g;this.Ck=null;this.LU=!1;this.Pj=this.fb=null;this.NI="high-performance";this.Bn=this.An=this.Yh=this.Zh=this.Oc=this.cd=this.Yk=this.Zk=0;this.Es=!0;this.qj=this.Fk=this.eW=0;this.TT=this.eU="letterbox-scale";this.Uea=this.Tea=0;this.$A=e.create();
this.yj=this.dL="high";this.iq=!1;this.Lv=[];this.ZC=new Set;this.CC=self.C3_Shaders;this.og=this.In=0;this.Ks=NaN;this.sB=null;this.DJ=new Map;this.$v=NaN;this.eD=new Map;this.FC="";this.AK=1;this.UV=d.B(d.Rect);this.BK="";this.VV=this.dx=null;this.Jw=0;this.He=-1;this.Tn=0;this.JJ=k=>this.Tn=k.progress;this.Jf=null;this.Kf={Ox:null,Rx:null,$x:null};this.EK=this.YV=this.FK=0;this.Mj="fade-in";this.DK=null;this.XV=new Promise(k=>this.DK=k)}pda(g){this.NI=g}Pda(g){this.LU=!!g}async Bg(g){this.Ck=g.canvas;
this.g.Fi("runtime","window-resize",q=>this.oH(q));this.g.Fi("runtime","fullscreenchange",q=>this.sba(q));this.g.Fi("runtime","fullscreenerror",q=>this.tba(q));this.Ck.addEventListener("webglcontextlost",q=>this.Av(q));this.Ck.addEventListener("webglcontextrestored",()=>this.mH());this.iq=!!g.isFullscreen;var k=navigator.gpu&&this.LU;let n=!1;if(k)try{await this.ZR(!0)}catch(q){this.Pj=null}if(!this.Bb())try{await this.YR(!0)}catch(q){this.fb=null}this.Bb()||(n=!0);if(!this.Bb()&&k)try{await this.ZR(!1)}catch(q){this.Pj=
null}if(!this.Bb())try{await this.YR(!1)}catch(q){this.fb=null}k=this.Bb();if(!k)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");k.h6(n);this.yc(g.windowInnerWidth,g.windowInnerHeight,!0);this.Pj?await this.kaa():this.fb&&await this.jaa();k.aG(this.Es);k.rk()&&(this.Ks=0);g=!1;for(const q of this.g.RH){for(const r of q.Dg())r.VR(k),r.mb.xx&&(g=!0);q.pn()}this.g.Nda(g)}async ZR(g){g={powerPreference:this.NI,depth:this.g.Cm,failIfMajorPerformanceCaveat:g};this.Pj=d.B(d.ca.Sta);
await this.Pj.Ra(this.Ck,g)}async YR(g){g={powerPreference:this.NI,LW:!0,depth:this.g.Cm,failIfMajorPerformanceCaveat:g};"Android"===d.Yc.Hr&&"Chromium"===d.Yc.ey&&75>d.Yc.VD&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.VW=1);"standard"===this.g.ws?g.alpha=!0:(g.alpha=!1,g.EL=!0);this.fb=d.B(d.ca.Q7,this.Ck,g);await this.fb.lz()}async kaa(){if(this.CC){const g=[];for(const [k,n]of Object.entries(this.CC))g.push(this.Pj.fE(k,
n.Axa,d.ca.Tta.Ly()));await Promise.all(g)}}async jaa(){if(this.CC){const g=[];for(const [k,n]of Object.entries(this.CC))n.src=n.qva,g.push(this.fb.fE(n,d.ca.hv.Ly(),k));await Promise.all(g);this.fb.q5();this.fb.Qh()}this.fb.rk()&&(this.sB=d.B(d.ca.yQ,this.fb))}m(){this.Ck=this.fb=this.g=null}oH(g){const k=this.g,n=g.devicePixelRatio;k.De&&(self.devicePixelRatio=n);k.lda(n);this.iq=!!g.isFullscreen;this.yc(g.innerWidth,g.innerHeight);k.ea();k.ub&&(k.Gu()||self.Vf.jma())&&k.GF()}sba(g){this.iq=!!g.isFullscreen;
this.yc(g.innerWidth,g.innerHeight,!0);this.g.ea()}tba(g){this.iq=!!g.isFullscreen;this.yc(g.innerWidth,g.innerHeight,!0);this.g.ea()}yc(g,k,n=!1){g=Math.floor(g);k=Math.floor(k);if(0>=g||0>=k)throw Error("invalid size");if(this.Zk!==g||this.Yk!==k||n){this.Zk=g;this.Yk=k;n=this.tu();"letterbox-scale"===n?this.B8(g,k):"letterbox-integer-scale"===n?this.A8(g,k):"off"===n?this.y8(g,k):this.z8(g,k);this.kea(n);this.Ck.width=this.Zh;this.Ck.height=this.Yh;this.g.Cl("canvas","update-size",{marginLeft:this.An,
marginTop:this.Bn,styleWidth:this.cd,styleHeight:this.Oc});g=this.Bb();g.yc(this.Zh,this.Yh,!0);for(var q of this.Lv)g.iZ(q);d.D(this.Lv);g.eu(this.$A,this.Eg()/this.Wf());q=this.g.$a;q.pp();q.op()}}B8(g,k){const n=this.g.kl(),q=this.g.nh,r=this.g.mh,p=q/r;g/k>p?(this.cd=Math.round(k*p),this.Oc=k,this.An=Math.floor((g-this.cd)/2),this.Bn=0):(this.cd=g,this.Oc=Math.round(g/p),this.An=0,this.Bn=Math.floor((k-this.Oc)/2));this.Zh=Math.round(this.cd*n);this.Yh=Math.round(this.Oc*n);this.g.dv(q,r)}A8(g,
k){const n=this.g.kl();1!==n&&(g+=1,k+=1);const q=this.g.nh,r=this.g.mh;var p=q/r;p=g/k>p?k*p*n/q:g/p*n/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.Zh=Math.round(q*p);this.Yh=Math.round(r*p);this.cd=this.Zh/n;this.Oc=this.Yh/n;this.An=Math.max(Math.floor((g-this.cd)/2),0);this.Bn=Math.max(Math.floor((k-this.Oc)/2),0);this.g.dv(q,r)}z8(g,k){const n=this.g.kl();this.cd=g;this.Oc=k;this.Zh=Math.round(this.cd*n);this.Yh=Math.round(this.Oc*n);this.Bn=this.An=0;g=this.ll();this.g.dv(this.cd/g,
this.Oc/g)}y8(g,k){const n=this.g.kl();this.cd=this.g.Of;this.Oc=this.g.Nf;this.Zh=Math.round(this.cd*n);this.Yh=Math.round(this.Oc*n);this.iq?(this.An=Math.floor((g-this.cd)/2),this.Bn=Math.floor((k-this.Oc)/2)):this.Bn=this.An=0;this.g.dv(this.g.Of,this.g.Nf)}kea(g){if("high"===this.dL)this.Fk=this.Zh,this.qj=this.Yh,this.yj="high";else{let n;if("off"===this.tu()){var k=this.g.Of;n=this.g.Nf}else k=this.g.nh,n=this.g.mh;this.Zh<k&&this.Yh<n?(this.Fk=this.Zh,this.qj=this.Yh,this.yj="high"):(this.Fk=
k,this.qj=n,this.yj="low","scale-inner"===g?(g=k/n,k=this.Zk/this.Yk,k<g?this.Fk=this.qj*k:k>g&&(this.qj=this.Fk/k)):"scale-outer"===g&&(g=k/n,k=this.Zk/this.Yk,k>g?this.Fk=this.qj*k:k<g&&(this.qj=this.Fk/k)))}}e6(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.eU=g;g=this.g.$a;g.pp();g.op()}Py(){return this.eU}T5(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.TT=g;g=this.g.$a;g.pp();g.op()}tu(){return this.iq?this.TT:this.Py()}JP(g){if(!a.has(g))throw Error("invalid fullscreen scaling quality");
this.dL=g;this.g.$a.pp()}static nR(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Eg(){return this.Fk}Wf(){return this.qj}aG(g){this.Es=!!g}Mda(g){this.eW=g}H2(){return this.Bb().$o()}Av(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Lv=[];this.ZC.clear();this.fb.Bl();this.g.Av()}async mH(){await this.fb.zF();
await this.kua();for(const g of this.g.RH)for(const k of g.Dg())k.VR(this.fb);await this.g.mH();console.log("[Construct 3] WebGL context restored")}Xo(){return this.fb}Du(){return this.Pj}Bb(){return this.Pj||this.fb}Sm(){return"low"===this.yj?1/this.g.kl():this.ll()}ll(){const g=this.tu();if("off"===g||"crop"===g)return 1;const k=this.g.nh,n=this.g.mh,q=k/n,r=this.Zh/this.Yh;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.Oc/n:this.cd/k}FP(g,k,n){k=k||this.Fk;n=n||this.qj;const q=k/2+this.Tea,
r=n/2+this.Uea;{let p=this.$A;if(k!==this.Fk||n!==this.qj)g.eu(c,k/n),p=c;g.Vr(p)}k=g.du(q,r,100*this.g.kl(),q,r,n||this.qj);g.Rr(k)}O5(g){var k=this.cd/2;const n=this.Oc/2;g.Vr(this.$A);k=g.du(k,n,100,k,n);g.Rr(k)}Mo(){return this.An}No(){return this.Bn}pu(g){g.depth=this.g.Cm;const k=this.Lv,n=k.findIndex(r=>r.v2(g));let q;-1!==n?(q=k[n],k.splice(n,1)):q=this.Bb().VY(g);this.ZC.add(q);return q}dn(g){if(!this.ZC.has(g))throw Error("render target not in use");this.ZC.delete(g);this.Lv.push(g)}*fD(){for(const g of this.g.$a.Vx())for(const k of g.ac){const n=
this.DJ.get(k);n&&(yield n)}}tN(g){if(!this.Bb().rk())return null;let k=this.DJ.get(g);k||(k={name:g.Ca(),gM:d.B(d.ca.yQ,this.fb),hD:0,UW:0},this.DJ.set(g,k));return k.gM}hea(){const g=this.Bb();if(g.rk()&&0===this.og){this.og=g.di;this.$v=NaN;for(const k of this.fD())k.hD=NaN}}oea(){this.fb&&this.fb.rk()&&this.pea();this.Pj&&this.Pj.rk()&&this.qea()}pea(){if(isNaN(this.$v)&&(this.$v=this.sB.oN(this.In,this.og),!isNaN(this.$v))){if(this.g.ub)for(const g of this.fD())if(g.hD=g.gM.oN(this.In,this.og),
isNaN(g.hD))return;this.sB.OM(this.og);this.Ks=Math.min(this.$v,1);if(this.g.ub){for(const g of this.fD())g.gM.OM(this.og),g.UW=Math.min(g.hD,1);self.Vf.E7(this.Ks,[...this.fD()])}this.In=this.og;this.og=0}}qea(){if(0!==this.og){for(var g=this.In;g<this.og;++g){var k=this.eD.get(g);if(k&&!k.hz())return}k=this.g.Nb();g=d.i3(k.ac.length+1);for(var n=this.In;n<this.og;++n){var q=this.eD.get(n);if(q){q=q.Yy();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const v=q[2*r],t=q[2*r+1];g[r]=0===Number(v)||
0===Number(t)?NaN:g[r]+Number(t-v)/1E9}}}this.Ks=d.ba(g[0],0,1);if(this.g.ub){n=[];k=k.ac;for(let r=0,p=Math.min(k.length,g.length-1);r<p;++r)n.push({name:k[r].Ca(),UW:d.ba(g[r+1],0,1)});self.Vf.E7(this.Ks,n)}for(g=this.In;g<this.og;++g)this.eD.delete(g);this.In=this.og;this.og=0}}m8(g){this.eD.set(this.Pj.di,g)}Ry(){return this.Ks}gQ(g,k,n,q,r,p){this.FC=g;this.AK=k;this.UV.Ei(n,q,r,p);return this.dx?this.dx:this.dx=new Promise(v=>{this.VV=v})}aba(){if(this.FC){var g=this.Ck,k=this.UV,n=d.ba(Math.floor(k.N),
0,g.width),q=d.ba(Math.floor(k.L),0,g.height),r=k.width();r=0===r?g.width-n:d.ba(Math.floor(r),0,g.width-n);k=k.height();k=0===k?g.height-q:d.ba(Math.floor(k),0,g.height-q);(0!==n||0!==q||r!==g.width||k!==g.height)&&0<r&&0<k&&(g=d.Bg(r,k),g.getContext("2d").drawImage(this.Ck,n,q,r,k,0,0,r,k));d.fu(g,this.FC,this.AK).then(p=>{this.BK=URL.createObjectURL(p);this.dx=null;this.VV(this.BK)});this.FC="";this.AK=1}}X1(g){this.fb&&(2===g?(this.Jf=d.B(d.ca.gP,this.Bb()),this.Jf.n6(),this.Jf.b6(),this.Jf.c6(),
this.Jf.j6(),this.Jf.W6(),this.Jf.yc(300,200)):0===g?(g=this.g.Xs)&&g.Er(this.fb).catch(k=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",k)):4===g&&(this.Paa().then(k=>{"done"===this.Mj?this.fb.Tj(k):this.Kf.Ox=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.dS("splash-images/splash-poweredby-512.png").then(k=>{"done"===this.Mj?this.fb.Tj(k):this.Kf.Rx=k}).catch(k=>console.warn("Failed to load splash image: ",k)),this.dS("splash-images/splash-website-512.png").then(k=>
{"done"===this.Mj?this.fb.Tj(k):this.Kf.$x=k}).catch(k=>console.warn("Failed to load splash image: ",k))))}async Paa(){var g=(new URL("splash-images/splash-logo.svg",this.g.rE())).toString();g=await d.jl(g);g=await this.g.V4(g);return await this.fb.oy(g,{Px:"high"})}async dS(g){g=(new URL(g,this.g.rE())).toString();g=await d.jl(g);return await this.fb.oy(g,{Px:"high"})}ZE(){this.g.Cl("runtime","hide-cordova-splash")}l7(){this.Jw=Date.now();this.g.Gb().addEventListener("loadingprogress",this.JJ);this.He=
requestAnimationFrame(()=>this.gR());3!==this.g.Ws&&this.ZE()}async p_(){if(this.fb){this.Tn=1;var g=this.g.Ws;4===g&&await this.XV;this.XV=this.DK=null;-1!==this.He&&(cancelAnimationFrame(this.He),this.He=-1);this.g.Gb().removeEventListener("loadingprogress",this.JJ);this.JJ=null;this.Jf&&(this.Jf.m(),this.Jf=null);this.g.b5();this.fb.nn();this.Kf.Ox&&(this.fb.Tj(this.Kf.Ox),this.Kf.Ox=null);this.Kf.Rx&&(this.fb.Tj(this.Kf.Rx),this.Kf.Rx=null);this.Kf.$x&&(this.fb.Tj(this.Kf.$x),this.Kf.$x=null);
this.fb.ky();this.fb.mu();this.Mj="done";this.In=this.fb.di;3===g&&this.ZE()}}gR(){if(-1!==this.He){var g=this.fb;if(g){g.nn();this.He=-1;var k=this.g.rb.RI,n=this.g.Ws;3!==n&&(this.O5(g),g.ky(),g.Nr(),g.Qh(),g.Sg(null));if(0===n)this.e$(k);else if(1===n)this.$z(k,120,0);else if(2===n)this.d$(k);else if(3!==n)if(4===n)this.f$(k);else throw Error("invalid loader style");g.mu();this.He=requestAnimationFrame(()=>this.gR())}}}d$(g){g?this.Jf.AP(1,0,0):this.Jf.AP(.6,.6,.6);this.Jf.Wr(Math.round(100*this.Tn)+
"%");g=this.cd/2;const k=this.Oc/2;f.kX(g-150,k-100,g+150,k+100);this.fb.Sg(this.Jf.se());this.fb.Kr(f,this.Jf.Kh())}$z(g,k,n){const q=this.fb;q.YF();g?q.Af(1,0,0,1):q.Af(.118,.565,1,1);g=this.cd/2;const r=this.Oc/2,p=k/2;l.Ei(g-p,r-4+n,Math.floor(k*this.Tn),8);q.Rect(l);l.Ei(g-p,r-4+n,k,8);l.offset(-.5,-.5);l.oD(.5,.5);q.Af(0,0,0,1);q.qO(l);l.oD(1,1);q.Af(1,1,1,1);q.qO(l)}e$(g){var k=this.g.Xs;if(k)if(k=k.se()){var n=k.P(),q=k.U(),r=this.cd/2,p=this.Oc/2,v=n/2;q/=2;f.kX(r-v,p-q,r+v,p+q);this.fb.Sg(k);
this.fb.xd(f);this.$z(g,n,q+16)}else this.$z(g,120,0);else this.$z(g,120,0)}f$(g){const k=this.fb,n=this.Kf.Ox,q=this.Kf.Rx,r=this.Kf.$x,p=Date.now();0===this.FK&&(this.Jw=p);const v=this.g.Br()||this.g.jfa&&!this.g.w2(),t=v?0:200,w=v?0:3E3;let x=1;"fade-in"===this.Mj?x=Math.min((p-this.Jw)/300,1):"fade-out"===this.Mj&&(x=Math.max(1-(p-this.EK)/300,0));k.YF();k.Af(.231*x,.251*x,.271*x,x);l.set(0,0,this.cd,this.Oc);k.Rect(l);const z=Math.ceil(this.cd),E=Math.ceil(this.Oc);let G;256<this.Oc?(k.Af(.302*
x,.334*x,.365*x,x),G=Math.max(.005*E,2),l.Ei(0,.8*E-G/2,z,G),k.Rect(l),g?k.Af(x,0,0,x):k.Af(.161*x,.953*x,.816*x,x),g=z*this.Tn,l.Ei(.5*z-g/2,.8*E-G/2,g,G),k.Rect(l),k.Af(x,x,x,x),k.Qh(),q&&(g=1.5*d.ba(.22*E,105,.6*z),G=g/8,l.Ei(.5*z-g/2,.2*E-G/2,g,G),k.Sg(q),k.Rect(l)),n&&(G=g=Math.min(.395*E,.95*z),l.Ei(.5*z-g/2,.485*E-G/2,g,G),k.Sg(n),k.Rect(l)),r&&(g=1.5*d.ba(.22*E,105,.6*z),G=g/8,l.Ei(.5*z-g/2,.868*E-G/2,g,G),k.Sg(r),k.Rect(l))):(k.Af(.302*x,.334*x,.365*x,x),G=Math.max(.005*E,2),l.Ei(0,.85*E-
G/2,z,G),k.Rect(l),g?k.Af(x,0,0,x):k.Af(.161*x,.953*x,.816*x,x),g=z*this.Tn,l.Ei(.5*z-g/2,.85*E-G/2,g,G),k.Rect(l),k.Af(x,x,x,x),k.Qh(),n&&(G=g=.55*E,l.Ei(.5*z-g/2,.45*E-G/2,g,G),k.Sg(n),k.Rect(l)));this.FK++;"fade-in"===this.Mj&&300<=p-this.Jw&&2<=this.FK&&(this.Mj="wait",this.YV=p);"wait"===this.Mj&&p-this.YV>=w&&1<=this.Tn&&(this.Mj="fade-out",this.EK=p);("fade-out"===this.Mj&&p-this.EK>=300+t||v&&1<=this.Tn&&500>p-this.Jw)&&this.DK()}}}
{"use strict";const d=self.A,b=self.Vf,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.tP=class extends d.ga{constructor(c){c=Object.assign({},a,c);super();this.Ow=c.messagePort;this.Eea=c.baseUrl;this.De=!!c.isInWorker;e=c.ife;this.uj=c.exportType;this.tJ=!!c.isiOSCordova;this.jfa=!!c.isFBInstantAvailable;this.Gfa=c.opusWasmScriptUrl;this.qV=c.opusWasmBinaryUrl;this.Ce=this.Lea=this.ub=!("preview"!==this.uj||!c.isDebug);this.rI=
0;this.CA=[];this.yea=[];this.pK=this.AV=this.xC="";this.mh=this.nh=0;this.OT=self.devicePixelRatio;this.Ws=this.Nf=this.Of=this.eK=this.dK=0;this.$C=!1;this.Lk=!0;this.aL=!1;this.Xs=null;this.rb=d.B(d.dY,this,c);this.$a=d.B(d.T2,this);this.za=d.B(d.u_,this);this.xq=d.B(d.F4,this);this.lg=d.B(d.FY,this);this.Fb=d.B(d.t7,this);this.OK=d.B(d.x7,this);this.Zc=[];this.YJ=new Map;this.ZJ=new Map;this.$T=0;this.Aea=[];this.RH=[];this.Uv=[];this.$l=[];this.CB=new Map;this.tB=!1;this.Qw=this.$J=0;this.fq=
new Map;this.gq=new Set;this.DB=new Set;this.oC=[];this.NU=[];this.W=null;this.Cm=!1;this.HI="vsync";this.ws="standard";this.od="trilinear";this.Ln=!1;this.WJ=!0;this.pJ=this.tV=!1;this.Vfa={YW:f=>{this.rm=this.He=-1;this.Hd(f)},Wha:f=>{this.rm=-1;this.Hd(f,!1,"skip-render")},Hha:()=>{this.He=-1;this.GF()}};this.rm=this.He=-1;this.Gs=this.vm=this.Sk=0;this.tU=this.KB=this.vB=!1;this.lJ=!0;this.tt=0;this.Nfa=new d.CF(1);this.Lfa=()=>Math.random();this.aB=this.bB=this.bC=this.ho=0;this.Cd=1;this.jV=
30;this.LI=d.B(d.Dr);this.MI=d.B(d.Dr);this.cL=d.B(d.Dr);this.pB=-1;this.kC=this.fm=this.oB=this.Zp=0;this.Mk=!1;this.Iw=this.Yw="";this.Vs=null;this.qq="";this.wK=this.oK=null;this.Vb=d.B(d.Event.Gb);this.wI=new Map;this.gK=new Map;this.Cfa=0;this.KU=this.PT=this.QT=!1;this.bL=[];this.Xp={pretick:d.B(d.Event,"pretick",!1),tick:d.B(d.Event,"tick",!1),tick2:d.B(d.Event,"tick2",!1),instancedestroy:d.B(d.Event,"instancedestroy",!1),beforelayoutchange:d.B(d.Event,"beforelayoutchange",!1),layoutchange:d.B(d.Event,
"layoutchange",!1)};this.Xp.instancedestroy.instance=null;this.ne=d.B(d.Event.Gb);this.nW=null;this.yn=d.B(d.ip,d.cy.mG);this.Lp=d.B(d.ip,d.cy.mG);this.Mp=d.B(d.ip,d.cy.mG);this.Aw=d.B(d.Q2,this,c.jobScheduler);c.canvas&&(this.W=d.B(d.XD,this));this.Ow.onmessage=f=>this._OnMessageFromDOM(f.data);this.Fi("runtime","visibilitychange",f=>this.Nba(f));this.Fi("runtime","opus-decode",f=>this.uea(f.arrayBuffer));this.Fi("runtime","get-remote-preview-status-info",()=>this.R$());this.Fi("runtime","js-invoke-function",
f=>this.jA(f));this.Fi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Vb.addEventListener("window-blur",f=>this.nH(f));this.Vb.addEventListener("window-focus",()=>this.Oba());this.Fb.SX();this.Aj=null;this.efa=new WeakMap;this.Rv={keyboard:null,HL:null,iM:null}}static Ra(c){return d.B(d.tP,c)}m(){d.D(this.Zc);this.YJ.clear();this.ZJ.clear();this.$a.m();this.$a=null;this.za.m();this.za=null;this.xq.m();this.xq=null;this.rb.m();this.rb=null;this.lg.m();this.lg=null;this.Fb.m();this.Fb=
null;this.OK.m();this.OK=null;this.W&&(this.W.m(),this.W=null);this.Vb.m();this.Vb=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.oS(c);else if("result"===f)this.Gba(c);else throw Error(`unknown message '${f}'`);}oS(c){if(this.KU){var f=c.component,l=c.handler,g=c.data,k=c.dispatchOpts,n=!(!k||!k.dispatchRuntimeEvent);k=!(!k||!k.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(n&&(c=new d.Event(l),c.data=g,this.Vb.Dga(c)),k)){c=new d.Event(l,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.Ch(c)}if(c=this.wI.get(f))if(c=c.get(l)){n=null;try{n=c(g)}catch(r){console.error(`Exception in '${f}' handler '${l}':`,r);null!==q&&this.nA(q,!1,""+r);return}null!==q&&(n&&n.then?n.then(r=>this.nA(q,!0,r)).catch(r=>{console.error(`Rejection from '${f}' handler '${l}':`,r);this.nA(q,!1,""+r)}):this.nA(q,!0,n))}else n||k||console.warn(`[Runtime] No DOM handler '${l}' for component '${f}'`);else n||k||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.bL.push(c)}nA(c,
f,l){this.Ow.postMessage({type:"result",responseId:c,isOk:f,result:l})}Gba(c){const f=c.responseId,l=c.isOk;c=c.result;const g=this.gK.get(f);l?g.resolve(c):g.reject(c);this.gK.delete(f)}Fi(c,f,l){let g=this.wI.get(c);g||(g=new Map,this.wI.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,l)}Cl(c,f,l){this.Ow.postMessage({type:"event",component:c,handler:f,data:l,responseId:null})}hp(c,f,l){const g=this.Cfa++,k=new Promise((n,q)=>{this.gK.set(g,{resolve:n,
reject:q})});this.Ow.postMessage({type:"event",component:c,handler:f,data:l,responseId:g});return k}J4(){if(!this.ub)throw Error("not in debug mode");this.Cl("runtime","post-to-debugger",{type:"reload"})}async Kg(c){this.ub?await b.Kg(this):self.Vf&&self.Vf.Xla(this);var [f]=await Promise.all([this.rb.YM("data.json"),this.$aa(),this.Aw.Kg()]);this.Caa(f);await this.laa(c);this.Br()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.Xo()?(f=this.Xo(),
console.info(`[C3 runtime] Hosted in ${this.De?"worker":"DOM"}, rendering with WebGL ${f.Nd} [${f.ux}] (${f.y2()?"desynchronized":"standard"} compositing)`)):this.Du()&&console.info(`[C3 runtime] Hosted in ${this.De?"worker":"DOM"}, rendering with experimental WebGPU`);this.Bb().SI&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.KU=!0;for(const l of this.bL)this.oS(l);d.D(this.bL);
this.W&&this.W.l7();for(const l of c.runOnStartupFunctions)this.CA.push(this.Dca(l));await Promise.all([this.rb.wQ(),...this.CA]);d.D(this.CA);if(this.rb.RI)this.W&&this.W.ZE();else return this.W&&await this.W.p_(),await this.Vb.sL(new d.Event("beforeruntimestart")),await this.nn(),this.Ow.postMessage({type:"runtime-ready"}),this}async Dca(c){try{await c(this.Aj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}Caa(c){c=c.project;this.xC=c[0];this.AV=c[16];this.pK=c[31];
const f=c[39]||"loading-logo.png";this.Ln=!!c[9];this.nh=this.Of=c[10];this.mh=this.Nf=c[11];this.dK=this.nh/2;this.eK=this.mh/2;this.ws=c[36];this.HI=c[37];"low-latency"===this.ws&&this.r2()&&77>=d.Yc.VD&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.ws="standard");this.Cm=!!c[40];this.od=c[14];this.$C=!!c[18];this.Ws=c[19];this.Qw=c[21];
this.tV=c[22];const l=this.rb;l.fda(c[7],c[25]);l.Cda(c[8]);l.oda(c[32]);l.tda(c[28]);l.Oda(c[29]);if(0===this.Ws){let r="";this.Br()?l.hA(f)&&(r=l.HE(f)):r=l.uU+f;r&&(this.Xs=l.xz({url:r}))}this.W&&(this.W.e6(d.XD.nR(c[12])),this.W.JP(c[23]?"high":"low"),this.W.aG(0!==c[24]),this.W.pda(c[34]),this.W.Mda(c[41]),this.W.Pda(c[13]));this.xq.WY();this.oC=self.vM();for(var g of c[2])this.xq.UY(g);this.oC=self.vM();this.Jaa();for(var k of c[3])g=d.xF.Ra(this,this.Zc.length,k),this.Zc.push(g),this.YJ.set(g.Ca().toLowerCase(),
g),this.ZJ.set(g.Va,g);for(const r of c[4])this.Zc[r[0]].Faa(r);for(var n of c[27])k=n.map(r=>this.Zc[r]),this.Aea.push(d.B(d.KY,this,k));for(const r of this.Zc)r.jba();for(const r of c[5])this.$a.Ra(r);(n=c[1])&&(n=this.$a.mr(n))&&this.$a.Z5(n);for(var q of c[33])this.Fb.Ra(q);for(const r of c[35])this.OK.Ra(r);this.iaa();for(const r of c[6])this.za.Ra(r);this.za.Qb();this.eaa();d.D(this.oC);this.ae();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Cl("runtime","set-target-orientation",
{targetOrientation:q})}OD(c){this.CA.push(c)}O$(){return this.$T++}c8(c){this.RH.push(c)}async laa(c){this.W&&(await this.W.Bg(c),this.W.X1(this.Ws))}async $aa(){if(!this.rb.aO("audio/webm; codecs=opus")){var c=null;try{c=this.tJ&&this.rb.qw?await this.rb.IM(this.qV):await this.rb.ku(this.qV)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.LX(c):this.KX();await this.MX([this.Gfa])}}async uea(c){return await this.ND("OpusDecode",{arrayBuffer:c},
[c])}async nn(){this.vB=!0;this.ho=Date.now();if(this.$C){for(var c of this.Zc)c.Wa||c.oJ||!c.Ff||c.Hc();this.rb.wQ().then(()=>{this.Lk=!1;this.rS()})}else this.Lk=!1;this.rb.k6();this.ub&&b.vqa(e);for(const f of this.$a.gj)f.V8();c=this.$a.k0();await c.aH(null,this.Bb());await c.iT(!0);this.Zp=performance.now();this.$C||this.rS();(await this.hp("runtime","before-start-ticking")).isSuspended?this.tt++:this.Hd()}rS(){this.na(d.C.Ya.F.SO,null,null);this.Cl("runtime","register-sw")}Ih(c){c=Math.floor(c);
const f=this.oC;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}Jaa(){for(const c of self.kY){const f=d.first(Object.keys(c));this.NU.push(f)}}Mi(c){c=Math.floor(c);const f=this.NU;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}rE(){return this.Eea}la(){return this.za}kd(){return this.za.kd()}wf(){return this.za.wf()}Hb(){return this.za.Hb()}vf(){return this.za.vf()}x2(){return 0===this.wf().Sl}su(){return this.za.su()}Au(){return this.xq.Au()}yf(c){c=
Math.floor(c);if(0>c||c>=this.Zc.length)throw new RangeError("invalid index");return this.Zc[c]}IE(c){return this.YJ.get(c.toLowerCase())||null}Ty(c){return this.ZJ.get(c)||null}*cga(){for(const c of this.Zc)c.Wa||(yield*c.PW())}Gb(){return this.Vb}Ch(c){c.Fc=this.Aj;const f=this.ub&&!this.za.oz();f&&b.oG();this.ne.dispatchEvent(c);f&&b.QD()}Ko(c){c.Fc=this.Aj;return this.ne.sL(c)}v6(c,f){if(this.nh!==c||this.mh!==f)this.nh=c,this.mh=f,c=this.$a,c.pp(),c.op()}dv(c,f){if(this.Of!==c||this.Nf!==f)this.Of=
c,this.Nf=f,c=this.$a,c.pp(),c.op()}lda(c){this.OT=c}kl(){return this.OT}Eg(){return this.W?this.W.Eg():this.Of}Wf(){return this.W?this.W.Wf():this.Nf}Sm(){return this.W?this.W.Sm():1}ll(){return this.W?this.W.ll():1}Mo(){return this.W?this.W.Mo():0}No(){return this.W?this.W.No():0}fN(){return this.W?this.W.cd:0}eN(){return this.W?this.W.Oc:0}Py(){return this.W?this.W.Py():"off"}pu(c){return this.W?this.W.pu(c):null}dn(c){this.W&&this.W.dn(c)}Nda(c){this.aL=!!c}Ry(){return this.W?this.W.Ry():NaN}oF(){return"nearest"!==
this.od}b5(){this.Xs&&(this.Xs.m(),this.Xs=null)}Nb(){return this.$a.Nb()}xz(c){return this.rb.xz(c)}cE(c,f,l,g,k){return this.Ii(c,f,!1,l,g,!1,k,void 0,k)}Ii(c,f,l,g,k,n,q,r,p){var v=null;let t=null;c instanceof d.xF?(t=c,t.Wa&&(v=t.Gn,t=v[Math.floor(this.Dl()*v.length)]),v=t.As):(v=c,t=this.yf(v[1]));c=t.Ib().Ff;if(this.Lk&&c&&!t.oJ)return null;const w=f;c||(f=null);var x=l&&!n&&v&&!this.fq.has(v[2])?v[2]:this.Qw++;const z=v?v[0]:null,E=d.B(d.Instance,{Fc:this,LL:t,Zd:f,wX:z,OW:v?v[3]:null,uid:x});
this.fq.set(x,E);x=null;c&&(x=E.j(),"undefined"!==typeof g&&"undefined"!==typeof k&&(x.Ug(g),x.Vg(k)),t.OS());f&&(p||f.Yg(E,!0),1===f.ie&&1===f.je||t.vH(!0),f.oc().xO(t));this.$J++;let G=!0;r&&(r=r.H(),r.Zb()&&t.Zb()&&t.bh===r.bh&&(G=!1));if(t.Zb()&&!l&&!n&&G){for(var N of t.bh.km)N!==t&&(r=this.Ii(N,w,!1,x?x.R():g,x?x.S():k,!0,!1,void 0,p),E.es(r));for(var C of E.Kd){C.es(E);for(const H of E.Kd)C!==H&&C.es(H)}}c&&!l&&q&&this.DG(E,z,x,f,g,k,p);if(t.Zb()&&!l&&!n&&q)for(const H of E.Kd)if(l=H.j())N=
H.Ib(),C=H.H().As[0],N.Ff?this.DG(H,C,l,f,l.R(),l.S(),p):this.DG(H,C,l,f,void 0,void 0,p);!n&&q&&("undefined"===typeof g&&(g=z[0]),"undefined"===typeof k&&(k=z[1]),f=x.bz(),g=g-x.R()+f.R(),k=k-x.S()+f.S(),f.Hl(g,k));t.Cv();k=v?d.gD(v[5]):null;v=v?v[4].map(H=>d.gD(H)):null;c&&z&&z[13]&&E.sda();E.Wz(k,v);this.$l.push(E);this.tB=!0;this.ub&&b.Yla(E);return E}DG(c,f,l,g,k,n,q){var r=l.NV,p=l.xK;c.j().bG(r);if(p){"undefined"===typeof k&&(k=f[0]);"undefined"===typeof n&&(n=f[1]);r=new Set;l=f[0];f=f[1];
for(const z of p){var v=z[1],t=z[2];p=z[3];var w=!!z[4];const E=z[5];t=this.$a.GE(z[0]).da(v).s0(t);v=this.yf(t[1]);var x=c.o1(v);const G=r.has(v);x&&!G&&w?(w=c.LN(v),x=k+t[0][0]-l,t=n+t[0][1]-f,w.j().Hl(x,t),w.j().bG(E),c.Mm(w,{Zt:!!(p>>0&1),$t:!!(p>>1&1),$q:!!(p>>2&1),Zq:!!(p>>3&1),Yt:!!(p>>4&1),Fx:!!(p>>5&1),au:!!(p>>6&1)}),r.add(v)):(v=this.Ii(t,g,!1,k+t[0][0]-l,n+t[0][1]-f,!1,!0,c,q),v.j().bG(E),c.Mm(v,{Zt:!!(p>>0&1),$t:!!(p>>1&1),$q:!!(p>>2&1),Zq:!!(p>>3&1),Yt:!!(p>>4&1),Fx:!!(p>>5&1),au:!!(p>>
6&1)}))}}}Nm(c){if(!this.gq.has(c)){var f=c.H(),l=this.CB.get(f);if(l){if(l.has(c))return;l.add(c)}else l=new Set,l.add(c),this.CB.set(f,l);this.ub&&b.Zla(c);c.dH();this.tB=!0;if(c.Zb())for(const g of c.Kd)this.Nm(g);for(const g of c.children())g.My()&&this.Nm(g);this.$a.hO()||this.Mk||(f=this.la(),f.Le(!0),c.dea(),f.Le(!1));c.t$(this.$a.hO())}}ae(){this.tB&&(this.v$(),this.w$(),this.tB=!1,this.ea())}v$(){for(const c of this.$l){const f=c.H();f.Yg(c);for(const l of f.ci)l.Yg(c),l.Cv()}d.D(this.$l)}w$(){this.Vb.Pr(!0);
for(const [c,f]of this.CB.entries())this.x$(c,f),f.clear();this.CB.clear();this.Vb.Pr(!1)}x$(c,f){for(const g of f){var l=this.Xp.instancedestroy;l.instance=g;this.Vb.dispatchEvent(l);this.fq.delete(g.yb);if(l=g.j())l.yS(),l.zS(),l.dH();this.gq.add(g);this.$J--}d.xh(c.ma(),f);c.Cv();this.DB.add(c);0===c.ma().length&&c.vH(!1);for(const g of c.ci)d.xh(g.ma(),f),g.Cv(),this.DB.add(g);if(c.Ib().Ff){c=new Set([...f].map(g=>g.j().da()));for(const g of c)g.hca(f)}}*zL(c){for(const f of this.$l)c.Wa?f.H().UD(c)&&
(yield f):f.H()===c&&(yield f)}N$(){return this.Qw++}Xaa(c,f){this.fq.set(c,f)}Av(){this.Vb.dispatchEvent(d.B(d.Event,"webglcontextlost"));this.cv(!0);for(var c of this.Zc)!c.Wa&&c.m1()&&c.jp();(c=this.Nb())&&c.Av();d.kz.Ir();d.YN.Ir()}async mH(){await this.Nb().aH(null,this.Xo());this.Vb.dispatchEvent(d.B(d.Event,"webglcontextrestored"));this.cv(!1);this.ea()}Nba(c){this.cv(c.hidden)}nH(c){this.Br()&&this.tV&&!d.Yc.pz&&!c.data.parentHasFocus&&(this.cv(!0),this.pJ=!0)}Oba(){this.pJ&&(this.cv(!1),
this.pJ=!1)}AS(){const c=this.Vfa;"vsync"===this.HI?-1===this.He&&(this.He=self.requestAnimationFrame(c.YW)):"unlimited-tick"===this.HI?(-1===this.rm&&(this.rm=d.JF(c.Wha)),-1===this.He&&(this.He=self.requestAnimationFrame(c.Hha))):-1===this.rm&&(this.rm=d.JF(c.YW))}G8(){-1!==this.He&&(self.cancelAnimationFrame(this.He),this.He=-1);-1!==this.rm&&(d.tY(this.rm),this.rm=-1)}$m(){return 0<this.tt}cv(c){var f=this.$m();this.tt+=c?1:-1;0>this.tt&&(this.tt=0);c=this.$m();!f&&c?(console.log("[Construct 3] Suspending"),
this.G8(),this.Vb.dispatchEvent(d.B(d.Event,"suspend")),this.na(d.C.Ya.F.s4,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),this.Zp=this.bC=f=performance.now(),this.fm=this.kC=this.oB=this.pB=0,this.Vb.dispatchEvent(d.B(d.Event,"resume")),this.na(d.C.Ya.F.p4,null,null),this.Gu()||this.Hd(f))}Z7(c){this.yn.wc(c)}jca(c){this.yn.Oh(c)}ica(c){this.Lp.Oh(c)}kca(c){this.Mp.Oh(c)}w8(){this.yn.Ph(!0);for(const c of this.yn)c.Hd();this.yn.Ph(!1)}v8(){this.Lp.Ph(!0);for(const c of this.Lp);this.Lp.Ph(!1)}x8(){this.Mp.Ph(!0);
for(const c of this.Mp);this.Mp.Ph(!1)}*k9(){this.yn.Ph(!0);for(const c of this.yn){const f=c.Hd();d.Ym(f)&&(yield*f)}this.yn.Ph(!1)}*j9(){this.Lp.Ph(!0);for(const c of this.Lp)d.Ym(void 0)&&(yield*void 0);this.Lp.Ph(!1)}*l9(){this.Mp.Ph(!0);for(const c of this.Mp)d.Ym(void 0)&&(yield*void 0);this.Mp.Ph(!1)}async Hd(c,f,l){this.tU=!0;const g="background-wake"===l;l="background-wake"!==l&&"skip-render"!==l;this.vB&&(!this.$m()||f||g)&&(f=performance.now(),this.KB=!0,this.cba(c||0),c=this.n7(),this.Ce&&
await c,c=this.Vb.Ega(this.Xp.pretick),c instanceof Promise&&await c,c=this.m7(),this.Ce&&await c,this.hba()&&await this.X$(),this.$a.Ar()&&await this.Zaa(),c=this.o7(),this.Ce&&await c,l&&this.GF(),this.$m()||g||this.AS(),this.Sk++,this.vm++,this.Gs++,this.KB=!1,this.fm+=performance.now()-f)}async n7(){const c=this.za,f=this.ub;this.ae();c.Le(!0);this.Ou(this.Nb());f&&b.Zr();this.Ce?await c.cZ():c.A5();f&&b.JX();this.Nu();c.Le(!1);this.ae();c.Le(!0)}async m7(){const c=this.ub,f=this.Ce,l=this.Vb,
g=this.Xp,k=this.nW;c&&b.Zr();f?await this.wy(this.k9()):this.w8();f?await this.wy(this.j9()):this.v8();c&&b.EX();c&&b.Zr();f?await this.MM(g.tick):l.dispatchEvent(g.tick);c&&b.OX();this.za.Le(!1);this.Ch(k.tick)}async o7(){const c=this.za,f=this.Vb,l=this.Xp,g=this.ub,k=this.Ce;g&&b.Zr();k?await c.aZ(this.$a):c.y5(this.$a);g&&b.JX();this.lg.CM();this.xS();this.lJ=!1;c.Le(!0);g&&b.Zr();k?await this.wy(this.l9()):this.x8();g&&b.EX();g&&b.Zr();k?await this.MM(l.tick2):f.dispatchEvent(l.tick2);g&&b.OX();
c.Le(!1);k&&await c.sP()}xS(){if(0!==this.gq.size){var c=this.Vb;c.Pr(!0);for(const f of this.DB)f.eo.kp(this.gq);this.DB.clear();this.za.d5(this.gq);for(const f of this.gq)f.m();this.gq.clear();c.Pr(!1)}}async Zaa(){const c=this.$a;let f=0;for(;c.Ar()&&10>f++;)await this.ZQ(c.Rw)}cba(c){let f=0;0!==this.bC&&(f=Math.max(c-this.bC,0)/1E3,.5<f&&(f=0),this.bB=Math.min(f,1/this.jV));this.bC=c;this.aB=this.bB*this.Cd;this.LI.wc(this.aB);this.MI.wc(f*this.Cd);this.cL.wc(this.bB);this.W&&this.W.oea();1E3<=
c-this.Zp&&(this.Zp+=1E3,1E3<=c-this.Zp&&(this.Zp=c),this.oB=this.pB,this.pB=0,this.kC=Math.min(this.fm/1E3,1),this.fm=0,this.W&&this.W.hea(),this.ub&&b.Bta());this.pB++}async ZQ(c){const f=this.Vb,l=this.$a.Nb();await l.Zda();l.gea(c,this.Bb());l===c&&this.za.hy();this.lg.CM();this.xS();f.dispatchEvent(this.Xp.beforelayoutchange);d.fl.KP(!0);await c.aH(l,this.Bb());d.fl.KP(!1);await c.iT(!1);f.dispatchEvent(this.Xp.layoutchange);this.ea();this.lJ=!0;this.ae()}ea(){this.WJ=!0}Xo(){return this.W?this.W.Xo():
null}Du(){return this.W?this.W.Du():null}Bb(){return this.W?this.W.Bb():null}GF(){const c=this.W;if(c&&!c.H2()){var f=this.Bb(),l=f.rk(),g=l&&f.Ju();l=l&&!1;g&&f.vY();if(this.WJ){var k=this.$a.Nb();f.nn();var n=this.ub;n&&b.Zr();this.WJ=!1;var q=null;g&&(q=c.sB.RD(),f.pG(q));g=null;l&&(g=f.Qsa(2*(1+k.ac.length)),f.U7(0));this.Cm&&"low"===c.yj?f.a6(c.Eg(),c.Wf()):f.I5();this.sca(this.Bb(),k);q&&f.kE(q);l&&(f.U7(1),this.W.m8(g));f.mu();n&&(b.xia(),b.Dta());c&&c.aba()}else f.K1()}}sca(c,f){c.Qh();c.UF();
c.Af(1,1,1,1);c.We(null);c.Sg(null);c.jn(this.Cm);f.sf(c)}na(c,f,l){if(!this.vB)return!1;var g=!this.KB&&!this.za.nF();let k=0;g&&(k=performance.now());const n=this.ub;n&&this.Iz(!1);c=this.za.Fv(this.$a,c,f,l);g&&(g=performance.now()-k,this.fm+=g,n&&b.Jia(g));n&&this.Iz(!0);return c}async kb(c,f,l){if(!this.Ce)return this.na(c,f,l);if(!this.vB)return!1;if(this.Gu())return this.za.U4(c,f,l);if(!this.Nb())return this.za.EF(c,f,l);const g=performance.now();c=this.za.ov(this.$a,c,f,l);for(f=c.next();!f.done;)await this.hr(f.value),
f=c.next();this.$m()||this.za.nF()||(await this.za.sP(),this.tU&&!this.KB&&this.AS());this.fm+=performance.now()-g;return f.value}lk(c){return this.Nfa.wc(c)}Ou(c){this.Uv.push(c)}Nu(){if(!this.Uv.length)throw Error("layout stack empty");this.Uv.pop()}Ka(){return this.Uv.length?this.Uv.oe(-1):this.Nb()}Pm(c){return c&&-1!==c.Cd?this.bB*c.Cd:this.aB}gG(c){if(isNaN(c)||0>c)c=0;this.Cd=c}SP(c){this.jV=d.ba(c,1,120)}Gg(){return this.LI.$()}DE(){return this.MI.$()}UE(){return this.cL.$()}ul(){++this.Gs}Pe(c){if(this.Mk)throw Error("cannot call while loading state - wait until afterload event");
return this.fq.get(c)||null}uS(){this.fq.clear();for(const c of this.Zc)if(!c.Wa)for(const f of c.ma())this.fq.set(f.yb,f)}Br(){return"preview"===this.uj}w2(){return"cordova"===this.uj}r2(){return"Android"===d.Yc.Hr&&("cordova"===this.uj||"playable-ad"===this.uj||"instant-games"===this.uj)}x6(c){c=!!c;this.Ln!==c&&(this.Ln=c,this.$a.op(),this.ea())}C5(c){this.Yw=c}a3(c){this.Iw=c}vF(c){this.Vs=c}hba(){return!(!this.Yw&&!this.Iw&&null===this.Vs)}async X$(){this.Yw&&(this.ae(),await this.N9(this.Yw),
this.BG());this.Iw&&(await this.M9(this.Iw),this.BG(),this.ub&&b.Rsa());if(null!==this.Vs){this.ae();try{await this.dR(this.Vs),this.qq=this.Vs,await this.kb(d.C.Ya.F.QO,null),this.qq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.kb(d.C.Ya.F.RO,null)}this.BG()}}BG(){this.Iw=this.Yw="";this.Vs=null}HR(){this.oK||(this.oK=localforage.pL({name:"c3-localstorage-"+this.pK,description:this.xC}));return this.oK}IR(){this.wK||(this.wK=localforage.pL({name:"c3-savegames-"+
this.pK,description:this.xC}));return this.wK}async N9(c){const f=await this.Wca();try{await this.IR().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+f.length+" chars)"),this.qq=f,await this.kb(d.C.Ya.F.q4,null),this.qq=""}catch(l){console.error("[Construct 3] Failed to save state to storage: ",l),await this.kb(d.C.Ya.F.r4,null)}}async M9(c){try{const f=await this.IR().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+f.length+" chars)");
await this.dR(f);this.qq=f;await this.kb(d.C.Ya.F.QO,null);this.qq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.kb(d.C.Ya.F.RO,null)}}async Wca(){const c={c3save:!0,version:1,rt:{time:this.Gg(),timeRaw:this.DE(),walltime:this.UE(),timescale:this.Cd,tickcount:this.Sk,execcount:this.Gs,next_uid:this.Qw,running_layout:this.Nb().Va,start_time_offset:Date.now()-this.ho},types:{},layouts:{},events:this.za.oa(),timelines:this.Fb.oa(),user_script_data:null};
for(var f of this.Zc)f.Wa||f.UN()||(c.types[f.Va.toString()]=f.oa());for(const l of this.$a.gj)c.layouts[l.Va.toString()]=l.oa();f=this.GG("save");f.saveData=null;await this.Ko(f);c.user_script_data=f.saveData;return JSON.stringify(c)}async dR(c){var f=this.$a;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Vb.dispatchEvent(d.B(d.Event,"beforeload"));
for(var l of this.cga())l.ns();this.Mk=!0;l=c.rt;this.LI.Set(l.time);l.hasOwnProperty("timeRaw")&&this.MI.Set(l.timeRaw);this.cL.Set(l.walltime);this.Cd=l.timescale;this.Sk=l.tickcount;this.Gs=l.execcount;this.ho=Date.now()-l.start_time_offset;var g=l.running_layout;if(g!==this.Nb().Va)if(g=f.GE(g))await this.ZQ(g);else return;for(const [k,n]of Object.entries(c.types))g=this.Ty(parseInt(k,10)),!g||g.Wa||g.UN()||g.ua(n);this.ae();this.uS();this.Mk=!1;this.Qw=l.next_uid;for(const [k,n]of Object.entries(c.layouts))(l=
f.GE(parseInt(k,10)))&&l.ua(n);this.za.ua(c.events);for(const k of this.Zc)if(!k.Wa&&k.Zb())for(const n of k.ma()){l=n.Po();for(const q of k.bh.km)if(q!==k){g=q.ma();if(0>l||l>=g.length)throw Error("missing sibling instance");n.es(g[l])}}this.Fb.ua(c.timelines);f.pp();f.op();this.Vb.dispatchEvent(d.B(d.Event,"afterload"));f=this.GG("load");f.saveData=c.user_script_data;await this.Ko(f);this.ea()}async MX(c){c=(await Promise.all(c.map(f=>this.rb.jl(f)))).map(f=>URL.createObjectURL(f));this.Aw.J1(c)}KX(){this.Aw.E5()}LX(c){this.Aw.F5(c)}ND(c,
f,l){return this.Aw.ND(c,f,l)}eF(c,f){this.Cl("runtime","invoke-download",{url:c,filename:f})}async V4(c){var f=f||2048;var l=l||2048;return this.De?(await this.hp("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:l,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,l)}Mr(){this.QT||(this.QT=!0,this.Cl("runtime","enable-device-orientation"))}fn(){this.PT||(this.PT=!0,this.Cl("runtime","enable-device-motion"))}Dl(){return this.Lfa()}R$(){const c=
this.Xo();return{fps:this.oB,cpu:this.kC,gpu:this.Ry(),layout:this.Nb()?this.Nb().Ca():"",renderer:c?c.ux:"<unavailable>"}}Gu(){return this.ub?b.Gu():!1}hr(c){return this.Ce?b.hr(c):Promise.resolve()}nc(){return this.Ce?b.zja():!1}Iz(c){c?this.rI--:this.rI++;this.jea()}jea(){this.Ce=this.ub&&this.Lea&&0===this.rI}gF(){return this.ub&&b.gF()}kF(){return this.ub&&this.Bb().rk()&&b.kF()}async wy(c){if(c)for(const f of c)await this.hr(f)}MM(c){return this.wy(this.Vb.Fga(c))}jA(c){return this.za.jA(c.name,
c.params)}GG(c){c=d.B(d.Event,c,!1);c.Fc=this.Aj;return c}iaa(){var c={};for(const f of this.Zc)c[f.Mi()]={value:f.hw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Aj=new self.A1(this,c);this.nW={tick:this.GG("tick")}}eaa(){const c={};for(const f of this.la().SH)c[f.Mi()]=f.JR();this.Aj.faa(c)}fS(c,f){this.efa.set(c,f)}};self.C3_CreateRuntime=d.tP.Ra;self.C3_InitRuntime=(c,f)=>c.Kg(f)}
{"use strict";const d=self.A;d.Q2=class extends d.ga{constructor(b,a){super();this.g=b;this.mq=new Map;this.Efa=0;this.kw=a.inputPort;a.outputPort.onmessage=e=>this.qS(e);this.cV=a.maxNumWorkers;this.Bw=1;this.mU=this.ow=!1}async Kg(){}J1(b){this.kw.postMessage({type:"_import_scripts",scripts:b})}E5(){this.kw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}F5(b){this.kw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}ND(b,a,e){e||(e=[]);const c=this.Efa++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:e};a=new Promise((f,l)=>{this.mq.set(c,{resolve:f,progress:void 0,reject:l,oL:!1})});this.kw.postMessage(b,e);this.gS();return a}qS(b){b=b.data;const a=b.type,e=b.jobId;switch(a){case "result":this.xba(e,b.result);break;case "progress":this.wba(e,b.progress);break;case "error":this.vba(e,b.error);break;case "ready":this.yba();break;default:throw Error(`unknown message from worker '${a}'`);}}xba(b,a){const e=this.mq.get(b);if(!e)throw Error("invalid job ID");
e.oL||e.resolve(a);this.mq.delete(b)}wba(b,a){b=this.mq.get(b);if(!b)throw Error("invalid job ID");!b.oL&&b.progress&&b.progress(a)}vba(b,a){const e=this.mq.get(b);if(!e)throw Error("invalid job ID");e.oL||e.reject(a);this.mq.delete(b)}yba(){this.ow&&(this.ow=!1,this.Bw++,this.Bw<this.cV?this.gS():this.kw.postMessage({type:"_no_more_workers"}))}async gS(){if(!(this.Bw>=this.cV||this.ow||this.mU||this.mq.size<=this.Bw))try{this.ow=!0,(await this.g.hp("runtime","create-job-worker")).outputPort.onmessage=
b=>this.qS(b)}catch(b){this.mU=!0,this.ow=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Bw} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const d=self.A;let b=null,a="",e="",c=[],f="",l="",g="";const k=d.B(d.aY);function n(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.C.Ya=class extends d.El{constructor(q){super(q);this.If=this.g.la().If;this.Ud=this.g.la().kd();this.iw=this.bq=0;this.gU=new Map}m(){super.m()}ea(){this.g.ea()}na(q){this.g.na(q,null,null)}Wy(q,r){b&&q===a&&r===e||(b=new RegExp(q,r),a=q,e=r);b.lastIndex=0;return b}DN(q,r,p){if(q===f&&r===
l&&p===g)return c;const v=this.Wy(r,p);c=q.match(v);f=q;l=r;g=p;return c}async cH(q,r){if(r.length){this.bq+=r.length;var p=[];for(const v of r)p.push(q.xO(v));await d.O4(p,()=>{this.iw++});this.iw++;this.iw===this.bq&&(this.g.na(d.C.Ya.F.X3,null,null),this.bq=this.iw=0)}}lT(q,r){for(const p of r)0===p.G.length&&q.m3(p)}BR(){return k}tca(q){var r=this.g.la();const p=r.kd(),v=p.xf(),t=v.Hb(),w=t.Fd();var x=v.hk();const z=p.Na(t),E=r.If,G=E.Na();if(x)for(x=0;x<q&&!G.uc;++x)r.Te(w),G.Lc(x),t.Qg(v,z),
r.Pb(w);else for(r=0;r<q&&!G.uc;++r)G.Lc(r),t.Qg(v,z);p.La();E.La();return!1}*r9(q){var r=this.g.la();const p=r.kd(),v=p.xf(),t=v.Hb(),w=t.Fd();var x=v.hk();const z=p.Na(t),E=r.If,G=E.Na();if(x)for(x=0;x<q&&!G.uc;++x)r.Te(w),G.Lc(x),yield*t.Cg(v,z),r.Pb(w);else for(r=0;r<q&&!G.uc;++r)G.Lc(r),yield*t.Cg(v,z);p.La();E.La();return!1}vea(){var q=this.g.la();const r=q.kd(),p=r.xf(),v=p.Hb(),t=v.Fd();var w=p.hk();const x=r.Na(v),z=q.If,E=z.Na();if(w)for(w=0;!E.uc;++w)q.Te(t),E.Lc(w),v.Qg(p,x)||E.hg(),q.Pb(t);
else for(q=0;!E.uc;++q)E.Lc(q),v.Qg(p,x)||E.hg();r.La();z.La();return!1}*K9(){var q=this.g.la();const r=q.kd(),p=r.xf(),v=p.Hb(),t=v.Fd();var w=p.hk();const x=r.Na(v),z=q.If,E=z.Na();if(w)for(w=0;!E.uc;++w)q.Te(t),E.Lc(w),(yield*v.Cg(p,x))||E.hg(),q.Pb(t);else for(q=0;!E.uc;++q)E.Lc(q),(yield*v.Cg(p,x))||E.hg();r.La();z.La();return!1}y$(q,r,p){var v=this.g.la();const t=v.kd(),w=t.xf(),x=w.Hb(),z=x.Fd(),E=w.hk(),G=t.Na(x),N=v.If,C=N.Na();C.Nz(q);if(p<r)if(E)for(q=r;q>=p&&!C.uc;--q)v.Te(z),C.Lc(q),
x.Qg(w,G),v.Pb(z);else for(v=r;v>=p&&!C.uc;--v)C.Lc(v),x.Qg(w,G);else if(E)for(q=r;q<=p&&!C.uc;++q)v.Te(z),C.Lc(q),x.Qg(w,G),v.Pb(z);else for(v=r;v<=p&&!C.uc;++v)C.Lc(v),x.Qg(w,G);t.La();N.La();return!1}*o9(q,r,p){var v=this.g.la();const t=v.kd(),w=t.xf(),x=w.Hb(),z=x.Fd(),E=w.hk(),G=t.Na(x),N=v.If,C=N.Na();C.Nz(q);if(p<r)if(E)for(q=r;q>=p&&!C.uc;--q)v.Te(z),C.Lc(q),yield*x.Cg(w,G),v.Pb(z);else for(v=r;v>=p&&!C.uc;--v)C.Lc(v),yield*x.Cg(w,G);else if(E)for(q=r;q<=p&&!C.uc;++q)v.Te(z),C.Lc(q),yield*x.Cg(w,
G),v.Pb(z);else for(v=r;v<=p&&!C.uc;++v)C.Lc(v),yield*x.Cg(w,G);t.La();N.La();return!1}z$(q){var r=this.g.la();const p=r.kd(),v=p.xf(),t=v.Hb(),w=t.Fd();var x=v.hk();const z=p.Na(t),E=r.If,G=E.Na(),N=q.Zb(),C=q.aa(),H=k.Na();d.td(H,C.ma());if(x)for(let I=0,K=H.length;I<K&&!G.uc;++I)r.Te(w),x=H[I],q.aa().pk(x),N&&x.Xi(),G.Lc(I),t.Qg(v,z),r.Pb(w);else{C.ve(!1);q=C.G;d.D(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.uc;++I)r=H[I],q[0]=r,N&&r.Xi(),G.Lc(I),t.Qg(v,z)}p.La();E.La();d.D(H);k.La();return!1}*p9(q){var r=
this.g.la();const p=r.kd(),v=p.xf(),t=v.Hb(),w=t.Fd();var x=v.hk();const z=p.Na(t),E=r.If,G=E.Na(),N=q.Zb(),C=q.aa(),H=k.Na();d.td(H,C.ma());if(x)for(let I=0,K=H.length;I<K&&!G.uc;++I)r.Te(w),x=H[I],q.aa().pk(x),N&&x.Xi(),G.Lc(I),yield*t.Cg(v,z),r.Pb(w);else{C.ve(!1);q=C.G;d.D(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.uc;++I)r=H[I],q[0]=r,N&&r.Xi(),G.Lc(I),yield*t.Cg(v,z)}p.La();E.La();d.D(H);k.La();return!1}A$(q,r){var p=this.g.la();const v=p.kd(),t=p.vf(),w=v.xf(),x=w.Hb(),z=x.Fd(),E=w.hk(),
G=v.Na(x),N=p.If,C=N.Na(),H=q.Zb(),I=q.aa(),K=k.Na();d.D(K);const Q=I.ma();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Qu(1,R)]);K.sort(n);1===r&&K.reverse();if(E)for(let R=0,U=K.length;R<U&&!C.uc;++R)p.Te(z),r=K[R][0],q.aa().pk(r),H&&r.Xi(),C.Lc(R),x.Qg(w,G),p.Pb(z);else{I.ve(!1);q=I.G;d.D(q);q.push(null);for(let R=0,U=K.length;R<U&&!C.uc;++R)p=K[R][0],q[0]=p,H&&p.Xi(),C.Lc(R),x.Qg(w,G)}v.La();N.La();d.D(K);k.La();return!1}*q9(q,r){var p=this.g.la();const v=p.kd(),t=p.vf(),w=v.xf(),x=w.Hb(),z=
x.Fd(),E=w.hk(),G=v.Na(x),N=p.If,C=N.Na(),H=q.Zb(),I=q.aa(),K=k.Na();d.D(K);const Q=I.ma();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.Qu(1,R)]);K.sort(n);1===r&&K.reverse();if(E)for(let R=0,U=K.length;R<U&&!C.uc;++R)p.Te(z),r=K[R][0],q.aa().pk(r),H&&r.Xi(),C.Lc(R),yield*x.Cg(w,G),p.Pb(z);else{I.ve(!1);q=I.G;d.D(q);q.push(null);for(let R=0,U=K.length;R<U&&!C.uc;++R)p=K[R][0],q[0]=p,H&&p.Xi(),C.Lc(R),yield*x.Cg(w,G)}v.La();N.La();d.D(K);k.La();return!1}dA(q,r){let p=this.gU.get(q);if(p)return p;
if(!r)return null;p={wo:null,ED:new Map};this.gU.set(q,p);return p}L9(q,r,p,v,t){r.Oe().x5(p);v&&q.Pb(t)}*m9(q,r,p,v,t){yield*r.Oe().$Y(p);v&&q.Pb(t)}}}{"use strict";const d=self.A;d.C.Ya.Rh=class extends d.ga{constructor(b){super();this.K=b;this.g=b.I();this.ji=b.Ib()}Hc(){}m(){this.ji=this.g=this.K=null}}}{"use strict";const d=self.A;d.C.Ya.Instance=class extends d.ga{constructor(b){super();this.J=b;this.K=this.J.H();this.bb=this.K.bb;this.g=this.J.I()}m(){this.g=this.bb=this.K=this.J=null}}}
{"use strict";const d=self.A,b=[];d.C.Ya.F={x_(){return!0},PO(){return!0},a4(){return!0},s4(){return!0},p4(){return!0},$m(){return this.g.$m()},TM(){const a=this.g.wf();return a.yI?!1:!a.nq},qta(){const a=this.g.vf().Xf();let e=a.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,a.set("TriggerOnce_lastTick",-1));const c=this.g.Sk;a.set("TriggerOnce_lastTick",c);return this.g.lJ||e!==c-1},w_(a){const e=this.g.vf().Xf(),c=e.get("Every_lastTime")||0,f=this.g.Gg();e.has("Every_seconds")||e.set("Every_seconds",
a);const l=e.get("Every_seconds");if(f>=c+l)return e.set("Every_lastTime",c+l),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",a),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},yr(a){return(a=this.g.la().kN(a))&&a.yr()},Br(){return this.g.Br()},pz(){return d.Yc.pz},SO(){return!0},H3(){return!0},Tka(){return!0},q4(){return!0},r4(){return!0},QO(){return!0},RO(){return!0},aoa(a){return!!this.g.Pe(a)},Bma(a){switch(a){case 0:return"browser"===d.Yc.$D;case 1:return"iOS"===
d.Yc.Hr;case 2:return"Android"===d.Yc.Hr;case 8:return"cordova"===d.Yc.$D;case 9:return"scirra-arcade"===this.g.uj;case 10:return"nwjs"===d.Yc.$D;case 13:return"windows-uwp"===this.g.uj;default:return!1}},opa(a,e,c){return this.Wy(e,c).test(a)},Rja(a,e,c){return d.compare(a,e,c)},Vja(a,e,c){return a>=e&&a<=c},HY(a,e,c){return d.compare(a.Sd(),e,c)},Wja(a){return!!a.Sd()},ika(a,e){const c=this.g.Gg();return 0===a?(a=this.g.vf().Xf(),!a.get("CompareTime_executed")&&c>=e?(a.set("CompareTime_executed",
!0),!0):!1):d.compare(c,a,e)},yma(a){return isNaN(a)},VX(a,e,c){return d.Ht(d.Ba(a),d.Ba(c))<=d.Ba(e)},u2(a,e){return d.Ke(d.Ba(a),d.Ba(e))},s2(a,e,c){a=d.Ba(a);e=d.Ba(e);c=d.Ba(c);return d.Ke(c,e)?d.Ke(a,e)&&!d.Ke(a,c):!(!d.Ke(a,e)&&d.Ke(a,c))},Sma(a,e){return"number"===typeof a?0===e:1===e},Zka(a){return!!a},Coa(a,e,c,f){if(!a)return!1;const l=this.BR(),g=l.Na(),k=a.aa();d.td(g,k.ma());k.Xb&&d.D(k.hc);const n=this.g.vf();let q=0;for(let r=0,p=g.length;r<p;++r){const v=g[r];g[q]=v;e=n.Qu(1,r);f=
n.Qu(3,r);d.compare(e,c,f)?++q:k.sn(v)}d.qe(g,q);k.Ru(g);e=!!g.length;d.D(g);l.La();a.dc();return e},Doa(a,e){if(!a)return!1;const c=this.BR(),f=c.Na(),l=a.aa();d.td(f,l.ma());l.Xb&&d.D(l.hc);const g=this.g.vf();let k=0;for(let n=0,q=f.length;n<q;++n){const r=f[n];f[k]=r;(e=g.Qu(1,n))?++k:l.sn(r)}d.qe(f,k);l.Ru(f);e=!!f.length;d.D(f);c.La();a.dc();return e},Joa(a,e){if(!a)return!1;const c=a.aa(),f=c.ma();e=Math.floor(e);if(e>=f.length)return!1;c.cn(f[e]);a.dc();return!0},Noa(a){if(!a)return!1;const e=
a.aa(),c=e.ma(),f=Math.floor(this.g.Dl()*c.length);if(f>=c.length)return!1;e.cn(c[f]);a.dc();return!0},Boa(a){if(!a||!a.G.length)return!1;a.aa().ve(!0);a.dc();return!0},Loa(a,e,c){if(!a)return!1;const f=a.aa();var l=f.ma();const g=this.g.Hb().Wd,k=this.g.vf().ei;f.Xb?(d.td(b,l),f.iy(),f.ve(!1)):g?(d.td(b,f.hc),d.D(f.hc)):(d.td(b,f.G),d.D(f.G));for(let n=0,q=b.length;n<q;++n)l=b[n],d.xor(l.j().gu(e,c),k)?f.Bp(l):f.sn(l);a.dc();return d.xor(!!f.G.length,k)},Ioa(a){if(!a)return!1;var e=a.Wa;let c=null;
const f=this.g.$l;for(let l=f.length-1;0<=l;--l){const g=f[l];if(e){if(g.H().UD(a)){c=g;break}}else if(g.H()===a){c=g;break}}c||(e=a.ma(),e.length&&(c=e.oe(-1)));if(!c)return!1;a.aa().cn(c);a.dc();return!0},wpa(a){return this.g.Ce?this.r9(a):this.tca(a)},Vta(){return this.g.Ce?this.K9():this.vea()},jla(a,e,c){return this.g.Ce?this.o9(a,e,c):this.y$(a,e,c)},kla(a){return this.g.Ce?this.p9(a):this.z$(a)},lla(a,e,c){return this.g.Ce?this.q9(a,c):this.A$(a,c)},dna(a){return a?a.Wc():!1},ana(a){return a?
!a.G.length:!1},$ma(a,e,c){return a?d.compare(100*a.Ed(),e,c):!1},X3(){return!0},vma(){return 0<this.bq}}}
{"use strict";const d=self.A;function b(g,k){const n=g[0]-k[0];return 0!==n?n:g[1]-k[1]}function a(g,k){return g[1]-k[1]}const e=[],c=[],f=d.B(d.Rect),l=d.B(d.gb);d.C.Ya.ib={T6(g,k){g.Tg(k)},TX(g,k){g.Zm()&&"number"!==typeof k&&(k=parseFloat(k));g.Tg(g.Sd()+k)},p7(g,k){g.Zm()&&g.Tg(g.Sd()-k)},Vqa(g,k){g.Tg(!!k)},kta(g){g.Tg(!g.Sd())},lqa(){this.g.la().n5()},LM(g,k,n,q,r){g&&k&&(n=this.g.cE(g,k,n,q,r))&&(r&&k.lG(n),k=this.g.la(),k.Le(!0),n.xA(),k.Le(!1),g.aa().pk(n),n.Zb()&&n.Xi())},Eka(g,k,n,q,r){g&&
k&&(g=this.g.IE(g))&&d.C.Ya.ib.LM.call(this,g,k,n,q,r)},Pu(g,k,n,q,r,p,v,t,w,x){if(g){var z=this.g.Ka();if(p&&(z=this.g.$a.mr(p),!z))return;p=null;if("number"!==typeof v||0<=v)if(p=z.da(v),!p)return;f.set(k,n,q,r);k=z.Pu(g,f,p,t,w,x);g.aa().Ru(k);g.dc()}},Usa(){const g=this.If;g.jO()&&g.jr().hg()},qp(g,k){(g=this.g.la().kN(g))&&(0===k?g.qp(!1):1===k?g.qp(!0):g.qp(!g.yr()))},H6(g){this.g.gG(g)},Zra(g,k){0>k&&(k=0);if(g){g=g.aa().ma();for(const n of g)n.gG(k)}},qqa(g){if(g){g=g.aa().ma();for(const k of g)k.u5()}},
vQ(g){if(!(0>g))return this.g.la().PD().m2(g),!0},Nta(g){this.g.la().PD().k2(g);return!0},Mta(){const g=this.g.la();g.PD().Z1(g.N0());return!0},osa(g){g=g.toLowerCase();for(const k of this.g.la().wg)k.K2()&&k.cx===g&&k.cG()},async gQ(g,k,n,q,r,p){const v=this.g.W;v&&(this.ea(),await v.gQ(0===g?"image/png":"image/jpeg",k/100,n,q,r,p),await this.g.kb(d.C.Ya.F.H3,null))},Yqa(g,k){if(!(0>=g||0>=k)){this.g.dv(g,k);var n=this.g.Ka();n.dy();for(const q of n.ac)q.uG();if(n=this.g.W)"off"!==n.tu()&&this.g.v6(g,
k),n.yc(n.Zk,n.Yk,!0),this.g.ea()}},pra(g){const k=this.g.W;k&&"off"!==k.tu()&&(k.JP(0!==g?"high":"low"),k.yc(k.Zk,k.Yk,!0))},np(g){this.g.C5(g)},jna(g){this.g.a3(g)},kna(g){this.g.vF(g)},rra(){},mqa(){for(const g of this.g.$a.gj)g.r5()},csa(g){this.g.x6(0!==g)},SP(g){this.g.SP(g)},Ksa(g,k){if(g){var n=g.aa().ma(),q=this.g.Ka(),r=g.Wa;g=g.vj;for(let v=0,t=n.length;v<t;++v){var p=n[v];const w=p.j();if(!w)continue;let x;x=r?p.Qe(k+p.H().mN(g)):p.Qe(k);e.push([w.da().Ha(),w.fk()]);c.push([p,x])}if(e.length){e.sort(b);
c.sort(a);k=!1;for(let v=0,t=e.length;v<t;++v)n=c[v][0],r=q.xu(e[v][0]),g=e[v][1],p=r.G,p[g]!==n&&(p[g]=n,n.j().Dv(r),r.Wg(),k=!0);k&&this.g.ea();d.D(e);d.D(c)}}},Z0(g){if(!this.g.Lk){var k=this.g.$a;k.Ar()||k.gy(g)}},Ela(g){if(!this.g.Lk){var k=this.g.$a;k.Ar()||(g=k.mr(g))&&k.gy(g)}},Vna(g){if(!this.g.Lk){var k=this.g.$a;if(!k.Ar()){var n=k.gj,q=n.indexOf(k.Nb());g&&0===q||(g||q!==n.length-1)&&k.gy(n[q+(g?-1:1)])}}},t5(){if(!this.g.Lk){var g=this.g.$a;g.Ar()||(g.gy(g.Nb()),this.g.la().o5())}},Hra(g,
k){g&&g.Yi(k)},Bra(g,k){g&&g.Ve(k/100)},Dra(g,k){g&&g.UP(k)},Era(g,k){g&&g.A6(k)},vra(g,k){g&&g.Kc(d.Ba(+k))},Fra(g,k,n){g&&(g.Wu(!0),g.Vi(k),g.Wi(n))},pqa(g){g&&g.Wu(!1)},Cra(g,k,n){g&&g.w6(k/100,n/100)},Ira(g,k){g&&g.Ye(+k)},wra(g,k){g&&(l.Wx(k),l.ba(),g=g.Ql,g.yo(l)||(g.Fm(l),this.ea()))},Gra(g,k){g&&g.P6(k)},xra(g,k){g&&g.eg(k)},yra(g,k,n){g&&(g=g.Pa,n=g.ml(n))&&(k=1===k,n.Jb!==k&&(n.Gz(k),g.pn(),this.g.ea()))},zra(g,k,n,q){if(g&&(g=g.Pa,k=g.ml(k))&&(g=g.Fg(k.Ha()),n=Math.floor(n),!(0>n||n>=g.length))){var r=
k.mb.Uy(n);if("color"===r){l.Wx(q);n=g[n];if(l.yo(n))return;n.Fm(l)}else{"percent"===r&&(q/=100);if(g[n]===q)return;g[n]=q}k.Jb&&this.g.ea()}},Ara(g,k){g&&g.d6(k)},Nra(g){this.g.Ka().rp(+g)},Jra(g){this.g.Ka().Kc(d.Ba(+g))},Kra(g,k){const n=this.g.Ka().Pa;if(k=n.ml(k))g=1===g,k.Jb!==g&&(k.Gz(g),n.pn(),this.g.ea())},Lra(g,k,n){var q=this.g.Ka().Pa;if(g=q.ml(g))if(q=q.Fg(g.Ha()),k=Math.floor(k),!(0>k||k>=q.length)){var r=g.mb.Uy(k);if("color"===r){l.Wx(n);k=q[k];if(l.yo(k))return;k.Fm(l)}else{"percent"===
r&&(n/=100);if(q[k]===n)return;q[k]=n}g.Jb&&this.g.ea()}},Ora(g,k){this.g.Ka().S6(g/100,k/100)},Mra(g){const k=this.g.Ka();0===g?k.WP():k.TP()},Jqa(g){this.g.Ka().Vi(g)},Kqa(g){this.g.Ka().Wi(g)},Hqa(g,k){const n=this.g.Ka();n.Vi(g);n.Wi(k)},Iqa(g){if(g&&(g=g.Gh())&&(g=g.j())){var k=this.g.Ka();k.Vi(g.R());k.Wi(g.S())}},async d3(g){const k=this.g.Nb();k&&g&&!this.g.Lk&&await this.cH(k,g.Wa?g.Gn:[g])},async ina(g){await d.C.Ya.ib.d3.call(this,this.g.IE(g))},yta(g){const k=this.g.Nb();k&&g&&this.lT(k,
g.Wa?g.Gn:[g])},z7(g){d.C.Ya.ib.z7.call(this,this.g.IE(g))},zta(){const g=this.g.Nb();if(g){var k=g.V$();this.lT(g,k)}},async gna(g){const k=this.g.Nb();g&&k&&!this.g.Lk&&await this.cH(k,g.DR())},async hna(g){const k=this.g.Nb();(g=this.g.$a.mr(g))&&k&&!this.g.Lk&&await this.cH(k,g.DR())},Lz(g){const k=this.Ud.T_();if(k)switch(k.hU){case 1:"number"===typeof g&&k.Lz(g);break;case 2:"string"===typeof g&&k.Lz(g);break;case 3:k.Lz(g)}},tna(g,k,n){var q=this.dA(g.toLowerCase(),!0);const r=q.ED,p=k.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${k}' already in map; overwriting entry`);(q=d.first(r.values())||q.wo)&&0!==q.qm!==(0!==n.qm)?console.error(`[Construct 3] Function map '${g}' string '${k}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,n)},una(g,k){const n=this.dA(g.toLowerCase(),!0);n.wo&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(n.ED.values())||n.wo;q&&
0!==q.qm!==(0!==k.qm)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.wo=k},Bja(g,k,n){n=Math.floor(n);var q=this.dA(g.toLowerCase(),!1);if(q){var r=q.ED.get(k.toLowerCase());if(!r)if(q.wo)r=q.wo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${k}'; call ignored (consider setting a default)`);return}if(r.wl())if(0!==r.qm)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${k}' has a return type so cannot be called`);
else{g=this.g;k=g.la();var p=k.Hb();q=p.Gd();var v=0<q.length;v&&k.Pg(q);var t=[];if(p=k.mE(p)){p=p.gh;for(let w=n,x=p.length;w<x;++w)t.push(p[w].Sd())}n=r.gh;for(let w=t.length,x=n.length;w<x;++w)t.push(n[w].lb);return g.Ce?this.m9(k,r,t,v,q):this.L9(k,r,t,v,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.A;d.C.Ya.$d={yva:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},Sua:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},Km(b){return b.toString()},Mx(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.g.Dl()*b:this.g.Dl()*(a-b)+b},pga(...b){return b[Math.floor(this.g.Dl()*b.length)]},nwa(){return Math.PI},wva(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},Owa(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Ba(b))},cos(b){return Math.cos(d.Ba(b))},tan(b){return Math.tan(d.Ba(b))},asin(b){return d.Od(Math.asin(b))},acos(b){return d.Od(Math.acos(b))},atan(b){return d.Od(Math.atan(b))},exp(b){return Math.exp(b)},lha(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let f=b[e];"number"===typeof f&&a<f&&(a=f)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let f=b[e];"number"===typeof f&&a>f&&(a=f)}return a},ba(b,a,e){return d.ba(b,a,e)},Gx(b,a,e,c){return d.Lt(b,a,e,c)},angle(b,a,e,c){return d.Od(d.It(b,a,e,c))},rd(b,a,e){return d.rd(b,a,e)},FD(b,a,e){return d.FD(b,a,e)},wD(b,a,e,c){return d.wD(b,a,e,c)},FW(b,a,e,c,f){return d.FW(b,
a,e,c,f)},EW(b,a,e){return d.EW(b,a,e)},nua(b,a){return d.Od(d.Ht(d.Ba(b),d.Ba(a)))},oua(b,a,e){return d.Od(d.jL(d.Ba(b),d.Ba(a),e))},pua(b,a,e){return d.Od(d.kL(d.Ba(b),d.Ba(a),d.Ba(e)))},Zwa(b,a,e){a|=0;return(b|0)&~(1<<a)|(0!==e?1:0)<<a},hxa(b,a){return(b|0)^1<<(a|0)},pva(b,a){return(b|0)&1<<(a|0)?1:0},dwa(){return"\n"},oxa(b){return"string"===typeof b?b.toUpperCase():""},Wva(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,e){return"string"!==
typeof b?"":0>e?b.substr(a):b.substr(a,e)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},ixa(b,a,e){if("string"!==typeof b||"string"!==typeof e)return"";b=b.split(e);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},jxa(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.ju(a),"i")):-1},Rua(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(d.ju(a),"")):-1},replace(b,a,e){return"string"===typeof b&&"string"===typeof a&&"string"===typeof e?b.replace(new RegExp(d.ju(a),"gi"),e):"string"===typeof b?b:""},zwa(b,a,e){a=this.Wy(a,e);return b?b.search(a):-1},ywa(b,a,e,c){a=this.Wy(a,e);return b?b.replace(a,c):""},xwa(b,a,e){return(b=this.DN(b.toString(),a,e))?b.length:0},wwa(b,a,e,c){c=Math.floor(c);b=this.DN(b.toString(),a,e);return!b||0>c||c>=b.length?"":b[c]},Dxa(b,a){let e=0>b?"-":"";0>b&&(b=-b);e+="0".repeat(Math.max(a-
b.toString().length,0));return e+b.toString()},qxa(b){return encodeURIComponent(b)},pxa(b){return decodeURIComponent(b)},JW(){return this.g.aB},fxa(){return this.g.Cd},zxa(){return(Date.now()-this.g.ho)/1E3},mxa(){return Date.now()},time(){return this.g.Gg()},exa(){return this.g.Sk},hwa(){return this.g.$J},Uua(){return this.g.oB},Cua(){return this.g.kC},rva(){return this.g.Ry()},Cxa(){return this.g.W.Zh},Bxa(){return this.g.W.Yh},lwa(){return this.g.nh},kwa(){return this.g.mh},jwa(){return this.g.nh},
iwa(){return this.g.mh},Qwa(){return this.g.Ka().Yf()},Rwa(){return this.g.Ka().Zf()},Rva(){return this.g.Ka().Ca()},Sva(){return this.g.Ka().Wb},Pva(){return d.Od(this.g.Ka().ka())},Tva(){return this.g.Ka().P()},Qva(){return this.g.Ka().U()},vxa(b){return(b=this.g.Ka().da(b))?b.so.N:0},xxa(b){return(b=this.g.Ka().da(b))?b.so.L:0},wxa(b){return(b=this.g.Ka().da(b))?b.so.X:0},txa(b){return(b=this.g.Ka().da(b))?b.so.V:0},yxa(b){return(b=this.g.Ka().da(b))?b.so.width():0},uxa(b){return(b=this.g.Ka().da(b))?
b.so.height():0},xua(b,a,e){return(b=this.g.Ka().da(b))?b.Ag(a,e)[0]:0},yua(b,a,e){return(b=this.g.Ka().da(b))?b.Ag(a,e)[1]:0},Mva(b,a,e){return(b=this.g.Ka().da(b))?b.gp(a,e)[0]:0},Nva(b,a,e){return(b=this.g.Ka().da(b))?b.gp(a,e)[1]:0},Iva(b){return(b=this.g.Ka().da(b))?b.Wb:0},Dva(b){return(b=this.g.Ka().da(b))?d.Od(b.xe):0},Fva(b){return(b=this.g.Ka().da(b))?100*b.Ed():0},Jva(b){return(b=this.g.Ka().da(b))?b.Jj:0},Kva(b){return(b=this.g.Ka().da(b))?b.Yf():0},Lva(b){return(b=this.g.Ka().da(b))?
b.Zf():0},Gva(b){return(b=this.g.Ka().da(b))?100*b.ie:0},Hva(b){return(b=this.g.Ka().da(b))?100*b.je:0},Ova(b){return(b=this.g.Ka().da(b))?b.Xa():0},Eva(b){return(b=this.g.Ka().da(b))?b.Ha():-1},wua(){const b=this.g.W;return b?b.BK:""},Vva(b){const a=this.If;return a.jO()?b?(b=a.C_(b))?b.Ha():0:a.jr().Ha():0},Pwa(){return this.g.qq},vua(b,a,...e){var c=this.dA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var f=c.ED.get(a.toLowerCase());
if(!f)if(c.wo)f=c.wo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=f.qm;const l=f.uu();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.wl())return l;b=this.g.la();a=b.Hb().Gd();const g=0<a.length;g&&b.Pg(a);const k=f.gh;for(let n=e.length,q=k.length;n<q;++n)e.push(k[n].lb);
f=f.Oe();e=f.NF(f.Gd(),c,l,...e);g&&b.Pb(a);return e},mha(){return this.g.rb.$B},uva(){return 0===this.bq?1:this.iw/this.bq},rf(){return this.g.Du()?"webgpu":"webgl"},Cwa(){return this.g.Du()?"<unavailable>":this.g.Xo().ux},vva(){let b=this.g.Bb().Y_();return Math.round(100*b/1048576)/100},Dwa(b,a,e){return d.C4(b,a,e)},Gwa(b,a,e){return d.$O(b/100,a/100,e/100)},Ewa(b,a,e,c){return d.Az(b/100,a/100,e/100,c/100)},Hwa(b,a,e){return d.$O(b/255,a/255,e/255)},Fwa(b,a,e,c){return d.Az(b/255,a/255,e/255,
c/255)},Aha(){return this.g.xC},rwa(){return this.g.AV},Fua(){return this.g.Hb().dd.Ca()},Eua(){return this.g.Hb().Cs}}}{"use strict";const d=self.A;d.C.nd=class extends d.El{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const d=self.A;d.C.nd.Rh=class extends d.mp{constructor(b){super(b);this.Td=b.Td}m(){d.D(this.Td);super.m()}Hc(){for(const b of this.Td)b.W2(this.g)}Fr(b){const a={Di:this.g.od};return Promise.all(this.Td.map(e=>e.X2(b,a)))}jp(){for(const b of this.Td)b.Z4()}zz(){this.oT()}oT(){for(const b of this.K.Wga())b.ja.FH()}nu(b){d.C.nd.D_(this,b)}}}
{"use strict";const d=self.A,b=d.B(d.Rect),a=d.B(d.xd),e=d.B(d.gv);d.C.nd.Instance=class extends d.SF{constructor(f,l){super(f);let g=!0,k="",n=0,q=!0;l&&(g=!!l[0],k=l[1],n=l[2],q=l[3]);this.Ub=this.K.bN(k)||this.K.Td[0];this.Cb=d.ba(n,0,this.Ub.Vd.length-1);this.df=this.Ub.Rm(this.Cb);l=this.df.Pd();this.zs=l.se();this.qI=l.Kh();this.Vv=l.$y();this.c1();f.Uu(2,!0);f.Uu(1,0<=this.Ub.sl());this.Ek=Math.abs(this.Ub.sl());this.ys=this.Ub.IV;this.FA=d.B(d.Dr);this.Ak=this.xj=0;this.AT="";this.Qv=-1;this.ts=
"";this.HT=0;f=this.j();this.Kea=f.Vj();f.Yi(g);f.Tu(q);f.Sr(this.df.Yj());f.Tr(this.df.Zj());f.eG(this.df.Pp);f.Sa();1===this.K.Td.length&&1===this.K.Td[0].Vd.length||0===this.Ek||this.Bf()}m(){this.FA=this.zs=this.df=this.Ub=null;super.m()}Fh(){return this.df.Pd()}ep(){return!0}Ir(){this.zs=null}ZO(){this.FH()}sf(f){var l=this.zs;null!==l&&(f.Sg(l),l=this.j(),l.Jg()?this.c$(l,f):this.g$(l,f))}g$(f,l){let g=this.Kea;this.g.Ln&&(g=f.AF(g));l.T4(g,this.Vv)}c$(f,l){const g=f.V0();if(f.B2()){f.fy(b,
a,!1);let k=a;this.g.Ln&&(k=f.AF(k));g.pY(f.rl(),k,this.Vv);f.QP(!1)}g.sf(l)}qu(){return this.FA.$()}mz(){return this.J.BE(2)}Or(f){this.J.Uu(2,f)}qz(){return this.J.BE(1)}Zu(f){this.J.Uu(1,f)}mF(){return this.J.BE(4)}LP(f){this.J.Uu(4,f)}Hd(){this.ts&&this.YQ();0<=this.Qv&&this.QG();const f=this.Ek;if(this.mz()&&0!==f){this.FA.wc(this.g.Pm(this.J));var l=this.qu(),g=this.df,k=g.UT/f;if(!(l<this.xj+k)){var n=this.Ub,q=this.ys,r=n.Vd.length,p=n.Tm(),v=n.LB,t=n.ofa;this.qz()?this.Cb++:this.Cb--;this.xj+=
k;this.Cb>=r&&(t?(this.Zu(!1),this.Cb=r-2):v?this.Cb=q:(this.Ak++,this.Ak>=p?this.UG(!1):this.Cb=q));0>this.Cb&&(t?(this.Cb=1,this.Zu(!0),v||(this.Ak++,this.Ak>=p&&this.UG(!0))):v?this.Cb=q:(this.Ak++,this.Ak>=p?this.UG(!0):this.Cb=q));this.Cb=d.ba(this.Cb,0,r-1);k=n.Rm(this.Cb);l>this.xj+k.UT/f&&(this.xj=l);this.lA(g,k)}}else this.un()}UG(f){this.Cb=f?0:this.Ub.Vd.length-1;this.Or(!1);this.AT=this.Ub.Ca();this.LP(!0);this.na(d.C.nd.F.D3);this.na(d.C.nd.F.C3);this.LP(!1);this.Ak=0}lA(f,l){if(f!==
l){var g=this.j(),k=f.Pd();f=l.Pd();var n=k.P();k=k.U();var q=f.P(),r=f.U();n!==q&&g.Xe(g.P()*(q/n));k!==r&&g.Ue(g.U()*(r/k));g.Sr(l.Yj());g.Tr(l.Zj());g.eG(l.Pp);g.Sa();this.df=l;this.zs=f.se();this.qI=f.Kh();this.Vv=f.$y();l=this.Ea().$c;for(let p=0,v=l.length;p<v;++p);this.na(d.C.nd.F.T3);this.g.ea()}}Wda(f){this.Or(!0);this.xj=this.qu();1===f&&0!==this.Cb&&(this.Qv=0,this.mF()||this.QG());this.Bf()}bda(f,l){this.ts=f;this.HT=l;this.Bf();this.mF()||this.YQ()}wR(){return this.ts?this.ts:this.Ub.Ca()}cda(f){isFinite(f)&&
(this.Qv=f,this.mF()||this.QG())}eda(f){this.Ek=Math.abs(f);this.Zu(0<=f);0<this.Ek&&this.Bf()}rR(){return this.qz()?this.Ek:-this.Ek}dda(f){this.ys=f=d.ba(Math.floor(f),0,this.Ub.Vd.length-1)}YQ(){const f=this.df;var l=this.K.bN(this.ts);this.ts="";!l||l===this.Ub&&this.mz()||(this.Ub=l,this.Zu(0<=l.sl()),this.Ek=Math.abs(l.sl()),this.ys=l.IV,this.Cb=d.ba(this.Cb,0,this.Ub.Vd.length-1),1===this.HT&&(this.Cb=0),this.Or(!0),this.xj=this.qu(),l=this.Ub.Rm(this.Cb),this.lA(f,l))}QG(){const f=this.df;
var l=this.Cb;this.Cb=d.ba(Math.floor(this.Qv),0,this.Ub.Vd.length-1);this.Qv=-1;l!==this.Cb&&(l=this.Ub.Rm(this.Cb),this.lA(f,l),this.xj=this.qu())}FH(){const f=this.df.Pd();this.zs=f.se();this.qI=f.Kh();this.Vv=f.$y();this.j().QP(!0)}se(){return this.zs}Kh(){return this.qI}$y(){return this.Vv}EE(){return this.df.EE()}ol(f){const l=this.df,g=this.j();if("string"===typeof f)f=l.r0(f);else if("number"===typeof f)f=l.q0(f-1);else throw new TypeError("expected string or number");if(!f)return[g.R(),g.S()];
e.ta(f.Wo());if(g.Jg()){const [k,n]=g.rl().nQ(e.Y,e.O);e.set(k,n)}e.offset(-l.Yj(),-l.Zj());e.scale(g.P(),g.U());e.rotate(g.ka());e.offset(g.R(),g.S());return[e.Y,e.O]}R_(){return this.j().tl().RL()}gN(f){f=Math.floor(f);const l=this.j();var g=l.tl();const k=g.RL();f===k&&(f=0);if(0>f||f>=k)return[0,0];g=g.Bd;return[g[2*f]+l.R(),g[2*f+1]+l.S()]}md(){const f={a:this.Ub.Va};0!==this.xj&&(f.fs=this.xj);var l=this.qu();0!==l&&(f.at=l);0!==this.Cb&&(f.f=this.Cb);0!==this.Ek&&(f.cas=this.Ek);1!==this.Ak&&
(f.ar=this.Ak);0!==this.ys&&(f.rt=this.ys);this.mz()||(f.ap=this.mz());this.qz()||(f.af=this.qz());l=this.j();l.Ng()&&(f.ce=l.Ng());return f}Xc(f){var l=this.H().L_(f.a);l&&(this.Ub=l);this.xj=f.hasOwnProperty("fs")?f.fs:0;this.FA.Set(f.hasOwnProperty("at")?f.at:0);l=f.hasOwnProperty("f")?f.f:0;this.Cb=d.ba(l,0,this.Ub.Vd.length-1);this.Ek=f.hasOwnProperty("cas")?f.cas:0;this.Ak=f.hasOwnProperty("ar")?f.ar:1;l=f.hasOwnProperty("rt")?f.rt:0;this.ys=d.ba(l,0,this.Ub.Vd.length-1);this.Or(f.hasOwnProperty("ap")?
!!f.ap:!0);this.Zu(f.hasOwnProperty("af")?!!f.af:!0);this.df=l=this.Ub.Rm(this.Cb);this.FH();const g=this.j();g.Sr(l.Yj());g.Tr(l.Zj());g.eG(l.Pp);g.Tu(!!f.ce)}pc(f){const l=this.j();switch(f){case 3:return l.Ng();case 2:return d.ba(this.Cb,0,this.Ub.Vd.length-1)}}fg(f,l){var g=this.j();switch(f){case 3:g.Tu(!!l);break;case 2:this.Or(!1);f=this.Ub.Vd.length-1;g=l=d.ba(l,0,f);l=this.Ub.Rm(this.Cb);const k=this.Ub.Rm(g);this.lA(l,k);this.Cb=d.ba(g,0,f)}}Jh(){return self.D1}};const c=new WeakMap;self.D1=
class extends self.jz{constructor(){super();c.set(this,self.Hu.yp().ja)}get animationName(){return c.get(this).wR()}get imageWidth(){return c.get(this).Fh().P()}get imageHeight(){return c.get(this).Fh().U()}}}
{"use strict";const d=self.A;d.C.nd.F={ama(b){return d.yh(this.wR(),b)},Yja(b,a){return d.compare(this.Cb,b,a)},Uja(b,a){return d.compare(this.rR(),b,a)},C3(b){return d.yh(this.AT,b)},D3(){return!0},T3(){return!0},xma(){return 0>this.j().P()},pma(){return 0>this.j().U()},YO(){return!0},x4(){return!0},Ng(){return this.j().Ng()}}}
{"use strict";const d=self.A;d.C.nd.ib={g7(b,a,e,c){if(b&&a){var [f,l]=this.ol(e);if(e=this.g.cE(b,a,f,l,c)){c&&a.lG(e);b.Ib().Cr()&&(a=e.j(),a.Kc(this.j().ka()),a.Sa());a=this.g.la();a.Le(!0);e.xA();a.Le(!1);c=this.g.su().Xf();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.g.Gs)a=!0,c.set("Spawn_LastExec",this.g.Gs);if(b!==this.H()&&(b=b.aa(),b.ve(!1),b=b.G,a&&d.D(b),b.push(e),e.Zb()))for(const g of e.Kd)e=g.H().aa(),a?e.pk(g):(e.ve(!1),e.Bp(g))}}},Tsa(){this.Or(!1)},Psa(b){this.Wda(b)},
H5(b,a){this.bda(b,a)},Oqa(b){this.cda(b)},Qqa(b){this.eda(b)},Pqa(b){this.dda(b)},Wra(b){const a=this.j(),e=a.P();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.Xe(b),a.Sa())},mra(b){const a=this.j(),e=a.U();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.Ue(b),a.Sa())},rp(b){const a=this.df.Pd(),e=this.j();var c=0>e.P()?-1:1;const f=0>e.U()?-1:1;c*=a.P()*b;b=a.U()*b*f;if(e.P()!==c||e.U()!==b)e.yc(c,b),e.Sa()},async lna(b,a){const e=this.df.Pd(),c=this.j(),f=this.g;if(e.Uk===b)0===a&&(c.yc(e.P(),e.U()),c.Sa()),this.na(d.C.nd.F.YO);
else{var l=d.B(d.kz);try{await l.Z2(f,b);if(!l.pF())throw Error("image failed to load");await l.Er(f.Bb(),{Di:this.g.od})}catch(g){console.error("Load image from URL failed: ",g);this.na(d.C.nd.F.x4);return}e.m5(l);this.bb.oT();this.Sz()||0!==a||(c.yc(e.P(),e.U()),c.Sa());f.ea();this.Sz()||await this.kb(d.C.nd.F.YO)}},$qa(b){this.j().Tu(b)},dG(b,a){this.j().dG(0===b,a)},U5(b){this.j().eg(b);this.g.ea()}}}"use strict";
self.A.C.nd.$d={Wia(){return this.Cb},Xia(){return this.Ub.Vd.length},Yia(){return this.Ub.Ca()},Zia(){return this.rR()},qoa(){return this.Ub.sl()},Tla(d){return this.ol(d)[0]},Ula(d){return this.ol(d)[1]},Sla(){return this.EE()},Vla(){return this.Fh().P()},Rla(){return this.Fh().U()},Zoa(d){return this.gN(d)[0]},$oa(d){return this.gN(d)[1]},Yoa(){return this.R_()}};{"use strict";const d=self.A;d.C.qk=class extends d.El{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const d=self.A;d.C.qk.Rh=class extends d.mp{constructor(b){super(b);this.wb=d.B(self.h7)}m(){super.m()}Hc(){this.Pd().uF(this.g)}Fr(b){return this.Pd().Er(b,{Di:this.g.od})}jp(){this.Pd().Nh()}G7(b,a,e,c){const f=this.Pd(),l=this.wb;l.Xe(f.P());l.Ue(f.U());l.Hz(b);l.WF(a);l.XF(e);l.fG(c);l.rQ()}}}
{"use strict";const d=self.A,b=self.Bh,a=["left","center","right"],e=["top","center","bottom"];d.C.qk.Instance=class extends d.SF{constructor(l,g){super(l);this.cc="";this.En=!0;this.kg=this.bf=16;this.Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";l="";this.lj=1;this.Xd=this.ge=this.vc=this.mj=0;this.Dm=!0;this.le=null;this.Tk=this.Ct=-1;this.tx=0;g&&(this.cc=g[0],this.En=g[1],this.bf=g[2],this.kg=g[3],this.Cn=g[4],l=g[5],this.lj=
g[6],this.mj=g[7],this.vc=g[8],this.ge=g[9],this.Xd=g[10],this.Dm=0===g[11],this.j().Yi(g[12]));this.bb.G7(this.bf,this.kg,this.Cn,l);this.le=d.B(self.j7,this.bb.wb);g=this.j();this.le.yc(g.P(),g.U());this.Zg();this.J.t6()}m(){this.qn();this.le.m();this.le=null;super.m()}Zg(){const l=this.le;l&&(l.zP(this.En),l.Wr(this.cc),l.eQ(this.Dm?"word":"character"),l.i6(a[this.ge]),l.V6(e[this.Xd]),l.ZP(this.mj),l.Mz(this.vc))}sf(l){const g=this.K.Pd();var k=g.se();if(k){l.Sg(k);k=this.j();var n=k.Vj(),q=this.le;
q.rp(this.lj);q.B6(k.EN());this.g.Ln&&(n=k.AF(n));q.yc(k.P(),k.U());q.wb.F6(g.Kh());q.mk(k.tb);q.sf(l,n.Lb,n.Mb,k.ka())}}md(){const l={t:this.cc,ebbc:this.En,csc:this.lj,csp:this.mj,lh:this.vc,ha:this.ge,va:this.Xd,w:this.Dm,cw:this.bb.wb.bf,ch:this.bb.wb.kg,cs:this.bb.wb.Cn,sd:this.bb.wb.pt};-1!==this.Tk&&(l.tw={st:this.Ct,en:this.Tk,l:this.tx});return l}Xc(l){this.qn();this.cc=l.t;this.En=l.ebbc;this.lj=l.csc;this.mj=l.csp;this.vc=l.lh;this.ge=l.ha;this.Xd=l.va;this.Dm=l.w;if(l.hasOwnProperty("tw")){var g=
l.tw;this.Ct=g.st;this.Tk=g.en;this.tx=l.l}g=this.bb.wb;g.Hz(l.cw);g.WF(l.ch);g.XF(l.cs);g.fG(l.sd);this.Zg();-1!==this.Tk&&this.Bf()}pc(l){switch(l){case 0:return this.cc;case 1:return this.En;case 2:return this.bb.wb.bf;case 3:return this.bb.wb.kg;case 4:return this.bb.wb.Cn;case 5:return this.bb.wb.pt;case 6:return this.lj;case 7:return this.mj;case 8:return this.vc;case 9:return this.ge;case 10:return this.Xd;case 11:return this.Dm?1:0}}fg(l,g){switch(l){case 0:if(this.cc===g)break;this.cc=g;
this.Zg();break;case 1:if(this.En===!!g)break;this.En=!!g;this.Zg();break;case 2:this.bb.wb.Hz(g);break;case 3:this.bb.wb.WF(g);break;case 4:this.bb.wb.XF(g);break;case 5:this.bb.wb.fG(g);break;case 6:if(this.lj===g)break;this.lj=g;this.Zg();break;case 7:if(this.mj===g)break;this.mj=g;this.Zg();break;case 8:if(this.vc===g)break;this.vc=g;this.Zg();break;case 9:if(this.ge===g)break;this.ge=g;this.Zg();break;case 10:if(this.Xd===g)break;this.Xd=g;this.Zg();break;case 11:this.Dm!==(0===g)&&(this.Dm=
0===g,this.Zg())}}uA(l){this.cc!==l&&(this.cc=l,this.le.Wr(l),this.g.ea())}Xda(l,g){this.uA(l);this.Ct=this.g.UE();this.Tk=this.Ct+g/this.Ea().J_();this.tx=d.gl.iQ(l).length;this.le.Jz(0);this.Bf()}qn(){this.Tk=this.Ct=-1;this.tx=0;this.le.Jz(-1);this.un()}o$(){-1!==this.Tk&&(this.qn(),this.na(d.C.qk.F.XO),this.g.ea())}Hda(l){this.lj!==l&&(this.lj=l,this.le.rp(this.lj),this.g.ea())}hda(l){this.mj!==l&&(this.mj=l,this.le.ZP(this.mj),this.g.ea())}WS(l){this.vc!==l&&(this.vc=l,this.le.Mz(this.vc),this.g.ea())}qda(l){this.ge!==
l&&(this.ge=l,this.Zg(),this.g.ea())}cT(l){this.Xd!==l&&(this.Xd=l,this.Zg(),this.g.ea())}Qda(l){l=!!l;this.Dm!==l&&(this.Dm=l,this.Zg(),this.g.ea())}Hd(){var l=this.g.UE();l>=this.Tk?(this.qn(),this.na(d.C.qk.F.XO),this.g.ea()):(l=d.Gha(this.Ct,this.Tk,l,this.tx),l=Math.floor(l),l!==this.le.eh&&(this.le.Jz(l),this.g.ea()))}Jh(){return self.C1}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.C1=class extends self.jz{constructor(){super();c.set(this,self.Hu.yp().ja)}get text(){return c.get(this).cc}set text(l){b.ue(l);
const g=c.get(this);g.qn();g.uA(l)}set lineHeight(l){b.Ui(l);c.get(this).WS(l)}get lineHeight(){return c.get(this).vc}set verticalAlign(l){b.ue(l);l=f.get(l);if("undefined"===typeof l)throw Error("invalid mode");c.get(this).cT(l)}get verticalAlign(){return e[c.get(this).Xd]}}}{"use strict";const d=self.A;d.C.qk.F={hka(b,a){return a?this.cc===b:d.yh(this.cc,b)},Lma(){return-1!==this.Tk},XO(){return!0}}}"use strict";
self.A.C.qk.ib={Wr(d){this.qn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.uA(d.toString())},$ia(d){this.qn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.uA(this.cc+d)},sta(d,b){this.qn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Xda(d.toString(),b)},rta(){this.o$()},rp(d){this.Hda(d)},Zqa(d){this.hda(d)},Mz(d){this.WS(d)},Hz(d,b){let a=!1;const e=this.bb.wb;for(const c of d)if(" "===c)e.C6(b),a=!0;else if(d=e.Hy(c))d.GP(b),a=
!0;a&&e.M5();this.g.ea()},U5(d){this.j().eg(d);this.g.ea()},qra(d){this.qda(d)},hsa(d){this.cT(d)},nsa(d){this.Qda(0===d)}};{"use strict";const d=self.A;d.C.qk.$d={Jja(b){return(b=this.bb.wb.Hy(b))?b.vE():this.bb.wb.bf},Gja(){return this.kg},Hja(){return this.lj},Ija(){return this.mj},ena(){return this.vc},Text(){return this.cc},Qoa(){return this.En?d.gl.iQ(this.cc):this.cc},hta(){const b=this.j();this.le.yc(b.P(),b.U());return this.le.QN()},gta(){const b=this.j();this.le.yc(b.P(),b.U());return this.le.PN()}}}
{"use strict";const d=self.A;self.i7=class{constructor(b,a,e,c){a=b.bf;let f=b.kg;this.wb=b;this.CV=new d.Rect(e,c,e+a,c+f);this.Rk=new d.Rect;this.uI=-1;this.vT()}m(){this.Rk=this.CV=this.wb=null}vT(){let b=this.wb.P(),a=this.wb.U();this.Rk.ta(this.CV);this.Rk.bl(b,a);this.Rk.jha(this.wb.Kh())}Kh(){return this.Rk}GP(b){this.uI=b}vE(){return 0>this.uI?this.wb.bf:this.uI}}}
{"use strict";const d=self.A,b=new d.Rect,a=new d.xd,e=new d.gb,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),l=new Set(["word","character"]);self.j7=class{constructor(g){this.wb=g;this.Ul=this.cf=0;this.cc="";this.Be=!1;this.hj=null;this.qf=d.B(d.jv);this.Tq="word";this.hL=!1;this.ge="left";this.Xd="top";this.$w=this.Wb=1;this.vc=this.Iq=0;this.tb=d.B(d.gb);this.eh=-1;this.dh=0;this.Nw=(k,n)=>this.zv(k,n);this.wb.k8(this)}m(){this.wb.rca(this);this.Nw=this.tb=null;this.qf.Gc();
this.hj=this.wb=this.qf=null}zv(g,k){var n=this.Nc(k,"scale"),q=(n?parseFloat(n.gd):this.Wb)*this.$w;n=this.Nc(k,"scalex");n=(n?parseFloat(n.gd):1)*q;k=this.Nc(k,"scaley");k=this.wb.kg*(k?parseFloat(k.gd):1)*q+this.vc;const r=this.wb;q=r.bf*n;const p=this.Iq;if(r.Ls){let t=0,w=0;for(var v of g){g=q;const x=r.Hy(v);x?g=x.vE()*n:" "===v&&(g=r.MN()*n);w+=g;++t}return{width:w+t*p,height:k}}v=[...g].length;return{width:q*v+Math.max(v,0)*p,height:k}}yk(){this.hL=!0;this.qf.Gc()}yc(g,k){0>=g||0>=k||this.cf===
g&&this.Ul===k||(this.cf!==g&&this.yk(),this.cf=g,this.Ul=k)}Jz(g){this.eh=Math.floor(g)}Nc(g,k){for(let n=g.length-1;0<=n;--n){const q=g[n];if(q.tag===k)return q}return null}rn(g,k){return!!this.Nc(g,k)}zp(){if(this.hL){!this.Be||this.hj&&this.hj.toString()===this.cc||(this.hj=new d.gl(this.cc,{XW:!0}));var g=-this.Iq;this.qf.jv(this.Be?this.hj.pX():this.cc,this.Nw,this.cf,this.Tq,g);this.hL=!1}}sf(g,k,n,q){this.zp();let r=this.dh=0;const p=this.vc,v=d.gD(this.qf.Ok),t=Math.sin(q);q=Math.cos(q);
var w=v.reduce((x,z)=>x+z.height,0)-p;"center"===this.Xd?r=Math.max(Math.floor(this.Ul/2-w/2),0):"bottom"===this.Xd&&(r=Math.floor(this.Ul-w));for(let x=0,z=v.length;x<z;++x){w=v[x];const E=w.height;if(0<x&&r>this.Ul-(E-p))break;0<=r&&this.b$(g,w,k,n,r,t,q);r+=E}}b$(g,k,n,q,r,p,v){const t=k.height;let w=0;"center"===this.ge?w=Math.max(Math.floor((this.cf-k.width)/2),0):"right"===this.ge&&(w=Math.max(Math.floor(this.cf-k.width),0));for(const x of k.tL)this.T9(g,x,n,q,w,r,p,v,t),w+=x.width}T9(g,k,n,
q,r,p,v,t,w){var x=k.text,z=k.width,E=k.hd;if(-1!==this.eh){if(this.dh>=this.eh)return;this.dh+x.length>this.eh&&(x=x.substr(0,this.eh-this.dh),z=this.zv(x,E).width);this.dh+=x.length}var G=this.Nc(E,"background");if(!(d.rz(x)&&!G||this.rn(E,"hide"))){k=this.Nc(E,"scale");var N=(k?parseFloat(k.gd):this.Wb)*this.$w;k=this.Nc(E,"scalex");k=(k?parseFloat(k.gd):1)*N;var C=this.Nc(E,"scaley");N*=this.wb.kg*(C?parseFloat(C.gd):1);p+=w-this.vc-N;w=this.Nc(E,"offsetx");r+=w?parseFloat(w.gd):0;w=this.Nc(E,
"offsety");p+=w?parseFloat(w.gd):0;G&&(g.YF(),e.bX(G.gd),e.zh(1),g.mk(e),b.set(r,p,r+z,p+N),b.X>this.cf&&b.Pha(this.cf),a.yD(b,v,t),a.offset(n,q),g.xd(a),g.Qh());(z=this.Nc(E,"color"))?(e.bX(z.gd),e.zh(this.tb.Ua)):e.ta(this.tb);(z=this.Nc(E,"opacity"))&&e.zh(e.Ua*parseFloat(z.gd)/100);e.vD();g.mk(e);z=this.wb.bf*k;E=Math.abs(this.Iq);for(const H of x)if(x=this.wb.Hy(H)){G=x.vE()*k;if(r+G>this.cf+E+1E-5)break;b.set(r,p,r+z,p+N);a.yD(b,v,t);a.offset(n,q);g.Kr(a,x.Kh());r+=G+this.Iq}else r+=this.wb.MN()*
k+this.Iq}}zP(g){g=!!g;this.Be!==g&&(this.Be=g,this.yk())}Wr(g){this.cc!==g&&(this.cc=g,this.yk())}eQ(g){if(!l.has(g))throw Error("invalid word wrap mode");this.Tq!==g&&(this.Tq=g,this.yk())}i6(g){if(!c.has(g))throw Error("invalid alignment");this.ge=g}V6(g){if(!f.has(g))throw Error("invalid alignment");this.Xd=g}rp(g){this.Wb!==g&&(this.Wb=g,this.yk())}B6(g){this.$w!==g&&(this.$w=g,this.yk())}EN(){return this.$w}ZP(g){this.Iq!==g&&(this.Iq=g,this.yk())}Mz(g){this.vc=g;this.yk()}Ve(g){g=d.ba(g,0,
1);this.tb.uo=g}mk(g){this.tb.Uc(g)||this.tb.ta(g)}QN(){this.zp();return this.qf.uN()}PN(){this.zp();const g=this.vc;return this.qf.Ok.length*(this.wb.kg*this.Wb+g)-g}}}
{"use strict";const d=self.A,b={width:256,height:256,BW:16,AW:16,characterSet:""};self.h7=class{constructor(a){a=Object.assign({},b,a);if(0>=a.width||0>=a.height||0>=a.BW||0>=a.AW)throw Error("invalid size");this.T=a.width;this.M=a.height;this.bf=a.BW;this.kg=a.AW;this.Cn=a.characterSet;this.pt="";this.gx=null;this.Ls=!1;this.Hq=-1;this.Rk=new d.Rect(0,0,1,1);this.Op=new Map;this.Un=!0;this.Ip=new Set}m(){this.Rk=null;this.wS();this.Op=null;this.Ip&&this.Ip.clear();this.Ip=null}wS(){for(let a of this.Op.values())a.m();
this.Op.clear()}k8(a){this.Ip.add(a)}rca(a){this.Ip.delete(a)}rQ(){if(this.Un){this.wS();var a=[...this.Cn],e=Math.floor(this.T/this.bf),c=e*Math.floor(this.M/this.kg);for(let f=0,l=a.length;f<l&&!(f>=c);++f){let g=a[f];this.Op.set(g,d.B(self.i7,this,g,f%e*this.bf,Math.floor(f/e)*this.kg))}this.Ls=!1;this.Hq=-1;if(Array.isArray(this.gx))for(let f of this.gx)if(Array.isArray(f)&&2===f.length&&(a=f[0],e=f[1],"number"===typeof a&&isFinite(a)&&"string"===typeof e&&a!==this.bf))for(let l of e)(e=this.Op.get(l))?
(e.GP(a),this.Ls=!0):" "===l&&(this.Hq=a,this.Ls=!0);this.Un=!1;for(let f of this.Ip)f.yk()}}M5(){this.Ls=!0;for(const a of this.Ip)a.yk()}Hy(a){this.rQ();return this.Op.get(a)||null}Xe(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.T!==a&&(this.T=a,this.Un=!0)}P(){return this.T}Ue(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.M!==a&&(this.M=a,this.Un=!0)}U(){return this.M}F6(a){if(!this.Rk.Uc(a)){this.Rk.ta(a);for(const e of this.Op.values())e.vT()}}Kh(){return this.Rk}Hz(a){a=
Math.floor(a);if(0>=a)throw Error("invalid size");this.bf!==a&&(this.bf=a,this.Un=!0)}WF(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.kg!==a&&(this.kg=a,this.Un=!0)}XF(a){this.Cn!==a&&(this.Cn=a,this.Un=!0)}fG(a){if(this.pt!==a&&(this.pt=a,this.Un=!0,this.gx=null,this.pt.length))try{this.gx=JSON.parse(this.pt)}catch(e){this.gx=null}}C6(a){0>a&&(a=-1);this.Hq!==a&&(this.Hq=a,0<=this.Hq&&(this.Ls=!0))}MN(){return 0>this.Hq?this.bf:this.Hq}}}{"use strict";const d=self.A;d.C.Audio=class extends d.El{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const d=self.A;d.C.Audio.Rh=class extends d.mp{constructor(b){super(b)}m(){super.m()}Hc(){}Jh(){return self.u1}};self.u1=class extends self.iz{constructor(b){super(b)}}}
{"use strict";const d=self.A,b=["interactive","balanced","playback"];d.C.Audio.Instance=class extends d.lp{constructor(a,e){super(a,"audio");this.kh=0;this.QK="";this.Xw=this.gW=0;this.jK=!1;this.RT=this.sV=1;this.Qn=this.g.Of/2;this.Rn=this.g.Nf/2;this.sq=-600;this.EV=600;this.bV=1E4;this.KV=1;this.gi=null;this.fC=-1;this.bt=1;this.rg=!1;this.MV=0;this.cB=new Map;this.mK=this.nK=0;this.nm=new Map;a="interactive";e&&(this.gW=e[0],this.Xw=e[1],this.jK=e[2],a=b[e[3]],this.sV=e[4],this.RT=e[5],this.sq=
-e[6],this.EV=e[7],this.bV=e[8],this.KV=e[9]);this.ih=[];this.Ps=[];this.YB=[];this.MD([["state",c=>this.Mba(c)],["fxstate",c=>this.Lba(c)],["trigger",c=>this.Kba(c)]]);e=this.I().Gb();this.ee=new d.gr(d.Sb.xc(e,"instancedestroy",c=>this.gH(c.instance)),d.Sb.xc(e,"afterload",()=>this.Ap()),d.Sb.xc(e,"suspend",()=>this.kH()),d.Sb.xc(e,"resume",()=>this.jH()));this.g.OD(this.ik("create-audio-context",{preloadList:this.g.rb.M_().map(c=>({originalUrl:c.wha,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.g.tJ,timeScaleMode:this.gW,latencyHint:a,panningModel:this.sV,distanceModel:this.RT,refDistance:this.EV,maxDistance:this.bV,rolloffFactor:this.KV,listenerPos:[this.Qn,this.Rn,this.sq]}).then(c=>{this.MV=c.sampleRate}));this.Bf()}m(){this.gi=null;super.m()}gH(a){this.gi===a&&(this.gi=null)}qy(a){return Math.pow(10,a/20)}ud(a){a=this.qy(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}V2(a){return Math.log(a)/Math.log(10)*20}rO(a){return this.V2(Math.max(Math.min(a,1),0))}kH(){this.jK||
this.Ma("set-suspended",{isSuspended:!0})}jH(){this.jK||this.Ma("set-suspended",{isSuspended:!1})}Mba(a){const e=a.tickCount,c=this.ih.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>e||-1===f.placeholder));this.ih=a.audioInstances;this.YB=a.analysers;0<c.length&&d.Em(this.ih,c)}Lba(a){this.Ps=a.fxstate}cA(a){for(const e of this.ih)if(d.yh(e.tag,a))return e;return null}bS(a){return this.ih.some(e=>d.yh(a,e.tag)&&e.isPlaying)}ms(a,e,c,f){if(this.bS(a))return null;a={tag:a,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.ih.push(a);return a}async Kba(a){const e=a.type;this.QK=a.tag;a=a.aiid;if("ended"===e){for(const c of this.ih)if(c.aiid===a){c.isPlaying=!1;break}await this.kb(d.C.Audio.F.P3)}else"fade-ended"===e&&await this.kb(d.C.Audio.F.R3)}Hd(){const a={timeScale:this.g.Cd,gameTime:this.g.DE(),instPans:this.t0(),tickCount:this.g.vm};
if(this.gi){const e=this.gi.j();this.Qn=e.R();this.Rn=e.S();a.listenerPos=[this.Qn,this.Rn,this.sq]}this.Ma("tick",a)}XL(a,e,c,f,l){if(0===c)return[a,e];const g=Math.sin(c);c=Math.cos(c);a-=f;e-=l;const k=a*g;a=a*c-e*g;return[a+f,e*c+k+l]}t0(){return this.ih.filter(a=>-1!==a.uid).map(a=>this.g.Pe(a.uid)).filter(a=>a).map(a=>{const e=a.j(),c=e.da().ka(),[f,l]=this.XL(e.R(),e.S(),-c,this.Qn,this.Rn);return{uid:a.yb,x:f,y:l,angle:e.ka()-c}})}Dy(a,e){for(const c of this.YB)if(c.index===e&&d.yh(c.tag,
a))return c;return null}Uh(a){this.cB.set(a,(this.cB.get(a)||0)+1)}Sda(a){return a.hasOwnProperty("placeholder")||3===this.Xw?!1:a.isMusic&&1===this.Xw?!1:a.isMusic||2!==this.Xw?!0:!1}md(){return{isSilent:this.rg,masterVolume:this.bt,listenerZ:this.sq,listenerUid:this.gi?this.gi.yb:-1,remoteUrls:[...this.nm.entries()],playing:this.ih.filter(a=>this.Sda(a)),effects:this.Ps,analysers:this.YB}}Xc(a){this.rg=a.isSilent;this.bt=a.masterVolume;this.sq=a.listenerZ;this.gi=null;this.fC=a.listenerUid;this.nm.clear();
if(a.remoteUrls)for(const [e,c]of a.remoteUrls)this.nm.set(e,c);this.ih=a.playing;this.Ps=a.effects;this.YB=a.analysers}Ap(){if(-1!==this.fC&&(this.gi=this.g.Pe(this.fC),this.fC=-1,this.gi)){var a=this.gi.j();this.Qn=a.R();this.Rn=a.S()}for(var e of this.ih)(a=this.g.rb.Hg(e.bufferOriginalUrl))?(e.bufferUrl=a.url,e.bufferType=a.type):e.bufferUrl=null;for(const c of Object.values(this.Ps))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(e=this.g.rb.Hg(f.bufferOriginalUrl))&&(f.bufferUrl=e.url,
f.bufferType=e.type);this.Ma("load-state",{saveLoadMode:this.Xw,timeScale:this.g.Cd,gameTime:this.g.DE(),listenerPos:[this.Qn,this.Rn,this.sq],isSilent:this.rg,masterVolume:this.bt,playing:this.ih.filter(c=>null!==c.bufferUrl),effects:this.Ps})}}}{"use strict";const d=self.A;d.C.Audio.F={P3(b){return d.yh(this.QK,b)},R3(b){return d.yh(this.QK,b)},dpa(){return this.mK===this.nK},Kia(){return!0},Mma(){return this.rg},bma(){for(const b of this.ih)if(b.isPlaying)return!0;return!1},Pma(b){return this.bS(b)}}}
{"use strict";const d=self.A,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.C.Audio.ib={async Play(a,e,c,f){if(!this.rg){var l=a[1],g=this.g.rb.Hg(a[0]);if(g){var k=this.kh;this.kh=0;var n=this.ms(f.toLowerCase(),l,0!==e,this.ud(c));try{await this.ik("play",{originalUrl:a[0],url:g.url,type:g.type,isMusic:l,tag:f.toLowerCase(),isLooping:0!==e,vol:this.ud(c),pos:0,off:k,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.vm)}}}},async Toa(a,
e,c,f,l,g,k,n,q,r){if(!this.rg){var p=a[1],v=this.g.rb.Hg(a[0]);if(v){var t=this.kh;this.kh=0;var w=this.ms(r.toLowerCase(),p,0!==e,this.ud(c));try{await this.ik("play",{originalUrl:a[0],url:v.url,type:v.type,isMusic:p,tag:r.toLowerCase(),isLooping:0!==e,vol:this.ud(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:l,angle:d.Ba(g),innerAngle:d.Ba(k),outerAngle:d.Ba(n),outerGain:this.ud(q)}})}finally{w&&(w.placeholder=this.g.vm)}}}},async Roa(a,e,c,f,l,g,k,n){if(!this.rg&&
f&&(f=f.Gh())&&f.j()){var q=f.j(),r=q.da().ka(),[p,v]=this.XL(q.R(),q.S(),-r,this.Qn,this.Rn),t=a[1],w=this.g.rb.Hg(a[0]);if(w){var x=this.kh;this.kh=0;var z=this.ms(n.toLowerCase(),t,0!==e,this.ud(c));try{await this.ik("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:t,tag:n.toLowerCase(),isLooping:0!==e,vol:this.ud(c),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:v,angle:q.ka()-r,innerAngle:d.Ba(l),outerAngle:d.Ba(g),outerGain:this.ud(k),uid:f.yb}})}finally{z&&
(z.placeholder=this.g.vm)}}}},async Voa(a,e,c,f,l){if(!this.rg){a=1===a;var g=this.g.rb.Hg(e)||this.nm.get(e.toLowerCase());if(g){var k=this.kh;this.kh=0;var n=this.ms(l.toLowerCase(),a,0!==c,this.ud(f));try{await this.ik("play",{originalUrl:e,url:g.url,type:g.type,isMusic:a,tag:l.toLowerCase(),isLooping:0!==c,vol:this.ud(f),pos:0,off:k,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.g.vm)}}}},async Uoa(a,e,c,f,l,g,k,n,q,r,p){if(!this.rg){a=1===a;var v=this.g.rb.Hg(e)||
this.nm.get(e.toLowerCase());if(v){var t=this.kh;this.kh=0;var w=this.ms(p.toLowerCase(),a,0!==c,this.ud(f));try{await this.ik("play",{originalUrl:e,url:v.url,type:v.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.ud(f),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:l,y:g,angle:d.Ba(k),innerAngle:d.Ba(n),outerAngle:d.Ba(q),outerGain:this.ud(r)}})}finally{w&&(w.placeholder=this.g.vm)}}}},async Soa(a,e,c,f,l,g,k,n,q){if(!this.rg&&!this.rg&&l&&(l=l.Gh())&&l.j()){var r=
l.j(),p=r.da().ka(),[v,t]=this.XL(r.R(),r.S(),-p,this.Qn,this.Rn);a=1===a;var w=this.g.rb.Hg(e)||this.nm.get(e.toLowerCase());if(w){var x=this.kh;this.kh=0;var z=this.ms(q.toLowerCase(),a,0!==c,this.ud(f));try{await this.ik("play",{originalUrl:e,url:w.url,type:w.type,isMusic:a,tag:q.toLowerCase(),isLooping:0!==c,vol:this.ud(f),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:v,y:t,angle:r.ka()-p,innerAngle:d.Ba(g),outerAngle:d.Ba(k),outerGain:this.ud(n),uid:l.yb}})}finally{z&&
(z.placeholder=this.g.vm)}}}},Sra(a,e){this.Ma("set-looping",{tag:a.toLowerCase(),isLooping:0===e})},Yra(a,e){this.Ma("set-muted",{tag:a.toLowerCase(),isMuted:0===e})},jsa(a,e){this.Ma("set-volume",{tag:a.toLowerCase(),vol:this.ud(e)})},dla(a,e,c,f){this.Ma("fade-volume",{tag:a.toLowerCase(),vol:this.ud(e),duration:c,stopOnEnd:0===f})},async K4(a){const e=a[1],c=this.g.rb.Hg(a[0]);c&&(this.nK++,await this.ik("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:e}),this.mK++)},async cpa(a,e){a=
1===a;const c=this.g.rb.Hg(e)||this.nm.get(e.toLowerCase());c&&(this.nK++,await this.ik("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:a}),this.mK++)},Xu(a,e){this.Ma("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(e,0)})},hg(a){this.Ma("stop",{tag:a.toLowerCase()})},Ssa(){this.Ma("stop-all")},$ra(a,e){this.Ma("set-paused",{tag:a.toLowerCase(),paused:0===e})},Lqa(a,e){this.Ma("seek",{tag:a.toLowerCase(),pos:e})},fsa(a){2===a&&(a=this.rg?1:0);a=0===a;this.rg!==a&&(this.rg=a,this.Ma("set-silent",
{isSilent:a}))},Ura(a){a=this.ud(a);this.bt!==a&&(this.bt=a,this.Ma("set-master-volume",{vol:a}))},yia(a,e,c,f,l,g,k){a=a.toLowerCase();e=b[e];this.Uh(a);this.Ma("add-effect",{type:"filter",tag:a,params:[e,c,f,l,g,d.ba(k/100,0,1)]})},via(a,e,c,f){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"delay",tag:a,params:[e,this.ud(c),d.ba(f/100,0,1)]})},zia(a,e,c,f,l,g){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"flanger",tag:a,params:[e/1E3,c/1E3,f,l/100,d.ba(g/100,0,1)]})},Eia(a,
e,c,f,l,g,k){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"phaser",tag:a,params:[e,c,f,l,g,d.ba(k/100,0,1)]})},uia(a,e,c,f){a=a.toLowerCase();const l=this.g.rb.Hg(e[0]);l&&(this.Uh(a),this.Ma("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:e[0],bufferUrl:l.url,bufferType:l.type,params:[0===c,d.ba(f/100,0,1)]}))},Aia(a,e){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"gain",tag:a,params:[this.ud(e)]})},Dia(a){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"gain",
tag:a,params:[0]})},Iia(a,e,c){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"tremolo",tag:a,params:[e,d.ba(c/100,0,1)]})},Hia(a,e,c){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"ringmod",tag:a,params:[e,d.ba(c/100,0,1)]})},wia(a,e,c,f,l,g){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"distortion",tag:a,params:[this.qy(e),this.qy(c),f,this.qy(l),d.ba(g/100,0,1)]})},tia(a,e,c,f,l,g){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"compressor",tag:a,params:[e,
c,f,l/1E3,g/1E3]})},sia(a,e,c){a=a.toLowerCase();this.Uh(a);this.Ma("add-effect",{type:"analyser",tag:a,params:[e,c]})},rpa(a){a=a.toLowerCase();this.cB.set(a,0);this.Ma("remove-effects",{tag:a});this.Ps={}},gra(a,e,c,f,l,g){this.Ma("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(e),param:c,value:f,ramp:l,time:g})},Qra(a){a&&(a=a.Gh())&&a.j()&&(this.gi=a)},Rra(a){this.sq=a},Bqa(a){this.kh=Math.max(a,0)},wta(a){const e=a[1];(a=this.g.rb.Hg(a[0]))&&this.Ma("unload",{url:a.url,type:a.type,isMusic:e})},
xta(a,e){a=1===a;(e=this.g.rb.Hg(e)||this.nm.get(e.toLowerCase()))&&this.Ma("unload",{url:e.url,type:e.type,isMusic:a})},vta(){this.Ma("unload-all")},Gia(a,e,c){this.nm.set(c.toLowerCase(),{url:a,type:e})}}}"use strict";
self.A.C.Audio.$d={Rka(d){return(d=this.cA(d))?d.duration:0},Xoa(d){return(d=this.cA(d))?d.playbackTime:0},Woa(d){return(d=this.cA(d))?d.playbackRate:0},Lta(d){return(d=this.cA(d))?this.rO(d.volume):0},xna(){return this.rO(this.bt)},Ska(d){return this.cB.get(d.toLowerCase())||0},Oia(d,b){return(d=this.Dy(d,Math.floor(b)))?d.binCount:0},Nia(d,b,a){d=this.Dy(d,Math.floor(b));if(!d)return 0;a=Math.floor(a);return 0>a||a>=d.binCount?0:d.freqBins[a]},Pia(d,b){return(d=this.Dy(d,Math.floor(b)))?d.peak:
0},Qia(d,b){return(d=this.Dy(d,Math.floor(b)))?d.rms:0},Aqa(){return this.MV},Hka(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.A;d.C.jd=class extends d.El{constructor(b){super(b)}m(){super.m()}}}{"use strict";const d=self.A;d.C.jd.Rh=class extends d.mp{constructor(b){super(b)}m(){super.m()}Hc(){}}}
{"use strict";const d=self.A;d.C.jd.Instance=class extends d.lp{constructor(b){super(b,"browser");this.Jk="";this.uw=!1;this.ST=this.FV="";this.EU=!1;this.fL=this.OV=this.PV=0;this.ww=!1;this.MD([["online-state",a=>this.Cba(a)],["backbutton",()=>this.lba()],["sw-message",a=>this.Hba(a)],["hashchange",a=>this.uba(a)]]);b=this.I().Gb();this.ee=new d.gr(d.Sb.xc(b,"afterfirstlayoutstart",()=>this.kba()),d.Sb.xc(b,"window-resize",()=>this.oH()),d.Sb.xc(b,"suspend",()=>this.kH()),d.Sb.xc(b,"resume",()=>
this.jH()));this.g.OD(this.ik("get-initial-state",{exportType:this.g.uj}).then(a=>{this.Jk=a.location;this.uw=a.isOnline;this.FV=a.referrer;this.ST=a.title;this.EU=a.isCookieEnabled;this.PV=a.screenWidth;this.OV=a.screenHeight;this.fL=a.windowOuterWidth;this.ww=a.isScirraArcade}))}m(){super.m()}kba(){this.Ma("ready-for-sw-messages")}async Cba(b){b=!!b.isOnline;this.uw!==b&&((this.uw=b)?await this.kb(d.C.jd.F.g4):await this.kb(d.C.jd.F.e4))}async oH(){await this.kb(d.C.jd.F.o4)}kH(){this.na(d.C.jd.F.h4)}jH(){this.na(d.C.jd.F.i4)}async lba(){await this.kb(d.C.jd.F.G3)}Hba(b){b=
b.type;"downloading-update"===b?this.na(d.C.jd.F.y4):"update-ready"===b||"update-pending"===b?this.na(d.C.jd.F.z4):"offline-ready"===b&&this.na(d.C.jd.F.f4)}uba(b){this.Jk=b.location;this.na(d.C.jd.F.U3)}}}"use strict";
self.A.C.jd.F={Dma(){return this.uw},g4(){return!0},e4(){return!0},o4(){return!0},zka(){return this.EU},rma(){return this.g.W.iq},G3(){return!0},Ima(d){return(this.g.W.Zk<=this.g.W.Yk?0:1)===d},y4(){return!0},z4(){return!0},f4(){return!0},U3(){return!0},roa(){return!this.g.$m()},h4(){return!0},i4(){return!0},Gla(){return!1},nma(){return!1},eoa(){return!1},foa(){return!1},wma(){return!1},gma(){return!0},fta(){return!0}};
{"use strict";const d=self.A,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.C.jd.ib={Lia(a){this.Ma("alert",{message:a.toString()})},Nja(){this.ww||(this.g.ub?self.Vf.Oja():this.Ma("close"))},ila(){this.Ma("set-focus",{isFocus:!0})},yja(){this.Ma("set-focus",{isFocus:!1})},Bla(){this.ww||this.Ma("navigate",{type:"back"})},Cla(){this.ww||this.Ma("navigate",{type:"forward"})},Dla(){},qpa(){this.ww||(this.g.ub?this.g.J4():this.Ma("navigate",
{type:"reload"}))},$0(a,e){this.vk("navigate",{type:"url",url:a,target:e,exportType:this.g.uj})},Fla(a,e){this.vk("navigate",{type:"new-window",url:a,tag:e,exportType:this.g.uj})},ypa(a,e){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=d.XD.nR(a);this.g.W.T5(a);this.vk("request-fullscreen",{navUI:e})},Cja(){this.vk("exit-fullscreen")},Kta(a){a=a.split(",");for(let e=0,c=a.length;e<c;++e)a[e]=parseInt(a[e],10);this.vk("vibrate",{pattern:a})},async eF(a,e){a&&e&&(a=await this.g.rb.Vy(a),this.g.eF(a,e))},
$la(a,e,c){c&&(a=`data:${e},${encodeURIComponent(a)}`,this.g.eF(a,c))},vka(a,e){e=e.toString();0===a?console.log(e):1===a?console.warn(e):2===a&&console.error(e)},tka(a){console.group(a)},uka(){console.groupEnd()},ala(a){try{eval(a)}catch(e){console.error("Error executing JavaScript: ",e)}},rna(a){a=Math.floor(a);0>a||a>=b.length||this.vk("lock-orientation",{orientation:b[a]})},Ata(){this.vk("unlock-orientation")},vO(a){this.g.rb.vO(a)},sra(a){this.Ma("set-hash",{hash:a})}}}"use strict";
self.A.C.jd.$d={URL(){return this.g.De?this.Jk:location.toString()},hpa(){return this.g.De?(new URL(this.Jk)).protocol:location.protocol},Pka(){return this.g.De?(new URL(this.Jk)).hostname:location.hostname},bpa(){return this.g.De?(new URL(this.Jk)).port:location.port},toa(){return this.g.De?(new URL(this.Jk)).pathname:location.pathname},Jla(){return this.g.De?(new URL(this.Jk)).hash:location.hash},DF(){return this.g.De?(new URL(this.Jk)).search:location.search},jpa(d){const b=this.g.De?(new URL(this.Jk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},npa(){return this.FV},ita(){return this.ST},Xma(){return navigator.language},Yc(){return navigator.platform},Eta(){return navigator.userAgent},$ka(d){let b=0;try{b=eval(d)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},Sna(){return navigator.appName},Jta(){return navigator.appVersion},gpa(){return navigator.product},
Ita(){return navigator.vendor},rja(){return 1},sja(){return Infinity},qja(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},Nka(){return self.devicePixelRatio},Gqa(){return this.PV},Fqa(){return this.OV},$ta(){return this.g.W.Zk},Zta(){return this.g.W.Yk},bua(){return this.fL},aua(){return this.fL}};{"use strict";const d=self.A;d.C.Ob=class extends d.El{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const d=self.A;d.C.Ob.Rh=class extends d.mp{constructor(b){super(b)}m(){super.m()}Hc(){}}}{"use strict";const d=self.A;d.C.Ob.Instance=class extends d.lp{constructor(b){super(b);this.hb=this.ng="";this.Dw=[];this.WT="";this.vq=this.uq=0;this.xg=this.g.HR()}m(){super.m()}async vn(b){this.WT=this.I$(b);await this.kb(d.C.Ob.F.Q3)}I$(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}
{"use strict";const d=self.A;d.C.Ob.F={NO(b){return this.ng===b},HO(){return!0},MO(b){return this.ng===b},GO(){return!0},Z3(b){return this.ng===b},F3(){return!0},I3(){return!0},B3(){return!0},Q3(){return!0},LO(b){return this.ng===b},Y3(b){return this.ng===b},aka(b,a){return d.compare(this.ng,b,a)},kka(b,a){return d.compare(this.hb,b,a)},Kma(){return 0<this.vq},Jma(){return 0<this.uq},FO(){return!0},EO(){return!0}}}
{"use strict";const d=self.A;function b(a){return"string"===typeof a||"number"===typeof a}d.C.Ob.ib={async p6(a,e){this.vq++;try{const c=await this.xg.setItem(a,e);await this.lk(async()=>{this.ng=a;this.hb=c;await this.kb(d.C.Ob.F.HO);await this.kb(d.C.Ob.F.NO)})}catch(c){await this.vn(c)}finally{this.vq--,0===this.vq&&await this.kb(d.C.Ob.F.FO)}},async Sqa(a,e){if(e&&(e=e.Gh(this.J))&&(e=e.ja)){e=e.tla();this.vq++;try{await this.xg.setItem(a,e),await this.lk(async()=>{this.ng=a;this.hb="";await this.kb(d.C.Ob.F.HO);
await this.kb(d.C.Ob.F.NO)})}catch(c){await this.vn(c)}finally{this.vq--,0===this.vq&&await this.kb(d.C.Ob.F.FO)}}},async zla(a){this.uq++;try{const e=await this.xg.getItem(a);await this.lk(async()=>{this.ng=a;this.hb=b(e)?e:"";await this.kb(d.C.Ob.F.GO);await this.kb(d.C.Ob.F.MO)})}catch(e){await this.vn(e)}finally{this.uq--,0===this.uq&&await this.kb(d.C.Ob.F.EO)}},async vla(a,e){if(e&&(e=e.Gh(this.J))){var c=e.ja;this.uq++;try{let f=await this.xg.getItem(a);f=f instanceof ArrayBuffer?f:new ArrayBuffer(0);
await this.lk(async()=>{this.hb="";this.ng=a;c.Rqa(f);await this.kb(d.C.Ob.F.GO);await this.kb(d.C.Ob.F.MO)})}catch(f){await this.vn(f)}finally{this.uq--,0===this.uq&&await this.kb(d.C.Ob.F.EO)}}},async xY(a){try{const e=await this.xg.getItem(a);await this.lk(async()=>{this.ng=a;"undefined"===typeof e||null===e?(this.hb="",await this.kb(d.C.Ob.F.Y3)):(this.hb=b(e)?e:"",await this.kb(d.C.Ob.F.LO))})}catch(e){await this.vn(e)}},async upa(a){try{await this.xg.removeItem(a),await this.lk(async()=>{this.ng=
a;this.hb="";await this.kb(d.C.Ob.F.F3);await this.kb(d.C.Ob.F.Z3)})}catch(e){await this.vn(e)}},async Lja(){try{await this.xg.clear(),await this.lk(async()=>{this.hb=this.ng="";d.D(this.Dw);await this.kb(d.C.Ob.F.I3)})}catch(a){await this.vn(a)}},async sla(){try{const a=await this.xg.keys();await this.lk(async()=>{this.Dw=a;await this.kb(d.C.Ob.F.B3)})}catch(a){await this.vn(a)}}}}"use strict";
self.A.C.Ob.$d={P2(){return this.hb},Tma(){return this.ng},Vma(){return this.Dw.length},Uma(d){d=Math.floor(d);return 0>d||d>=this.Dw.length?"":this.Dw[d]},Wka(){return this.WT}};{"use strict";const d=self.A;d.C.wd=class extends d.El{constructor(b){super(b)}m(){super.m()}}}{"use strict";const d=self.A;d.C.wd.Rh=class extends d.mp{constructor(b){super(b)}m(){super.m()}Hc(){}Jh(){return self.x1}};self.x1=class extends self.iz{constructor(b){super(b);b.I().Rv.HL=this}}}
{"use strict";const d=self.A;d.C.wd.Instance=class extends d.lp{constructor(b){super(b,"mouse");this.Np=[!1,!1,!1];this.jW=this.XC=this.Oq=this.Xn=this.Wn=0;this.uB=!1;this.UJ=this.TJ=0;this.MD([["pointer-lock-change",a=>this.Eba(a)],["pointer-lock-error",a=>this.Fba(a)]]);b=this.I().Gb();this.ee=new d.gr(d.Sb.xc(b,"pointermove",a=>this.iH(a.data)),d.Sb.xc(b,"pointerdown",a=>this.hH(a.data)),d.Sb.xc(b,"pointerup",a=>this.mA(a.data)),d.Sb.xc(b,"dblclick",a=>this.pba(a.data)),d.Sb.xc(b,"wheel",a=>this.Bba(a.data)),
d.Sb.xc(b,"window-blur",()=>this.nH()))}m(){super.m()}hH(b){"mouse"===b.pointerType&&(this.Wn=b.pageX-this.g.Mo(),this.Xn=b.pageY-this.g.No(),this.zG(b.lastButtons,b.buttons))}iH(b){this.TJ=b.movementX;this.UJ=b.movementY;this.na(d.C.wd.F.b4);this.UJ=this.TJ=0;"mouse"===b.pointerType&&(this.Wn=b.pageX-this.g.Mo(),this.Xn=b.pageY-this.g.No(),this.zG(b.lastButtons,b.buttons))}mA(b){"mouse"===b.pointerType&&this.zG(b.lastButtons,b.buttons)}zG(b,a){this.yG(b,a,1,0);this.yG(b,a,4,1);this.yG(b,a,2,2)}yG(b,
a,e,c){!(b&e)&&a&e?this.zba(c):b&e&&!(a&e)&&this.Aba(c)}zba(b){this.Np[b]=!0;this.na(d.C.wd.F.E3);this.Oq=b;this.XC=0;this.na(d.C.wd.F.IO);this.na(d.C.wd.F.TO)}Aba(b){this.Np[b]&&(this.Np[b]=!1,this.Oq=b,this.na(d.C.wd.F.UO))}pba(b){this.Oq=b.button;this.XC=1;this.na(d.C.wd.F.IO);this.na(d.C.wd.F.TO)}Bba(b){this.jW=0>b.deltaY?1:0;this.na(d.C.wd.F.B4)}nH(){for(let b=0,a=this.Np.length;b<a&&this.Np[b];++b)this.Np[b]=!1,this.Oq=b,this.na(d.C.wd.F.UO)}xN(b){const a=this.g.Nb(),e=this.Wn,c=this.Xn;return"undefined"===
typeof b?a.xu(0).zM(e,c):(b=a.da(b))?b.Ag(e,c):[0,0]}aS(){return 0<=this.Wn&&0<=this.Xn&&this.Wn<this.g.fN()&&this.Xn<this.g.eN()}Eba(b){this.tT(b["has-pointer-lock"])}Fba(b){this.tT(b["has-pointer-lock"]);this.na(d.C.wd.F.l4)}tT(b){this.uB!==b&&((this.uB=b)?this.na(d.C.wd.F.m4):this.na(d.C.wd.F.n4))}}}
{"use strict";const d=self.A;d.C.wd.F={IO(b,a){return this.Oq===b&&this.XC===a},E3(){return!0},t2(b){return this.Np[b]},UO(b){return this.Oq===b},Fma(b){if(!this.aS())return!1;const a=this.g.vf().ei;return d.xor(this.g.lg.$r(b,this.Wn,this.Xn,a),a)},TO(b,a,e){return b===this.Oq&&a===this.XC&&this.aS()?this.g.lg.$r(e,this.Wn,this.Xn,!1):!1},B4(b){return this.jW===b},m4(){return!0},n4(){return!0},l4(){return!0},Ila(){return this.uB},b4(){return!0}}}
{"use strict";const d=self.A;let b=null;const a="auto pointer text crosshair move help wait none".split(" ");d.C.wd.ib={ara(e){e=a[e];b!==e&&(b=e,this.Ma("cursor",e))},P5(e){if(!d.Yc.pz&&e&&(e=e.Gh())){var c=e.j(),f=e.Fh();c&&f&&b!==f&&(b=f,f.y_().then(l=>d.fu(l)).then(l=>{l=`url(${URL.createObjectURL(l)}) ${Math.round(c.Yj()*f.P())} ${Math.round(c.Zj()*f.U())}, auto`;this.Ma("cursor","");this.Ma("cursor",l)}))}},Bpa(){this.vk("request-pointer-lock")},ppa(){this.Ma("release-pointer-lock")}}}"use strict";
self.A.C.wd.$d={zQ(d){return this.xN(d)[0]},AQ(d){return this.xN(d)[1]},BX(){return this.Wn},CX(){return this.Xn},Qna(){return this.TJ},Rna(){return this.UJ}};{"use strict";const d=self.A;d.C.Touch=class extends d.El{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const d=self.A,b=self.Bh;d.C.Touch.Rh=class extends d.mp{constructor(e){super(e)}m(){super.m()}Hc(){}Jh(){return self.F1}};let a=null;self.F1=class extends self.iz{constructor(e){super(e);a=e;e.I().Rv.iM=this}requestPermission(e){b.ue(e);const c=a.dk().ja;if("orientation"===e)return c.pH(0);if("motion"===e)return c.pH(1);throw Error("invalid type");}}}
{"use strict";const d=self.A;d.C.Touch.Instance=class extends d.lp{constructor(b,a){super(b,"touch");this.pd=new Map;this.MB=this.lW=!1;this.rB=this.ai=this.$h=this.PK=this.WC=this.Bt=this.KH=this.JH=this.IH=this.NH=this.MH=this.LH=this.cK=this.bK=this.aK=this.pC=0;this.rC=[];a&&(this.lW=a[0]);this.LD("permission-result",e=>this.Dba(e));b=this.I().Gb();this.ee=new d.gr(d.Sb.xc(b,"pointerdown",e=>this.hH(e.data)),d.Sb.xc(b,"pointermove",e=>this.iH(e.data)),d.Sb.xc(b,"pointerup",e=>this.mA(e.data,!1)),
d.Sb.xc(b,"pointercancel",e=>this.mA(e.data,!0)),d.Sb.xc(b,"deviceorientation",e=>this.nba(e.data)),d.Sb.xc(b,"deviceorientationabsolute",e=>this.oba(e.data)),d.Sb.xc(b,"devicemotion",e=>this.mba(e.data)),d.Sb.xc(b,"tick2",()=>this.lH()))}m(){this.pd.clear();super.m()}hH(b){if("mouse"===b.pointerType)if(this.lW)this.MB=!0;else return;const a=b.pointerId;if(!this.pd.has(a)){var e=b.pageX-this.g.Mo();b=b.pageY-this.g.No();var c=performance.now(),f=this.pd.size;this.Bt=f;this.WC=a;var l=d.B(d.C.Touch.u7);
l.Kg(c,e,b,a,f);this.pd.set(a,l);this.na(d.C.Touch.F.d4);this.na(d.C.Touch.F.w4);this.$h=e;this.ai=b;this.na(d.C.Touch.F.WO)}}iH(b){if("mouse"!==b.pointerType||this.MB){var a=this.pd.get(b.pointerId);if(a){var e=performance.now();2>e-a.Fa()||a.Il(e,b.pageX-this.g.Mo(),b.pageY-this.g.No(),b.width,b.height,b.pressure)}}}mA(b,a){if("mouse"===b.pointerType)if(this.MB)this.MB=!1;else return;const e=performance.now();b=b.pointerId;const c=this.pd.get(b);c&&(this.Bt=c.qh,this.WC=c.Wj(),this.na(d.C.Touch.F.c4),
this.na(d.C.Touch.F.v4),a||(a=c.b7(e),"single-tap"===a?(this.na(d.C.Touch.F.t4),this.$h=c.R(),this.ai=c.S(),this.na(d.C.Touch.F.u4)):"double-tap"===a&&(this.na(d.C.Touch.F.N3),this.$h=c.R(),this.ai=c.S(),this.na(d.C.Touch.F.O3))),c.m(),this.pd.delete(b))}pH(b){this.vk("request-permission",{type:b});return new Promise((a,e)=>{this.rC.push({type:b,resolve:a,reject:e})})}Dba(b){const a=b.result,e=b.type;this.PK=e;b=this.rC.filter(c=>c.type===e);for(const c of b)c.resolve(a?"granted":"denied");this.rC=
this.rC.filter(c=>c.type!==e);a?(this.na(d.C.Touch.F.k4),0===e?this.g.Mr():this.g.fn()):this.na(d.C.Touch.F.j4)}nba(b){"number"===typeof b.webkitCompassHeading?this.pC=b.webkitCompassHeading:b.absolute&&(this.pC=b.alpha);this.aK=b.alpha;this.bK=b.beta;this.cK=b.gamma}oba(b){this.pC=b.alpha}mba(b){const a=b.acceleration;a&&(this.LH=a.x,this.MH=a.y,this.NH=a.z);if(b=b.accelerationIncludingGravity)this.IH=b.x,this.JH=b.y,this.KH=b.z}lH(){const b=performance.now();let a=0;for(const e of this.pd.values())e.Fa()<=
b-50&&e.yda(b),e.a7(b)&&(this.Bt=e.qh,this.WC=e.Wj(),this.rB=a,this.na(d.C.Touch.F.V3),this.$h=e.R(),this.ai=e.S(),this.na(d.C.Touch.F.W3),this.rB=0),++a}bj(b){b=Math.floor(b);for(const a of this.pd.values()){if(0===b)return a;--b}return null}uv(b,a){return 0<=b&&0<=a&&b<this.g.fN()&&a<this.g.eN()}}}
{"use strict";const d=self.A,b=[];d.C.Touch.F={w4(){return!0},v4(){return!0},sma(){return 0<this.pd.size},WO(a){return a&&this.uv(this.$h,this.ai)?this.g.lg.$r(a,this.$h,this.ai,!1):!1},Qma(a){if(!a)return!1;const e=a.aa();var c=e.ma();for(const f of c){c=f.j();const l=c.da();for(const g of this.pd.values()){if(!this.uv(g.R(),g.S()))continue;const [k,n]=l.Ag(g.R(),g.S(),c.ag());if(c.gu(k,n)){b.push(f);break}}}return b.length?(e.Ru(b),a.dc(),d.D(b),!0):!1},jka(a,e,c){return(a=this.bj(a))?d.compare(a.sl(),
e,c):!1},poa(){return!0},Kna(){return!0},fka(a,e,c){this.g.Mr();return d.compare(0===a?this.aK:1===a?this.bK:this.cK,e,c)},Sja(a,e,c){this.g.fn();return d.compare(0===a?this.IH:1===a?this.JH:2===a?this.KH:3===a?this.LH:4===a?this.MH:this.NH,e,c)},d4(a){a=Math.floor(a);return a===this.Bt},c4(a){a=Math.floor(a);return a===this.Bt},Hla(a){a=Math.floor(a);return this.pd.size>=a+1},V3(){return!0},t4(){return!0},N3(){return!0},W3(a){return a&&this.uv(this.$h,this.ai)?this.g.lg.$r(a,this.$h,this.ai,!1):
!1},u4(a){return a&&this.uv(this.$h,this.ai)?this.g.lg.$r(a,this.$h,this.ai,!1):!1},O3(a){return a&&this.uv(this.$h,this.ai)?this.g.lg.$r(a,this.$h,this.ai,!1):!1},k4(a){return this.PK===a},j4(a){return this.PK===a}}}"use strict";self.A.C.Touch.ib={Apa(d){this.pH(d)}};
{"use strict";const d=self.A;d.C.Touch.$d={mta(){return this.pd.size},zQ(b){const a=this.bj(this.rB);return a?a.tr(this.g.Ka(),b,!0):0},AQ(b){const a=this.bj(this.rB);return a?a.tr(this.g.Ka(),b,!1):0},cua(b,a){return(b=this.bj(b))?b.tr(this.g.Ka(),a,!0):0},eua(b,a){return(b=this.bj(b))?b.tr(this.g.Ka(),a,!1):0},dua(b,a){return(b=this.pd.get(b))?b.tr(this.g.Ka(),a,!0):0},fua(b,a){return(b=this.pd.get(b))?b.tr(this.g.Ka(),a,!1):0},BX(){const b=this.bj(0);return b?b.R():0},CX(){const b=this.bj(0);return b?
b.S():0},iia(b){return(b=this.bj(b))?b.R():0},kia(b){return(b=this.bj(b))?b.S():0},jia(b){return(b=this.pd.get(b))?b.R():0},lia(b){return(b=this.pd.get(b))?b.S():0},Nsa(b){return(b=this.bj(b))?b.sl():0},Osa(b){return(b=this.pd.get(b))?b.sl():0},Sia(b){return(b=this.bj(b))?d.Od(b.ka()):0},Tia(b){return(b=this.pd.get(b))?d.Od(b.ka()):0},ska(){this.g.Mr();return this.pC},Mia(){this.g.Mr();return this.aK},vja(){this.g.Mr();return this.bK},qla(){this.g.Mr();return this.cK},nia(){this.g.fn();return this.IH},
pia(){this.g.fn();return this.JH},ria(){this.g.fn();return this.KH},mia(){this.g.fn();return this.LH},oia(){this.g.fn();return this.MH},qia(){this.g.fn();return this.NH},ota(){return this.Bt},nta(){return this.WC},Yta(b){return(b=this.pd.get(b))?b.P():0},Kla(b){return(b=this.pd.get(b))?b.U():0},epa(b){return(b=this.pd.get(b))?b.zV:0}}}
{"use strict";const d=self.A;let b=-1E3,a=-1E3,e=-1E4;d.C.Touch.u7=class extends d.ga{constructor(){super();this.zV=this.M=this.T=this.eC=this.dC=this.O=this.Y=this.OC=this.NC=this.cC=this.Tc=this.ho=this.qh=this.wV=0;this.TB=this.TI=!1}m(){}Kg(c,f,l,g,k){this.wV=g;this.qh=k;this.ho=this.cC=this.Tc=c;this.NC=f;this.OC=l;this.Y=f;this.O=l;this.dC=f;this.eC=l}Il(c,f,l,g,k,n){this.cC=this.Tc;this.Tc=c;this.dC=this.Y;this.eC=this.O;this.Y=f;this.O=l;this.T=g;this.M=k;this.zV=n;!this.TB&&15<=d.Lt(this.NC,
this.OC,this.Y,this.O)&&(this.TB=!0)}Wj(){return this.wV}Fa(){return this.Tc}yda(c){this.cC=c}R(){return this.Y}S(){return this.O}sl(){const c=d.Lt(this.Y,this.O,this.dC,this.eC),f=(this.Tc-this.cC)/1E3;return 0<f?c/f:0}ka(){return d.It(this.dC,this.eC,this.Y,this.O)}P(){return this.T}U(){return this.M}a7(c){return this.TI?!1:500<=c-this.ho&&!this.TB&&15>d.Lt(this.NC,this.OC,this.Y,this.O)?this.TI=!0:!1}b7(c){if(this.TI)return"";if(333>=c-this.ho&&!this.TB&&15>d.Lt(this.NC,this.OC,this.Y,this.O)){if(666>=
c-e&&25>d.Lt(b,a,this.Y,this.O))return a=b=-1E3,e=-1E4,"double-tap";b=this.Y;a=this.O;e=c;return"single-tap"}return""}tr(c,f,l){return"undefined"===typeof f?c.xu(0).zM(this.Y,this.O)[l?0:1]:(c=c.da(f))?c.Ag(this.Y,this.O)[l?0:1]:0}}}{"use strict";const d=self.A;d.ra.Dh=class extends d.PF{constructor(b){super(b)}m(){super.m()}}}{"use strict";const d=self.A;d.ra.Dh.Rh=class extends d.RF{constructor(b){super(b)}m(){super.m()}Hc(){}}}
{"use strict";const d=self.A;d.ra.Dh.Instance=class extends d.QF{constructor(b,a){super(b);this.Xl=this.Wk=this.Gk=0;this.AA=this.Bs=!0;this.RV=!1;this.Lf=0;this.Qk=d.B(d.Dr);this.Vn=this.J.j().Ed()||1;a&&(this.Gk=a[0],this.Wk=a[1],this.Xl=a[2],this.Bs=!!a[3],this.Lf=(this.AA=!!a[4])?0:3);this.AA&&(0===this.Gk?(this.Lf=1,0===this.Wk&&(this.Lf=2)):(this.J.j().Ve(0),this.g.ea()));this.Bf()}m(){super.m()}md(){return{fit:this.Gk,wt:this.Wk,fot:this.Xl,d:this.Bs,s:this.Lf,st:this.Qk.$(),mo:this.Vn}}Xc(b){this.Gk=
b.fit;this.Wk=b.wt;this.Xl=b.fot;this.Bs=b.d;this.Lf=b.s;this.Qk.Set(b.st);this.Vn=b.mo}Hd(){this.Qk.wc(this.g.Pm(this.J));const b=this.J.j();0===this.Lf&&(b.Ve(this.Qk.$()/this.Gk*this.Vn),this.g.ea(),b.Ed()>=this.Vn&&(b.Ve(this.Vn),this.Lf=1,this.Qk.Jc(),this.na(d.ra.Dh.F.S3)));1===this.Lf&&this.Qk.$()>=this.Wk&&(this.Lf=2,this.Qk.Jc(),this.na(d.ra.Dh.F.A4));2===this.Lf&&0!==this.Xl&&(b.Ve(this.Vn-this.Qk.$()/this.Xl*this.Vn),this.g.ea(),0>=b.Ed()&&(this.Lf=3,this.Qk.Jc(),this.na(d.ra.Dh.F.KO),
this.Bs&&this.g.Nm(this.J)))}nn(){this.Lf=0;this.Qk.Jc();0===this.Gk?(this.Lf=1,0===this.Wk&&(this.Lf=2)):(this.J.j().Ve(0),this.g.ea())}pc(b){switch(b){case 0:return this.Gk;case 1:return this.Wk;case 2:return this.Xl;case 3:return this.Bs}}fg(b,a){switch(b){case 0:this.Gk=a;break;case 1:this.Wk=a;break;case 2:this.Xl=a;break;case 3:this.Bs=!!a}}}}"use strict";self.A.ra.Dh.F={KO(){return!0},S3(){return!0},A4(){return!0}};"use strict";
self.A.ra.Dh.ib={k7(){this.AA||this.RV||(this.Vn=this.J.j().Ed()||1,this.RV=!0);3===this.Lf&&this.nn()},oqa(){this.nn()},kra(d){0>d&&(d=0);this.Gk=d},ksa(d){0>d&&(d=0);this.Wk=d},lra(d){0>d&&(d=0);this.Xl=d}};"use strict";self.A.ra.Dh.$d={bla(){return this.Gk},Ota(){return this.Wk},cla(){return this.Xl}};
{"use strict";const d=self.A;let b=null,a=null,e=[],c=null;function f(l,g,k){var n=l.Xf();const q=g.Xf();k?((n=n.get("Physics_DisabledCollisions"))&&n.delete(g.Va),(g=q.get("Physics_DisabledCollisions"))&&g.delete(l.Va)):(k=n.get("Physics_DisabledCollisions"),k||(k=new Set,n.set("Physics_DisabledCollisions",k)),n=q.get("Physics_DisabledCollisions"),n||(n=new Set,q.set("Physics_DisabledCollisions",n)),k.add(g.Va),n.add(l.Va))}d.ra.jb=class extends d.PF{constructor(l){l.Mha=self.y1;super(l);this.Je=
null;this.gL=10;this.mc=.02;this.sW=null;this.UU=-1;this.bW=1;this.pW=8;this.xV=3;this.xT=!0;this.g.OD(this.Aaa())}async Aaa(){const l=await this.g.rb.Vy("box2d.wasm");await new Promise(g=>{self.Box2DWasmModule({wasmBinaryFile:l}).then(k=>{c=k;this.daa();g()})})}daa(){const l=this.g.lg;b=d.ra.jb.Wo(0,0);a=d.ra.jb.Wo(0,0);this.Je=new c.b2World(d.ra.jb.RE(0,this.gL),!0);var g=new c.JSContactListener;g.BeginContact=k=>{var n=c.wrapPointer(k,c.b2Contact);k=d.ra.jb.Instance.yz(n.GetFixtureA().GetBody());
n=d.ra.jb.Instance.yz(n.GetFixtureB().GetBody());l.Y4(k.J,n.J)};g.EndContact=()=>{};g.PreSolve=()=>{};g.PostSolve=()=>{};this.Je.SetContactListener(g);g=new c.JSContactFilter;g.ShouldCollide=(k,n)=>{if(this.xT)return!0;k=c.wrapPointer(k,c.b2Fixture);n=c.wrapPointer(n,c.b2Fixture);k=d.ra.jb.Instance.yz(k.GetBody());n=d.ra.jb.Instance.yz(n.GetBody());k=k.J.H();const q=n.J.H();n=k.Va;const r=q.Va;return(k=k.Xf().get("Physics_DisabledCollisions"))&&k.has(r)?!1:(k=q.Xf().get("Physics_DisabledCollisions"))&&
k.has(n)?!1:!0};this.Je.SetContactFilter(g);this.sW=new c.b2WorldManifold}m(){super.m()}Q_(){return c}$P(l){this.bW=l}q6(l){this.UU=l}U6(l){this.pW=Math.max(l,1)}y6(l){this.xV=Math.max(l,1)}OP(l,g){this.U6(l);this.y6(g)}f6(l){l!==this.gL&&(this.Je.SetGravity(d.ra.jb.RE(0,l)),this.gL=l,this.tea())}tea(){for(const g of this.ma()){var l=d.ra.jb.Instance.Al(g);l&&(l=l.ya)&&l.SetAwake(!0)}}kZ(){this.xT=!1}N5(l,g,k){k=!!k;if(l&&g){if(g.Wa)for(const n of g.Gn)f(l,n,k);else f(l,g,k);this.kZ()}}static Wo(l,
g){if(e.length){const k=e.pop();k.set_x(l);k.set_y(g);return k}return new c.b2Vec2(l,g)}static Cy(l){e.push(l)}static RE(l,g){b.set_x(l);b.set_y(g);return b}static R0(l,g){a.set_x(l);a.set_y(g);return a}static eE(l){const g=new c.b2PolygonShape,k=c._malloc(8*l.length);var n=0;for(let q=0;q<l.length;++q)c.HEAPF32[k+n>>2]=l[q].get_x(),c.HEAPF32[k+(n+4)>>2]=l[q].get_y(),n+=8;n=c.wrapPointer(k,c.b2Vec2);g.Set(n,l.length);c._free(k);return g}};self.y1=class extends self.XN{constructor(l){super(l)}}}
{"use strict";const d=self.A;d.ra.jb.Rh=class extends d.RF{constructor(b){super(b)}m(){super.m()}Hc(){}}}
{"use strict";const d=self.A,b=self.Bh,a=self.aF,e=new WeakMap,c=new WeakMap,f=new WeakMap,l=d.ra.jb.RE,g=d.ra.jb.R0,k=d.B(d.Rect),n=d.B(d.xd);d.ra.jb.Instance=class extends d.QF{constructor(r,p){super(r);r=this.tf();const v=this.j();this.Xh=r.Q_();this.Je=r.Je;this.mc=r.mc;this.rw=!1;this.JT=0;this.ao=!1;this.Tp=1;this.$p=.5;this.Eq=.2;this.rq=0;this.Jp=.01;this.Kn=!1;this.ia=!0;this.ya=null;this.Is=[];this.jh=[];this.hf=[];this.On=new Set;this.Rs=v.R();this.Ss=v.S();this.wJ=v.ka();this.vJ=this.CJ=
0;this.Gw=!1;p&&(this.rw=!!p[0],this.JT=p[1],this.ao=!!p[2],this.Tp=p[3],this.$p=p[4],this.Eq=p[5],this.rq=p[6],this.Jp=p[7],this.Kn=!!p[8],this.ia=!!p[9]);p=this.g.Gb();this.ee=new d.gr(d.Sb.xc(p,"instancedestroy",t=>this.gH(t.instance)),d.Sb.xc(p,"beforeload",()=>this.ns()),d.Sb.xc(p,"afterload",()=>this.Ap()));c.set(this.J,this);this.ia&&this.Bf()}Bz(){this.Vz()}m(){this.Zz();d.D(this.hf);this.On.clear();this.ya&&(this.MG(),this.Je.DestroyBody(this.ya),this.ya=null);super.m()}lv(r){this.ya&&(r=
this.ya.CreateFixture(r),this.Is.push(r))}MG(){if(this.ya){for(const r of this.Is)this.ya.DestroyFixture(r);d.D(this.Is)}}hs(){const r=this.j();return r.Jg()?(r.fy(k,n,!1),n):r.Vj()}aj(r){this.Xh.destroy(r)}Vz(){if(this.ia){var r=this.Xh.b2FixtureDef,p=this.Xh.b2BodyDef,v=this.j();if(!this.ya){p=new p;p.set_type(this.rw?0:2);var t=this.hs();p.set_position(g(t.Bi()*this.mc,t.Ci()*this.mc));p.set_angle(v.ka());p.set_fixedRotation(this.ao);p.set_linearDamping(this.rq);p.set_angularDamping(this.Jp);p.set_bullet(this.Kn);
this.ya=this.Je.CreateBody(p);this.aj(p);e.set(this.ya,this)}this.MG();r=new r;r.set_density(this.Tp);r.set_friction(this.$p);r.set_restitution(this.Eq);p=this.JT;v.Fu()||this.J.Qi()||0!==p||(p=1);t=Math.max(Math.abs(v.P()),1);var w=Math.max(Math.abs(v.U()),1);0===p?this.J.Qi()?this.i9(r):this.b9(r,t,w):1===p?this.QQ(r,t,w):this.N8(r,t,w);this.CJ=v.P();this.vJ=v.U();v.XP(!1);this.aj(r)}}QQ(r,p,v){const t=new this.Xh.b2PolygonShape;t.SetAsBox(p*this.mc*.5,v*this.mc*.5);r.set_shape(t);this.lv(r);this.aj(t)}N8(r,
p,v){const t=new this.Xh.b2CircleShape;t.set_m_radius(Math.min(p,v)*this.mc*.5);r.set_shape(t);this.lv(r);this.aj(t)}b9(r,p,v){var t=this.j(),w=0>t.P();const x=0>t.U(),z=this.mc;var E=t.ka();0!==E&&(t.Kc(0),t.Sa());var G=this.hs();const N=G.Bi()-t.R();G=G.Ci()-t.S();0!==E&&(t.Kc(E),t.Sa());E=t.U_(w?-p:p,x?-v:v).Bd;const C=E.length/2;t=[];for(let H=0;H<C;++H)t.push(d.ra.jb.Wo(E[2*H]-N,E[2*H+1]-G));w!==x&&t.reverse();w=d.ra.jb.xP.wP(t,p*v);for(const H of t)d.ra.jb.Cy(H);if(w.length)for(const H of w){for(const I of H)I.set_x(I.get_x()*
z),I.set_y(I.get_y()*z);p=d.ra.jb.eE(H);r.set_shape(p);this.lv(r);this.aj(p);for(const I of H)d.ra.jb.Cy(I)}else this.QQ(r,p,v)}i9(r){var p=this.j(),v=this.hs();const t=v.Bi()-p.R();p=v.Ci()-p.S();v=this.mc;const w=d.ra.jb.Wo,x=d.ra.jb.Cy,z=[];this.J.ja.rla(z);const E=[];for(let I=0,K=z.length;I<K;++I){var G=z[I],N=G.O0(),C=G.AN();if(C){var H=f.get(C);if(!H){H=C.Bd;const Q=C.RL();for(let R=0;R<Q;++R)E.push(w(H[2*R],H[2*R+1]));G=G.Ala()&3758096384;(-2147483648===G||1073741824===G||536870912===G||G&
-2147483648&&G&1073741824&&G&536870912)&&E.reverse();H=d.ra.jb.xP.wP(E,N.width()*N.height());f.set(C,H);for(const R of E)x(R);d.D(E)}for(let Q=0,R=H.length;Q<R;++Q){C=H[Q];for(let U=0,Z=C.length;U<Z;++U)E.push(w((N.N+C[U].get_x()-t)*v,(N.L+C[U].get_y()-p)*v));C=d.ra.jb.eE(E);r.set_shape(C);this.lv(r);this.aj(C);for(const U of E)x(U);d.D(E)}}else E.push(w((N.N-t)*v,(N.L-p)*v)),E.push(w((N.X-t)*v,(N.L-p)*v)),E.push(w((N.X-t)*v,(N.V-p)*v)),E.push(w((N.N-t)*v,(N.V-p)*v)),N=d.ra.jb.eE(E),r.set_shape(N),
this.lv(r),this.aj(N);for(const Q of E)x(Q);d.D(E)}}XQ(){this.ya&&(this.Zz(),e.delete(this.ya),this.MG(),this.Je.DestroyBody(this.ya),this.ya=null)}Zz(){for(const r of this.jh)this.Je.DestroyJoint(r);d.D(this.jh)}$ba(){for(const r of this.hf)switch(r.type){case 0:this.$Q(...r.Co);break;case 1:this.cR(...r.Co);break;case 2:this.aR(...r.Co);break;case 3:this.bR(...r.Co)}}uk(r){var p=this.j();return-1===r?[p.R(),p.S()]:0===r&&this.ya?(r=this.ya.GetPosition(),p=this.ya.GetLocalCenter(),[(r.get_x()+p.get_x())/
this.mc,(r.get_y()+p.get_y())/this.mc]):this.J.ol(r)}O8(r,p,v,t,w){this.ia&&p&&p!==this.J&&d.ra.jb.Instance.Al(p)&&(this.hf.push({type:0,Co:[r,p.yb,v,t,w]}),this.$Q(r,p.yb,v,t,w))}$Q(r,p,v,t,w){if(this.ia){var x=this.g.Pe(p);if(x&&x!==this.J&&c.has(x)){p=d.ra.jb.Instance.Al(x);p.On.add(this.J);this.Ol(!1);p.Ol(!1);var [z,E]=this.uk(r),[G,N]=x.ol(v);r=z-G;v=E-N;x=this.mc;var C=new this.Xh.b2DistanceJointDef;C.Initialize(this.ya,p.ya,l(z*x,E*x),g(G*x,N*x));C.set_length(Math.hypot(r,v)*x);C.set_dampingRatio(t);
C.set_frequencyHz(w);this.jh.push(this.Je.CreateJoint(C));this.aj(C)}}}e9(r,p){this.ia&&p&&p!==this.J&&d.ra.jb.Instance.Al(p)&&(this.hf.push({type:1,Co:[r,p.yb]}),this.cR(r,p.yb))}cR(r,p){if(this.ia&&(p=this.g.Pe(p))&&p!==this.J&&c.has(p)){p=d.ra.jb.Instance.Al(p);p.On.add(this.J);this.Ol(!1);p.Ol(!1);var [v,t]=this.uk(r);r=this.mc;var w=new this.Xh.b2RevoluteJointDef;w.Initialize(this.ya,p.ya,l(v*r,t*r));this.jh.push(this.Je.CreateJoint(w));this.aj(w)}}Z8(r,p,v,t){this.ia&&p&&p!==this.J&&d.ra.jb.Instance.Al(p)&&
(v=d.Od(v),t=d.Od(t),this.hf.push({type:2,Co:[r,p.yb,v,t]}),this.aR(r,p.yb,v,t))}aR(r,p,v,t){if(this.ia&&(p=this.g.Pe(p))&&p!==this.J&&c.has(p)){p=d.ra.jb.Instance.Al(p);p.On.add(this.J);this.Ol(!1);p.Ol(!1);var [w,x]=this.uk(r);r=this.mc;var z=new this.Xh.b2RevoluteJointDef;z.Initialize(this.ya,p.ya,l(w*r,x*r));z.set_enableLimit(!0);z.set_lowerAngle(d.Ba(v));z.set_upperAngle(d.Ba(t));this.jh.push(this.Je.CreateJoint(z));this.aj(z)}}c9(r,p,v,t,w,x,z,E,G){this.ia&&p&&p!==this.J&&d.ra.jb.Instance.Al(p)&&
(v=d.Od(v),E=d.Od(E),this.hf.push({type:3,Co:[r,p.yb,v,t,w,x,z,E,G]}),this.bR(r,p.yb,v,t,w,x,z,E,G))}bR(r,p,v,t,w,x,z,E,G){if(this.ia&&(p=this.g.Pe(p))&&p!==this.J&&c.has(p)){p=d.ra.jb.Instance.Al(p);p.On.add(this.J);this.Ol(!1);p.Ol(!1);var [N,C]=this.uk(r);v=d.Ba(v);r=Math.cos(v);v=Math.sin(v);var H=this.mc,I=new this.Xh.b2PrismaticJointDef;I.Initialize(this.ya,p.ya,l(N*H,C*H),g(r,v));I.set_enableLimit(!!t);I.set_lowerTranslation(w*H);I.set_upperTranslation(x*H);I.set_enableMotor(!!z);I.set_motorSpeed(d.Ba(E));
I.set_maxMotorForce(G);this.jh.push(this.Je.CreateJoint(I));this.aj(I)}}nca(){this.ia&&(this.Zz(),d.D(this.hf),this.On.clear())}gH(r){const p=r.yb;let v=0;for(let t=0,w=this.hf.length;t<w;++t)this.hf[v]=this.hf[t],v<this.jh.length&&(this.jh[v]=this.jh[t]),this.hf[t].Co[1]===p?t<this.jh.length&&this.Je.DestroyJoint(this.jh[t]):++v;d.qe(this.hf,v);v<this.jh.length&&d.qe(this.jh,v);this.On.delete(r)}static yz(r){return e.get(r)||null}static Al(r){return c.get(r)||null}md(){const r={e:this.ia,pr:this.ao,
d:this.Tp,fr:this.$p,re:this.Eq,ld:this.rq,ad:this.Jp,b:this.Kn,mcj:this.hf};if(this.ia){const p=this.ya.GetLinearVelocity();r.vx=p.get_x();r.vy=p.get_y();r.om=this.ya.GetAngularVelocity()}return r}ns(){this.Zz();d.D(this.hf);this.On.clear()}Xc(r){this.XQ();this.ia=r.e;this.ao=r.pr;this.Tp=r.d;this.$p=r.fr;this.Eq=r.re;this.rq=r.ld;this.Jp=r.ad;this.Kn=r.b;this.hf=r.mcj;const p=this.j();this.Rs=p.R();this.Ss=p.S();this.wJ=p.ka();this.CJ=p.P();this.vJ=p.U();this.ia&&(this.Vz(),this.ya.SetLinearVelocity(l(r.vx,
r.vy)),this.ya.SetAngularVelocity(r.om),0===r.vx&&0===r.vy&&0===r.om||this.ya.SetAwake(!0),this.hf=r.mcj);this.ia?this.Bf():this.un()}Ap(){this.ia&&this.$ba()}Hd(){if(this.ia){var r=this.g,p=this.tf();if(0===p.bW)var v=r.Cd/60;else v=r.Pm(this.J),v>1/30&&(v=1/30);var t=r.vm;if(t>p.UU&&0<r.Cd){r=this.g.ub;let w=0;r&&(w=performance.now());0!==v&&this.Je.Step(v,p.pW,p.xV);this.Je.ClearForces();r&&self.Vf.Fia(performance.now()-w);p.q6(t)}this.Ol(!0)}}Ol(r){const p=this.J.j();var v=this.mc;(p.P()!==this.CJ||
p.U()!==this.vJ||p.F2())&&this.Vz();var t=this.ya,w=p.R()!==this.Rs||p.S()!==this.Ss,x=p.ka()!==this.wJ;if(w){var z=this.hs();const E=z.Bi();z=z.Ci();const G=E-this.Rs,N=z-this.Ss;x?t.SetTransform(l(E*v,z*v),p.ka()):t.SetTransform(l(E*v,z*v),t.GetAngle());r&&(t.SetLinearVelocity(l(G,N)),this.Gw=!0);t.SetAwake(!0)}else r&&this.Gw&&(r=this.hs(),this.Gw=!1,t.SetLinearVelocity(l(0,0)),t.SetTransform(l(r.Bi()*v,r.Ci()*v),t.GetAngle()));!w&&x&&(t.SetTransform(t.GetPosition(),p.ka()),t.SetAwake(!0));x=t.GetPosition();
w=x.get_x()/v;v=x.get_y()/v;t=t.GetAngle();if(w!==p.R()||v!==p.S()||t!==p.ka())if(p.Hl(w,v),p.Kc(t),p.Sa(),v=this.hs(),t=v.Bi()-p.R(),v=v.Ci()-p.S(),0!==t||0!==v)p.Lu(-t,-v),p.Sa();this.Rs=p.R();this.Ss=p.S();this.wJ=p.ka()}pc(r){switch(r){case 2:return this.ao;case 3:return this.yR();case 4:return this.CR();case 5:return this.zR();case 6:return this.ER();case 7:return this.pR();case 8:return this.Kn;case 9:return this.ia}}fg(r,p){switch(r){case 2:this.$S(p);break;case 3:this.RS(p);break;case 4:this.US(p);
break;case 5:this.TS(p);break;case 6:this.XS(p);break;case 7:this.NS(p);break;case 8:this.QS(p);break;case 9:this.tn(p)}}tn(r){r=!!r;this.ia&&!r?(this.XQ(),this.ia=!1,this.un()):!this.ia&&r&&(this.ia=!0,this.Vz(),this.Bf())}n8(r,p,v){const [t,w]=this.uk(v);this.OG(r,p,t,w)}p8(r,p,v,t){const [w,x]=this.uk(t);p=d.It(w,x,p,v);this.OG(Math.cos(p)*r,Math.sin(p)*r,w,x)}o8(r,p,v){const [t,w]=this.uk(v);this.OG(Math.cos(p)*r,Math.sin(p)*r,t,w)}OG(r,p,v,t){if(this.ia){var w=this.mc;this.ya.ApplyForce(l(r,
p),g(v*w,t*w),!0)}}q8(r,p,v){const [t,w]=this.uk(v);this.PG(r,p,t,w)}s8(r,p,v,t){const [w,x]=this.uk(t);p=d.It(w,x,p,v);this.PG(Math.cos(p)*r,Math.sin(p)*r,w,x)}r8(r,p,v){const [t,w]=this.uk(v);this.PG(Math.cos(p)*r,Math.sin(p)*r,t,w)}PG(r,p,v,t){if(this.ia){var w=this.mc;this.ya.ApplyLinearImpulse(l(r,p),g(v*w,t*w),!0);r=this.j();this.Rs=r.R();this.Ss=r.S();this.Gw=!1}}xG(r){this.ia&&this.ya.ApplyTorque(r,!0)}t8(r,p){p=d.Ke(this.j().ka(),p)?-1:1;this.xG(r*p)}u8(r,p,v){var t=this.j();p=d.It(t.R(),
t.S(),p,v);t=d.Ke(t.ka(),p)?-1:1;this.xG(r*t)}ada(r){this.ia&&(this.ya.SetAngularVelocity(r),this.ya.SetAwake(!0))}qR(){return this.ia?this.ya.GetAngularVelocity():0}dT(r,p){if(this.ia){var v=this.mc;this.ya.SetLinearVelocity(l(r*v,p*v));this.ya.SetAwake(!0);r=this.j();this.Rs=r.R();this.Ss=r.S();this.Gw=!1}}W$(){if(!this.ia)return[0,0];const r=this.mc,p=this.ya.GetLinearVelocity();return[p.get_x()/r,p.get_y()/r]}PR(){return this.ia?this.ya.GetLinearVelocity().get_x()/this.mc:0}QR(){return this.ia?
this.ya.GetLinearVelocity().get_y()/this.mc:0}RS(r){if(this.ia&&this.Tp!==r){this.Tp=r;for(const p of this.Is)p.SetDensity(r);this.ya.ResetMassData()}}yR(){return this.ia?this.Tp:0}US(r){if(this.ia&&this.$p!==r){this.$p=r;for(var p of this.Is)p.SetFriction(r);for(r=this.ya.GetContactList();this.Xh.getPointer(r);r=r.get_next())(p=r.get_contact())&&p.ResetFriction()}}CR(){return this.ia?this.$p:0}TS(r){if(this.ia&&this.Eq!==r){this.Eq=r;for(const p of this.Is)p.SetRestitution(r)}}zR(){return this.ia?
this.Eq:0}XS(r){this.ia&&this.rq!==r&&(this.rq=r,this.ya.SetLinearDamping(r))}ER(){return this.ia?this.rq:0}NS(r){this.ia&&this.Jp!==r&&(this.Jp=r,this.ya.SetAngularDamping(r))}pR(){return this.ia?this.Jp:0}uda(r){this.ia&&(r=!!r,this.rw!==r&&(this.rw=r,this.ya.SetType(this.rw?0:2),this.ya.SetAwake(!0)))}$S(r){this.ia&&(r=!!r,this.ao!==r&&(this.ao=r,this.ya.SetFixedRotation(this.ao),this.ya.SetAngularVelocity(0),this.ya.SetAwake(!0)))}QS(r){this.ia&&(r=!!r,this.Kn!==r&&(this.Kn=r,this.ya.SetBullet(this.Kn),
this.ya.SetAwake(!0)))}GR(){return this.ia?this.ya.GetMass()/this.mc:0}E$(){return this.ia?(this.ya.GetPosition().get_x()+this.ya.GetLocalCenter().get_x())/this.mc:0}F$(){return this.ia?(this.ya.GetPosition().get_y()+this.ya.GetLocalCenter().get_y())/this.mc:0}uaa(){return this.ia?!this.ya.IsAwake():!1}G$(){if(!this.ia)return 0;let r=0;for(let v=this.ya.GetContactList();this.Xh.getPointer(v);v=v.get_next()){var p=v.get_contact();p&&(p=p.GetManifold().get_pointCount(),r+=p)}return r}vR(r){r=Math.floor(r);
if(!this.ia)return[0,0];var p=0;for(let t=this.ya.GetContactList();this.Xh.getPointer(t);t=t.get_next()){var v=t.get_contact();if(!v)continue;const w=v.GetManifold().get_pointCount();if(r>=p&&r<p+w)return r-=p,p=this.tf().sW,v.GetWorldManifold(p),v=p.get_points(r),[v.get_x()/this.mc,v.get_y()/this.mc];p+=w}return[0,0]}Jh(){return self.z1}};const q=new WeakMap;self.z1=class extends a{constructor(){super();q.set(this,a.yp().ja)}get isEnabled(){return q.get(this).ia}set isEnabled(r){q.get(this).tn(r)}setVelocity(r,
p){b.Ui(r);b.Ui(p);q.get(this).dT(r,p)}}}{"use strict";const d=self.A;d.ra.jb.F={Nma(){return this.uaa()},lka(b,a,e){if(!this.ia)return!1;if(0===b)b=this.PR();else if(1===b)b=this.QR();else{const [c,f]=this.W$();b=Math.hypot(c,f)}return d.compare(b,a,e)},Tja(b,a){if(!this.ia)return!1;const e=d.Od(this.qR());return d.compare(e,b,a)},cka(b,a){if(!this.ia)return!1;const e=this.GR();return d.compare(e,b,a)},wl(){return this.ia}}}
{"use strict";const d=self.A;d.ra.jb.ib={aja(b,a,e){this.n8(b,a,e)},cja(b,a,e,c){this.p8(b,a,e,c)},bja(b,a,e){this.o8(b,d.Ba(a),e)},dja(b,a,e){this.q8(b,a,e)},fja(b,a,e,c){this.s8(b,a,e,c)},eja(b,a,e){this.r8(b,d.Ba(a),e)},gja(b){this.xG(d.Ba(b))},hja(b,a){this.t8(d.Ba(b),d.Ba(a))},ija(b,a,e){this.u8(d.Ba(b),a,e)},Nqa(b){this.ada(d.Ba(b))},Bka(b,a,e,c,f){a&&(a=a.Gh(this.J),this.O8(b,a,e,c,f))},Gka(b,a){a&&(a=a.Gh(this.J),this.e9(b,a))},Dka(b,a,e,c){a&&(a=a.Gh(this.J),this.Z8(b,a,d.Ba(e),d.Ba(c)))},
Fka(b,a,e,c,f,l,g,k,n){a&&(a=a.Gh(this.J),this.c9(b,a,d.Ba(e),c,f,l,g,d.Ba(k),n))},vpa(){this.nca()},msa(b){this.tf().f6(b)},$P(b){this.tf().$P(b)},OP(b,a){this.tf().OP(b,a)},isa(b,a){this.dT(b,a)},cra(b){this.RS(b)},ora(b){this.US(b)},hra(b){this.TS(b)},Pra(b){this.XS(b)},Mqa(b){this.NS(b)},tra(b){this.uda(b)},Vka(b,a){this.tf().N5(this.H(),b,0!==a)},esa(b){this.$S(0!==b)},Wqa(b){this.QS(0!==b)},IP(b){this.tn(0!==b)}}}
{"use strict";const d=self.A;d.ra.jb.$d={Gta(){return this.PR()},Hta(){return this.QR()},Via(){return d.Od(this.qR())},wna(){return this.GR()},Eja(){return this.E$()},Fja(){return this.F$()},Mka(){return this.yR()},ola(){return this.CR()},Uka(){return this.zR()},fna(){return this.ER()},Uia(){return this.pR()},wka(){return this.G$()},xka(b){return this.vR(b)[0]},yka(b){return this.vR(b)[1]}}}
{"use strict";const d=self.A,b={};d.ra.jb.xP=b;const a=d.ra.jb.Wo,e=d.ra.jb.Cy;function c(l){return a(l.get_x(),l.get_y())}b.Cga=function(l,g,k,n,q,r){return l*n+k*r+q*g-g*k-n*q-r*l};b.Sga=function(l,g,k,n,q,r,p,v){var t=k-l,w=n-g,x=p-q;const z=v-r;x=(x*(r-g)-z*(q-l))/(w*x-t*z);t=l+x*t;w=g+x*w;q=b.qD(t,w,q,r,p,v);return b.qD(k,n,l,g,t,w)&&q?a(t,w):null};b.qD=function(l,g,k,n,q,r){return(k+.1>=l&&l>=q-.1||k-.1<=l&&l<=q+.1)&&(n+.1>=g&&g>=r-.1||n-.1<=g&&g<=r+.1)&&b.bha(l,g,k,n,q,r)};b.bha=function(l,
g,k,n,q,r){return.1<Math.abs(q-k)?.1>Math.abs((r-n)/(q-k)*(l-k)+n-g):.1>Math.abs(l-k)};b.cX=function(l,g,k,n){return.1>Math.abs(k-l)&&.1>Math.abs(n-g)};b.wP=function(l,g){l=b.nga(l);let k=[];for(let n=0,q=l.length;n<q;++n){const r=l[n],p=[];let v=0;for(let t=0,w=r.length;t<w;++t){const x=r[t],z=r[(t+1)%w];v+=x.get_x()*z.get_y()-x.get_y()*z.get_x();p.push(a(x.get_x(),x.get_y()))}v=Math.abs(v/2);if(v>=.001*g)k.push(p);else for(let t=0,w=p.length;t<w;t++)e(p[t])}g=k;l=[];for(const n of g)8>=n.length?
l.push(n):l.push.apply(l,f(n));return k=l};b.nga=function(l){var g;let k;var n;let q;let r,p,v,t;let w;var x=0;let z=0,E,G=[],N=[];for(N.push(l);N.length;){l=N[0];k=l.length;E=!0;for(g=0;g<k;g++){r=g;p=g<k-1?g+1:g+1-k;var C=g<k-2?g+2:g+2-k;v=l[r];t=l[p];C=l[C];C=b.Cga(v.get_x(),v.get_y(),t.get_x(),t.get_y(),C.get_x(),C.get_y());if(0>C){E=!1;var H=1E9;for(n=0;n<k;n++)if(n!==r&&n!==p){g=n;C=n<k-1?n+1:0;var I=l[g];var K=l[C];if(I=b.Sga(v.get_x(),v.get_y(),t.get_x(),t.get_y(),I.get_x(),I.get_y(),K.get_x(),
K.get_y()))K=t.get_x()-I.get_x(),q=t.get_y()-I.get_y(),K=K*K+q*q,K<H?(z=g,x=C,w=I,H=K):e(I)}if(1E9===H)return[];n=[];H=[];g=z;C=x;I=l[g];K=l[C];x=!1;b.cX(w.get_x(),w.get_y(),K.get_x(),K.get_y())||(n.push(w),x=!0);b.cX(w.get_x(),w.get_y(),I.get_x(),I.get_y())||(H.push(w),x=!0);x||e(w);z=-1;for(x=r;;){if(x!==C)n.push(l[x]);else{if(0>z||z>=k)return[];b.qD(K.get_x(),K.get_y(),l[z].get_x(),l[z].get_y(),v.get_x(),v.get_y())||n.push(l[x]);break}z=x;0>x-1?x=k-1:x--}n.reverse();z=-1;for(x=p;;){if(x!==g)H.push(l[x]);
else{if(0>z||z>=k)return[];x!==g||b.qD(I.get_x(),I.get_y(),l[z].get_x(),l[z].get_y(),t.get_x(),t.get_y())||H.push(l[x]);break}z=x;x+1>k-1?x=0:x++}N.push(n,H);N.shift();break}}E&&G.push(N.shift())}return G};function f(l){const g=[];g.push(l.splice(0,8));const k=g[0][0];let n=g[0][7];for(;l.length;){const q=l.splice(0,Math.min(l.length,6));let r=q.oe(-1);q.push(c(k));q.push(c(n));g.push(q);n=r}return g}}{"use strict";const d=self.A;d.ra.Yr=class extends d.PF{constructor(b){super(b)}m(){super.m()}}}
{"use strict";const d=self.A;d.ra.Yr.Rh=class extends d.RF{constructor(b){super(b)}m(){super.m()}Hc(){}}}
{"use strict";const d=self.A,b=self.aF,a=2*Math.PI,e=Math.PI/2,c=3*Math.PI/2,f=[0,1,8,3,4,2,5,6,9,7];d.ra.Yr.Instance=class extends d.QF{constructor(g,k){super(g);this.Cc=this.Ge=this.to=this.sg=this.Bc=0;this.ia=!0;this.AC=this.Qs=this.Gf=this.eq=this.lb=this.MJ=this.hK=this.iK=this.KA=this.CT=this.LA=0;k&&(this.sg=f[k[0]],this.to=k[1],this.iK=this.g.Dl()*k[3],this.LA=k[2],this.Ge=k[2],this.Ge+=this.iK,this.CT=k[4],0!==this.Ge&&(this.hK=this.g.Dl()*k[5],this.Bc=k[4]/this.Ge*a,this.Bc+=this.hK/this.Ge*
a),this.MJ=this.g.Dl()*k[7],this.KA=k[6],this.Cc=k[6],this.Cc+=this.MJ,this.ia=!!k[8]);5===this.sg&&(this.Cc=d.Ba(this.Cc));this.Kg();this.ia&&this.Bf()}m(){super.m()}md(){return{i:this.Bc,e:this.ia,mv:this.sg,w:this.to,p:this.Ge,mag:this.Cc,iv:this.lb,iv2:this.eq,r:this.AC,lkv:this.Gf,lkv2:this.Qs}}Xc(g){this.Bc=g.i;this.tn(g.e);this.sg=g.mv;this.to=g.w;this.Ge=g.p;this.Cc=g.mag;this.lb=g.iv;this.eq=g.iv2;this.AC=g.r;this.Gf=g.lkv;this.Qs=g.lkv2}Kg(){const g=this.J.j();switch(this.sg){case 0:this.lb=
g.R();break;case 1:this.lb=g.S();break;case 2:this.lb=g.P();this.AC=g.U()/g.P();break;case 3:this.lb=g.P();break;case 4:this.lb=g.U();break;case 5:this.lb=g.ka();break;case 6:this.lb=g.Ed();break;case 7:this.lb=0;break;case 8:this.lb=g.R();this.eq=g.S();break;case 9:this.lb=g.Xa()}this.Gf=this.lb;this.Qs=this.eq}Sh(g){g%=a;switch(this.to){case 0:return Math.sin(g);case 1:return g<=e?g/e:g<=c?1-2*(g-e)/Math.PI:(g-c)/e-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Hd(){const g=
this.g.Pm(this.J);this.ia&&0!==g&&(this.Bc=0===this.Ge?0:(this.Bc+g/this.Ge*a)%a,this.sT())}sT(){const g=this.J.j();switch(this.sg){case 0:g.R()!==this.Gf&&(this.lb+=g.R()-this.Gf);g.Ug(this.lb+this.Sh(this.Bc)*this.Cc);this.Gf=g.R();break;case 1:g.S()!==this.Gf&&(this.lb+=g.S()-this.Gf);g.Vg(this.lb+this.Sh(this.Bc)*this.Cc);this.Gf=g.S();break;case 2:g.Xe(this.lb+this.Sh(this.Bc)*this.Cc);g.Ue(g.P()*this.AC);break;case 3:g.Xe(this.lb+this.Sh(this.Bc)*this.Cc);break;case 4:g.Ue(this.lb+this.Sh(this.Bc)*
this.Cc);break;case 5:g.ka()!==this.Gf&&(this.lb=d.pe(this.lb+(g.ka()-this.Gf)));g.Kc(this.lb+this.Sh(this.Bc)*this.Cc);this.Gf=g.ka();break;case 6:g.Ve(this.lb+this.Sh(this.Bc)*this.Cc/100);break;case 8:g.R()!==this.Gf&&(this.lb+=g.R()-this.Gf);g.S()!==this.Qs&&(this.eq+=g.S()-this.Qs);g.Ug(this.lb+Math.cos(g.ka())*this.Sh(this.Bc)*this.Cc);g.Vg(this.eq+Math.sin(g.ka())*this.Sh(this.Bc)*this.Cc);this.Gf=g.R();this.Qs=g.S();break;case 9:g.Ye(this.lb+this.Sh(this.Bc)*this.Cc)}g.Sa()}Eda(g){this.Ge=
g}zda(g){this.Cc=g}Ada(g){5===this.sg&&(g=d.Ba(g));this.zda(g)}XG(){let g=this.Cc;5===this.sg&&(g=d.Od(g));return g}Dda(g){5===this.sg&&5!==g&&(this.Cc=d.Od(this.Cc));this.sg=g;this.Kg()}Fda(g){this.Bc=d.ba(g,0,2*Math.PI);this.sT()}tn(g){(this.ia=!!g)?this.Bf():this.un()}pc(g){switch(g){case 0:return this.sg;case 1:return this.to;case 2:return this.LA;case 6:return this.KA;case 8:return this.ia}}fg(g,k){switch(g){case 0:this.sg=f[k];this.Kg();break;case 1:this.to=k;break;case 2:this.LA=k;this.Ge=
this.LA+this.iK;this.ia||(0!==this.Ge?(this.Bc=this.CT/this.Ge*a,this.Bc+=this.hK/this.Ge*a):this.Bc=0);break;case 6:this.KA=k;this.Cc=this.KA+this.MJ;5===this.sg&&(this.Cc=d.Ba(this.Cc));break;case 8:this.ia=!!k}}Jh(){return self.B1}};const l=new WeakMap;self.B1=class extends b{constructor(){super();l.set(this,b.yp().ja)}get value(){const g=l.get(this);return g.Sh(g.Bc)*g.Cc}set isEnabled(g){l.get(this).tn(!!g)}get isEnabled(){return l.get(this).ia}}}
{"use strict";const d=self.A;d.ra.Yr.F={wl(){return this.ia},dka(b){return this.sg===b},gka(b,a){return d.compare(this.Ge,b,a)},bka(b,a){return d.compare(this.XG(),b,a)},nka(b){return this.to===b}}}"use strict";self.A.ra.Yr.ib={IP(d){this.tn(0!==d)},asa(d){this.Eda(d)},Tra(d){this.Ada(d)},Xra(d){this.Dda(d)},lsa(d){this.to=d},bsa(d){const b=2*Math.PI;this.Fda(d*b%b)},Cta(){this.Kg()}};"use strict";
self.A.ra.Yr.$d={Kka(){return this.Bc/(2*Math.PI)},xoa(){return this.Ge},sna(){return this.XG()},Fta(){return this.Sh(this.Bc)*this.XG()}};
{const d=self.A;self.vM=function(){return[d.C.nd,d.ra.Dh,d.ra.jb,d.ra.Yr,d.C.qk,d.C.Audio,d.C.jd,d.C.Ob,d.C.wd,d.C.Touch,d.C.Ya.F.PO,d.C.Ya.ib.T6,d.C.nd.ib.YP,d.C.qk.ib.YP,d.C.Ob.ib.xY,d.C.Ya.$d.Aha,d.C.Ob.F.LO,d.C.Ob.$d.P2,d.C.qk.ib.Wr,d.C.Ya.F.yr,d.C.Ya.F.w_,d.C.Ya.ib.LM,d.C.Ya.$d.random,d.C.Touch.F.WO,d.C.nd.ib.g7,d.C.nd.ib.Kc,d.C.nd.ib.jZ,d.C.Ya.ib.TX,d.ra.Dh.ib.k7,d.C.Ya.ib.p7,d.C.nd.ib.Ue,d.C.nd.$d.s1,d.C.Ya.F.x_,d.C.nd.ib.Xe,d.C.Ya.F.HY,d.C.Ya.ib.qp,d.C.Ob.ib.p6,d.ra.Dh.F.KO,d.C.Ya.ib.Z0,d.C.jd.ib.$0,
d.C.Ya.ib.H6,d.C.Ya.ib.t5,d.C.Audio.ib.Play,d.C.nd.F.J3,d.C.nd.ib.H5,d.C.Ya.F.TM,d.C.Audio.ib.hg,d.C.wd.F.t2,d.C.wd.ib.P5,d.C.Ya.$d.mha,d.C.Ya.F.SO,d.C.Audio.ib.K4]};self.kY=[{pja:0},{mna:0},{nna:0},{ona:0},{Dh:0},{jb:0},{rsa:0},{ssa:0},{usa:0},{vsa:0},{wsa:0},{xsa:0},{zsa:0},{Asa:0},{Csa:0},{Dsa:0},{Fsa:0},{Gsa:0},{yna:0},{Jna:0},{uoa:0},{qsa:0},{Play:0},{voa:0},{nqa:0},{Msa:0},{uja:0},{Mla:0},{Zma:0},{pna:0},{Dqa:0},{tsa:0},{ysa:0},{Bsa:0},{Esa:0},{Hsa:0},{Audio:0},{jd:0},{Ob:0},{wd:0},{Touch:0},
{tja:0},{Ika:0},{Jka:0},{Bna:0},{Cna:0},{Dna:0},{Ena:0},{Fna:0},{Gna:0},{Hna:0},{Ina:0},{Eqa:0},{Cqa:0},{Uta:0},{Pja:0},{Isa:0},{eta:0},{Lsa:0},{Yma:0},{Lla:0}]}
{function d(b,a){return"string"===typeof b||"string"===typeof a?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a):b&&a?1:0}self.jY=[()=>0,()=>3,()=>640,()=>-460,()=>54,()=>1200,()=>580,()=>1370,()=>700,b=>{const a=b.ig().Uj();return()=>a()+"High Score"},b=>{const a=b.ig().Uj();return()=>a()+"Last Score"},b=>{const a=b.ig().Uj();return()=>a()},b=>{const a=b.ig().Fn;return()=>d("High:",a.Sd())},b=>{const a=b.ig().Fn;return()=>d("Last:",
a.Sd())},()=>"Create smiles",()=>2.5,()=>1,b=>{const a=b.ig().Uj();return()=>a(100,1180)},b=>{const a=b.ig().Uj();return()=>a(100,620)},()=>4,()=>5,()=>3.5,()=>4.5,()=>"Touch smiles",b=>{const a=b.ig().Uj();return()=>a(360)},()=>"Death smiles",()=>.01,b=>{const a=b.ig();return()=>a.WM()+1},b=>{const a=b.ig().Fn;return()=>a.Sd()},b=>{const a=b.ig().Fn;return()=>d("=",a.Sd())},b=>{const a=b.ig();return()=>a.WM()},()=>2,()=>360,()=>420,()=>530,()=>"Touch buttons",()=>"http://codecanyon.net/user/Muscle-SS/portfolio",
()=>"Sound",()=>"Sound ON/OFF",()=>"SoundON",()=>"SoundOFF",()=>-10,()=>"Mouse",b=>{const a=b.ig().Uj();return()=>d(Math.round(100*a()),"%")},b=>{const a=b.ig().Uj();return()=>Math.round(640*a())}]};
