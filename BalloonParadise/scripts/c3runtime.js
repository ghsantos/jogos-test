// Generated by Construct 3, the game and app creator :: https://www.construct.net
'use strict';var ya;"use strict";var Ta=this;
function Xa(d){function b(h,m,v){var y=m[0],A=m[1],D=m[2];m=m[3];var F=v[0],J=v[1],M=v[2];v=v[3];h[0]=y*F+D*J;h[1]=A*F+m*J;h[2]=y*M+D*v;h[3]=A*M+m*v;return h}function a(h,m,v){h[0]=m[0]-v[0];h[1]=m[1]-v[1];h[2]=m[2]-v[2];h[3]=m[3]-v[3];return h}function e(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=v[0],P=v[1],S=v[2],T=v[3],X=v[4];v=v[5];h[0]=y*M+D*P;h[1]=A*M+F*P;h[2]=y*S+D*T;h[3]=A*S+F*T;h[4]=y*X+D*v+J;h[5]=A*X+F*v+m;return h}function c(h,m,v){h[0]=m[0]-v[0];h[1]=m[1]-v[1];h[2]=m[2]-
v[2];h[3]=m[3]-v[3];h[4]=m[4]-v[4];h[5]=m[5]-v[5];return h}function f(){var h=new qa(9);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0);h[0]=1;h[4]=1;h[8]=1;return h}function k(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=v[0],X=v[1],W=v[2],fa=v[3],da=v[4],aa=v[5],ua=v[6],pa=v[7];v=v[8];h[0]=T*y+X*F+W*P;h[1]=T*A+X*J+W*S;h[2]=T*D+X*M+W*m;h[3]=fa*y+da*F+aa*P;h[4]=fa*A+da*J+aa*S;h[5]=fa*D+da*M+aa*m;h[6]=ua*y+pa*F+v*P;h[7]=ua*A+pa*J+v*S;h[8]=ua*D+pa*M+
v*m;return h}function g(h,m,v){h[0]=m[0]-v[0];h[1]=m[1]-v[1];h[2]=m[2]-v[2];h[3]=m[3]-v[3];h[4]=m[4]-v[4];h[5]=m[5]-v[5];h[6]=m[6]-v[6];h[7]=m[7]-v[7];h[8]=m[8]-v[8];return h}function l(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function n(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=m[8],X=m[9],W=m[10],fa=m[11],da=m[12],aa=m[13],ua=m[14];m=m[15];var pa=v[0],sa=v[1],ta=v[2],ra=v[3];h[0]=
pa*y+sa*J+ta*T+ra*da;h[1]=pa*A+sa*M+ta*X+ra*aa;h[2]=pa*D+sa*P+ta*W+ra*ua;h[3]=pa*F+sa*S+ta*fa+ra*m;pa=v[4];sa=v[5];ta=v[6];ra=v[7];h[4]=pa*y+sa*J+ta*T+ra*da;h[5]=pa*A+sa*M+ta*X+ra*aa;h[6]=pa*D+sa*P+ta*W+ra*ua;h[7]=pa*F+sa*S+ta*fa+ra*m;pa=v[8];sa=v[9];ta=v[10];ra=v[11];h[8]=pa*y+sa*J+ta*T+ra*da;h[9]=pa*A+sa*M+ta*X+ra*aa;h[10]=pa*D+sa*P+ta*W+ra*ua;h[11]=pa*F+sa*S+ta*fa+ra*m;pa=v[12];sa=v[13];ta=v[14];ra=v[15];h[12]=pa*y+sa*J+ta*T+ra*da;h[13]=pa*A+sa*M+ta*X+ra*aa;h[14]=pa*D+sa*P+ta*W+ra*ua;h[15]=pa*
F+sa*S+ta*fa+ra*m;return h}function q(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=y+y,M=A+A,P=D+D;m=y*J;var S=y*M;y*=P;var T=A*M;A*=P;D*=P;J*=F;M*=F;F*=P;h[0]=1-(T+D);h[1]=S+F;h[2]=y-M;h[3]=0;h[4]=S-F;h[5]=1-(m+D);h[6]=A+J;h[7]=0;h[8]=y+M;h[9]=A-J;h[10]=1-(m+T);h[11]=0;h[12]=v[0];h[13]=v[1];h[14]=v[2];h[15]=1;return h}function r(h,m){h[0]=m[12];h[1]=m[13];h[2]=m[14];return h}function p(h,m){var v=m[4],y=m[5],A=m[6],D=m[8],F=m[9],J=m[10];h[0]=Math.hypot(m[0],m[1],m[2]);h[1]=Math.hypot(v,y,A);h[2]=Math.hypot(D,
F,J);return h}function u(h,m){var v=new qa(3);p(v,m);var y=1/v[0],A=1/v[1],D=1/v[2],F=m[0]*y;v=m[1]*A;var J=m[2]*D,M=m[4]*y,P=m[5]*A,S=m[6]*D;y*=m[8];A*=m[9];m=m[10]*D;D=F+P+m;0<D?(F=2*Math.sqrt(D+1),h[3]=.25*F,h[0]=(S-A)/F,h[1]=(y-J)/F,h[2]=(v-M)/F):F>P&&F>m?(F=2*Math.sqrt(1+F-P-m),h[3]=(S-A)/F,h[0]=.25*F,h[1]=(v+M)/F,h[2]=(y+J)/F):P>m?(F=2*Math.sqrt(1+P-F-m),h[3]=(y-J)/F,h[0]=(v+M)/F,h[1]=.25*F,h[2]=(S+A)/F):(F=2*Math.sqrt(1+m-F-P),h[3]=(v-M)/F,h[0]=(y+J)/F,h[1]=(S+A)/F,h[2]=.25*F);return h}function t(h,
m,v){h[0]=m[0]-v[0];h[1]=m[1]-v[1];h[2]=m[2]-v[2];h[3]=m[3]-v[3];h[4]=m[4]-v[4];h[5]=m[5]-v[5];h[6]=m[6]-v[6];h[7]=m[7]-v[7];h[8]=m[8]-v[8];h[9]=m[9]-v[9];h[10]=m[10]-v[10];h[11]=m[11]-v[11];h[12]=m[12]-v[12];h[13]=m[13]-v[13];h[14]=m[14]-v[14];h[15]=m[15]-v[15];return h}function w(){var h=new qa(3);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0);return h}function x(h){return Math.hypot(h[0],h[1],h[2])}function z(h,m,v){var y=new qa(3);y[0]=h;y[1]=m;y[2]=v;return y}function E(h,m,v){h[0]=m[0]-v[0];h[1]=
m[1]-v[1];h[2]=m[2]-v[2];return h}function G(h,m,v){h[0]=m[0]*v[0];h[1]=m[1]*v[1];h[2]=m[2]*v[2];return h}function N(h,m,v){h[0]=m[0]/v[0];h[1]=m[1]/v[1];h[2]=m[2]/v[2];return h}function C(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],m[2]-h[2])}function H(h,m){var v=m[0]-h[0],y=m[1]-h[1];h=m[2]-h[2];return v*v+y*y+h*h}function I(h){var m=h[0],v=h[1];h=h[2];return m*m+v*v+h*h}function K(h,m){var v=m[0],y=m[1],A=m[2];v=v*v+y*y+A*A;0<v&&(v=1/Math.sqrt(v));h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;return h}function Q(h,
m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]}function R(h,m,v){var y=m[0],A=m[1];m=m[2];var D=v[0],F=v[1];v=v[2];h[0]=A*v-m*F;h[1]=m*D-y*v;h[2]=y*F-A*D;return h}function U(){var h=new qa(4);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[3]=0);return h}function Z(h){var m=new qa(4);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];return m}function ca(h,m,v,y){var A=new qa(4);A[0]=h;A[1]=m;A[2]=v;A[3]=y;return A}function Y(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h}function ha(h,m,v,y,A){h[0]=m;h[1]=v;h[2]=
y;h[3]=A;return h}function ka(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];h[2]=m[2]+v[2];h[3]=m[3]+v[3];return h}function za(h,m,v){h[0]=m[0]-v[0];h[1]=m[1]-v[1];h[2]=m[2]-v[2];h[3]=m[3]-v[3];return h}function Oa(h,m,v){h[0]=m[0]*v[0];h[1]=m[1]*v[1];h[2]=m[2]*v[2];h[3]=m[3]*v[3];return h}function ab(h,m,v){h[0]=m[0]/v[0];h[1]=m[1]/v[1];h[2]=m[2]/v[2];h[3]=m[3]/v[3];return h}function Ua(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;h[3]=m[3]*v;return h}function bb(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1],
m[2]-h[2],m[3]-h[3])}function mb(h,m){var v=m[0]-h[0],y=m[1]-h[1],A=m[2]-h[2];h=m[3]-h[3];return v*v+y*y+A*A+h*h}function Va(h){return Math.hypot(h[0],h[1],h[2],h[3])}function Pa(h){var m=h[0],v=h[1],y=h[2];h=h[3];return m*m+v*v+y*y+h*h}function fb(h,m){var v=m[0],y=m[1],A=m[2];m=m[3];var D=v*v+y*y+A*A+m*m;0<D&&(D=1/Math.sqrt(D));h[0]=v*D;h[1]=y*D;h[2]=A*D;h[3]=m*D;return h}function cb(h,m){return h[0]*m[0]+h[1]*m[1]+h[2]*m[2]+h[3]*m[3]}function ub(h,m,v,y){var A=m[0],D=m[1],F=m[2];m=m[3];h[0]=A+
y*(v[0]-A);h[1]=D+y*(v[1]-D);h[2]=F+y*(v[2]-F);h[3]=m+y*(v[3]-m);return h}function vb(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]}function wb(h,m){var v=h[0],y=h[1],A=h[2];h=h[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(v-D)<=1E-6*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}function gb(){var h=new qa(4);qa!=Float32Array&&
(h[0]=0,h[1]=0,h[2]=0);h[3]=1;return h}function xb(h,m,v){v*=.5;var y=Math.sin(v);h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=Math.cos(v);return h}function yb(h,m,v){var y=m[0],A=m[1],D=m[2];m=m[3];var F=v[0],J=v[1],M=v[2];v=v[3];h[0]=y*v+m*F+A*M-D*J;h[1]=A*v+m*J+D*F-y*M;h[2]=D*v+m*M+y*J-A*F;h[3]=m*v-y*F-A*J-D*M;return h}function zb(h,m,v){v*=.5;var y=m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+m*F;h[1]=A*v+D*F;h[2]=D*v-A*F;h[3]=m*v-y*F;return h}function Ab(h,m,v){v*=.5;var y=
m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v-D*F;h[1]=A*v+m*F;h[2]=D*v+y*F;h[3]=m*v-A*F;return h}function Bb(h,m,v){v*=.5;var y=m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+A*F;h[1]=A*v-y*F;h[2]=D*v+m*F;h[3]=m*v-D*F;return h}function Cb(h,m){var v=m[0],y=m[1],A=m[2],D=Math.sqrt(v*v+y*y+A*A);m=Math.exp(m[3]);var F=0<D?m*Math.sin(D)/D:0;h[0]=v*F;h[1]=y*F;h[2]=A*F;h[3]=m*Math.cos(D);return h}function Db(h,m){var v=m[0],y=m[1],A=m[2];m=m[3];var D=Math.sqrt(v*
v+y*y+A*A);D=0<D?Math.atan2(D,m)/D:0;h[0]=v*D;h[1]=y*D;h[2]=A*D;h[3]=.5*Math.log(v*v+y*y+A*A+m*m);return h}function hb(h,m,v,y){var A=m[0],D=m[1],F=m[2];m=m[3];var J=v[0],M=v[1],P=v[2];v=v[3];var S=A*J+D*M+F*P+m*v;0>S&&(S=-S,J=-J,M=-M,P=-P,v=-v);if(1E-6<1-S){var T=Math.acos(S);var X=Math.sin(T);S=Math.sin((1-y)*T)/X;y=Math.sin(y*T)/X}else S=1-y;h[0]=S*A+y*J;h[1]=S*D+y*M;h[2]=S*F+y*P;h[3]=S*m+y*v;return h}function Eb(h,m){var v=m[0]+m[4]+m[8];if(0<v)v=Math.sqrt(v+1),h[3]=.5*v,v=.5/v,h[0]=(m[5]-m[7])*
v,h[1]=(m[6]-m[2])*v,h[2]=(m[1]-m[3])*v;else{var y=0;m[4]>m[0]&&(y=1);m[8]>m[3*y+y]&&(y=2);var A=(y+1)%3,D=(y+2)%3;v=Math.sqrt(m[3*y+y]-m[3*A+A]-m[3*D+D]+1);h[y]=.5*v;v=.5/v;h[3]=(m[3*A+D]-m[3*D+A])*v;h[A]=(m[3*A+y]+m[3*y+A])*v;h[D]=(m[3*D+y]+m[3*y+D])*v}return h}function Fb(h,m,v){var y=.5*v[0],A=.5*v[1];v=.5*v[2];var D=m[0],F=m[1],J=m[2];m=m[3];h[0]=D;h[1]=F;h[2]=J;h[3]=m;h[4]=y*m+A*J-v*F;h[5]=A*m+v*D-y*J;h[6]=v*m+y*F-A*D;h[7]=-y*D-A*F-v*J;return h}function Gb(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];
h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];return h}function Hb(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=v[4],M=v[5],P=v[6],S=v[7],T=m[4],X=m[5],W=m[6];m=m[7];var fa=v[0],da=v[1],aa=v[2];v=v[3];h[0]=y*v+F*fa+A*aa-D*da;h[1]=A*v+F*da+D*fa-y*aa;h[2]=D*v+F*aa+y*da-A*fa;h[3]=F*v-y*fa-A*da-D*aa;h[4]=y*S+F*J+A*P-D*M+T*v+m*fa+X*aa-W*da;h[5]=A*S+F*M+D*J-y*P+X*v+m*da+W*fa-T*aa;h[6]=D*S+F*P+y*M-A*J+W*v+m*aa+T*da-X*fa;h[7]=F*S-y*J-A*M-D*P+m*v-T*fa-X*da-W*aa;return h}function ib(){var h=new qa(2);qa!=Float32Array&&
(h[0]=0,h[1]=0);return h}function Sa(h,m,v){h[0]=m[0]-v[0];h[1]=m[1]-v[1];return h}function jb(h,m,v){h[0]=m[0]*v[0];h[1]=m[1]*v[1];return h}function kb(h,m,v){h[0]=m[0]/v[0];h[1]=m[1]/v[1];return h}function Wa(h,m){return Math.hypot(m[0]-h[0],m[1]-h[1])}function lb(h,m){var v=m[0]-h[0];h=m[1]-h[1];return v*v+h*h}function Ma(h){return Math.hypot(h[0],h[1])}function nb(h){var m=h[0];h=h[1];return m*m+h*h}var qa="undefined"!==typeof Float32Array?Float32Array:Array,Ka=Math.random,Ib=Math.PI/180;Math.hypot||
(Math.hypot=function(){for(var h=0,m=arguments.length;m--;)h+=arguments[m]*arguments[m];return Math.sqrt(h)});var Ob=Object.freeze({__proto__:null,EPSILON:1E-6,get Xia(){return qa},Dqa:Ka,eya:function(h){qa=h},oya:function(h){return h*Ib},Zc:function(h,m){return Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}}),Pb=Object.freeze({__proto__:null,create:function(){var h=new qa(4);qa!=Float32Array&&(h[1]=0,h[2]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new qa(4);m[0]=h[0];m[1]=h[1];
m[2]=h[2];m[3]=h[3];return m},xa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];return h},$x:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;return h},Zf:function(h,m,v,y){var A=new qa(4);A[0]=h;A[1]=m;A[2]=v;A[3]=y;return A},set:function(h,m,v,y,A){h[0]=m;h[1]=v;h[2]=y;h[3]=A;return h},WX:function(h,m){if(h===m){var v=m[1];h[1]=m[2];h[2]=v}else h[0]=m[0],h[1]=m[2],h[2]=m[1],h[3]=m[3];return h},cu:function(h,m){var v=m[0],y=m[1],A=m[2];m=m[3];var D=v*m-A*y;if(!D)return null;D=1/D;h[0]=m*D;h[1]=-y*
D;h[2]=-A*D;h[3]=v*D;return h},aX:function(h,m){var v=m[0];h[0]=m[3];h[1]=-m[1];h[2]=-m[2];h[3]=v;return h},VL:function(h){return h[0]*h[3]-h[2]*h[1]},multiply:b,rotate:function(h,m,v){var y=m[0],A=m[1],D=m[2];m=m[3];var F=Math.sin(v);v=Math.cos(v);h[0]=y*v+D*F;h[1]=A*v+m*F;h[2]=y*-F+D*v;h[3]=A*-F+m*v;return h},scale:function(h,m,v){var y=m[1],A=m[2],D=m[3],F=v[0];v=v[1];h[0]=m[0]*F;h[1]=y*F;h[2]=A*v;h[3]=D*v;return h},KD:function(h,m){var v=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=v;h[2]=-v;h[3]=m;
return h},ZL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];return h},an:function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},YL:function(h){return Math.hypot(h[0],h[1],h[2],h[3])},moa:function(h,m,v,y){h[2]=y[2]/y[0];v[0]=y[0];v[1]=y[1];v[3]=y[3]-h[2]*v[1];return[h,m,v]},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];h[2]=m[2]+v[2];h[3]=m[3]+v[3];return h},bn:a,ak:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]},Zc:function(h,m){var v=h[0],y=h[1],A=h[2];h=
h[3];var D=m[0],F=m[1],J=m[2];m=m[3];return Math.abs(v-D)<=1E-6*Math.max(1,Math.abs(v),Math.abs(D))&&Math.abs(y-F)<=1E-6*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(A-J)<=1E-6*Math.max(1,Math.abs(A),Math.abs(J))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},lM:function(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;h[3]=m[3]*v;return h},mM:function(h,m,v,y){h[0]=m[0]+v[0]*y;h[1]=m[1]+v[1]*y;h[2]=m[2]+v[2]*y;h[3]=m[3]+v[3]*y;return h},To:b,sub:a}),Qb=Object.freeze({__proto__:null,create:function(){var h=
new qa(6);qa!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0);h[0]=1;h[3]=1;return h},clone:function(h){var m=new qa(6);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m},xa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];return h},$x:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;return h},Zf:function(h,m,v,y,A,D){var F=new qa(6);F[0]=h;F[1]=m;F[2]=v;F[3]=y;F[4]=A;F[5]=D;return F},set:function(h,m,v,y,A,D,F){h[0]=m;h[1]=v;h[2]=y;h[3]=A;h[4]=D;h[5]=
F;return h},cu:function(h,m){var v=m[0],y=m[1],A=m[2],D=m[3],F=m[4];m=m[5];var J=v*D-y*A;if(!J)return null;J=1/J;h[0]=D*J;h[1]=-y*J;h[2]=-A*J;h[3]=v*J;h[4]=(A*m-D*F)*J;h[5]=(y*F-v*m)*J;return h},VL:function(h){return h[0]*h[3]-h[1]*h[2]},multiply:e,rotate:function(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=Math.sin(v);v=Math.cos(v);h[0]=y*v+D*M;h[1]=A*v+F*M;h[2]=y*-M+D*v;h[3]=A*-M+F*v;h[4]=J;h[5]=m;return h},scale:function(h,m,v){var y=m[1],A=m[2],D=m[3],F=m[4],J=m[5],M=v[0];v=v[1];
h[0]=m[0]*M;h[1]=y*M;h[2]=A*v;h[3]=D*v;h[4]=F;h[5]=J;return h},translate:function(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4];m=m[5];var M=v[0];v=v[1];h[0]=y;h[1]=A;h[2]=D;h[3]=F;h[4]=y*M+D*v+J;h[5]=A*M+F*v+m;return h},KD:function(h,m){var v=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=v;h[2]=-v;h[3]=m;h[4]=0;h[5]=0;return h},ZL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=m[1];h[4]=0;h[5]=0;return h},$L:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=1;h[4]=m[0];h[5]=m[1];return h},an:function(h){return"mat2d("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},YL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];h[2]=m[2]+v[2];h[3]=m[3]+v[3];h[4]=m[4]+v[4];h[5]=m[5]+v[5];return h},bn:c,lM:function(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;h[3]=m[3]*v;h[4]=m[4]*v;h[5]=m[5]*v;return h},mM:function(h,m,v,y){h[0]=m[0]+v[0]*y;h[1]=m[1]+v[1]*y;h[2]=m[2]+v[2]*y;h[3]=m[3]+v[3]*y;h[4]=m[4]+v[4]*y;h[5]=m[5]+v[5]*y;return h},ak:function(h,m){return h[0]===
m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]},Zc:function(h,m){var v=h[0],y=h[1],A=h[2],D=h[3],F=h[4];h=h[5];var J=m[0],M=m[1],P=m[2],S=m[3],T=m[4];m=m[5];return Math.abs(v-J)<=1E-6*Math.max(1,Math.abs(v),Math.abs(J))&&Math.abs(y-M)<=1E-6*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(A-P)<=1E-6*Math.max(1,Math.abs(A),Math.abs(P))&&Math.abs(D-S)<=1E-6*Math.max(1,Math.abs(D),Math.abs(S))&&Math.abs(F-T)<=1E-6*Math.max(1,Math.abs(F),Math.abs(T))&&Math.abs(h-m)<=1E-6*Math.max(1,
Math.abs(h),Math.abs(m))},To:e,sub:c}),Rb=Object.freeze({__proto__:null,create:f,xha:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[4];h[4]=m[5];h[5]=m[6];h[6]=m[8];h[7]=m[9];h[8]=m[10];return h},clone:function(h){var m=new qa(9);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];return m},xa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},Zf:function(h,m,v,y,A,D,F,J,M){var P=new qa(9);P[0]=
h;P[1]=m;P[2]=v;P[3]=y;P[4]=A;P[5]=D;P[6]=F;P[7]=J;P[8]=M;return P},set:function(h,m,v,y,A,D,F,J,M,P){h[0]=m;h[1]=v;h[2]=y;h[3]=A;h[4]=D;h[5]=F;h[6]=J;h[7]=M;h[8]=P;return h},$x:function(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},WX:function(h,m){if(h===m){var v=m[1],y=m[2],A=m[5];h[1]=m[3];h[2]=m[6];h[3]=v;h[5]=m[7];h[6]=y;h[7]=A}else h[0]=m[0],h[1]=m[3],h[2]=m[6],h[3]=m[1],h[4]=m[4],h[5]=m[7],h[6]=m[2],h[7]=m[5],h[8]=m[8];return h},cu:function(h,m){var v=m[0],y=
m[1],A=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7];m=m[8];var S=m*F-J*P,T=-m*D+J*M,X=P*D-F*M,W=v*S+y*T+A*X;if(!W)return null;W=1/W;h[0]=S*W;h[1]=(-m*y+A*P)*W;h[2]=(J*y-A*F)*W;h[3]=T*W;h[4]=(m*v-A*M)*W;h[5]=(-J*v+A*D)*W;h[6]=X*W;h[7]=(-P*v+y*M)*W;h[8]=(F*v-y*D)*W;return h},aX:function(h,m){var v=m[0],y=m[1],A=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7];m=m[8];h[0]=F*m-J*P;h[1]=A*P-y*m;h[2]=y*J-A*F;h[3]=J*M-D*m;h[4]=v*m-A*M;h[5]=A*D-v*J;h[6]=D*P-F*M;h[7]=y*M-v*P;h[8]=v*F-y*D;return h},VL:function(h){var m=
h[3],v=h[4],y=h[5],A=h[6],D=h[7],F=h[8];return h[0]*(F*v-y*D)+h[1]*(-F*m+y*A)+h[2]*(D*m-v*A)},multiply:k,translate:function(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=v[0];v=v[1];h[0]=y;h[1]=A;h[2]=D;h[3]=F;h[4]=J;h[5]=M;h[6]=T*y+v*F+P;h[7]=T*A+v*J+S;h[8]=T*D+v*M+m;return h},rotate:function(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7];m=m[8];var T=Math.sin(v);v=Math.cos(v);h[0]=v*y+T*F;h[1]=v*A+T*J;h[2]=v*D+T*M;h[3]=v*F-T*y;h[4]=v*J-T*A;h[5]=
v*M-T*D;h[6]=P;h[7]=S;h[8]=m;return h},scale:function(h,m,v){var y=v[0];v=v[1];h[0]=y*m[0];h[1]=y*m[1];h[2]=y*m[2];h[3]=v*m[3];h[4]=v*m[4];h[5]=v*m[5];h[6]=m[6];h[7]=m[7];h[8]=m[8];return h},$L:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=1;h[5]=0;h[6]=m[0];h[7]=m[1];h[8]=1;return h},KD:function(h,m){var v=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=v;h[2]=0;h[3]=-v;h[4]=m;h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},ZL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=m[1];h[5]=0;h[6]=0;h[7]=0;h[8]=1;return h},
dwa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=0;h[3]=m[2];h[4]=m[3];h[5]=0;h[6]=m[4];h[7]=m[5];h[8]=1;return h},yha:function(h,m){var v=m[0],y=m[1],A=m[2];m=m[3];var D=v+v,F=y+y,J=A+A;v*=D;var M=y*D;y*=F;var P=A*D,S=A*F;A*=J;D*=m;F*=m;m*=J;h[0]=1-y-A;h[3]=M-m;h[6]=P+F;h[1]=M+m;h[4]=1-v-A;h[7]=S-D;h[2]=P-F;h[5]=S+D;h[8]=1-v-y;return h},nxa:function(h,m){var v=m[0],y=m[1],A=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=v*J-y*F,pa=v*M-A*
F,sa=v*P-D*F,ta=y*M-A*J,ra=y*P-D*J,Da=A*P-D*M,Ea=S*da-T*fa,Fa=S*aa-X*fa;S=S*m-W*fa;var Ga=T*aa-X*da;T=T*m-W*da;X=X*m-W*aa;W=ua*X-pa*T+sa*Ga+ta*S-ra*Fa+Da*Ea;if(!W)return null;W=1/W;h[0]=(J*X-M*T+P*Ga)*W;h[1]=(M*S-F*X-P*Fa)*W;h[2]=(F*T-J*S+P*Ea)*W;h[3]=(A*T-y*X-D*Ga)*W;h[4]=(v*X-A*S+D*Fa)*W;h[5]=(y*S-v*T-D*Ea)*W;h[6]=(da*Da-aa*ra+m*ta)*W;h[7]=(aa*sa-fa*Da-m*pa)*W;h[8]=(fa*ra-da*sa+m*ua)*W;return h},LX:function(h,m,v){h[0]=2/m;h[1]=0;h[2]=0;h[3]=0;h[4]=-2/v;h[5]=0;h[6]=-1;h[7]=1;h[8]=1;return h},an:function(h){return"mat3("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},YL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];h[2]=m[2]+v[2];h[3]=m[3]+v[3];h[4]=m[4]+v[4];h[5]=m[5]+v[5];h[6]=m[6]+v[6];h[7]=m[7]+v[7];h[8]=m[8]+v[8];return h},bn:g,lM:function(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;h[3]=m[3]*v;h[4]=m[4]*v;h[5]=m[5]*v;h[6]=m[6]*v;h[7]=m[7]*v;h[8]=m[8]*v;return h},mM:function(h,m,v,y){h[0]=
m[0]+v[0]*y;h[1]=m[1]+v[1]*y;h[2]=m[2]+v[2]*y;h[3]=m[3]+v[3]*y;h[4]=m[4]+v[4]*y;h[5]=m[5]+v[5]*y;h[6]=m[6]+v[6]*y;h[7]=m[7]+v[7]*y;h[8]=m[8]+v[8]*y;return h},ak:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]},Zc:function(h,m){var v=h[0],y=h[1],A=h[2],D=h[3],F=h[4],J=h[5],M=h[6],P=h[7];h=h[8];var S=m[0],T=m[1],X=m[2],W=m[3],fa=m[4],da=m[5],aa=m[6],ua=m[7];m=m[8];return Math.abs(v-S)<=1E-6*Math.max(1,Math.abs(v),
Math.abs(S))&&Math.abs(y-T)<=1E-6*Math.max(1,Math.abs(y),Math.abs(T))&&Math.abs(A-X)<=1E-6*Math.max(1,Math.abs(A),Math.abs(X))&&Math.abs(D-W)<=1E-6*Math.max(1,Math.abs(D),Math.abs(W))&&Math.abs(F-fa)<=1E-6*Math.max(1,Math.abs(F),Math.abs(fa))&&Math.abs(J-da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(da))&&Math.abs(M-aa)<=1E-6*Math.max(1,Math.abs(M),Math.abs(aa))&&Math.abs(P-ua)<=1E-6*Math.max(1,Math.abs(P),Math.abs(ua))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},To:k,sub:g}),Sb=Object.freeze({__proto__:null,
create:function(){var h=new qa(16);qa!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[11]=0,h[12]=0,h[13]=0,h[14]=0);h[0]=1;h[5]=1;h[10]=1;h[15]=1;return h},clone:function(h){var m=new qa(16);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];m[8]=h[8];m[9]=h[9];m[10]=h[10];m[11]=h[11];m[12]=h[12];m[13]=h[13];m[14]=h[14];m[15]=h[15];return m},xa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=m[4];h[5]=m[5];h[6]=m[6];h[7]=m[7];h[8]=
m[8];h[9]=m[9];h[10]=m[10];h[11]=m[11];h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},Zf:function(h,m,v,y,A,D,F,J,M,P,S,T,X,W,fa,da){var aa=new qa(16);aa[0]=h;aa[1]=m;aa[2]=v;aa[3]=y;aa[4]=A;aa[5]=D;aa[6]=F;aa[7]=J;aa[8]=M;aa[9]=P;aa[10]=S;aa[11]=T;aa[12]=X;aa[13]=W;aa[14]=fa;aa[15]=da;return aa},set:function(h,m,v,y,A,D,F,J,M,P,S,T,X,W,fa,da,aa){h[0]=m;h[1]=v;h[2]=y;h[3]=A;h[4]=D;h[5]=F;h[6]=J;h[7]=M;h[8]=P;h[9]=S;h[10]=T;h[11]=X;h[12]=W;h[13]=fa;h[14]=da;h[15]=aa;return h},$x:l,WX:function(h,
m){if(h===m){var v=m[1],y=m[2],A=m[3],D=m[6],F=m[7],J=m[11];h[1]=m[4];h[2]=m[8];h[3]=m[12];h[4]=v;h[6]=m[9];h[7]=m[13];h[8]=y;h[9]=D;h[11]=m[14];h[12]=A;h[13]=F;h[14]=J}else h[0]=m[0],h[1]=m[4],h[2]=m[8],h[3]=m[12],h[4]=m[1],h[5]=m[5],h[6]=m[9],h[7]=m[13],h[8]=m[2],h[9]=m[6],h[10]=m[10],h[11]=m[14],h[12]=m[3],h[13]=m[7],h[14]=m[11],h[15]=m[15];return h},cu:function(h,m){var v=m[0],y=m[1],A=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];var ua=
v*J-y*F,pa=v*M-A*F,sa=v*P-D*F,ta=y*M-A*J,ra=y*P-D*J,Da=A*P-D*M,Ea=S*da-T*fa,Fa=S*aa-X*fa,Ga=S*m-W*fa,Ia=T*aa-X*da,Qa=T*m-W*da,Ra=X*m-W*aa,Aa=ua*Ra-pa*Qa+sa*Ia+ta*Ga-ra*Fa+Da*Ea;if(!Aa)return null;Aa=1/Aa;h[0]=(J*Ra-M*Qa+P*Ia)*Aa;h[1]=(A*Qa-y*Ra-D*Ia)*Aa;h[2]=(da*Da-aa*ra+m*ta)*Aa;h[3]=(X*ra-T*Da-W*ta)*Aa;h[4]=(M*Ga-F*Ra-P*Fa)*Aa;h[5]=(v*Ra-A*Ga+D*Fa)*Aa;h[6]=(aa*sa-fa*Da-m*pa)*Aa;h[7]=(S*Da-X*sa+W*pa)*Aa;h[8]=(F*Qa-J*Ga+P*Ea)*Aa;h[9]=(y*Ga-v*Qa-D*Ea)*Aa;h[10]=(fa*ra-da*sa+m*ua)*Aa;h[11]=(T*sa-S*ra-
W*ua)*Aa;h[12]=(J*Fa-F*Ia-M*Ea)*Aa;h[13]=(v*Ia-y*Fa+A*Ea)*Aa;h[14]=(da*pa-fa*ta-aa*ua)*Aa;h[15]=(S*ta-T*pa+X*ua)*Aa;return h},aX:function(h,m){var v=m[0],y=m[1],A=m[2],D=m[3],F=m[4],J=m[5],M=m[6],P=m[7],S=m[8],T=m[9],X=m[10],W=m[11],fa=m[12],da=m[13],aa=m[14];m=m[15];h[0]=J*(X*m-W*aa)-T*(M*m-P*aa)+da*(M*W-P*X);h[1]=-(y*(X*m-W*aa)-T*(A*m-D*aa)+da*(A*W-D*X));h[2]=y*(M*m-P*aa)-J*(A*m-D*aa)+da*(A*P-D*M);h[3]=-(y*(M*W-P*X)-J*(A*W-D*X)+T*(A*P-D*M));h[4]=-(F*(X*m-W*aa)-S*(M*m-P*aa)+fa*(M*W-P*X));h[5]=v*
(X*m-W*aa)-S*(A*m-D*aa)+fa*(A*W-D*X);h[6]=-(v*(M*m-P*aa)-F*(A*m-D*aa)+fa*(A*P-D*M));h[7]=v*(M*W-P*X)-F*(A*W-D*X)+S*(A*P-D*M);h[8]=F*(T*m-W*da)-S*(J*m-P*da)+fa*(J*W-P*T);h[9]=-(v*(T*m-W*da)-S*(y*m-D*da)+fa*(y*W-D*T));h[10]=v*(J*m-P*da)-F*(y*m-D*da)+fa*(y*P-D*J);h[11]=-(v*(J*W-P*T)-F*(y*W-D*T)+S*(y*P-D*J));h[12]=-(F*(T*aa-X*da)-S*(J*aa-M*da)+fa*(J*X-M*T));h[13]=v*(T*aa-X*da)-S*(y*aa-A*da)+fa*(y*X-A*T);h[14]=-(v*(J*aa-M*da)-F*(y*aa-A*da)+fa*(y*M-A*J));h[15]=v*(J*X-M*T)-F*(y*X-A*T)+S*(y*M-A*J);return h},
VL:function(h){var m=h[0],v=h[1],y=h[2],A=h[3],D=h[4],F=h[5],J=h[6],M=h[7],P=h[8],S=h[9],T=h[10],X=h[11],W=h[12],fa=h[13],da=h[14];h=h[15];return(m*F-v*D)*(T*h-X*da)-(m*J-y*D)*(S*h-X*fa)+(m*M-A*D)*(S*da-T*fa)+(v*J-y*F)*(P*h-X*W)-(v*M-A*F)*(P*da-T*W)+(y*M-A*J)*(P*fa-S*W)},multiply:n,translate:function(h,m,v){var y=v[0],A=v[1];v=v[2];if(m===h)h[12]=m[0]*y+m[4]*A+m[8]*v+m[12],h[13]=m[1]*y+m[5]*A+m[9]*v+m[13],h[14]=m[2]*y+m[6]*A+m[10]*v+m[14],h[15]=m[3]*y+m[7]*A+m[11]*v+m[15];else{var D=m[0];var F=m[1];
var J=m[2];var M=m[3];var P=m[4];var S=m[5];var T=m[6];var X=m[7];var W=m[8];var fa=m[9];var da=m[10];var aa=m[11];h[0]=D;h[1]=F;h[2]=J;h[3]=M;h[4]=P;h[5]=S;h[6]=T;h[7]=X;h[8]=W;h[9]=fa;h[10]=da;h[11]=aa;h[12]=D*y+P*A+W*v+m[12];h[13]=F*y+S*A+fa*v+m[13];h[14]=J*y+T*A+da*v+m[14];h[15]=M*y+X*A+aa*v+m[15]}return h},scale:function(h,m,v){var y=v[0],A=v[1];v=v[2];h[0]=m[0]*y;h[1]=m[1]*y;h[2]=m[2]*y;h[3]=m[3]*y;h[4]=m[4]*A;h[5]=m[5]*A;h[6]=m[6]*A;h[7]=m[7]*A;h[8]=m[8]*v;h[9]=m[9]*v;h[10]=m[10]*v;h[11]=m[11]*
v;h[12]=m[12];h[13]=m[13];h[14]=m[14];h[15]=m[15];return h},rotate:function(h,m,v,y){var A=y[0],D=y[1];y=y[2];var F=Math.hypot(A,D,y);if(1E-6>F)return null;F=1/F;A*=F;D*=F;y*=F;var J=Math.sin(v);var M=Math.cos(v);var P=1-M;v=m[0];F=m[1];var S=m[2];var T=m[3];var X=m[4];var W=m[5];var fa=m[6];var da=m[7];var aa=m[8];var ua=m[9];var pa=m[10];var sa=m[11];var ta=A*A*P+M;var ra=D*A*P+y*J;var Da=y*A*P-D*J;var Ea=A*D*P-y*J;var Fa=D*D*P+M;var Ga=y*D*P+A*J;var Ia=A*y*P+D*J;A=D*y*P-A*J;D=y*y*P+M;h[0]=v*ta+
X*ra+aa*Da;h[1]=F*ta+W*ra+ua*Da;h[2]=S*ta+fa*ra+pa*Da;h[3]=T*ta+da*ra+sa*Da;h[4]=v*Ea+X*Fa+aa*Ga;h[5]=F*Ea+W*Fa+ua*Ga;h[6]=S*Ea+fa*Fa+pa*Ga;h[7]=T*Ea+da*Fa+sa*Ga;h[8]=v*Ia+X*A+aa*D;h[9]=F*Ia+W*A+ua*D;h[10]=S*Ia+fa*A+pa*D;h[11]=T*Ia+da*A+sa*D;m!==h&&(h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);return h},BM:function(h,m,v){var y=Math.sin(v);v=Math.cos(v);var A=m[4],D=m[5],F=m[6],J=m[7],M=m[8],P=m[9],S=m[10],T=m[11];m!==h&&(h[0]=m[0],h[1]=m[1],h[2]=m[2],h[3]=m[3],h[12]=m[12],h[13]=m[13],h[14]=m[14],
h[15]=m[15]);h[4]=A*v+M*y;h[5]=D*v+P*y;h[6]=F*v+S*y;h[7]=J*v+T*y;h[8]=M*v-A*y;h[9]=P*v-D*y;h[10]=S*v-F*y;h[11]=T*v-J*y;return h},CM:function(h,m,v){var y=Math.sin(v);v=Math.cos(v);var A=m[0],D=m[1],F=m[2],J=m[3],M=m[8],P=m[9],S=m[10],T=m[11];m!==h&&(h[4]=m[4],h[5]=m[5],h[6]=m[6],h[7]=m[7],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*v-M*y;h[1]=D*v-P*y;h[2]=F*v-S*y;h[3]=J*v-T*y;h[8]=A*y+M*v;h[9]=D*y+P*v;h[10]=F*y+S*v;h[11]=J*y+T*v;return h},DM:function(h,m,v){var y=Math.sin(v);v=Math.cos(v);
var A=m[0],D=m[1],F=m[2],J=m[3],M=m[4],P=m[5],S=m[6],T=m[7];m!==h&&(h[8]=m[8],h[9]=m[9],h[10]=m[10],h[11]=m[11],h[12]=m[12],h[13]=m[13],h[14]=m[14],h[15]=m[15]);h[0]=A*v+M*y;h[1]=D*v+P*y;h[2]=F*v+S*y;h[3]=J*v+T*y;h[4]=M*v-A*y;h[5]=P*v-D*y;h[6]=S*v-F*y;h[7]=T*v-J*y;return h},$L:function(h,m){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=m[0];h[13]=m[1];h[14]=m[2];h[15]=1;return h},ZL:function(h,m){h[0]=m[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m[1];h[6]=0;
h[7]=0;h[8]=0;h[9]=0;h[10]=m[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},KD:function(h,m,v){var y=v[0],A=v[1];v=v[2];var D=Math.hypot(y,A,v);if(1E-6>D)return null;D=1/D;y*=D;A*=D;v*=D;D=Math.sin(m);m=Math.cos(m);var F=1-m;h[0]=y*y*F+m;h[1]=A*y*F+v*D;h[2]=v*y*F-A*D;h[3]=0;h[4]=y*A*F-v*D;h[5]=A*A*F+m;h[6]=v*A*F+y*D;h[7]=0;h[8]=y*v*F+A*D;h[9]=A*v*F-y*D;h[10]=v*v*F+m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},jwa:function(h,m){var v=Math.sin(m);m=Math.cos(m);h[0]=1;h[1]=0;h[2]=0;h[3]=
0;h[4]=0;h[5]=m;h[6]=v;h[7]=0;h[8]=0;h[9]=-v;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},kwa:function(h,m){var v=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=0;h[2]=-v;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=v;h[9]=0;h[10]=m;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},lwa:function(h,m){var v=Math.sin(m);m=Math.cos(m);h[0]=m;h[1]=v;h[2]=0;h[3]=0;h[4]=-v;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},zha:q,fwa:function(h,m){var v=new qa(3),
y=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=y*y+A*A+D*D+F*F;0<T?(v[0]=2*(J*F+S*y+M*D-P*A)/T,v[1]=2*(M*F+S*A+P*y-J*D)/T,v[2]=2*(P*F+S*D+J*A-M*y)/T):(v[0]=2*(J*F+S*y+M*D-P*A),v[1]=2*(M*F+S*A+P*y-J*D),v[2]=2*(P*F+S*D+J*A-M*y));q(h,m,v);return h},Cha:r,wwa:p,vwa:u,gwa:function(h,m,v,y){var A=m[0],D=m[1],F=m[2],J=m[3],M=A+A,P=D+D,S=F+F;m=A*M;var T=A*P;A*=S;var X=D*P;D*=S;F*=S;M*=J;P*=J;J*=S;S=y[0];var W=y[1];y=y[2];h[0]=(1-(X+F))*S;h[1]=(T+J)*S;h[2]=(A-P)*S;h[3]=0;h[4]=(T-J)*W;h[5]=(1-
(m+F))*W;h[6]=(D+M)*W;h[7]=0;h[8]=(A+P)*y;h[9]=(D-M)*y;h[10]=(1-(m+X))*y;h[11]=0;h[12]=v[0];h[13]=v[1];h[14]=v[2];h[15]=1;return h},hwa:function(h,m,v,y,A){var D=m[0],F=m[1],J=m[2],M=m[3],P=D+D,S=F+F,T=J+J;m=D*P;var X=D*S,W=D*T;D=F*S;F*=T;var fa=J*T;J=M*P;S*=M;var da=M*T,aa=y[0],ua=y[1];T=y[2];y=A[0];M=A[1];A=A[2];P=(1-(D+fa))*aa;var pa=(X+da)*aa;aa*=W-S;X=(X-da)*ua;fa=(1-(m+fa))*ua;ua*=F+J;W=(W+S)*T;F=(F-J)*T;m=(1-(m+D))*T;h[0]=P;h[1]=pa;h[2]=aa;h[3]=0;h[4]=X;h[5]=fa;h[6]=ua;h[7]=0;h[8]=W;h[9]=F;
h[10]=m;h[11]=0;h[12]=v[0]+y-(P*y+X*M+W*A);h[13]=v[1]+M-(pa*y+fa*M+F*A);h[14]=v[2]+A-(aa*y+ua*M+m*A);h[15]=1;return h},yha:function(h,m){var v=m[0],y=m[1],A=m[2];m=m[3];var D=v+v,F=y+y,J=A+A;v*=D;var M=y*D;y*=F;var P=A*D,S=A*F;A*=J;D*=m;F*=m;m*=J;h[0]=1-y-A;h[1]=M+m;h[2]=P-F;h[3]=0;h[4]=M-m;h[5]=1-v-A;h[6]=S+D;h[7]=0;h[8]=P+F;h[9]=S-D;h[10]=1-v-y;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h},Aha:function(h,m,v,y,A,D,F){var J=1/(v-m),M=1/(A-y),P=1/(D-F);h[0]=2*D*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=
2*D*M;h[6]=0;h[7]=0;h[8]=(v+m)*J;h[9]=(A+y)*M;h[10]=(F+D)*P;h[11]=-1;h[12]=0;h[13]=0;h[14]=F*D*2*P;h[15]=0;return h},perspective:function(h,m,v,y,A){m=1/Math.tan(m/2);h[0]=m/v;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=m;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=A&&Infinity!==A?(v=1/(y-A),h[10]=(A+y)*v,h[14]=2*A*y*v):(h[10]=-1,h[14]=-2*y);return h},uxa:function(h,m,v,y){var A=Math.tan(m.vya*Math.PI/180),D=Math.tan(m.Sva*Math.PI/180),F=Math.tan(m.bxa*Math.PI/180);m=Math.tan(m.Qxa*Math.PI/
180);var J=2/(F+m),M=2/(A+D);h[0]=J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=M;h[6]=0;h[7]=0;h[8]=-((F-m)*J*.5);h[9]=(A-D)*M*.5;h[10]=y/(v-y);h[11]=-1;h[12]=0;h[13]=0;h[14]=y*v/(v-y);h[15]=0;return h},mia:function(h,m,v,y,A,D,F){var J=1/(m-v),M=1/(y-A),P=1/(D-F);h[0]=-2*J;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*M;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*P;h[11]=0;h[12]=(m+v)*J;h[13]=(A+y)*M;h[14]=(F+D)*P;h[15]=1;return h},cia:function(h,m,v,y){var A=m[0],D=m[1];m=m[2];var F=y[0];var J=y[1];var M=y[2];var P=v[0];y=
v[1];var S=v[2];if(1E-6>Math.abs(A-P)&&1E-6>Math.abs(D-y)&&1E-6>Math.abs(m-S))return l(h);v=A-P;y=D-y;P=m-S;var T=1/Math.hypot(v,y,P);v*=T;y*=T;P*=T;S=J*P-M*y;M=M*v-F*P;F=F*y-J*v;(T=Math.hypot(S,M,F))?(T=1/T,S*=T,M*=T,F*=T):F=M=S=0;J=y*F-P*M;var X=P*S-v*F;var W=v*M-y*S;(T=Math.hypot(J,X,W))?(T=1/T,J*=T,X*=T,W*=T):W=X=J=0;h[0]=S;h[1]=J;h[2]=v;h[3]=0;h[4]=M;h[5]=X;h[6]=y;h[7]=0;h[8]=F;h[9]=W;h[10]=P;h[11]=0;h[12]=-(S*A+M*D+F*m);h[13]=-(J*A+X*D+W*m);h[14]=-(v*A+y*D+P*m);h[15]=1;return h},lya:function(h,
m,v,y){var A=m[0],D=m[1];m=m[2];var F=y[0],J=y[1],M=y[2];y=A-v[0];var P=D-v[1];v=m-v[2];var S=y*y+P*P+v*v;0<S&&(S=1/Math.sqrt(S),y*=S,P*=S,v*=S);var T=J*v-M*P;M=M*y-F*v;F=F*P-J*y;S=T*T+M*M+F*F;0<S&&(S=1/Math.sqrt(S),T*=S,M*=S,F*=S);h[0]=T;h[1]=M;h[2]=F;h[3]=0;h[4]=P*F-v*M;h[5]=v*T-y*F;h[6]=y*M-P*T;h[7]=0;h[8]=y;h[9]=P;h[10]=v;h[11]=0;h[12]=A;h[13]=D;h[14]=m;h[15]=1;return h},an:function(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+
", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"},YL:function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15])},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];h[2]=m[2]+v[2];h[3]=m[3]+v[3];h[4]=m[4]+v[4];h[5]=m[5]+v[5];h[6]=m[6]+v[6];h[7]=m[7]+v[7];h[8]=m[8]+v[8];h[9]=m[9]+v[9];h[10]=m[10]+v[10];h[11]=m[11]+v[11];h[12]=m[12]+v[12];h[13]=m[13]+v[13];h[14]=m[14]+v[14];h[15]=m[15]+v[15];return h},bn:t,lM:function(h,m,
v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;h[3]=m[3]*v;h[4]=m[4]*v;h[5]=m[5]*v;h[6]=m[6]*v;h[7]=m[7]*v;h[8]=m[8]*v;h[9]=m[9]*v;h[10]=m[10]*v;h[11]=m[11]*v;h[12]=m[12]*v;h[13]=m[13]*v;h[14]=m[14]*v;h[15]=m[15]*v;return h},mM:function(h,m,v,y){h[0]=m[0]+v[0]*y;h[1]=m[1]+v[1]*y;h[2]=m[2]+v[2]*y;h[3]=m[3]+v[3]*y;h[4]=m[4]+v[4]*y;h[5]=m[5]+v[5]*y;h[6]=m[6]+v[6]*y;h[7]=m[7]+v[7]*y;h[8]=m[8]+v[8]*y;h[9]=m[9]+v[9]*y;h[10]=m[10]+v[10]*y;h[11]=m[11]+v[11]*y;h[12]=m[12]+v[12]*y;h[13]=m[13]+v[13]*y;h[14]=m[14]+v[14]*
y;h[15]=m[15]+v[15]*y;return h},ak:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]&&h[8]===m[8]&&h[9]===m[9]&&h[10]===m[10]&&h[11]===m[11]&&h[12]===m[12]&&h[13]===m[13]&&h[14]===m[14]&&h[15]===m[15]},Zc:function(h,m){var v=h[0],y=h[1],A=h[2],D=h[3],F=h[4],J=h[5],M=h[6],P=h[7],S=h[8],T=h[9],X=h[10],W=h[11],fa=h[12],da=h[13],aa=h[14];h=h[15];var ua=m[0],pa=m[1],sa=m[2],ta=m[3],ra=m[4],Da=m[5],Ea=m[6],Fa=m[7],Ga=m[8],Ia=m[9],
Qa=m[10],Ra=m[11],Aa=m[12],Jb=m[13],Kb=m[14];m=m[15];return Math.abs(v-ua)<=1E-6*Math.max(1,Math.abs(v),Math.abs(ua))&&Math.abs(y-pa)<=1E-6*Math.max(1,Math.abs(y),Math.abs(pa))&&Math.abs(A-sa)<=1E-6*Math.max(1,Math.abs(A),Math.abs(sa))&&Math.abs(D-ta)<=1E-6*Math.max(1,Math.abs(D),Math.abs(ta))&&Math.abs(F-ra)<=1E-6*Math.max(1,Math.abs(F),Math.abs(ra))&&Math.abs(J-Da)<=1E-6*Math.max(1,Math.abs(J),Math.abs(Da))&&Math.abs(M-Ea)<=1E-6*Math.max(1,Math.abs(M),Math.abs(Ea))&&Math.abs(P-Fa)<=1E-6*Math.max(1,
Math.abs(P),Math.abs(Fa))&&Math.abs(S-Ga)<=1E-6*Math.max(1,Math.abs(S),Math.abs(Ga))&&Math.abs(T-Ia)<=1E-6*Math.max(1,Math.abs(T),Math.abs(Ia))&&Math.abs(X-Qa)<=1E-6*Math.max(1,Math.abs(X),Math.abs(Qa))&&Math.abs(W-Ra)<=1E-6*Math.max(1,Math.abs(W),Math.abs(Ra))&&Math.abs(fa-Aa)<=1E-6*Math.max(1,Math.abs(fa),Math.abs(Aa))&&Math.abs(da-Jb)<=1E-6*Math.max(1,Math.abs(da),Math.abs(Jb))&&Math.abs(aa-Kb)<=1E-6*Math.max(1,Math.abs(aa),Math.abs(Kb))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},
To:n,sub:t}),ob=function(){var h=w();return function(m,v,y,A,D,F){v||(v=3);y||(y=0);for(A=A?Math.min(A*v+y,m.length):m.length;y<A;y+=v)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],D(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2];return m}}();ob=Object.freeze({__proto__:null,create:w,clone:function(h){var m=new qa(3);m[0]=h[0];m[1]=h[1];m[2]=h[2];return m},length:x,Zf:z,xa:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];return h},set:function(h,m,v,y){h[0]=m;h[1]=v;h[2]=y;return h},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=
m[1]+v[1];h[2]=m[2]+v[2];return h},bn:E,multiply:G,sl:N,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);return h},min:function(h,m,v){h[0]=Math.min(m[0],v[0]);h[1]=Math.min(m[1],v[1]);h[2]=Math.min(m[2],v[2]);return h},max:function(h,m,v){h[0]=Math.max(m[0],v[0]);h[1]=Math.max(m[1],v[1]);h[2]=Math.max(m[2],v[2]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=
Math.round(m[1]);h[2]=Math.round(m[2]);return h},scale:function(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;return h},FM:function(h,m,v,y){h[0]=m[0]+v[0]*y;h[1]=m[1]+v[1]*y;h[2]=m[2]+v[2]*y;return h},Xx:C,TX:H,$D:I,CX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];return h},normalize:K,Po:Q,UL:R,wd:function(h,m,v,y){var A=m[0],D=m[1];m=m[2];h[0]=A+y*(v[0]-A);h[1]=D+y*(v[1]-D);h[2]=m+y*(v[2]-m);return h},Bwa:function(h,m,v,y,A,D){var F=
D*D,J=F*(2*D-3)+1,M=F*(D-2)+D,P=F*(D-1);D=F*(3-2*D);h[0]=m[0]*J+v[0]*M+y[0]*P+A[0]*D;h[1]=m[1]*J+v[1]*M+y[1]*P+A[1]*D;h[2]=m[2]*J+v[2]*M+y[2]*P+A[2]*D;return h},Bva:function(h,m,v,y,A,D){var F=1-D,J=F*F,M=D*D,P=J*F;J*=3*D;F*=3*M;D*=M;h[0]=m[0]*P+v[0]*J+y[0]*F+A[0]*D;h[1]=m[1]*P+v[1]*J+y[1]*F+A[1]*D;h[2]=m[2]*P+v[2]*J+y[2]*F+A[2]*D;return h},random:function(h,m){m=m||1;var v=2*Ka()*Math.PI,y=2*Ka()-1,A=Math.sqrt(1-y*y)*m;h[0]=Math.cos(v)*A;h[1]=Math.sin(v)*A;h[2]=y*m;return h},OM:function(h,m,v){var y=
m[0],A=m[1];m=m[2];var D=v[3]*y+v[7]*A+v[11]*m+v[15];D=D||1;h[0]=(v[0]*y+v[4]*A+v[8]*m+v[12])/D;h[1]=(v[1]*y+v[5]*A+v[9]*m+v[13])/D;h[2]=(v[2]*y+v[6]*A+v[10]*m+v[14])/D;return h},Oia:function(h,m,v){var y=m[0],A=m[1];m=m[2];h[0]=y*v[0]+A*v[3]+m*v[6];h[1]=y*v[1]+A*v[4]+m*v[7];h[2]=y*v[2]+A*v[5]+m*v[8];return h},Pia:function(h,m,v){var y=v[0],A=v[1],D=v[2],F=m[0],J=m[1];m=m[2];var M=A*m-D*J,P=D*F-y*m,S=y*J-A*F;v=2*v[3];h[0]=F+M*v+2*(A*S-D*P);h[1]=J+P*v+2*(D*M-y*S);h[2]=m+S*v+2*(y*P-A*M);return h},BM:function(h,
m,v,y){var A=[],D=[];A[0]=m[0]-v[0];A[1]=m[1]-v[1];A[2]=m[2]-v[2];D[0]=A[0];D[1]=A[1]*Math.cos(y)-A[2]*Math.sin(y);D[2]=A[1]*Math.sin(y)+A[2]*Math.cos(y);h[0]=D[0]+v[0];h[1]=D[1]+v[1];h[2]=D[2]+v[2];return h},CM:function(h,m,v,y){var A=[],D=[];A[0]=m[0]-v[0];A[1]=m[1]-v[1];A[2]=m[2]-v[2];D[0]=A[2]*Math.sin(y)+A[0]*Math.cos(y);D[1]=A[1];D[2]=A[2]*Math.cos(y)-A[0]*Math.sin(y);h[0]=D[0]+v[0];h[1]=D[1]+v[1];h[2]=D[2]+v[2];return h},DM:function(h,m,v,y){var A=[],D=[];A[0]=m[0]-v[0];A[1]=m[1]-v[1];A[2]=
m[2]-v[2];D[0]=A[0]*Math.cos(y)-A[1]*Math.sin(y);D[1]=A[0]*Math.sin(y)+A[1]*Math.cos(y);D[2]=A[2];h[0]=D[0]+v[0];h[1]=D[1]+v[1];h[2]=D[2]+v[2];return h},angle:function(h,m){var v=h[0],y=h[1],A=h[2],D=m[0],F=m[1],J=m[2];h=(v=Math.sqrt(v*v+y*y+A*A)*Math.sqrt(D*D+F*F+J*J))&&Q(h,m)/v;return Math.acos(Math.min(Math.max(h,-1),1))},eY:function(h){h[0]=0;h[1]=0;h[2]=0;return h},an:function(h){return"vec3("+h[0]+", "+h[1]+", "+h[2]+")"},ak:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]},Zc:function(h,
m){var v=h[0],y=h[1];h=h[2];var A=m[0],D=m[1];m=m[2];return Math.abs(v-A)<=1E-6*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(y-D)<=1E-6*Math.max(1,Math.abs(y),Math.abs(D))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},sub:E,To:G,nX:N,lX:C,SX:H,cy:x,ZD:I,forEach:ob});var pb=function(){var h=U();return function(m,v,y,A,D,F){v||(v=4);y||(y=0);for(A=A?Math.min(A*v+y,m.length):m.length;y<A;y+=v)h[0]=m[y],h[1]=m[y+1],h[2]=m[y+2],h[3]=m[y+3],D(h,h,F),m[y]=h[0],m[y+1]=h[1],m[y+2]=h[2],m[y+3]=
h[3];return m}}();pb=Object.freeze({__proto__:null,create:U,clone:Z,Zf:ca,xa:Y,set:ha,add:ka,bn:za,multiply:Oa,sl:ab,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);h[2]=Math.ceil(m[2]);h[3]=Math.ceil(m[3]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);h[2]=Math.floor(m[2]);h[3]=Math.floor(m[3]);return h},min:function(h,m,v){h[0]=Math.min(m[0],v[0]);h[1]=Math.min(m[1],v[1]);h[2]=Math.min(m[2],v[2]);h[3]=Math.min(m[3],v[3]);return h},max:function(h,m,v){h[0]=
Math.max(m[0],v[0]);h[1]=Math.max(m[1],v[1]);h[2]=Math.max(m[2],v[2]);h[3]=Math.max(m[3],v[3]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);h[2]=Math.round(m[2]);h[3]=Math.round(m[3]);return h},scale:Ua,FM:function(h,m,v,y){h[0]=m[0]+v[0]*y;h[1]=m[1]+v[1]*y;h[2]=m[2]+v[2]*y;h[3]=m[3]+v[3]*y;return h},Xx:bb,TX:mb,length:Va,$D:Pa,CX:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=-m[3];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];h[2]=1/m[2];h[3]=1/m[3];return h},
normalize:fb,Po:cb,UL:function(h,m,v,y){var A=v[0]*y[1]-v[1]*y[0],D=v[0]*y[2]-v[2]*y[0],F=v[0]*y[3]-v[3]*y[0],J=v[1]*y[2]-v[2]*y[1],M=v[1]*y[3]-v[3]*y[1];v=v[2]*y[3]-v[3]*y[2];y=m[0];var P=m[1],S=m[2];m=m[3];h[0]=P*v-S*M+m*J;h[1]=-(y*v)+S*F-m*D;h[2]=y*M-P*F+m*A;h[3]=-(y*J)+P*D-S*A;return h},wd:ub,random:function(h,m){m=m||1;do{var v=2*Ka()-1;var y=2*Ka()-1;var A=v*v+y*y}while(1<=A);do{var D=2*Ka()-1;var F=2*Ka()-1;var J=D*D+F*F}while(1<=J);A=Math.sqrt((1-A)/J);h[0]=m*v;h[1]=m*y;h[2]=m*D*A;h[3]=m*
F*A;return h},OM:function(h,m,v){var y=m[0],A=m[1],D=m[2];m=m[3];h[0]=v[0]*y+v[4]*A+v[8]*D+v[12]*m;h[1]=v[1]*y+v[5]*A+v[9]*D+v[13]*m;h[2]=v[2]*y+v[6]*A+v[10]*D+v[14]*m;h[3]=v[3]*y+v[7]*A+v[11]*D+v[15]*m;return h},Pia:function(h,m,v){var y=m[0],A=m[1],D=m[2],F=v[0],J=v[1],M=v[2];v=v[3];var P=v*y+J*D-M*A,S=v*A+M*y-F*D,T=v*D+F*A-J*y;y=-F*y-J*A-M*D;h[0]=P*v+y*-F+S*-M-T*-J;h[1]=S*v+y*-J+T*-F-P*-M;h[2]=T*v+y*-M+P*-J-S*-F;h[3]=m[3];return h},eY:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=0;return h},an:function(h){return"vec4("+
h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},ak:vb,Zc:wb,sub:za,To:Oa,nX:ab,lX:bb,SX:mb,cy:Va,ZD:Pa,forEach:pb});var qb=function(){var h=w(),m=z(1,0,0),v=z(0,1,0);return function(y,A,D){var F=Q(A,D);if(-.999999>F)return R(h,m,A),1E-6>x(h)&&R(h,v,A),K(h,h),xb(y,h,Math.PI),y;if(.999999<F)return y[0]=0,y[1]=0,y[2]=0,y[3]=1,y;R(h,A,D);y[0]=h[0];y[1]=h[1];y[2]=h[2];y[3]=1+F;return fb(y,y)}}(),rb=function(){var h=gb(),m=gb();return function(v,y,A,D,F,J){hb(h,y,F,J);hb(m,A,D,J);hb(v,h,m,2*J*(1-J));return v}}(),
db=function(){var h=f();return function(m,v,y,A){h[0]=y[0];h[3]=y[1];h[6]=y[2];h[1]=A[0];h[4]=A[1];h[7]=A[2];h[2]=-v[0];h[5]=-v[1];h[8]=-v[2];return fb(m,Eb(m,h))}}();qb=Object.freeze({__proto__:null,create:gb,$x:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;return h},cya:xb,swa:function(h,m){var v=2*Math.acos(m[3]),y=Math.sin(v/2);1E-6<y?(h[0]=m[0]/y,h[1]=m[1]/y,h[2]=m[2]/y):(h[0]=1,h[1]=0,h[2]=0);return v},qwa:function(h,m){h=cb(h,m);return Math.acos(2*h*h-1)},multiply:yb,BM:zb,CM:Ab,DM:Bb,Cva:function(h,
m){var v=m[0],y=m[1];m=m[2];h[0]=v;h[1]=y;h[2]=m;h[3]=Math.sqrt(Math.abs(1-v*v-y*y-m*m));return h},exp:Cb,aia:Db,pow:function(h,m,v){Db(h,m);Ua(h,h,v);Cb(h,h);return h},hya:hb,random:function(h){var m=Ka(),v=Ka(),y=Ka(),A=Math.sqrt(1-m);m=Math.sqrt(m);h[0]=A*Math.sin(2*Math.PI*v);h[1]=A*Math.cos(2*Math.PI*v);h[2]=m*Math.sin(2*Math.PI*y);h[3]=m*Math.cos(2*Math.PI*y);return h},cu:function(h,m){var v=m[0],y=m[1],A=m[2];m=m[3];var D=v*v+y*y+A*A+m*m;D=D?1/D:0;h[0]=-v*D;h[1]=-y*D;h[2]=-A*D;h[3]=m*D;return h},
hha:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];return h},ewa:Eb,cwa:function(h,m,v,y){var A=.5*Math.PI/180;m*=A;v*=A;y*=A;A=Math.sin(m);m=Math.cos(m);var D=Math.sin(v);v=Math.cos(v);var F=Math.sin(y);y=Math.cos(y);h[0]=A*v*y-m*D*F;h[1]=m*D*y+A*v*F;h[2]=m*v*F-A*D*y;h[3]=m*v*y+A*D*F;return h},an:function(h){return"quat("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},clone:Z,Zf:ca,xa:Y,set:ha,add:ka,To:yb,scale:Ua,Po:cb,wd:ub,length:Va,cy:Va,$D:Pa,ZD:Pa,normalize:fb,ak:vb,Zc:wb,Uxa:qb,iya:rb,
bya:db});rb=Object.freeze({__proto__:null,create:function(){var h=new qa(8);qa!=Float32Array&&(h[0]=0,h[1]=0,h[2]=0,h[4]=0,h[5]=0,h[6]=0,h[7]=0);h[3]=1;return h},clone:function(h){var m=new qa(8);m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];m[6]=h[6];m[7]=h[7];return m},Zf:function(h,m,v,y,A,D,F,J){var M=new qa(8);M[0]=h;M[1]=m;M[2]=v;M[3]=y;M[4]=A;M[5]=D;M[6]=F;M[7]=J;return M},iwa:function(h,m,v,y,A,D,F){var J=new qa(8);J[0]=h;J[1]=m;J[2]=v;J[3]=y;A*=.5;D*=.5;F*=.5;J[4]=A*y+D*v-F*
m;J[5]=D*y+F*h-A*v;J[6]=F*y+A*m-D*h;J[7]=-A*h-D*m-F*v;return J},zha:Fb,$L:function(h,m){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=.5*m[0];h[5]=.5*m[1];h[6]=.5*m[2];h[7]=0;return h},KD:function(h,m){h[0]=m[0];h[1]=m[1];h[2]=m[2];h[3]=m[3];h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},xha:function(h,m){var v=gb();u(v,m);var y=new qa(3);r(y,m);Fb(h,v,y);return h},xa:Gb,$x:function(h){h[0]=0;h[1]=0;h[2]=0;h[3]=1;h[4]=0;h[5]=0;h[6]=0;h[7]=0;return h},set:function(h,m,v,y,A,D,F,J,M){h[0]=m;h[1]=v;h[2]=y;h[3]=A;h[4]=D;h[5]=
F;h[6]=J;h[7]=M;return h},uwa:Y,twa:function(h,m){h[0]=m[4];h[1]=m[5];h[2]=m[6];h[3]=m[7];return h},fya:Y,dya:function(h,m){h[4]=m[0];h[5]=m[1];h[6]=m[2];h[7]=m[3];return h},Cha:function(h,m){var v=m[4],y=m[5],A=m[6],D=m[7],F=-m[0],J=-m[1],M=-m[2];m=m[3];h[0]=2*(v*m+D*F+y*M-A*J);h[1]=2*(y*m+D*J+A*F-v*M);h[2]=2*(A*m+D*M+v*J-y*F);return h},translate:function(h,m,v){var y=m[0],A=m[1],D=m[2],F=m[3],J=.5*v[0],M=.5*v[1];v=.5*v[2];var P=m[4],S=m[5],T=m[6];m=m[7];h[0]=y;h[1]=A;h[2]=D;h[3]=F;h[4]=F*J+A*v-
D*M+P;h[5]=F*M+D*J-y*v+S;h[6]=F*v+y*M-A*J+T;h[7]=-y*J-A*M-D*v+m;return h},BM:function(h,m,v){var y=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*A,X=M*F+S*A+P*y-J*D,W=P*F+S*D+J*A-M*y;J=S*F-J*y-M*A-P*D;zb(h,m,v);y=h[0];A=h[1];D=h[2];F=h[3];h[4]=T*F+J*y+X*D-W*A;h[5]=X*F+J*A+W*y-T*D;h[6]=W*F+J*D+T*A-X*y;h[7]=J*F-T*y-X*A-W*D;return h},CM:function(h,m,v){var y=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*A,X=M*F+S*A+P*y-J*D,W=P*F+S*D+J*A-M*y;J=S*F-
J*y-M*A-P*D;Ab(h,m,v);y=h[0];A=h[1];D=h[2];F=h[3];h[4]=T*F+J*y+X*D-W*A;h[5]=X*F+J*A+W*y-T*D;h[6]=W*F+J*D+T*A-X*y;h[7]=J*F-T*y-X*A-W*D;return h},DM:function(h,m,v){var y=-m[0],A=-m[1],D=-m[2],F=m[3],J=m[4],M=m[5],P=m[6],S=m[7],T=J*F+S*y+M*D-P*A,X=M*F+S*A+P*y-J*D,W=P*F+S*D+J*A-M*y;J=S*F-J*y-M*A-P*D;Bb(h,m,v);y=h[0];A=h[1];D=h[2];F=h[3];h[4]=T*F+J*y+X*D-W*A;h[5]=X*F+J*A+W*y-T*D;h[6]=W*F+J*D+T*A-X*y;h[7]=J*F-T*y-X*A-W*D;return h},Sxa:function(h,m,v){var y=v[0],A=v[1],D=v[2];v=v[3];var F=m[0],J=m[1],M=
m[2],P=m[3];h[0]=F*v+P*y+J*D-M*A;h[1]=J*v+P*A+M*y-F*D;h[2]=M*v+P*D+F*A-J*y;h[3]=P*v-F*y-J*A-M*D;F=m[4];J=m[5];M=m[6];P=m[7];h[4]=F*v+P*y+J*D-M*A;h[5]=J*v+P*A+M*y-F*D;h[6]=M*v+P*D+F*A-J*y;h[7]=P*v-F*y-J*A-M*D;return h},Txa:function(h,m,v){var y=m[0],A=m[1],D=m[2];m=m[3];var F=v[0],J=v[1],M=v[2],P=v[3];h[0]=y*P+m*F+A*M-D*J;h[1]=A*P+m*J+D*F-y*M;h[2]=D*P+m*M+y*J-A*F;h[3]=m*P-y*F-A*J-D*M;F=v[4];J=v[5];M=v[6];P=v[7];h[4]=y*P+m*F+A*M-D*J;h[5]=A*P+m*J+D*F-y*M;h[6]=D*P+m*M+y*J-A*F;h[7]=m*P-y*F-A*J-D*M;return h},
Rxa:function(h,m,v,y){if(1E-6>Math.abs(y))return Gb(h,m);var A=Math.hypot(v[0],v[1],v[2]);y*=.5;var D=Math.sin(y),F=D*v[0]/A,J=D*v[1]/A;v=D*v[2]/A;y=Math.cos(y);A=m[0];D=m[1];var M=m[2],P=m[3];h[0]=A*y+P*F+D*v-M*J;h[1]=D*y+P*J+M*F-A*v;h[2]=M*y+P*v+A*J-D*F;h[3]=P*y-A*F-D*J-M*v;A=m[4];D=m[5];M=m[6];m=m[7];h[4]=A*y+m*F+D*v-M*J;h[5]=D*y+m*J+M*F-A*v;h[6]=M*y+m*v+A*J-D*F;h[7]=m*y-A*F-D*J-M*v;return h},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];h[2]=m[2]+v[2];h[3]=m[3]+v[3];h[4]=m[4]+v[4];h[5]=m[5]+
v[5];h[6]=m[6]+v[6];h[7]=m[7]+v[7];return h},multiply:Hb,To:Hb,scale:function(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;h[2]=m[2]*v;h[3]=m[3]*v;h[4]=m[4]*v;h[5]=m[5]*v;h[6]=m[6]*v;h[7]=m[7]*v;return h},Po:cb,wd:function(h,m,v,y){var A=1-y;0>cb(m,v)&&(y=-y);h[0]=m[0]*A+v[0]*y;h[1]=m[1]*A+v[1]*y;h[2]=m[2]*A+v[2]*y;h[3]=m[3]*A+v[3]*y;h[4]=m[4]*A+v[4]*y;h[5]=m[5]*A+v[5]*y;h[6]=m[6]*A+v[6]*y;h[7]=m[7]*A+v[7]*y;return h},cu:function(h,m){var v=Pa(m);h[0]=-m[0]/v;h[1]=-m[1]/v;h[2]=-m[2]/v;h[3]=m[3]/v;h[4]=-m[4]/v;
h[5]=-m[5]/v;h[6]=-m[6]/v;h[7]=m[7]/v;return h},hha:function(h,m){h[0]=-m[0];h[1]=-m[1];h[2]=-m[2];h[3]=m[3];h[4]=-m[4];h[5]=-m[5];h[6]=-m[6];h[7]=m[7];return h},length:Va,cy:Va,$D:Pa,ZD:Pa,normalize:function(h,m){var v=Pa(m);if(0<v){v=Math.sqrt(v);var y=m[0]/v,A=m[1]/v,D=m[2]/v,F=m[3]/v,J=m[4],M=m[5],P=m[6];m=m[7];var S=y*J+A*M+D*P+F*m;h[0]=y;h[1]=A;h[2]=D;h[3]=F;h[4]=(J-y*S)/v;h[5]=(M-A*S)/v;h[6]=(P-D*S)/v;h[7]=(m-F*S)/v}return h},an:function(h){return"quat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+
", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+")"},ak:function(h,m){return h[0]===m[0]&&h[1]===m[1]&&h[2]===m[2]&&h[3]===m[3]&&h[4]===m[4]&&h[5]===m[5]&&h[6]===m[6]&&h[7]===m[7]},Zc:function(h,m){var v=h[0],y=h[1],A=h[2],D=h[3],F=h[4],J=h[5],M=h[6];h=h[7];var P=m[0],S=m[1],T=m[2],X=m[3],W=m[4],fa=m[5],da=m[6];m=m[7];return Math.abs(v-P)<=1E-6*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(y-S)<=1E-6*Math.max(1,Math.abs(y),Math.abs(S))&&Math.abs(A-T)<=1E-6*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(D-
X)<=1E-6*Math.max(1,Math.abs(D),Math.abs(X))&&Math.abs(F-W)<=1E-6*Math.max(1,Math.abs(F),Math.abs(W))&&Math.abs(J-fa)<=1E-6*Math.max(1,Math.abs(J),Math.abs(fa))&&Math.abs(M-da)<=1E-6*Math.max(1,Math.abs(M),Math.abs(da))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))}});db=function(){var h=ib();return function(m,v,y,A,D,F){v||(v=2);y||(y=0);for(A=A?Math.min(A*v+y,m.length):m.length;y<A;y+=v)h[0]=m[y],h[1]=m[y+1],D(h,h,F),m[y]=h[0],m[y+1]=h[1];return m}}();db=Object.freeze({__proto__:null,
create:ib,clone:function(h){var m=new qa(2);m[0]=h[0];m[1]=h[1];return m},Zf:function(h,m){var v=new qa(2);v[0]=h;v[1]=m;return v},xa:function(h,m){h[0]=m[0];h[1]=m[1];return h},set:function(h,m,v){h[0]=m;h[1]=v;return h},add:function(h,m,v){h[0]=m[0]+v[0];h[1]=m[1]+v[1];return h},bn:Sa,multiply:jb,sl:kb,ceil:function(h,m){h[0]=Math.ceil(m[0]);h[1]=Math.ceil(m[1]);return h},floor:function(h,m){h[0]=Math.floor(m[0]);h[1]=Math.floor(m[1]);return h},min:function(h,m,v){h[0]=Math.min(m[0],v[0]);h[1]=
Math.min(m[1],v[1]);return h},max:function(h,m,v){h[0]=Math.max(m[0],v[0]);h[1]=Math.max(m[1],v[1]);return h},round:function(h,m){h[0]=Math.round(m[0]);h[1]=Math.round(m[1]);return h},scale:function(h,m,v){h[0]=m[0]*v;h[1]=m[1]*v;return h},FM:function(h,m,v,y){h[0]=m[0]+v[0]*y;h[1]=m[1]+v[1]*y;return h},Xx:Wa,TX:lb,length:Ma,$D:nb,CX:function(h,m){h[0]=-m[0];h[1]=-m[1];return h},inverse:function(h,m){h[0]=1/m[0];h[1]=1/m[1];return h},normalize:function(h,m){var v=m[0],y=m[1];v=v*v+y*y;0<v&&(v=1/Math.sqrt(v));
h[0]=m[0]*v;h[1]=m[1]*v;return h},Po:function(h,m){return h[0]*m[0]+h[1]*m[1]},UL:function(h,m,v){m=m[0]*v[1]-m[1]*v[0];h[0]=h[1]=0;h[2]=m;return h},wd:function(h,m,v,y){var A=m[0];m=m[1];h[0]=A+y*(v[0]-A);h[1]=m+y*(v[1]-m);return h},random:function(h,m){m=m||1;var v=2*Ka()*Math.PI;h[0]=Math.cos(v)*m;h[1]=Math.sin(v)*m;return h},sya:function(h,m,v){var y=m[0];m=m[1];h[0]=v[0]*y+v[2]*m;h[1]=v[1]*y+v[3]*m;return h},tya:function(h,m,v){var y=m[0];m=m[1];h[0]=v[0]*y+v[2]*m+v[4];h[1]=v[1]*y+v[3]*m+v[5];
return h},Oia:function(h,m,v){var y=m[0];m=m[1];h[0]=v[0]*y+v[3]*m+v[6];h[1]=v[1]*y+v[4]*m+v[7];return h},OM:function(h,m,v){var y=m[0];m=m[1];h[0]=v[0]*y+v[4]*m+v[12];h[1]=v[1]*y+v[5]*m+v[13];return h},rotate:function(h,m,v,y){var A=m[0]-v[0];m=m[1]-v[1];var D=Math.sin(y);y=Math.cos(y);h[0]=A*y-m*D+v[0];h[1]=A*D+m*y+v[1];return h},angle:function(h,m){var v=h[0];h=h[1];var y=m[0];m=m[1];var A=Math.sqrt(v*v+h*h)*Math.sqrt(y*y+m*m);return Math.acos(Math.min(Math.max(A&&(v*y+h*m)/A,-1),1))},eY:function(h){h[0]=
0;h[1]=0;return h},an:function(h){return"vec2("+h[0]+", "+h[1]+")"},ak:function(h,m){return h[0]===m[0]&&h[1]===m[1]},Zc:function(h,m){var v=h[0];h=h[1];var y=m[0];m=m[1];return Math.abs(v-y)<=1E-6*Math.max(1,Math.abs(v),Math.abs(y))&&Math.abs(h-m)<=1E-6*Math.max(1,Math.abs(h),Math.abs(m))},cy:Ma,sub:Sa,To:jb,nX:kb,lX:Wa,SX:lb,ZD:nb,forEach:db});d.ul=Ob;d.fxa=Pb;d.gxa=Qb;d.hxa=Rb;d.So=Sb;d.Bxa=qb;d.Cxa=rb;d.Aya=db;d.dE=ob;d.ty=pb;Object.defineProperty(d,"__esModule",{value:!0})}
"object"===typeof exports&&"undefined"!==typeof module?Xa(exports):"function"===typeof define&&define.uva?define(["exports"],Xa):(Ta=Ta||self,Xa(Ta.ul={}));
{"use strict";function d(t,w,x,z){var E=w[0]-t[0];w=w[1]-t[1];var G=z[0]-x[0],N=z[1]-x[1];if(0===G*w-N*E)return!1;z=(E*(x[1]-t[1])+w*(t[0]-x[0]))/(G*w-N*E);t=(G*(t[1]-x[1])+N*(x[0]-t[0]))/(N*E-G*w);return 0<=z&&1>=z&&0<=t&&1>=t}function b(t,w,x){return(w[0]-t[0])*(x[1]-t[1])-(x[0]-t[0])*(w[1]-t[1])}function a(t,w,x){return 0<b(t,w,x)}function e(t,w,x){return 0<=b(t,w,x)}function c(t,w,x){return 0>=b(t,w,x)}var Ya=[],Za=[];function f(t,w){var x=w[0]-t[0];t=w[1]-t[1];return x*x+t*t}function k(t,w){var x=
t.length;return t[0>w?w%x+x:w%x]}function g(t,w,x,z){for(;x<z;x++)t.push(w[x])}function l(t,w){var x=k(t,w-1),z=k(t,w);t=k(t,w+1);return 0>b(x,z,t)}var $a=[],sb=[];function n(t,w,x,z){z=z||[];z.length=0;if(w<x)for(var E=w;E<=x;E++)z.push(t[E]);else{for(E=0;E<=x;E++)z.push(t[E]);for(E=w;E<t.length;E++)z.push(t[E])}return z}function q(t){for(var w=[],x,z,E=[],G=Number.MAX_VALUE,N=0;N<t.length;++N)if(l(t,N))for(var C=0;C<t.length;++C){a:{z=t;var H=N,I=C;if(e(k(z,H+1),k(z,H),k(z,I))&&c(k(z,H-1),k(z,H),
k(z,I)))x=!1;else{x=f(k(z,H),k(z,I));for(var K=0;K!==z.length;++K)if((K+1)%z.length!==H&&K!==H&&e(k(z,H),k(z,I),k(z,K+1))&&c(k(z,H),k(z,I),k(z,K))){$a[0]=k(z,H);$a[1]=k(z,I);sb[0]=k(z,K);sb[1]=k(z,K+1);var Q=[0,0];var R=$a[1][1]-$a[0][1];var U=$a[0][0]-$a[1][0];var Z=R*$a[0][0]+U*$a[0][1];var ca=sb[1][1]-sb[0][1];var Y=sb[0][0]-sb[1][0];var ha=ca*sb[0][0]+Y*sb[0][1];var ka=R*Y-ca*U;0>=Math.abs(ka-0)||(Q[0]=(Y*Z-U*ha)/ka,Q[1]=(R*ha-ca*Z)/ka);ka=Q;if(f(k(z,H),ka)<x){x=!1;break a}}x=!0}}if(x){x=q(n(t,
N,C,E));z=q(n(t,C,N,E));for(H=0;H<z.length;H++)x.push(z[H]);x.length<G&&(w=x,G=x.length,w.push([k(t,N),k(t,C)]))}}return w}function r(t,w){if(0===w.length)return[t];if(w instanceof Array&&w.length&&w[0]instanceof Array&&2===w[0].length&&w[0][0]instanceof Array){t=[t];for(var x=0;x<w.length;x++)for(var z=w[x],E=0;E<t.length;E++){var G=r(t[E],z);if(G){t.splice(E,1);t.push(G[0],G[1]);break}}return t}z=w;x=t.indexOf(z[0]);E=t.indexOf(z[1]);return-1!==x&&-1!==E?[n(t,x,E),n(t,E,x)]:!1}function p(t,w,x,
z,E){var G=w[1]-t[1];w=t[0]-w[0];t=G*t[0]+w*t[1];var N=z[1]-x[1];z=x[0]-z[0];x=N*x[0]+z*x[1];var C=G*z-N*w;return Math.abs(C-0)<=(E||0)?[0,0]:[(z*t-w*x)/C,(G*x-N*t)/C]}function u(t,w,x,z,E,G,N){G=G||100;N=N||0;E=E||25;w="undefined"!==typeof w?w:[];x=x||[];z=z||[];var C=[0,0],H=[0,0],I=[0,0],K,Q=0,R=0,U=0,Z=[],ca=[];if(3>t.length)return w;N++;if(N>G)return console.warn("quickDecomp: max level ("+G+") reached."),w;for(var Y=0;Y<t.length;++Y)if(l(t,Y)){x.push(t[Y]);var ha=K=Number.MAX_VALUE;for(var ka=
0;ka<t.length;++ka){if(a(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y-1),k(t,Y),k(t,ka-1))){I=p(k(t,Y-1),k(t,Y),k(t,ka),k(t,ka-1));var za=k(t,Y+1);var Oa=k(t,Y);0>b(za,Oa,I)&&(za=f(t[Y],I),za<K&&(K=za,H=I,R=ka))}a(k(t,Y+1),k(t,Y),k(t,ka+1))&&c(k(t,Y+1),k(t,Y),k(t,ka))&&(I=p(k(t,Y+1),k(t,Y),k(t,ka),k(t,ka+1)),a(k(t,Y-1),k(t,Y),I)&&(za=f(t[Y],I),za<ha&&(ha=za,C=I,Q=ka)))}if(R===(Q+1)%t.length)I[0]=(H[0]+C[0])/2,I[1]=(H[1]+C[1])/2,z.push(I),Y<Q?(g(Z,t,Y,Q+1),Z.push(I),ca.push(I),0!==R&&g(ca,t,R,t.length),g(ca,
t,0,Y+1)):(0!==Y&&g(Z,t,Y,t.length),g(Z,t,0,Q+1),Z.push(I),ca.push(I),g(ca,t,R,Y+1));else{R>Q&&(Q+=t.length);C=Number.MAX_VALUE;if(Q<R)return w;for(ka=R;ka<=Q;++ka)if(e(k(t,Y-1),k(t,Y),k(t,ka))&&c(k(t,Y+1),k(t,Y),k(t,ka))){za=f(k(t,Y),k(t,ka));if(R=za<C)a:{R=t;H=Y;I=ka;for(ha=0;ha!==R.length;++ha)if(ha!==H&&ha!==I&&(ha+1)%R.length!==H&&(ha+1)%R.length!==I&&d(k(R,H),k(R,I),k(R,ha),k(R,ha+1))){R=!1;break a}R=!0}R&&(C=za,U=ka%t.length)}Y<U?(g(Z,t,Y,U+1),0!==U&&g(ca,t,U,t.length),g(ca,t,0,Y+1)):(0!==
Y&&g(Z,t,Y,t.length),g(Z,t,0,U+1),g(ca,t,U,Y+1))}Z.length<ca.length?(u(Z,w,x,z,E,G,N),u(ca,w,x,z,E,G,N)):(u(ca,w,x,z,E,G,N),u(Z,w,x,z,E,G,N));return w}w.push(t);return w}self.xxa={Qva:function(t){var w=q(t);return 0<w.length?r(t,w):[t]},Dxa:u,Iwa:function(t){var w;for(w=0;w<t.length-1;w++)for(var x=0;x<w-1;x++)if(d(t[w],t[w+1],t[x],t[x+1]))return!1;for(w=1;w<t.length-2;w++)if(d(t[0],t[t.length-1],t[w],t[w+1]))return!1;return!0},Ixa:function(t,w){for(var x=0,z=t.length-1;3<t.length&&0<=z;--z){var E=
k(t,z-1);var G=k(t,z),N=k(t,z+1),C=w;C?(Ya[0]=G[0]-E[0],Ya[1]=G[1]-E[1],Za[0]=N[0]-G[0],Za[1]=N[1]-G[1],E=Math.acos((Ya[0]*Za[0]+Ya[1]*Za[1])/(Math.sqrt(Ya[0]*Ya[0]+Ya[1]*Ya[1])*Math.sqrt(Za[0]*Za[0]+Za[1]*Za[1])))<C):E=0===b(E,G,N);E&&(t.splice(z%t.length,1),x++)}return x},Jxa:function(t,w){for(var x=t.length-1;1<=x;--x)for(var z=t[x],E=x-1;0<=E;--E){var G=z,N=t[E],C=w;Math.abs(G[0]-N[0])<=(C||0)&&Math.abs(G[1]-N[1])<=(C||0)&&t.splice(x,1)}},exa:function(t){for(var w=0,x=1;x<t.length;++x)if(t[x][1]<
t[w][1]||t[x][1]===t[w][1]&&t[x][0]>t[w][0])w=x;if(a(k(t,w-1),k(t,w),k(t,w+1)))return!1;w=[];x=t.length;for(var z=0;z!==x;z++)w.push(t.pop());for(z=0;z!==x;z++)t[z]=w[z];return!0}}}{"use strict";const d=self.B=class{constructor(){throw TypeError("static class can't be instantiated");}};d.du=!1;d.fM=!1;d.hardwareConcurrency=navigator.hardwareConcurrency||2;self.Eg={}}
{"use strict";const d=self.B;d.JP=class{constructor(b){this.yga=b;this.Ma=new Map;this.Bca()}Bca(){var b=this.yga;if(b.startsWith("?")||b.startsWith("#"))b=b.substr(1);b=b.split("&");for(const a of b)this.Cca(a)}Cca(b){if(b)if(b.includes("=")){var a=b.indexOf("="),e=decodeURIComponent(b.substring(0,a));b=decodeURIComponent(b.substring(a+1));this.Ma.set(e,b)}else this.Ma.set(b,null)}Bz(b){return this.Ma.has(b)}ba(b){b=this.Ma.get(b);return"undefined"===typeof b?null:b}};d.eG=new d.JP(location.search);
d.Ioa=new d.JP(location.hash);d.eG.ba("mode")}
{"use strict";const d=self.B,b=navigator.userAgent;let a={$ha:/linux|openbsd|freebsd|netbsd/i.test(b),eha:/CrOS/.test(b),eE:/trident|iemobile|msie|tizen/i.test(b),pwa:/trident|iemobile|msie|edge\//i.test(b),opera:/OPR\//.test(b),dX:/bb10/i.test(b),vha:/edge\//i.test(b),YX:/trident/i.test(b),webkit:/webkit/i.test(b),Aia:/safari\//i.test(b),dha:/chrome\//i.test(b),fha:/chromium\//i.test(b),iha:/crosswalk|xwalk/i.test(b),oxa:/nwjs/i.test(b),Sga:/amazonwebappplatform/i.test(b),Uia:/wv\)/.test(b),Tga:/android/i.test(b),
iia:/nokiabrowser\/[0-9.]+/i.test(b)};var tb=/mac\s+os\s+x\s+[0-9_]+/i.exec(b),Lb=/android\s+[0-9.]+/i.exec(b),Mb=/OPR\/[0-9.]+/.exec(b),Nb=/tizen\s+[0-9.]+/i.exec(b),Tb=/iphone\s+os\s+[0-9_]+/i.exec(b),Ub=/ipad[^)]*os\s+[0-9_]+/i.exec(b),Vb=/windows\s+phone\s+[0-9.]+/i.exec(b),Wb=/windows\s+phone\s+os\s+[0-9.]+/i.exec(b),Xb=/chrome\/[0-9.]+/i.exec(b),Yb=/chromium\/[0-9.]+/i.exec(b),Zb=/nwjs\/[0-9.]+/i.exec(b),$b=/firefox\/[0-9.]+/i.exec(b),ac=/msie\s+[0-9.]+/i.exec(b),bc=/edge\/[0-9.]+/i.exec(b),
cc=/edg\/[0-9.]+/i.exec(b),dc=/silk\/[0-9.]+/i.exec(b);let e="(unknown)",c="(unknown)",f="(unknown)",k="(unknown)",g="(unknown)",l="browser",n=!1,q=!1,r=new Map;function p(t,w,x){!0===w?(x(),r.set(t,!0)):w&&w.length&&(x(w[0]),r.set(t,!0))}p("isWindows",/windows\s+nt\s+\d+\.\d+/i.exec(b),t=>{e="Windows";if(t=t.split(" ")[2])switch(t){case "5.0":c="2000";break;case "5.1":c="XP";break;case "5.2":c="XP";break;case "6.0":c="Vista";break;case "6.1":c="7";break;case "6.2":c="8";break;case "6.3":c="8.1";
break;case "10.0":c="10"}});p("isOSX",tb,t=>{e="Mac OS X";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isLinux",a.$ha,()=>{e="Linux"});p("isChromeOS",a.eha,()=>{e="Chrome OS"});p("isAndroid",!a.eE&&Lb,t=>{e="Android";(t=t.split(" ")[1])&&(c=t)});p("isTizen",Nb,t=>{e="Tizen";(t=t.split(" ")[1])&&(c=t)});p("isIPhone",!a.eE&&Tb,t=>{e="iOS";(t=t.split(" ")[2])&&(c=t.replace("_","."))});p("isIPad",!a.eE&&Ub,t=>{e="iOS";(t=t.split(" ")[3])&&(c=t.replace("_","."))});p("isWindowsPhone",Vb,t=>{e="Windows Phone";
(t=t.split(" ")[2])&&(c=t)});p("isWindowsPhoneOS",Wb,t=>{e="Windows Phone";(t=t.split(" ")[3])&&(c=t)});p("isBlackberry",a.dX,()=>{e="Blackberry";c="10";f="stock";g="webkit"});p("isChrome",!a.vha&&!a.opera&&Xb,t=>{f="Chrome";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isOpera",Mb,t=>{f="Opera";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isChromium",Yb,t=>{g=f="Chromium";(t=t.split("/")[1])&&(k=t)});p("isFirefox",$b,t=>{f="Firefox";g="Gecko";(t=t.split("/")[1])&&(k=t)});p("isInternetExplorer",ac,
t=>{f="Internet Explorer";g="Trident";(t=t.split(" ")[1])&&(k=t)});p("isTrident","Internet Explorer"!==f&&a.YX,()=>{g="Trident";var t=/rv:[0-9.]+/i.exec(b);t&&t.length&&(f="Internet Explorer",(t=t[0].split(":")[1])&&(k=t))});p("isEdge",bc,t=>{g=f="Edge";(t=t.split("/")[1])&&(k=t)});p("isEdgeChromium",cc,t=>{f="Edge";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isSafari",a.Aia&&!a.iia&&!a.dha&&!a.fha&&!a.owa&&!a.dX,()=>{f="Safari";g="WebKit";var t=/version\/[0-9.]+/i.exec(b),w=/crios\/[0-9.]+/i.exec(b),
x=/fxios\/[0-9.]+/i.exec(b);t&&t.length&&(t=t[0].split("/")[1])&&(k=t);w&&w.length&&(f="Chrome for iOS",(w=w[0].split("/")[1])&&(k=w));x&&x.length&&(f="Firefox for iOS",(x=x[0].split("/")[1])&&(k=x))});p("isSilk",dc,t=>{f="Silk";(t=t.split("/")[1])&&(k=t)});p("isCrosswalk",a.iha,()=>l="crosswalk");p("isCordova",self.device&&(self.device.cordova||self.device.phonegap),()=>l="cordova");p("isNWJS",Zb,t=>{l="nwjs";f="NW.js";g="Chromium";(t=t.split("/")[1])&&(k=t)});p("isAmazonWebApp",a.Sga,()=>l="webapp");
p("isHomeScreenWebApp","nwjs"!==l&&"undefined"!==typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone),()=>l="webapp");p("isFalseSafari","Safari"===f&&("Android"===e||"Tizen"===e||"Blackberry"===e),()=>f="stock");p("isAndroidWebview","Chrome"===f&&"browser"===l&&a.Uia,()=>l="webview");p("isFirefoxOS","Firefox"===f&&"(unknown)"===e,()=>e="Firefox OS");p("isAndroidFallback","(unknown)"===e&&!a.eE&&a.Tga,()=>e="Android");p("isTridentFallback",
"(unknown)"===e&&a.YX,()=>g="Trident");p("isWebkitFallback","(unknown)"===e&&a.webkit,()=>g="WebKit");p("isDesktop","Windows"===e||"Mac OS X"===e||"Linux"===e||"Chrome OS"===e||"nwjs"===l,()=>n=!0);q="nwjs"===l;const u="Mac OS X"===e&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;u&&(e="iOS",c=k,q=n=!1);d.bd={Yr:e,qpa:c,qd:f,Mka:k,sE:parseFloat(k),Ay:g,xE:l,Cna:n,Lz:!n,Dna:q,yna:!!(self.chrome&&self.chrome.runtime&&self.chrome.runtime.id),tna:"Mac OS X"===e||"iOS"===e,Kna:u,Lna:"Linux"===e}}"use strict";
{const d=new Map,b="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAll,a="undefined"!==typeof IDBObjectStore&&"function"===typeof IDBObjectStore.prototype.getAllKeys;function e(u){return new Promise((t,w)=>{u.onsuccess=()=>t(u.result);u.onerror=()=>w(u.error)})}function c(u){return new Promise((t,w)=>{u.oncomplete=()=>t();u.onerror=()=>w(u.error);u.onabort=()=>w(u.error)})}function f(u,t){return g(u,t)}function k(u,t){return g(u,t,!0)}async function g(u,t,w=!1,
x=!0){const z=await l(u);try{const E=z.transaction(["keyvaluepairs"],w?"readwrite":"readonly");return t(E)}catch(E){if(x&&"InvalidStateError"===E.name)return d.delete(u),g(u,t,w,!1);throw E;}}function l(u){q(u);let t=d.get(u);t instanceof Promise||(t=n(u),d.set(u,t),t.catch(()=>d.delete(u)));return t}async function n(u){q(u);const t=indexedDB.open(u,2);t.addEventListener("upgradeneeded",w=>{try{w.target.result.createObjectStore("keyvaluepairs")}catch(x){console.error(`Failed to create objectstore for database ${u}`,
x)}});return e(t)}function q(u){if("string"!==typeof u)throw new TypeError("expected string");}function r(u,t){const w=u.objectStore("keyvaluepairs").openCursor();return new Promise(x=>{const z=[];w.onsuccess=E=>{if(E=E.target.result){switch(t){case "entries":z.push([E.key,E.value]);break;case "keys":z.push(E.key);break;case "values":z.push(E.value)}E.continue()}else x(z)}})}class p{constructor(u){q(u);this.name=u}async ready(){await l(this.name)}set(u,t){q(u);return k(this.name,async w=>{var x=w.objectStore("keyvaluepairs").put(t,
u);x=e(x);w=c(w);await Promise.all([w,x])})}get(u){q(u);return f(this.name,async t=>{var w=t.objectStore("keyvaluepairs").get(u);w=e(w);t=c(t);[,t]=await Promise.all([t,w]);return t})}delete(u){q(u);return k(this.name,async t=>{var w=t.objectStore("keyvaluepairs").delete(u);w=e(w);t=c(t);await Promise.all([t,w])})}clear(){return k(this.name,async u=>{var t=u.objectStore("keyvaluepairs").clear();t=e(t);u=c(u);await Promise.all([u,t])})}keys(){return f(this.name,async u=>{if(a){var t=u.objectStore("keyvaluepairs").getAllKeys();
t=e(t)}else t=r(u,"keys");u=c(u);[,u]=await Promise.all([u,t]);return u})}values(){return f(this.name,async u=>{if(b){var t=u.objectStore("keyvaluepairs").getAll();t=e(t)}else t=r(u,"values");u=c(u);[,u]=await Promise.all([u,t]);return u})}entries(){return f(this.name,async u=>{var t=r(u,"entries");u=c(u);[,t]=await Promise.all([u,t]);return t})}}self.A3=p}"use strict";
{const d=self.A3,b=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i],a=new WeakMap;let e=!1;"undefined"===typeof indexedDB&&(e=!0,console.warn("Unable to use local storage because indexedDB is not defined"));function c(l){throw Error(`"${l}" is not implemented`);
}function f(l){if("function"===typeof l)throw Error("localforage callback API is not implemented; please use the promise API instead");}function k(l){return"object"===typeof l?new Promise(n=>{const {port1:q,port2:r}=new MessageChannel;r.onmessage=p=>n(p.data);q.postMessage(l)}):Promise.resolve(l)}class g{constructor(l){this.H=l;a.set(this,new Map)}Mv(l){if(!e)for(const n of b)if(l&&n.test(l.message)){console.error("Unable to use local storage, reverting to in-memory store: ",l,l.message);e=!0;break}}async RU(l){l=
a.get(this).get(l);l=await k(l);return"undefined"===typeof l?null:l}async wW(l,n){n=await k(n);a.get(this).set(l,n)}nW(l){a.get(this).delete(l)}pU(){a.get(this).clear()}vV(){return Array.from(a.get(this).keys())}async getItem(l,n){f(n);if(e)return await this.RU(l);let q;try{q=await this.H.get(l)}catch(r){this.Mv(r);if(e)return await this.RU(l);console.error(`Error reading '${l}' from storage, returning null: `,r);return null}return"undefined"===typeof q?null:q}async setItem(l,n,q){f(q);"undefined"===
typeof n&&(n=null);if(e)await this.wW(l,n);else try{await this.H.set(l,n)}catch(r){if(this.Mv(r),e)await this.wW(l,n);else throw r;}}async removeItem(l,n){f(n);if(e)this.nW(l);else try{await this.H.delete(l)}catch(q){this.Mv(q),e?this.nW(l):console.error(`Error removing '${l}' from storage: `,q)}}async clear(l){f(l);if(e)this.pU();else try{await this.H.clear()}catch(n){this.Mv(n),e?this.pU():console.error("Error clearing storage: ",n)}}async keys(l){f(l);if(e)return this.vV();l=[];try{l=await this.H.keys()}catch(n){this.Mv(n);
if(e)return this.vV();console.error("Error getting storage keys: ",n)}return l}ready(l){f(l);return e?Promise.resolve(!0):this.H.ready()}TL(l){if("object"!==typeof l)throw new TypeError("invalid options object");l=l.name;if("string"!==typeof l)throw new TypeError("invalid store name");l=new d(l);return new g(l)}length(){c("localforage.length()")}key(){c("localforage.key()")}iterate(){c("localforage.iterate()")}supports(){c("localforage.supports()")}dropInstance(){c("localforage.dropInstance()")}}
self.localforage=new g(new d("localforage"))}
{"use strict";const d=self.B;d.Vb={};d.Vb.Zua=(()=>{try{if("Safari"===d.bd.qd||"undefined"===typeof document)return!1;const b=document.createElement("div");return"undefined"===typeof b.animate?!1:"undefined"!==typeof b.animate([{opacity:"0"},{opacity:"1"}],1E3).reverse}catch(b){return!1}})();d.Vb.bma="undefined"!==typeof HTMLDialogElement;d.Vb.Sqa=!!self.requestIdleCallback;d.Vb.ImageBitmap=!!self.createImageBitmap;d.Vb.ImageBitmapOptions=!1;if(d.Vb.ImageBitmap)try{self.createImageBitmap(new ImageData(32,32),
{premultiplyAlpha:"none"}).then(()=>{d.Vb.ImageBitmapOptions=!0}).catch(()=>{d.Vb.ImageBitmapOptions=!1})}catch(b){d.Vb.ImageBitmapOptions=!1}d.Vb.Yka=!(!navigator.clipboard||!navigator.clipboard.readText||"Firefox"===d.bd.qd);d.Vb.Rpa=!(!navigator.permissions||!navigator.permissions.query);d.Vb.GP="undefined"!==typeof Proxy;d.Vb.ema="undefined"===typeof document?!1:"undefined"!==typeof document.createElement("a").download;d.Vb.uu="undefined"!==typeof HTMLCanvasElement&&HTMLCanvasElement.prototype.toBlob;
d.Vb.tma="function"===typeof fetch;d.Vb.Tpa=!!(self.isSecureContext&&"Opera"!==d.bd.qd&&navigator.storage&&navigator.storage.persist);d.Vb.cua=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate);var ec;if("undefined"===typeof document||"iOS"===d.bd.Yr)ec=!1;else{var fc=document.documentElement;ec=!!(fc.requestFullscreen||fc.msRequestFullscreen||fc.mozRequestFullScreen||fc.webkitRequestFullscreen)}d.Vb.Ema=ec;d.Vb.gna="undefined"!==typeof self.ImageDecoder;d.Vb.lpa=!!self.showOpenFilePicker;
d.Vb.mpa=!(!navigator.fonts||!navigator.fonts.query)}
{"use strict";const d=self.B;if(!String.prototype.trimStart){const b=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(b,"")}}if(!String.prototype.trimEnd){const b=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(b,
"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(b,a){return this.replace(new RegExp(d.yu(b),"g"),a)});Array.prototype.values||(Array.prototype.values=function*(){for(const b of this)yield b});if(!Array.prototype.flat){function b(a,e){return a.reduce((c,f)=>{0<e&&Array.isArray(f)?Array.prototype.push.apply(c,b(f,e-1)):c.push(f);return c},[])}Array.prototype.flat=function(a=1){return b(this,a)}}Array.prototype.ue||(Array.prototype.ue=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);
if(!(0>b||b>=this.length))return this[b]});String.prototype.ue||(String.prototype.ue=function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]});RegExp.escape||(RegExp.escape=function(b){return String(b).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")});navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((b,a)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((e,
c)=>b({usage:e,quota:c}),a))});"undefined"===typeof self.isSecureContext&&(self.isSecureContext="https:"===location.protocol);"undefined"===typeof self.globalThis&&(self.globalThis=self)}{"use strict";const d=self.B;self.assert=function(b,a){b||console.error("Assertion failure: "+a+"\n\nStack trace:\n"+d.Yy())}}
{"use strict";const d=self.B,b=self.Eg;d.rn=function(e){return"number"===typeof e};d.nn=function(e){return d.rn(e)&&isFinite(e)};d.jg=function(e){if(!d.rn(e))throw new TypeError("expected number");};d.TP=function(){};d.pra=function(e,c,f){if(!d.rn(e)||isNaN(e)||c>e||f<e)throw new RangeError("number outside of range");};d.ara=function(...e){for(let c of e);};d.Xg=function(e){if(!d.nn(e))throw new TypeError("expected finite number");};d.QP=function(){};d.Yqa=function(...e){for(let c of e);};d.cj=function(e){return"string"===
typeof e};d.Ae=function(e){if(!d.cj(e))throw new TypeError("expected string");};d.VP=function(){};d.cra=function(...e){for(let c of e);};d.RO=function(e){return"object"!==typeof e||null===e?!1:(e=Object.getPrototypeOf(e))?e.constructor===Object:null===e};d.Cra=function(e){if(!d.RO(e))throw new TypeError("expected simple object");};d.zra=function(e){if(!d.ye(e)&&!d.RO(e))throw new TypeError("expected simple object");};d.QO=function(e){return"object"===typeof e&&null!==e&&!Array.isArray(e)};d.OP=function(e){if(!d.QO(e))throw new TypeError("expected object");
};d.UP=function(){};d.bra=function(...e){for(let c of e);};d.HF=function(e){return d.pn(e,Blob)&&"string"===typeof e.name};d.nra=function(e){if(!d.HF(e))throw new TypeError("expected file");};d.xra=function(){};d.sp=function(e){return Array.isArray(e)};d.lG=function(e){if(!d.sp(e))throw new TypeError("expected array");};d.PP=function(){};d.Xqa=function(...e){for(let c of e);};d.Y2=function(e){return d.sp(e)?e.length?d.sp(e[0])?!0:!1:!0:!1};d.Wqa=function(e){if(!d.Y2(e))throw new TypeError("expected 2d array");
for(let c of e)if(!d.sp(c))throw new TypeError("expected 2d array");};d.qra=function(){};d.IF=function(e){return"function"===typeof e};d.yk=function(e,c){if(!d.IF(e))throw new TypeError("expected function");if(!d.ye(c)&&e!==c)throw new TypeError("expected same function reference");};d.RP=function(){};d.Zqa=function(...e){for(let c of e);};d.fra=function(e,...c){if(!d.IF(e))throw new TypeError("expected function");if(!c.length)throw Error("missing comparison functions");for(let f of c)if(!d.ye(f)&&
e===f)return;throw new TypeError("expected same function reference");};d.rra=function(...e){if(!d.ye(e))for(let c of e);};d.pn=function(e,c){return e instanceof c};d.PO=function(e,...c){for(let f of c)if(d.pn(e,f))return!0;return!1};d.mG=function(e,c){if(!d.pn(e,c))throw new TypeError("unexpected type");};d.SP=function(){};d.$qa=function(e,...c){for(let f of c);};d.gra=function(e,...c){if(!d.PO(e,...c))throw new TypeError("unexpected type");};d.hra=function(e,...c){if(!d.ye(e)&&!d.PO(e,...c))throw new TypeError("unexpected type");
};d.una=function(e,c){for(let f of e)if(!d.pn(f,c))return!1;return!0};d.vna=function(e){for(let c of e)if(!d.nn(c))return!1;return!0};d.ira=function(e){for(let c of e);};d.sra=function(e){if(!d.ye(e))for(let c of e);};d.jra=function(e){for(let c of e);};d.tra=function(e){if(!d.ye(e))for(let c of e);};d.zna=function(e,c){return d.ye(e)||!d.cj(e.nodeName)?!1:!c||d.Kh(e.nodeName,c)};d.kra=function(e,c){if(d.ye(e)||!d.cj(e.nodeName))throw new TypeError("expected DOM node");if(c&&!d.Kh(e.nodeName,c))throw new TypeError(`expected DOM '${c}' node`);
};d.ura=function(){};d.KF=function(e,c){return d.ye(e)||!d.cj(e.tagName)?!1:!c||d.Kh(e.tagName,c)};d.ora=function(e,c){if(d.ye(e)||!d.cj(e.tagName))throw new TypeError("expected HTML element");if(c&&!d.Kh(e.tagName,c))throw new TypeError(`expected HTML '${c}' element`);};d.yra=function(){};d.JO=function(e){return d.KF(e,"img")||d.KF(e,"canvas")||d.KF(e,"video")||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap};d.lra=function(e){if(!d.JO(e))throw new TypeError("expected drawable");
};d.vra=function(){};d.KO=function(e){return e instanceof ImageData?!0:d.JO(e)};d.mra=function(e){if(!d.KO(e))throw new TypeError("expected drawable or image data");};d.wra=function(e){if(!d.ye(e)&&!d.KO(e))throw new TypeError("expected drawable or image data");};d.u3=function(e){return"string"===typeof e||e instanceof d.yF||e instanceof d.yl};d.Dra=function(e){if(!d.u3(e))throw new TypeError("expected string-like");};d.Ara=function(){};d.dra=function(...e){for(let c of e);};d.Bra=function(){throw Error("must be overridden");
};d.ppa=function(){throw Error("not yet implemented");};d.Bna=function(e,...c){if("undefined"===typeof e)return!1;for(let f of c){if("undefined"===typeof e[f])return!1;e=e[f]}return!0};d.ye=function(e){return"undefined"===typeof e||null===e};d.aka=function(e){let c=e[0].constructor;for(let f of e)if(f.constructor!==c)return!1;return c};d.bka=function(e,c){for(let f of e)if(!(f instanceof c))return!1;return!0};const a=Object.getPrototypeOf(Uint8Array);d.hoa=function(e){return d.pn(e,a)};d.Era=function(){};
d.Yua=function(e){d.w8(e,a)};d.Xua=function(e,...c){if(!d.v8(e,...c))throw new TypeError("unexpected type");};d.v8=function(e,...c){for(const f of c)if(d.dR(e,f))return!0;return!1};d.w8=function(e,c){if(!d.dR(e,c))throw new TypeError("unexpected type");};d.dR=function(e,c){for(;e=Object.getPrototypeOf(e);)if(e.constructor.name===c.name)return!0;return!1};b.jg=d.jg;b.TP=d.TP;b.Xg=d.Xg;b.QP=d.QP;b.Ae=d.Ae;b.VP=d.VP;b.OP=d.OP;b.UP=d.UP;b.lG=d.lG;b.PP=d.PP;b.yk=d.yk;b.RP=d.RP;b.mG=d.mG;b.SP=d.SP;b.ye=
d.ye}
{"use strict";const d=self.B,b=new Map;d.Eqa=function(r,...p){b.has(r)||b.set(r,-1);-1===b.get(r)&&b.set(r,requestAnimationFrame(()=>{console.log(`%c${r}`,"font-weight: bold",...p);b.set(r,-1)}))};d.Yy=function(){return Error().stack};d.Zla=function(){debugger};d.Hva=function(r,p){return r&&r instanceof p?r:null};d.tl=function(r){return"undefined"===typeof r?"undefined":null===r?"null":"boolean"===typeof r?"<boolean>":d.rn(r)?"<number>":d.cj(r)?"<string>":d.sp(r)?"<array>":"symbol"===typeof r?"<"+
r.toString()+">":d.IF(r)?r.name&&"Function"!==r.name?r.name:"<anonymous function>":"object"===typeof r?r.constructor&&r.constructor.name&&"Object"!==r.constructor.name?r.constructor.name:"<anonymous object>":"<unknown>"};d.LD=function(r){return null===r?"null":Array.isArray(r)?"array":typeof r};d.range=function*(r,p){if(!isFinite(Math.abs(r-p)))throw Error("Invalid parameters");if(r>p)for(--r;r>=p;r--)yield r;else for(;r<p;r++)yield r};let a=new Map,e=new Map,c=new WeakMap,f=new WeakMap;d.Dr={};const k=
new Set(["then","splice"]);function g(r){console.warn("[Defence] "+r+" @",d.Yy())}d.Dr.get=function(r,p){p in r||"symbol"===typeof p||k.has(p)||g(`Accessed missing property '${p}' from defended object '${d.tl(r)}', returning undefined`);f.has(r)&&"symbol"!==typeof p&&!k.has(p)&&g(`Accessed property '${p}' on a released object '${d.tl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);return r[p]};d.Dr.set=function(r,p,u){p in r||a.has(r)||g(`Set non-existent property '${p}' to '${u}' on defended object '${d.tl(r)}'`);
{var t=d.LD(r[p]);let w=d.LD(u);t="null"===t||"null"===w?!0:"undefined"===t||"undefined"===w?!1:t===w}t||a.has(r)||g(`Set '${d.LD(r[p])}' property '${p}' to type '${d.LD(u)}' on defended object '${d.tl(r)}'`);f.has(r)&&g(`Set property '${p}' on a released object '${d.tl(r)}'\nObject was originally released at: ${f.get(r)})\nCall stack at access: `);r[p]=u;return!0};d.Dr.deleteProperty=function(r,p){throw new ReferenceError(`Cannot delete property '${p}' from defended object '${d.tl(r)}'`);};d.Dr.defineProperty=
function(r,p){throw new ReferenceError(`Cannot define property '${p}' on defended object '${d.tl(r)}'`);};d.Dr.Uva=function(r){throw new ReferenceError(`Cannot enumerate defended object '${d.tl(r)}'`);};let l=-1;function n(){l=-1;if(0<a.size||0<e.size){let r=[...new Set([...a.keys()].map(p=>d.tl(p)))].join();console.warn(`An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: ${r}`);a.clear();
e.clear()}}d.la=class{constructor(){if(d.fM&&d.Vb.GP){var r=new.target;r=Object.create(r.prototype);var p=new Proxy(r,d.Dr);a.set(r,p);e.set(p,r);c.set(p,r);-1===l&&(l=requestAnimationFrame(n));return p}}};d.kha=function(r){if(d.fM&&d.Vb.GP&&r instanceof d.la){if(!e.has(r))return r;let p=e.get(r);e.delete(r);a.delete(p);return r}return d.du?Object.seal(r):r};d.C=function(r,...p){let u;try{u=new r(...p)}catch(x){throw e.clear(),a.clear(),x;}if(d.fM){p=u;var t=new Set;for(w in p)t.add(w);var w=t;if(p=
q.get(r)){t=[];for(let x of p.values())w.has(x)?w.delete(x):t.push(x);d.Vm(t,[...w]);t.length&&console.warn(`[Defence] '${d.tl(r)}' constructor creates inconsistent properties: ${t.join(", ")}`)}else q.set(r,w)}return d.kha(u)};d.A=function(r){(r=c.get(r))&&f.set(r,d.Yy())};d.pA=function(){let r=c.get(void 0);return r?!!f.get(r):!1};let q=new Map;d.Ppa=class{constructor(r){this.Ja="";r&&this.start(r)}start(r){this.Ja=r;performance.mark(this.Ja+"-Start")}end(){performance.mark(this.Ja+"-End");performance.measure(this.Ja,
this.Ja+"-Start",this.Ja+"-End")}next(r){this.end();this.Ja=r;performance.mark(this.Ja+"-Start")}}}
{"use strict";const d=self.B,b=2*Math.PI,a=Math.PI/180,e=180/Math.PI;d.wrap=function(f,k,g){f=Math.floor(f);k=Math.floor(k);g=Math.floor(g);return f<k?(f=g-(k-f)%(g-k),f===g?0:f):k+(f-k)%(g-k)};d.dia=function(f,k,g,l){return(f-k)*(l-0)/(g-k)};d.normalize=function(f,k,g){return(f-k)/(g-k)};d.da=function(f,k,g){return f<k?k:f>g?g:f};d.md=function(f){f%=b;0>f&&(f+=b);return f};d.Aa=function(f){return f*a};d.Kd=function(f){return f*e};d.Bg=function(f,k,g,l){return Math.hypot(g-f,l-k)};d.mX=function(f,
k,g,l){f=g-f;k=l-k;return f*f+k*k};d.Ih=function(f,k,g,l){return Math.atan2(l-k,g-f)};d.lr=function(f,k){if(f===k)return 0;f=Math.sin(f)*Math.sin(k)+Math.cos(f)*Math.cos(k);return 1<=f?0:-1>=f?Math.PI:Math.acos(f)};d.OL=function(f,k,g){let l=Math.sin(f),n=Math.cos(f),q=Math.sin(k),r=Math.cos(k);return Math.acos(l*q+n*r)>g?0<n*q-l*r?d.md(f+g):d.md(f-g):d.md(k)};d.te=function(f,k){return 0>=Math.cos(f)*Math.sin(k)-Math.sin(f)*Math.cos(k)};d.NL=function(f,k,g,l=0){let n=d.lr(f,k);l*=b;return d.te(k,
f)?d.md(f+(n+l)*g):d.md(f-(n+l)*g)};d.Vga=function(f,k,g,l=0){const n=d.lr(f,k);l*=b;return d.te(k,f)?d.md(f+(n+l)*g):d.md((b-n+l)*g)};d.Uga=function(f,k,g,l=0){const n=d.lr(f,k);l*=b;return d.te(k,f)?d.md((-b+n-l)*g):d.md(f-(n+l)*g)};d.wd=function(f,k,g){return f+g*(k-f)};d.cE=function(f,k,g){return f===k?0:(g-f)/(k-f)};d.via=function(f,k,g,l){return d.wd(0,l,d.cE(f,k,g))};d.UD=function(f,k,g,l){return d.wd(d.wd(f,k,l),d.wd(k,g,l),l)};d.kX=function(f,k,g,l,n){return d.wd(d.UD(f,k,g,n),d.UD(k,g,l,
n),n)};d.jX=function(f,k,g){return(f+k+(f-k)*Math.cos(g*Math.PI))/2};d.wl=function(f){return 0<f&&0===(f-1&f)};d.nM=function(f){--f;for(let k=1;32>k;k<<=1)f|=f>>k;return f+1};d.Vxa=function(f,k){return Math.round(f*k)/k};d.awa=function(f,k){return Math.floor(f*k)/k};d.EM=function(f){return Math.round(1E6*f)/1E6};d.toFixed=function(f,k){f=f.toFixed(k);for(k=f.length-1;0<=k&&"0"===f.charAt(k);--k);0<=k&&"."===f.charAt(k)&&--k;return 0>k?f:f.substr(0,k+1)};d.k5=function(f,k,g){return d.da(f,0,255)|d.da(k,
0,255)<<8|d.da(g,0,255)<<16};d.Vz=function(f,k,g,l){f=d.da(Math.floor(1024*f),-8192,8191);k=d.da(Math.floor(1024*k),-8192,8191);g=d.da(Math.floor(1024*g),-8192,8191);l=d.da(Math.floor(1023*l),0,1023);0>f&&(f+=16384);0>k&&(k+=16384);0>g&&(g+=16384);return-(274877906944*f+16777216*k+1024*g+l)};d.DP=function(f,k,g){return d.Vz(f,k,g,1)};d.kF=function(f){if(0<=f)return(f&255)/255;f=Math.floor(-f/274877906944);8191<f&&(f-=16384);return f/1024};d.ZE=function(f){if(0<=f)return((f&65280)>>8)/255;f=Math.floor(-f%
274877906944/16777216);8191<f&&(f-=16384);return f/1024};d.OE=function(f){if(0<=f)return((f&16711680)>>16)/255;f=Math.floor(-f%16777216/1024);8191<f&&(f-=16384);return f/1024};d.l0=function(f){return 0===f&&0>1/f?0:0<=f?1:Math.floor(-f%1024)/1023};d.Fha=function(f,k){f=Math.floor(f);for(k=Math.floor(k);0!==k;){let g=k;k=f%k;f=g}return f};const c=[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]];d.rwa=function(f,k){f=Math.floor(f);k=Math.floor(k);if(f===k)return[1,1];for(var g of c){let l=
f/g[0]*g[1];if(1>Math.abs(k-l))return g.slice(0);l=f/g[1]*g[0];if(1>Math.abs(k-l))return[g[1],g[0]]}g=d.Fha(f,k);return[f/g,k/g]};d.aya=function(f,k,g,l,n,q,r,p){var u=Math.min(f,g),t=Math.max(n,r);if(Math.max(f,g)<Math.min(n,r)||u>t)return!1;u=Math.min(k,l);t=Math.max(q,p);if(Math.max(k,l)<Math.min(q,p)||u>t)return!1;u=n-f+r-g;t=q-k+p-l;f=g-f;k=l-k;n=r-n;q=p-q;p=Math.abs(k*n-q*f);return Math.abs(n*t-q*u)>p?!1:Math.abs(f*t-k*u)<=p};d.$m=function(f,k,g,l,n,q,r,p,u,t,w,x){const z=Math.max(u,w);if(q<
Math.min(u,w)||n>z)return!1;n=Math.max(t,x);if(p<Math.min(t,x)||r>n)return!1;r=u-f+w-g;p=t-k+x-l;f=g-f;k=l-k;u=w-u;t=x-t;x=Math.abs(k*u-t*f);return Math.abs(u*p-t*r)>x?!1:Math.abs(f*p-k*r)<=x};d.VD=function(f,k,g,l,n){const q=Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),u=Math.max(k,l),t=n.Nb,w=n.Ob,x=n.pc,z=n.qc,E=n.xc,G=n.yc,N=n.kc;n=n.lc;return d.$m(f,k,g,l,q,r,p,u,t,w,x,z)||d.$m(f,k,g,l,q,r,p,u,x,z,E,G)||d.$m(f,k,g,l,q,r,p,u,E,G,N,n)||d.$m(f,k,g,l,q,r,p,u,N,n,t,w)};d.$xa=function(f,k,g,l,n){const q=
Math.min(f,g),r=Math.max(f,g),p=Math.min(k,l),u=Math.max(k,l);let t=0;for(let w=n.length-4;t<=w;t+=2)if(d.$m(f,k,g,l,q,r,p,u,n[t],n[t+1],n[t+2],n[t+3]))return!0;return d.$m(f,k,g,l,q,r,p,u,n[t],n[t+1],n[0],n[1])};d.uia=function(f,k,g,l,n,q,r,p){g-=f;q=p-q;const u=g*q-(l-k)*(r-n);if(0===u)return 2;l=((k-l)*(r-f)+g*(p-k))/u;return 0<l&&1.000001>l?(q*(r-f)+(n-r)*(p-k))/u:2};d.jy=function(f,k,g,l,n,q,r,p,u){const t=(r-n)*u;u*=p-q;return d.uia(f,k,g,l,n-t,q-u,r+t,p+u)};d.Sha=function(f,k,g,l,n,q,r,p){n-=
g;q-=l;r-=g;p-=l;f-=g;g=k-l;k=n*n+q*q;l=n*r+q*p;n=n*f+q*g;q=r*r+p*p;r=r*f+p*g;p=1/(k*q-l*l);q=(q*n-l*r)*p;n=(k*r-l*n)*p;return 0<=q&&0<=n&&1>=q+n};d.Sia=function(f,k,g,l,n,q,r,p){n-=g;q-=l;r-=g;p-=l;f-=g;const u=k-l;k=n*n+q*q;l=n*r+q*p;g=r*r+p*p;n=f*n+u*q;q=f*r+u*p;r=k*g-l*l;p=(g*n-l*q)/r;n=(k*q-l*n)/r;return[1-p-n,p,n]};d.Ria=function(f,k,g,l,n,q,r,p,u){return[f*l+k*q+g*p,f*n+k*r+g*u]}}
{"use strict";const d=self.B;let b=null,a="";if("undefined"!==typeof document){b=document;const l=document.querySelector("base");if(a=l&&l.hasAttribute("href")?l.getAttribute("href"):"")a.startsWith("/")&&(a=a.substr(1)),a.endsWith("/")||(a+="/")}d.Jma=function(){return a};d.PE=function(){if(!b)return"";const l=b.location;return d.q1(l.origin+l.pathname)+a};d.q1=function(l){if(!l.length||l.endsWith("/")||l.endsWith("\\"))return l;const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===
n?"":l.substr(0,n+1)};d.Nma=function(l){if(!l.length)return l;if(l.endsWith("/")||l.endsWith("\\"))return"";const n=Math.max(l.lastIndexOf("/"),l.lastIndexOf("\\"));return-1===n?l:l.substr(n+1)};d.L0=function(l){let n=l.lastIndexOf(".");return 1>n?"":l.substr(n)};d.gz=function(l){let n=l.lastIndexOf(".");return 1>n?l:l.substr(0,n)};d.Y3=function(l){return l.replace(/\\/g,"/")};d.Fna=function(l,n){return n===(l?d.L0(l).slice(1):"")};d.uma=function(l,n){let q,r;d.HF(l)&&(q=d.gz(l.name));d.cj(l)&&(q=
d.gz(l));d.HF(n)&&(r=d.gz(n.name));d.cj(n)&&(r=d.gz(n));return q===r};d.Lpa=function(l){l=d.Y3(l);let n=/^\w:\//.exec(l);n?(n=n[0],l=l.slice(3),"/"!==l[0]&&(l="/"+l)):n="";l=l.replace(/\/{2,}/g,"/");1<l.length&&"/"===l.slice(-1)&&(l=l.slice(0,-1));var q=l.lastIndexOf("/")+1;let r="",p=l,u="";0<q&&(r=l.slice(0,q),p=l.slice(q));l=p;q=p.lastIndexOf(".");0<q&&(u=p.slice(q),l=p.slice(0,-u.length));return{dir:r,Ava:p,name:l,root:n,ext:u,mwa:n+r+p}};d.bR=function(l,n){return new Promise(q=>{self.setTimeout(q,
l,n)})};d.kya=function(l){try{l()}catch(n){d.du&&console.warn("Swallowed exception: ",n)}};d.mxa=function(){};d.Kh=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n||l.normalize().toLowerCase()===n.normalize().toLowerCase()};d.Vva=function(l,n){return"string"!==typeof l||"string"!==typeof n?!1:l===n?!0:l.normalize()===n.normalize()};d.Tia=function(l,n){var q=0;l[q++]=n[0];l[q++]=n[1];l[q++]=n[2];l[q++]=n[3];l[q++]=n[4];l[q++]=n[5];l[q++]=n[6];l[q++]=n[7];l[q++]=n[8];l[q++]=n[9];
l[q++]=n[10];l[q++]=n[11];l[q++]=n[12];l[q++]=n[13];l[q++]=n[14];l[q]=n[15]};d.ve=function(l,n){l.length=n};d.F=function(l){l&&0!==l.length&&d.ve(l,0)};d.gha=function(l){if(l){for(let n=0;n<l.length;n++)d.ve(l[n],0);d.ve(l,0)}};d.JD=function(l,n,q){n|=0;var r=l.length;if(!(n<=r))for(;r<n;++r)l.push(q)};d.NX=function(l){var n=4;const q=l.length;n<q?d.ve(l,n):n>q&&d.JD(l,n,"0")};d.xd=function(l,n){d.F(l);d.Vm(l,n)};d.Vm=function(l,n){if(1E4>n.length)l.push(...n);else for(let q=0,r=n.length;q<r;++q)l.push(n[q])};
d.Yga=function(l,n){n=Math.floor(n);if(!(0>n||n>=l.length)){for(var q=l.length-1;n<q;++n)l[n]=l[n+1];d.ve(l,q)}};d.mr=function(l,n){n=l.indexOf(n);0<=n&&l.splice(n,1)};d.zva=function(l,n){let q=l.length;if(n.length!==q)return!1;for(let r=0;r<q;++r)if(l[r]!==n[r])return!1;return!0};d.Xga=function(l,n){let q=[],r=0;for(let p=0,u=l.length;p<u;++p){let t=l[p];n(t)?q.push(t):(l[r]=t,++r)}d.ve(l,r);return q};d.Jh=function(l,n){const q=l.length;let r=0;for(let p=0,u=l.length;p<u;++p){let t=l[p];n.has(t)||
(l[r++]=t)}d.ve(l,r);return q-r};d.Nha=function(l,n){return l!==Math.floor(l)?!1:0<=l&&l<n.length};d.zya=function(l,n){if(!d.Nha(l,n))throw new RangeError("array index out of bounds");};d.ED=function(l){return l.slice()};d.lha=function(l,n){let q=[];for(let r of l)if(d.QO(r)){l=n(r);if(!l)throw Error("missing clone");if(l.constructor!==r.constructor)throw Error("object is not a clone");q.push(l)}else d.sp(r)?q.push(d.lha(r,n)):q.push(r);return q};d.Iva=function(l){let n=[];for(let q of l)n.push(q.slice());
return n};d.ixa=function(l,n){return new Set([...l,...n])};d.jxa=function(l,n){for(const q of n)l.add(q);return l};d.first=function(l){for(let n of l)return n;return null};d.xor=function(l,n){return!l!==!n};d.compare=function(l,n,q){switch(n){case 0:return l===q;case 1:return l!==q;case 2:return l<q;case 3:return l<=q;case 4:return l>q;case 5:return l>=q;default:return!1}};d.Awa=function(l){for(let n in l)if(l.hasOwnProperty(n))return!0;return!1};d.w5=function(l,n){return l.length?new Promise((q,
r)=>{const p=[];let u=0,t=!1;for(let w=0,x=l.length;w<x;++w)p.push(void 0),l[w].then(z=>{t||(p[w]=z,++u,u===l.length?q(p):n(u,l.length))}).catch(z=>{t=!0;r(z)})}):Promise.resolve([])};let e=[];d.sja=function(l){e.push(l)};d.Mma=function(){let l=0;for(let n of e){let q=n();l+=q}return Math.floor(l)};let c=1;const f=new Map,k=new MessageChannel;k.port2.onmessage=function(l){l=l.data;const n=f.get(l);f.delete(l);n&&n(performance.now())};d.kG=function(l){const n=c++;f.set(n,l);k.port1.postMessage(n);
return n};d.YY=function(l){f.delete(l)};d.q5=d.kG;d.t8=function(){return new Promise(l=>d.q5(l))};const g=new Set;d.Vqa=function(l){const n=self.requestAnimationFrame(async q=>{await d.t8();g.has(n)&&(g.delete(n),l(q))});g.add(n);return n};d.Pka=function(l){g.has(l)&&(self.cancelAnimationFrame(l),g.delete(l))}}
{"use strict";const d=self.B;d.DF=function(b){return/^(?:[a-z\-]+:)?\/\//.test(b)||"data:"===b.substr(0,5)||"blob:"===b.substr(0,5)};d.QF=function(b){return!d.DF(b)};d.Z7=function(b){if(!b.ok)throw Error(`fetch '${b.url}' response returned ${b.status} ${b.statusText}`);};d.Uy=function(b){return fetch(b,void 0).then(a=>{d.Z7(a);return a})};d.Au=function(b){return d.Uy(b).then(a=>a.text())};d.DN=function(b){return d.Uy(b).then(a=>a.json())};d.Bl=function(b){return d.Uy(b).then(a=>a.blob())};d.zu=function(b){return d.Uy(b).then(a=>
a.arrayBuffer())};d.d0=function(b){return new Promise((a,e)=>{const c=new Image;c.onload=()=>a(c);c.onerror=f=>e(f);c.src=b})};d.OY=function(b){return"function"===typeof b.arrayBuffer?b.arrayBuffer():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsArrayBuffer(b)})};d.XM=function(b){return"function"===typeof b.text?b.text():new Promise((a,e)=>{const c=new FileReader;c.onload=()=>a(c.result);c.onerror=()=>e(c.error);c.readAsText(b)})};d.Ika=function(b){return d.XM(b).then(a=>
JSON.parse(a))};d.WM=async function(b,a){b=URL.createObjectURL(b);try{const e=await d.d0(b);URL.revokeObjectURL(b);b="";a&&"function"===typeof e.decode&&await e.decode();return e}finally{b&&URL.revokeObjectURL(b)}};d.Gg=function(b,a){if("undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("canvas");e.width=b;e.height=a;return e}return new OffscreenCanvas(b,a)};d.uu=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.da(e,0,1);return b.toBlob?
new Promise(c=>b.toBlob(c,a,e)):b.convertToBlob?b.convertToBlob({type:a,quality:e}):d.xl(()=>d.fN(b,a,e))};d.fN=function(b,a,e){"number"!==typeof e&&(e=1);a=a||"image/png";e=d.da(e,0,1);return d.BZ(b.toDataURL(a,e))};d.BZ=function(b){b=d.l5(b);return d.NY(b.data,b.eia)};d.l5=function(b){if("data:"!==b.substr(0,5))throw new URIError("expected data: uri");var a=b.indexOf(",");if(0>a)throw new URIError("expected comma in data: uri");var e=b.substring(a+1);a=b.substring(5,a).split(";");b=a[0]||"";let c=
a[2];e="base64"===a[1]||"base64"===c?atob(e):decodeURIComponent(e);return{eia:b,data:e}};d.NY=function(b,a){var e=b.length;let c=e>>2,f=new Uint8Array(e),k=new Uint32Array(f.buffer,0,c),g,l;for(l=g=0;g<c;++g)k[g]=b.charCodeAt(l++)|b.charCodeAt(l++)<<8|b.charCodeAt(l++)<<16|b.charCodeAt(l++)<<24;for(e&=3;e--;)f[l]=b.charCodeAt(l),++l;return a?new Blob([f],{type:a}):new Blob([f])};d.vN=function(b){const a=d.Gg(b.width,b.height);a.getContext("2d").drawImage(b,0,0);return d.uu(a,void 0,void 0)};d.fna=
function(b,a,e){const c=d.Gg(b.width,b.height);c.getContext("2d").putImageData(b,0,0);return d.fN(c,a,e)};d.p2=function(b){if(d.Vb.ImageBitmapOptions)return createImageBitmap(b,{premultiplyAlpha:"none"}).then(a=>d.vN(a));if(d.Vb.ImageBitmap)return createImageBitmap(b).then(a=>d.vN(a));{const a=d.Gg(b.width,b.height);a.getContext("2d").putImageData(b,0,0);return d.uu(a,void 0,void 0)}};d.rZ=function(b,a){b.clear();for(const e of a)b.add(e)};d.Noa=function(b){const a=Object.create(null);for(const [e,
c]of b.entries())a[e]=c;return a};d.rpa=function(b,a){a.clear();for(const [e,c]of Object.entries(b))a.set(e,c)};d.TG=function e(a){if("object"===typeof a&&null!==a){if(a instanceof Set)return{_c3type_:"set",data:[...a].map(c=>e(c))};if(a instanceof Map)return{_c3type_:"map",data:[...a].map(c=>[c[0],e(c[1])])};{const c=Object.create(null);for(const [f,k]of Object.entries(a))c[f]=e(k);return c}}return a};d.LE=function c(e){if("object"===typeof e&null!==e){if("set"===e._c3type_)return new Set(e.data.map(f=>
c(f)));if("map"===e._c3type_)return new Map(e.data.map(f=>[f[0],c(f[1])]));{const f=Object.create(null);for(const [k,g]of Object.entries(e))f[k]=c(g);return f}}return e};d.RY=function(e){let c="",f=!1;for(const k of e)"-"===k?f=!0:f?(c+=k.toUpperCase(),f=!1):c+=k;return c};d.qn=function(e){return"object"===typeof e&&"function"===typeof e.next};d.Q3=function(e){const c=[];for(let f=0;f<e;++f)c.push(0);return c}}
{"use strict";const d=self.B,b=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?/i,a=/([0-9.]+),([0-9.]+)%?,([0-9.]+)%?,([0-9.])/i;function e(c,f,k){0>k&&(k+=1);1<k&&--k;return k<1/6?c+6*(f-c)*k:.5>k?f:k<2/3?c+(f-c)*(2/3-k)*6:c}d.ib=class{constructor(c,f,k,g){this.Wa=this.ab=this.Ia=this.cb=0;c instanceof d.ib?this.set(c):this.Xo(c||0,f||0,k||0,g||0)}YD(c,f,k){this.cb=+c;this.Ia=+f;this.ab=+k;this.da()}Xo(c,f,k,g){this.cb=+c;this.Ia=+f;this.ab=+k;this.Wa=+g;this.da()}set(c){this.cb=c.cb;this.Ia=c.Ia;this.ab=c.ab;
this.Wa=c.Wa;return this}xa(c){return this.set(c)}add(c){this.cb+=c.cb;this.Ia+=c.Ia;this.ab+=c.ab;this.Wa+=c.Wa;this.da()}$W(c,f,k){this.cb+=+c;this.Ia+=+f;this.ab+=+k;this.Wa+=0;this.da()}Wm(c){this.cb=c.cb;this.Ia=c.Ia;this.ab=c.ab}rr(c){this.cb=d.da(+c,0,1)}ju(c){this.Ia=d.da(+c,0,1)}qr(c){this.ab=d.da(+c,0,1)}Lh(c){this.Wa=d.da(+c,0,1)}clone(){return d.C(d.ib,this.cb,this.Ia,this.ab,this.Wa)}toArray(){return[this.cb,this.Ia,this.ab,this.Wa]}Mh(c,f){c[f++]=this.cb;c[f++]=this.Ia;c[f++]=this.ab;
c[f]=this.Wa}Zc(c){return this.cb===c.cb&&this.Ia===c.Ia&&this.ab===c.ab&&this.Wa===c.Wa}Qo(c){return this.cb===c.cb&&this.Ia===c.Ia&&this.ab===c.ab}Yx(c,f,k,g){return this.cb===c&&this.Ia===f&&this.ab===k&&this.Wa===g}multiply(c){this.cb*=c.cb;this.Ia*=c.Ia;this.ab*=c.ab;this.Wa*=c.Wa}TD(){this.cb*=this.Wa;this.Ia*=this.Wa;this.ab*=this.Wa}da(){this.cb=d.da(this.cb,0,1);this.Ia=d.da(this.Ia,0,1);this.ab=d.da(this.ab,0,1);this.Wa=d.da(this.Wa,0,1);return this}oy(c){this.cb=d.kF(c);this.Ia=d.ZE(c);
this.ab=d.OE(c);this.Wa=d.l0(c)}Bha(){return`rgb(${100*(d.nn(void 0)?NaN:this.cb)}%, ${100*(d.nn(void 0)?NaN:this.Ia)}%, ${100*(d.nn(void 0)?NaN:this.ab)}%)`}oia(c){if("string"===typeof c){c=c.trim();"#"===c.charAt(0)&&(c=c.substr(1));if(3===c.length){var f=parseInt(c[0],16)/15;var k=parseInt(c[1],16)/15;c=parseInt(c[2],16)/15}else if(6===c.length)f=parseInt(c.substr(0,2),16)/255,k=parseInt(c.substr(2,2),16)/255,c=parseInt(c.substr(4,2),16)/255;else return;isFinite(f)&&this.rr(f);isFinite(k)&&this.ju(k);
isFinite(c)&&this.qr(c);this.Lh(1)}}RD(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255;f=parseInt(f[2].trim(),10)/255;isFinite(c)&&this.rr(c);isFinite(k)&&this.ju(k);isFinite(f)&&this.qr(f);this.Lh(1)}}}FX(c){if("string"===typeof c){c=c.replace(/^rgb\(|\)|%/,"");var f=c.split(",");if(!(3>f.length)){c=parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100;f=parseInt(f[2].trim(),
10)/100;isFinite(c)&&this.rr(c);isFinite(k)&&this.ju(k);isFinite(f)&&this.qr(f);this.Lh(1)}}}HX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=parseInt(f[0].trim(),10)/255;var k=parseInt(f[1].trim(),10)/255,g=parseInt(f[2].trim(),10)/255;f=parseFloat(f[3].trim());isFinite(c)&&this.rr(c);isFinite(k)&&this.ju(k);isFinite(g)&&this.qr(g);isFinite(f)&&this.Lh(f)}}}GX(c){if("string"===typeof c){c=c.replace(/^rgba\(|\)|%/,"");var f=c.split(",");if(!(4>f.length)){c=
parseInt(f[0].trim(),10)/100;var k=parseInt(f[1].trim(),10)/100,g=parseInt(f[2].trim(),10)/100;f=parseFloat(f[3].trim());isFinite(c)&&this.rr(c);isFinite(k)&&this.ju(k);isFinite(g)&&this.qr(g);isFinite(f)&&this.Lh(f)}}}IX(c){if("string"===typeof c){c=c.replace(/\s+/,"");if(c.includes(",")){if(c.startsWith("rgb(")){c.includes("%")?this.FX(c):this.RD(c);return}if(c.startsWith("rgba(")){c.includes("%")?this.GX(c):this.HX(c);return}if(c.startsWith("hsl(")||c.startsWith("hsla(")){this.nia(c);return}{const f=
c.split(",");if(c.includes("%")){if(3===f.length){this.FX(c);return}4===f.length&&this.GX(c)}else{if(3===f.length){this.RD(c);return}4===f.length&&this.HX(c)}return}}this.oia(c)}}toJSON(){return[this.cb,this.Ia,this.ab,this.Wa]}PX(c,f,k,g){c%=360;f=d.da(f,0,100);k=d.da(k,0,100);g=d.da(g,0,1);c/=360;f/=100;k/=100;if(0===f)k=f=c=k;else{const l=.5>k?k*(1+f):k+f-k*f,n=2*k-l;k=e(n,l,c+1/3);f=e(n,l,c);c=e(n,l,c-1/3)}this.rr(k);this.ju(f);this.qr(c);this.Lh(g)}nia(c){var f=c.replace(/ |hsl|hsla|\(|\)|;/gi,
"");c=b.exec(f);f=a.exec(f);c&&4===c.length?this.PX(+c[1],+c[2],+c[3],1):f&&5===f.length&&this.PX(+c[1],+c[2],+c[3],+c[4])}Wo(c){!Array.isArray(c)||3>c.length||(this.cb=c[0],this.Ia=c[1],this.ab=c[2],this.Wa=4<=c.length?c[3]:1)}set r(c){this.rr(c)}get r(){return this.cb}set $ga(c){this.qr(c)}get $ga(){return this.ab}set Mo(c){this.Lh(c)}get Mo(){return this.Wa}static FE(c,f){return d.da(Math.max(c,f)-Math.min(c,f),0,1)}};d.ib.dva=Object.freeze(d.C(d.ib,1,1,1,1));d.ib.Hka=Object.freeze(d.C(d.ib,0,
0,0,1));d.ib.xua=Object.freeze(d.C(d.ib,0,0,0,0))}
{"use strict";const d=self.B;d.wv=class{constructor(b,a){this.T=this.Z=0;b instanceof d.wv?this.xa(b):this.set(b||0,a||0)}set(b,a){this.Z=+b;this.T=+a}xa(b){this.Z=b.Z;this.T=b.T}Zc(b){return this.Z===b.Z&&this.T===b.T}toArray(){return[this.Z,this.T]}Mh(b,a){b[a++]=this.Z;b[a]=this.T}offset(b,a){this.Z+=+b;this.T+=+a}scale(b,a){this.Z*=b;this.T*=a}sl(b,a){this.Z/=b;this.T/=a}round(){this.Z=Math.round(this.Z);this.T=Math.round(this.T)}floor(){this.Z=Math.floor(this.Z);this.T=Math.floor(this.T)}ceil(){this.Z=
Math.ceil(this.Z);this.T=Math.ceil(this.T)}angle(){return d.Ih(0,0,this.Z,this.T)}Yha(){return this.Z*this.Z+this.T*this.T}length(){return Math.sqrt(this.Yha())}yia(b,a){const e=this.Z*a-this.T*b;this.T=this.T*a+this.Z*b;this.Z=e}rotate(b){0!==b&&this.yia(Math.sin(b),Math.cos(b))}move(b,a){0!==a&&(this.Z+=Math.cos(b)*a,this.T+=Math.sin(b)*a)}normalize(){const b=this.length();0!==b&&1!==b&&(this.Z/=b,this.T/=b)}da(b,a){this.Z=d.da(this.Z,b,a);this.T=d.da(this.T,b,a)}}}
{"use strict";const d=self.B;d.Rect=class{constructor(b,a,e,c){this.W=this.Y=this.O=this.R=0;b instanceof d.Rect?this.xa(b):this.set(b||0,a||0,e||0,c||0)}set(b,a,e,c){this.R=+b;this.O=+a;this.Y=+e;this.W=+c}Pi(b,a,e,c){b=+b;a=+a;this.R=b;this.O=a;this.Y=b+ +e;this.W=a+ +c}xa(b){this.R=+b.R;this.O=+b.O;this.Y=+b.Y;this.W=+b.W}clone(){return new d.Rect(this.R,this.O,this.Y,this.W)}Zc(b){return this.R===b.R&&this.O===b.O&&this.Y===b.Y&&this.W===b.W}Eia(b){this.Y=+b}toArray(){return[this.R,this.O,this.Y,
this.W]}Mia(){new DOMRect(this.R,this.O,this.width(),this.height())}Mh(b,a){b[a++]=this.R;b[a++]=this.O;b[a++]=this.Y;b[a]=this.W}Via(b,a){b[a++]=this.R;b[a++]=this.O;b[a++]=this.Y;b[a++]=this.O;b[a++]=this.Y;b[a++]=this.W;b[a++]=this.R;b[a]=this.W}width(){return this.Y-this.R}height(){return this.W-this.O}Mi(){return(this.R+this.Y)/2}Ni(){return(this.O+this.W)/2}offset(b,a){b=+b;a=+a;this.R+=b;this.O+=a;this.Y+=b;this.W+=a}offsetLeft(b){this.R+=+b}offsetTop(b){this.O+=+b}kia(b){this.Y+=+b}jia(b){this.W+=
+b}MD(b,a){b=+b;a=+a;this.R-=b;this.O-=a;this.Y+=b;this.W+=a}multiply(b,a){this.R*=b;this.O*=a;this.Y*=b;this.W*=a}sl(b,a){this.R/=b;this.O/=a;this.Y/=b;this.W/=a}Kia(){const b=this.R;this.R=this.Y;this.Y=b}tr(){const b=this.O;this.O=this.W;this.W=b}IM(b){const a=this.O;this.O=+b-this.W;this.W=+b-a}round(){this.R=Math.round(this.R);this.O=Math.round(this.O);this.Y=Math.round(this.Y);this.W=Math.round(this.W)}zia(){this.R=Math.floor(this.R);this.O=Math.floor(this.O);this.Y=Math.ceil(this.Y);this.W=
Math.ceil(this.W)}floor(){this.R=Math.floor(this.R);this.O=Math.floor(this.O);this.Y=Math.floor(this.Y);this.W=Math.floor(this.W)}ceil(){this.R=Math.ceil(this.R);this.O=Math.ceil(this.O);this.Y=Math.ceil(this.Y);this.W=Math.ceil(this.W)}da(b,a,e,c){this.R<b&&(this.R=+b);this.O<a&&(this.O=+a);this.Y>e&&(this.Y=+e);this.W>c&&(this.W=+c)}iX(){0>this.R&&(this.R=0);1<this.O&&(this.O=1);1<this.Y&&(this.Y=1);0>this.W&&(this.W=0)}normalize(){this.R>this.Y&&this.Kia();this.O>this.W&&this.tr()}ND(b){return!(b.Y<
this.R||b.W<this.O||b.R>this.Y||b.O>this.W)}Mha(b,a,e){return!(b.Y+a<this.R||b.W+e<this.O||b.R+a>this.Y||b.O+e>this.W)}Xf(b,a){return b>=this.R&&b<=this.Y&&a>=this.O&&a<=this.W}Zha(b){this.R=d.wd(b.R,b.Y,this.R);this.O=d.wd(b.O,b.W,this.O);this.Y=d.wd(b.R,b.Y,this.Y);this.W=d.wd(b.O,b.W,this.W)}}}
{"use strict";const d=self.B;d.Bd=class{constructor(b,a,e,c,f,k,g,l){this.lc=this.kc=this.yc=this.xc=this.qc=this.pc=this.Ob=this.Nb=0;b instanceof d.Bd?this.xa(b):this.set(b||0,a||0,e||0,c||0,f||0,k||0,g||0,l||0)}set(b,a,e,c,f,k,g,l){this.Nb=+b;this.Ob=+a;this.pc=+e;this.qc=+c;this.xc=+f;this.yc=+k;this.kc=+g;this.lc=+l}QX(b,a,e,c){this.set(b,a,e,a,e,c,b,c)}xa(b){this.Nb=b.Nb;this.Ob=b.Ob;this.pc=b.pc;this.qc=b.qc;this.xc=b.xc;this.yc=b.yc;this.kc=b.kc;this.lc=b.lc}Zc(b){return this.Nb===b.Nb&&this.Ob===
b.Ob&&this.pc===b.pc&&this.qc===b.qc&&this.xc===b.xc&&this.yc===b.yc&&this.kc===b.kc&&this.lc===b.lc}toArray(){return[this.Nb,this.Ob,this.pc,this.qc,this.xc,this.yc,this.kc,this.lc]}Mh(b,a){b[a++]=this.Nb;b[a++]=this.Ob;b[a++]=this.pc;b[a++]=this.qc;b[a++]=this.xc;b[a++]=this.yc;b[a++]=this.kc;b[a]=this.lc}Wia(b,a,e){b[a++]=this.Nb;b[a++]=this.Ob;b[a++]=e;b[a++]=this.pc;b[a++]=this.qc;b[a++]=e;b[a++]=this.xc;b[a++]=this.yc;b[a++]=e;b[a++]=this.kc;b[a++]=this.lc;b[a]=e}offset(b,a){b=+b;a=+a;this.Nb+=
b;this.Ob+=a;this.pc+=b;this.qc+=a;this.xc+=b;this.yc+=a;this.kc+=b;this.lc+=a}round(){this.Nb=Math.round(this.Nb);this.Ob=Math.round(this.Ob);this.pc=Math.round(this.pc);this.qc=Math.round(this.qc);this.xc=Math.round(this.xc);this.yc=Math.round(this.yc);this.kc=Math.round(this.kc);this.lc=Math.round(this.lc)}floor(){this.Nb=Math.floor(this.Nb);this.Ob=Math.floor(this.Ob);this.pc=Math.floor(this.pc);this.qc=Math.floor(this.qc);this.xc=Math.floor(this.xc);this.yc=Math.floor(this.yc);this.kc=Math.floor(this.kc);
this.lc=Math.floor(this.lc)}ceil(){this.Nb=Math.ceil(this.Nb);this.Ob=Math.ceil(this.Ob);this.pc=Math.ceil(this.pc);this.qc=Math.ceil(this.qc);this.xc=Math.ceil(this.xc);this.yc=Math.ceil(this.yc);this.kc=Math.ceil(this.kc);this.lc=Math.ceil(this.lc)}bk(b){this.Nb=b.R;this.Ob=b.O;this.pc=b.Y;this.qc=b.O;this.xc=b.Y;this.yc=b.W;this.kc=b.R;this.lc=b.W}Dia(b,a){0===a?this.bk(b):this.WD(b,Math.sin(a),Math.cos(a))}WD(b,a,e){const c=b.R*a,f=b.O*a,k=b.Y*a;a*=b.W;const g=b.R*e,l=b.O*e,n=b.Y*e;b=b.W*e;this.Nb=
g-f;this.Ob=l+c;this.pc=n-f;this.qc=l+k;this.xc=n-a;this.yc=b+k;this.kc=g-a;this.lc=b+c}aM(b){b.set(Math.min(this.Nb,this.pc,this.xc,this.kc),Math.min(this.Ob,this.qc,this.yc,this.lc),Math.max(this.Nb,this.pc,this.xc,this.kc),Math.max(this.Ob,this.qc,this.yc,this.lc))}Xf(b,a){var e=this.pc-this.Nb,c=this.qc-this.Ob;const f=this.xc-this.Nb,k=this.yc-this.Ob;b-=this.Nb;a-=this.Ob;var g=e*e+c*c;let l=e*f+c*k;c=e*b+c*a;const n=f*f+k*k,q=f*b+k*a;let r=1/(g*n-l*l);e=(n*c-l*q)*r;g=(g*q-l*c)*r;if(0<=e&&0<
g&&1>e+g)return!0;e=this.kc-this.Nb;c=this.lc-this.Ob;g=e*e+c*c;l=e*f+c*k;c=e*b+c*a;r=1/(g*n-l*l);e=(n*c-l*q)*r;g=(g*q-l*c)*r;return 0<=e&&0<g&&1>e+g}Mi(){return(this.Nb+this.pc+this.xc+this.kc)/4}Ni(){return(this.Ob+this.qc+this.yc+this.lc)/4}dM(b){var a=b.Mi(),e=b.Ni();if(this.Xf(a,e))return!0;a=this.Mi();e=this.Ni();if(b.Xf(a,e))return!0;a=this.Nb;e=this.Ob;const c=this.pc,f=this.qc,k=this.xc,g=this.yc,l=this.kc,n=this.lc;return d.VD(a,e,c,f,b)||d.VD(c,f,k,g,b)||d.VD(k,g,l,n,b)||d.VD(l,n,a,e,b)}xia(){const b=
this.Nb,a=this.Ob;this.Nb=this.pc;this.Ob=this.qc;this.pc=this.xc;this.qc=this.yc;this.xc=this.kc;this.yc=this.lc;this.kc=b;this.lc=a}}}
{"use strict";const d=self.B,b=[0,0,1,0,1,1,0,1],a=d.C(d.Bd);d.$o=class extends d.la{constructor(e,c=!0){super();e||(e=b);this.Hd=Float64Array.from(e);this.jB=new d.Rect;this.xq=!0;this.rh=c}A(){}uM(){return this.Hd.length/2}XD(e){this.Hd.length===e.length?this.Hd.set(e):this.Hd=Float64Array.from(e);this.xq=!0}Cia(){this.XD(b)}xa(e){this.XD(e.Hd)}GM(){this.xq=!0}Kga(){if(this.xq){var e=this.Hd,c=e[0],f=e[1],k=c,g=f;for(let l=0,n=e.length;l<n;l+=2){const q=e[l],r=e[l+1];q<c&&(c=q);q>k&&(k=q);r<f&&
(f=r);r>g&&(g=r)}this.jB.set(c,f,k,g);this.xq=!1}}bk(e){let c=this.Hd;8!==c.length&&(this.Hd=c=new Float64Array(8));c[0]=e.R-NaN;c[1]=e.O-NaN;c[2]=e.Y-NaN;c[3]=e.O-NaN;c[4]=e.Y-NaN;c[5]=e.W-NaN;c[6]=e.R-NaN;c[7]=e.W-NaN;this.jB.xa(e);this.jB.offset(NaN,NaN);this.xq=!1}HM(e,c,f){a.xa(e);a.offset(c,f);this.XD(a.toArray());this.xq=!0}transform(e,c,f){let k=0,g=1;0!==f&&(k=Math.sin(f),g=Math.cos(f));this.PM(e,c,k,g)}PM(e,c,f,k){const g=this.Hd;for(let l=0,n=g.length;l<n;l+=2){const q=l+1,r=g[l]*e,p=g[q]*
c;g[l]=r*k-p*f;g[q]=p*k+r*f}this.xq=!0}offset(e,c){const f=this.Hd;for(let k=0,g=f.length;k<g;k+=2)f[k]+=e,f[k+1]+=c}Xf(e,c){const f=this.Hd;if(e===f[0]&&c===f[1])return!0;this.Kga();var k=this.jB;const g=k.R-110,l=k.O-101,n=k.Y+131;k=k.W+120;let q,r,p,u,t,w,x,z;g<e?(q=g,p=e):(q=e,p=g);l<c?(r=l,u=c):(r=c,u=l);n<e?(t=n,x=e):(t=e,x=n);k<c?(w=k,z=c):(w=c,z=k);let E=0,G=0;for(let C=0,H=f.length;C<H;C+=2){var N=(C+2)%H;const I=f[C],K=f[C+1],Q=f[N];N=f[N+1];d.$m(g,l,e,c,q,p,r,u,I,K,Q,N)&&++E;d.$m(n,k,e,
c,t,x,w,z,I,K,Q,N)&&++G}return 1===E%2||1===G%2}ay(e,c,f){const k=e.Hd,g=this.Hd;if(this.Xf(k[0]+c,k[1]+f)||e.Xf(g[0]-c,g[1]-f))return!0;for(let n=0,q=g.length;n<q;n+=2){var l=(n+2)%q;e=g[n];const r=g[n+1],p=g[l];l=g[l+1];let u,t,w,x;e<p?(u=e,w=p):(u=p,w=e);r<l?(t=r,x=l):(t=l,x=r);for(let z=0,E=k.length;z<E;z+=2){const G=(z+2)%E;if(d.$m(e,r,p,l,u,w,t,x,k[z]+c,k[z+1]+f,k[G]+c,k[G+1]+f))return!0}}return!1}uk(){return this.rh}}}
{"use strict";const d=self.B;d.$u=class extends d.la{constructor(b){super();this.Vk=new Map;if(b)for(const [a,e,c]of b)this.Set(a,e,c)}A(){this.Lc();this.Vk=null}Lc(){const b=this.Vk;for(const a of b.values())a.clear();b.clear()}Set(b,a,e){const c=this.Vk;let f=c.get(b);f||(f=new Map,c.set(b,f));f.set(a,e)}ba(b,a){return(b=this.Vk.get(b))?b.get(a):b}Bz(b){return(b=this.Vk.get(b))?b.has(void 0):!1}bp(b,a){const e=this.Vk,c=e.get(b);c&&c.delete(a)&&0===c.size&&e.delete(b)}uN(b){const a=this.Vk,e=a.get(b);
e&&(e.clear(),a.delete(b));for(const [c,f]of a.entries())f.delete(b)&&0===f.size&&a.delete(c)}ln(){let b=0;for(const a of this.Vk.values())b+=a.size;return b}*values(){for(const b of this.Vk.values())yield*b.values()}*entries(){for(const [b,a]of this.Vk.entries())for(const [e,c]of a.entries())yield[b,e,c]}}}
{"use strict";const d=self.B;d.pE=class extends d.la{constructor(){super();this.xo=new Set;this.fB=[];this.cx=!1}A(){this.Lc()}Lc(){this.xo.clear();d.F(this.fB);this.cx=!1}sc(b){this.xo.has(b)||(this.xo.add(b),this.cx||this.fB.push(b))}Bz(b){return this.xo.has(b)}bp(b){this.xo.delete(b)&&(this.cx=!0)}ln(){return this.xo.size}vp(){return 0===this.xo.size}NE(){this.cx&&(this.Kca(),this.cx=!1);return this.fB}Kca(){const b=this.fB;d.F(b);for(const a of this.xo)b.push(a)}}}
{"use strict";const d=new Map,b=new Map,a=new Map,e=new Map,c=new Map,f=new Map;f.set("linear","noease");f.set("default","noease");self.xu=class k{constructor(){}static l3(g){this.dH();return[...b.keys()].includes(g)}static qaa(g){const l=f.get(g);if(l)return d.get(l);if(k.l3(g))return d.get(g);if(c.has(g))return c.get(g)}static kp(g){this.dH();const l=k.qaa(g);return l?l:e.get(g)}static dH(){0===d.size&&(this.Eb("default",()=>{}),this.Eb("noease",this.X3),this.Eb("easeinsine",this.I_),this.Eb("easeoutsine",
this.R_),this.Eb("easeinoutsine",this.E_),this.Eb("easeinelastic",this.t_),this.Eb("easeoutelastic",this.M_),this.Eb("easeinoutelastic",this.z_),this.Eb("easeinback",this.q_),this.Eb("easeoutback",this.J_),this.Eb("easeinoutback",this.v_),this.Eb("easeinbounce",this.wN),this.Eb("easeoutbounce",this.HE),this.Eb("easeinoutbounce",this.w_),this.Eb("easeincubic",this.s_),this.Eb("easeoutcubic",this.L_),this.Eb("easeinoutcubic",this.y_),this.Eb("easeinquad",this.F_),this.Eb("easeoutquad",this.O_),this.Eb("easeinoutquad",
this.B_),this.Eb("easeinquart",this.G_),this.Eb("easeoutquart",this.P_),this.Eb("easeinoutquart",this.C_),this.Eb("easeinquint",this.H_),this.Eb("easeoutquint",this.Q_),this.Eb("easeinoutquint",this.D_),this.Eb("easeincirc",this.r_),this.Eb("easeoutcirc",this.K_),this.Eb("easeinoutcirc",this.x_),this.Eb("easeinexpo",this.u_),this.Eb("easeoutexpo",this.N_),this.Eb("easeinoutexpo",this.A_),this.mR("cubicbezier",this.p_),this.mR("spline",this.S_))}static Eb(g,l){k.WG(g,l,"predefined")}static mR(g,l){k.WG(g,
l,"private")}static kY(g,l){this.dH();k.WG(g,l,"custom",void 0)}static WG(g,l,n,q){switch(n){case "predefined":d.set(g,l);b.set(g,l);break;case "custom":q?(a.has(q)||a.set(q,new Map),a.get(q).set(g,l)):e.set(g,l);break;case "private":d.set(g,l);c.set(g,l);break;default:throw Error("unexpected ease mode");}}static X3(g,l,n,q){return n*g/q+l}static F_(g,l,n,q){return n*(g/=q)*g+l}static O_(g,l,n,q){return-n*(g/=q)*(g-2)+l}static B_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g+l:-n/2*(--g*(g-2)-1)+l}static s_(g,
l,n,q){return n*(g/=q)*g*g+l}static L_(g,l,n,q){return n*((g=g/q-1)*g*g+1)+l}static y_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g+l:n/2*((g-=2)*g*g+2)+l}static G_(g,l,n,q){return n*(g/=q)*g*g*g+l}static P_(g,l,n,q){return-n*((g=g/q-1)*g*g*g-1)+l}static C_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g+l:-n/2*((g-=2)*g*g*g-2)+l}static H_(g,l,n,q){return n*(g/=q)*g*g*g*g+l}static Q_(g,l,n,q){return n*((g=g/q-1)*g*g*g*g+1)+l}static D_(g,l,n,q){return 1>(g/=q/2)?n/2*g*g*g*g*g+l:n/2*((g-=2)*g*g*g*g+2)+l}static I_(g,
l,n,q){return-n*Math.cos(g/q*(Math.PI/2))+n+l}static R_(g,l,n,q){return n*Math.sin(g/q*(Math.PI/2))+l}static E_(g,l,n,q){return-n/2*(Math.cos(Math.PI*g/q)-1)+l}static u_(g,l,n,q){return 0===g?l:n*Math.pow(2,10*(g/q-1))+l}static N_(g,l,n,q){return g===q?l+n:n*(-Math.pow(2,-10*g/q)+1)+l}static A_(g,l,n,q){return 0===g?l:g===q?l+n:1>(g/=q/2)?n/2*Math.pow(2,10*(g-1))+l:n/2*(-Math.pow(2,-10*--g)+2)+l}static r_(g,l,n,q){return-n*(Math.sqrt(1-(g/=q)*g)-1)+l}static K_(g,l,n,q){return n*Math.sqrt(1-(g=g/q-
1)*g)+l}static x_(g,l,n,q){return 1>(g/=q/2)?-n/2*(Math.sqrt(1-g*g)-1)+l:n/2*(Math.sqrt(1-(g-=2)*g)+1)+l}static t_(g,l,n,q){let r=0,p=n;if(0===g)return l;if(1===(g/=q))return l+n;r||(r=.3*q);p<Math.abs(n)?(p=n,n=r/4):n=r/(2*Math.PI)*Math.asin(n/p);return-(p*Math.pow(2,10*--g)*Math.sin(2*(g*q-n)*Math.PI/r))+l}static M_(g,l,n,q){let r,p=0,u=n;if(0===g)return l;if(1===(g/=q))return l+n;p||(p=.3*q);u<Math.abs(n)?(u=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/u);return u*Math.pow(2,-10*g)*Math.sin(2*(g*q-r)*
Math.PI/p)+n+l}static z_(g,l,n,q){let r,p=0,u=n;if(0===g)return l;if(2===(g/=q/2))return l+n;p||(p=.3*q*1.5);u<Math.abs(n)?(u=n,r=p/4):r=p/(2*Math.PI)*Math.asin(n/u);return 1>g?-.5*u*Math.pow(2,10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)+l:u*Math.pow(2,-10*--g)*Math.sin(2*(g*q-r)*Math.PI/p)*.5+n+l}static q_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*(g/=q)*g*((r+1)*g-r)+l}static J_(g,l,n,q,r){void 0===r&&(r=1.70158);return n*((g=g/q-1)*g*((r+1)*g+r)+1)+l}static v_(g,l,n,q,r){void 0===r&&(r=1.70158);return 1>
(g/=q/2)?n/2*g*g*(((r*=1.525)+1)*g-r)+l:n/2*((g-=2)*g*(((r*=1.525)+1)*g+r)+2)+l}static wN(g,l,n,q){return n-k.HE(q-g,0,n,q)+l}static HE(g,l,n,q){return(g/=q)<1/2.75?7.5625*n*g*g+l:g<2/2.75?n*(7.5625*(g-=1.5/2.75)*g+.75)+l:g<2.5/2.75?n*(7.5625*(g-=2.25/2.75)*g+.9375)+l:n*(7.5625*(g-=2.625/2.75)*g+.984375)+l}static w_(g,l,n,q){return g<q/2?.5*k.wN(2*g,0,n,q)+l:.5*k.HE(2*g-q,0,n,q)+.5*n+l}static p_(g,l,n,q,r){return l+3*g*(n-l)+3*g**2*(l+q-2*n)+g**3*(r-l+3*n-3*q)}static S_(g,l,n,q,r,p,u,t,w,x){if(q===
r&&p===u)return g;if(1==g)g=1;else{for(var z=0,E=1,G=x[E];10!=E&&G<=g;)E++,G=x[E],z+=.1;E--;G=x[E];x=z+(g-G)/(x[E+1]-G)*.1;t=t-3*p+3*q-l;p=3*p-6*q+3*l;l=3*(q-l);q=3*t*x*x+2*p*x+l;if(0!==q)if(.02<=q)for(z=0;4>z;++z)x-=(((t*x+p)*x+l)*x-g)/(3*t*x*x+2*p*x+l);else{q=z;z+=.1;E=0;let N;do x=q+(z-q)/2,G=((t*x+p)*x+l)*x-g,0<G?z=x:q=x,G=1E-7<Math.abs(G),N=10>++E;while(G&&N)}g=x}return(((w-3*u+3*r-n)*g+(3*u-6*r+3*n))*g+3*(r-n))*g}static s0(g,l,n,q){const r=[];q=q-3*n+3*l-g;n=3*n-6*l+3*g;g=3*(l-g);for(let p=
0;11>p;++p)l=.1*p,r.push(((q*l+n)*l+g)*l);return r}}}{"use strict";const d=self.B;d.yqa=class{constructor(){this.sV=[]}A(){this.Lc();this.sV=null}Lc(){d.gha(this.sV)}}}"use strict";
self.B.Event=class{constructor(d,b){this.type=d;this.cancelable=!!b;this.Oha=this.yM=this.defaultPrevented=!1}preventDefault(){if(!this.cancelable)throw Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw Error(`event '${this.type}' cannot be stopped`);if(this.Oha)throw Error(`cannot stop async event '${this.type}' propagation`);this.yM=!0}};
{"use strict";const d=self.B;d.Event.K1=class extends d.la{constructor(b){super();this.Da=b;this.Jf=[];this.Js=new Set;this.Of=[];this.mt=new Set;this.mw=0;this.Ft=[]}A(){0<this.mw||(d.F(this.Jf),this.Js.clear(),d.F(this.Of),this.mt.clear(),d.F(this.Ft),d.A(this))}kR(b,a){this.GS()?this.Ft.push({rM:"add",Li:b,capture:a}):a?this.Js.has(b)||(this.Jf.push(b),this.Js.add(b)):this.mt.has(b)||(this.Of.push(b),this.mt.add(b))}$ca(b,a){this.GS()?this.Ft.push({rM:"remove",Li:b,capture:a}):a?this.Js.has(b)&&
(this.Js.delete(b),d.mr(this.Jf,b)):this.mt.has(b)&&(this.mt.delete(b),d.mr(this.Of,b))}aba(){return!this.Jf.length&&!this.Of.length}GS(){return 0<this.mw}Hca(){const b=new Set,a=new Set;for(const e of this.Ft)if("add"===e.rM)this.kR(e.Li,e.capture),e.capture?a.delete(e.Li):b.delete(e.Li);else if("remove"===e.rM)e.capture?(this.Js.delete(e.Li),a.add(e.Li)):(this.mt.delete(e.Li),b.add(e.Li));else throw Error("invalid op");d.Jh(this.Of,b);d.Jh(this.Jf,a);d.F(this.Ft)}aaa(b){this.As();let a=!1;for(let e=
0,c=this.Jf.length;e<c;++e)if(this.Jf[e](b),b.yM){a=!0;break}if(!a)for(let e=0,c=this.Of.length;e<c&&(this.Of[e](b),!b.yM);++e);this.ys();return!b.defaultPrevented}caa(b){this.As();for(let a=0,e=this.Jf.length;a<e;++a)this.Jf[a](b);for(let a=0,e=this.Of.length;a<e;++a)this.Of[a](b);this.ys();return!0}As(){this.mw++}ys(){this.mw--;0===this.mw&&0<this.Ft.length&&this.Hca()}js(b){b?this.As():this.ys()}SR(b){const a=[];this.As();for(let c=0,f=this.Jf.length;c<f;++c){var e=this.Jf[c](b);e instanceof Promise&&
a.push(e)}for(let c=0,f=this.Of.length;c<f;++c)e=this.Of[c](b),e instanceof Promise&&a.push(e);this.ys();return a.length?Promise.all(a).then(()=>!b.defaultPrevented):!b.defaultPrevented}async Y$(b){return await this.SR(b)}async Z$(b){this.As();for(let e=0,c=this.Jf.length;e<c;++e){var a=this.Jf[e](b);a instanceof Promise&&await a}for(let e=0,c=this.Of.length;e<c;++e)a=this.Of[e](b),a instanceof Promise&&await a;this.ys();return!b.defaultPrevented}*$$(b){this.As();for(let e=0,c=this.Jf.length;e<c;++e){var a=
this.Jf[e](b);d.qn(a)&&(yield*a)}for(let e=0,c=this.Of.length;e<c;++e)a=this.Of[e](b),d.qn(a)&&(yield*a);this.ys()}}}
{"use strict";const d=self.B;d.Event.Hb=class extends d.la{constructor(){super();this.mq=new Map;this.XI=!1}A(){if(this.XI)throw Error("already released");this.dZ();this.XI=!0;d.A(this)}pA(){return this.XI}dZ(){for(let b of this.mq.values())b.A();this.mq.clear()}Pp(b,a){let e=this.mq.get(b);return e?e:a?(e=d.C(d.Event.K1,b),this.mq.set(b,e),e):null}tF(b){return this.mq.has(b)}addEventListener(b,a,e){this.Pp(b,!0).kR(a,!!e)}removeEventListener(b,a,e){let c=this.Pp(b,!1);c&&(c.$ca(a,!!e),c.aba()&&this.mq.delete(b))}dispatchEvent(b){const a=
this.Pp(b.type,!1);return a?b.cancelable?a.aaa(b):a.caa(b):!0}async WL(b){const a=this.Pp(b.type,!1);return a?await a.Y$(b):!0}rha(b){const a=this.Pp(b.type,!1);return a?a.SR(b):!0}async qha(b){const a=this.Pp(b.type,!1);a&&await a.Z$(b)}sha(b){const a=this.Pp(b.type,!1);if(!a)return null;if(b.cancelable)throw Error("not supported");return a.$$(b)}js(b){for(const a of this.mq.values())a.js(b)}}}
{"use strict";const d=self.B,b="undefined"!==typeof requestIdleCallback;let a=[],e=-1,c=0;function f(n){e=b&&0===c?requestIdleCallback(k,{timeout:35}):setTimeout(k,0<c?1:n)}function k(n){e=-1;if(a.length){var q=performance.now(),r=0;do{g(a.shift());var p=performance.now();++r;var u=(p-q)/r*1.1}while(a.length&&(b&&0===c&&"undefined"!==typeof n?u<n.timeRemaining():12>p-q+u));-1===e&&a.length&&f(Math.max(16-(p-q),4))}}function g(n){let q;try{q=n.Li()}catch(r){n.reject(r);return}n.resolve(q)}let l=d.eG.Bz("disable-asyncify");
l&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously.");d.xl=function(n){let q=null;d.du&&(q=d.Yy());return new Promise((r,p)=>{a.push({Li:n,resolve:r,reject:p,stack:q});l?g(a.pop()):-1===e&&f(16)})};d.xl.qQ=function(n){if(n)++c;else if(--c,0>c)throw Error("already turned off high throughput mode");}}
{"use strict";const d=self.B;let b=-1;function a(){b=-1}d.Ty=function(){-1===b&&(b=Date.now(),self.setTimeout(a,16));return b};let e=-1,c=-1,f=new Set;function k(){c=e=-1;let g=Date.now();for(let l of f)if(l.s9(g)){let n=l.iq;if(-1===c||n<c)c=n}else f.delete(l);-1!==c&&(e=self.setTimeout(k,Math.max(c-g+100,1E3)))}d.o2=class{constructor(g,l){this.Is=g;this.pD=1E3*l;this.iq=0;this.Lb=!1}Pc(){let g=d.Ty();this.iq=g+this.pD;this.Lb||(f.add(this),this.Lb=!0);-1===e?(c=this.iq,e=self.setTimeout(k,this.pD+
100)):this.iq<c&&c>g+1E3&&(self.clearTimeout(e),c=this.iq,e=self.setTimeout(k,this.pD+100))}s9(g){return g>=this.iq?this.Is()?(this.iq=g+this.pD,!0):this.Lb=!1:!0}XY(){this.Lb&&(f.delete(this),this.Lb=!1,0===f.size&&-1!==e&&(self.clearTimeout(e),c=e=-1))}A(){this.XY();this.Is=null}}}
{"use strict";const d=self.B;d.Ub=class b{constructor(a){this.Us=!1;this.ZI=a}Qy(){this.Us||(this.Us=!0,this.ZI&&(this.ZI(),this.ZI=null))}A(){this.Qy()}static A(a){return new b(()=>a.A())}static Bc(a,e,c){if("undefined"===typeof f||null===f)var f=!1;else if("boolean"!==typeof f&&"object"!==typeof f)throw new TypeError("invalid event listener options");if(e.includes(" ")){e=e.split(" ");const k=new d.Br;for(let g of e)a.addEventListener(g,c,f),k.sc(d.C(d.Ub,()=>a.removeEventListener(g,c,f)));return k}a.addEventListener(e,
c,f);return d.C(d.Ub,()=>a.removeEventListener(e,c,f))}};d.kua=class extends d.Ub{};d.Br=class extends d.Ub{constructor(...b){super();this.ie=new Set;for(let a of b)this.sc(a)}sc(...b){if(this.Us)throw Error("already disposed");for(let a of b)this.ie.add(a)}Xh(b){if(this.Us)throw Error("already disposed");this.ie.delete(b)}Qy(){if(this.Us)throw Error("already disposed");this.Us=!0;for(let b of this.ie)b.Qy();this.ie.clear();this.ie=null}A(){this.Qy()}}}
{"use strict";const d=self.B;d.Ur=class extends d.la{constructor(){super();this.Mt=this.Dx=this.T=this.mB=0}sc(b){this.T=+b-this.mB;this.Dx=this.Mt+this.T;this.mB=this.Dx-this.Mt-this.T;this.Mt=this.Dx}ba(){return this.Mt}Pc(){this.Mt=this.Dx=this.T=this.mB=0}Set(b){this.Dx=this.T=this.mB=0;this.Mt=+b}A(){}}}
{"use strict";const d=self.B,b={gG:function(a){this.XX=a;this.left=this.right=this.XX.tb;this.parent=null;this.color=!1;this.key=null},Ap:function(a){this.size=0;this.tb=new b.gG(this);this.tb.color=!1;this.root=this.tb;this.root.parent=this.tb;this.compare=a||this.mha}};ya=b.Ap.prototype;ya.mha=function(a,e){return a<e?-1:e<a?1:0};ya.clone=function(){var a=new b.Ap(this.compare);a.Jha(this);return a};ya.clear=function(){this.size=0;this.tb=new b.gG(this);this.tb.color=!1;this.root=this.tb;this.root.parent=
this.tb};ya.by=function(a){var e=a.right;a.right=e.left;e.left!=this.tb&&(e.left.parent=a);e.parent=a.parent;a.parent==this.tb?this.root=e:a==a.parent.left?a.parent.left=e:a.parent.right=e;e.left=a;a.parent=e};ya.my=function(a){var e=a.left;a.left=e.right;e.right!=this.tb&&(e.right.parent=a);e.parent=a.parent;a.parent==this.tb?this.root=e:a==a.parent.right?a.parent.right=e:a.parent.left=e;e.right=a;a.parent=e};ya.au=function(a){if(this.contains(a))this.Zx(a).key=a;else{var e=new b.gG(this);e.key=
a;a=this.tb;for(var c=this.root;c!=this.tb;)a=c,c=0>this.compare(e.key,c.key)?c.left:c.right;e.parent=a;a==this.tb?this.root=e:0>this.compare(e.key,a.key)?a.left=e:a.right=e;e.left=this.tb;e.right=this.tb;e.color=!0;this.Kha(e);this.size++}};ya.Kha=function(a){for(;a!=this.tb&&a!=this.root&&1==a.parent.color;)if(a.parent==a.parent.parent.left){var e=a.parent.parent.right;1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.right&&(a=a.parent,this.by(a)),
a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.my(a.parent.parent))}else e=a.parent.parent.left,1==e.color?(a.parent.color=!1,e.color=!1,a.parent.parent.color=!0,a=a.parent.parent):(a==a.parent.left&&(a=a.parent,this.my(a)),a.parent.color=!1,a.parent.parent.color=!0,a.parent.parent!=this.tb&&this.by(a.parent.parent));this.root.color=!1};ya.oha=function(a){var e=a.left==this.tb||a.right==this.tb?a:this.Yo(a);var c=e.left!=this.tb?e.left:e.right;c.parent=e.parent;e.parent==
this.tb?this.root=c:e==e.parent.left?e.parent.left=c:e.parent.right=c;e!=a&&(a.key=e.key);0==e.color&&this.nha(c);this.size--};ya.nha=function(a){for(;a!=this.root&&0==a.color;)if(a==a.parent.left){var e=a.parent.right;1==e.color&&(e.color=!1,a.parent.color=!0,this.by(a.parent),e=a.parent.right);0==e.left.color&&0==e.right.color?(e.color=!0,a=a.parent):(0==e.right.color&&(e.left.color=!1,e.color=!0,this.my(e),e=a.parent.right),e.color=a.parent.color,a.parent.color=!1,e.right.color=!1,this.by(a.parent),
a=this.root)}else e=a.parent.left,1==e.color&&(e.color=!1,a.parent.color=!0,this.my(a.parent),e=a.parent.left),0==e.right.color&&0==e.left.color?(e.color=!0,a=a.parent):(0==e.left.color&&(e.right.color=!1,e.color=!0,this.by(e),e=a.parent.left),e.color=a.parent.color,a.parent.color=!1,e.left.color=!1,this.my(a.parent),a=this.root);a.color=!1};ya.remove=function(a){a=this.Zx(a);if(a!=this.tb){var e=a.key;this.oha(a);return e}return null};ya.min=function(a){for(;a.left!=this.tb;)a=a.left;return a};ya.max=
function(a){for(;a.right!=this.tb;)a=a.right;return a};ya.Yo=function(a){if(a.right!=this.tb)return this.min(a.right);for(var e=a.parent;e!=this.tb&&a==e.right;)a=e,e=e.parent;return e};ya.Zx=function(a){for(var e=this.root;e!=this.tb&&0!=this.compare(e.key,a);)e=0>this.compare(a,e.key)?e.left:e.right;return e};ya.contains=function(a){return null!=this.Zx(a).key};ya.bM=function(){var a=[];this.forEach(function(e){a.push(e)});return a};ya.Jha=function(a){if("array"==b.QM(a))for(var e=0;e<a.length;e++)this.au(a[e]);
else if("function"==b.QM(a.forEach))a.forEach(this.au,this);else if("function"==b.QM(a.bM))for(a=a.bM(),e=0;e<a.length;e++)this.au(a[e]);else if("object"==b.QM(a))for(e in a)this.au(a[e])};ya.range=function(a,e){var c=[];this.Qia(function(f){c.push(f)},a,e);return c};ya.Qia=function(a,e,c){if(!this.eu())for(e=this.Zx(e),c=this.Zx(c);e!=c&&!a.call(void 0,e.key,this);)e=this.Yo(e)};ya.forEach=function(a,e){if(!this.eu())for(var c=this.min(this.root);c!=this.tb;c=this.Yo(c))a.call(e,c.key,c.key,this)};
ya.some=function(a,e){if(this.eu())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.Yo(c))if(a.call(e,c.key,c.key,this))return!0;return!1};ya.every=function(a,e){if(this.eu())return!1;for(var c=this.min(this.root);c!=this.tb;c=this.Yo(c))if(!a.call(e,c.key,c.key,this))return!1;return!0};ya.map=function(a,e){var c=[];if(this.eu())return c;for(var f=this.min(this.root);f!=this.tb;f=this.Yo(f))c.push(a.call(e,f.key,f.key,this));return c};ya.filter=function(a,e){var c=[];if(this.eu())return c;
for(var f=this.min(this.root);f!=this.tb;f=this.Yo(f))a.call(e,f.key,f.key,this)&&c.push(f.key);return c};ya.eu=function(){return 0==this.size};d.Ap=class extends d.la{constructor(a){super();this.xi=new b.Ap(a);this.Ws=!1;this.Rq=new Set;this.Sq=new Set}sc(a){this.Ws?this.xi.contains(a)?this.Sq.delete(a):this.Rq.add(a):this.xi.au(a)}Xh(a){this.Ws?this.xi.contains(a)?this.Sq.add(a):this.Rq.delete(a):this.xi.remove(a)}Bz(a){return this.Ws?this.Rq.has(a)?!0:!this.Sq.has(a)&&this.xi.contains(a):this.xi.contains(a)}Lc(){this.xi.clear();
this.Rq.clear();this.Sq.clear()}toArray(){if(this.Ws)throw Error("cannot be used in queueing mode");return this.xi.bM()}ln(){return this.xi.size+this.Rq.size-this.Sq.size}vp(){return 0===this.ln()}Yh(a){a=!!a;if(this.Ws!==a&&(this.Ws=a,!a)){for(const e of this.Sq)this.xi.remove(e);this.Sq.clear();for(const e of this.Rq)this.xi.au(e);this.Rq.clear()}}*values(){if(!this.vp()){var a=this.xi;for(let e=a.min(a.root);e!=a.tb;e=a.Yo(e))yield e.key}}[Symbol.iterator](){return this.values()}}}
{"use strict";const d=self.B;d.dG=class{constructor(b=d.hardwareConcurrency){this.kga=b;this.TK=[];this.qI=0}sc(b){return new Promise((a,e)=>{this.TK.push({Li:b,resolve:a,reject:e});this.SS()})}async SS(){if(this.TK.length&&!(this.qI>=this.kga)){this.qI++;var b=this.TK.shift();try{const a=await b.Li();b.resolve(a)}catch(a){b.reject(a)}this.qI--;this.SS()}}}}
{"use strict";const d=self.B;d.G5=class{constructor(b,a,e){this.Is=b;this.Ufa=a;this.Vfa=e||2*a;this.Rt=-1;this.xC=-Infinity;this.OW=()=>this.uca();this.Dfa=this.xJ=!1;this.dw=null}vaa(){return"undefined"!==typeof d.LY&&d.LY.Qna()?this.Vfa:this.Ufa}WY(){var b=[];if(-1===this.Rt){this.dw=b;b=d.Ty();var a=b-this.xC,e=this.vaa();a>=e&&this.Dfa?(this.xC=b,this.mT()):this.Rt=self.setTimeout(this.OW,Math.max(e-a,4))}}mT(){this.xJ=!0;const b=this.dw;this.dw=null;b?this.Is(...b):this.Is();this.xJ=!1}Pc(){this.xJ||
(this.rR(),this.dw=null,this.xC=d.Ty())}uca(){this.Rt=-1;this.xC=d.Ty();this.mT()}rR(){-1!==this.Rt&&(self.clearTimeout(this.Rt),this.Rt=-1)}A(){this.rR();this.OW=this.dw=this.Is=null}}}"use strict";function gc(d,b){if(!d.QU)throw Error("no get base size callback set");return d.QU(b)}function hc(d){if(!d.jW)throw Error("no redraw callback set");d.jW()}self.B.Tra=class{constructor(){this.Rfa=new Map;this.jW=this.mW=this.QU=null}};"use strict";
self.B.Sra=class{constructor(d,b){this.tt=d;this.Gfa=b;this.Xc=0;gc(this.tt,b).then(()=>{hc(this.tt)}).catch(a=>{console.error("[SVG] Error loading SVG: ",a);hc(this.tt)});this.UK=null}A(){if(0>=this.Xc)throw Error("already released");this.Xc--;0===this.Xc&&this.Pv()}Pv(){if(this.UK){var d=this.tt;if(!d.mW)throw Error("no release result callback set");d.mW(this.UK);this.UK=null}this.tt.Rfa.delete(this.Gfa);this.tt=null}};
{"use strict";const d=self.B;d.Cua="\ufeff";const b=new Set([..."0123456789"]);d.m3=function(n){return b.has(n)};const a=new Set([..." \t\n\r\u00a0\u0085\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u200b\u2028\u2029\u202f\u205f\u3000"]);d.Oz=function(n){return a.has(n)};d.vma=function(n){return[...n].filter(q=>!d.Oz(q)).join("")};d.Nz=function(n){for(const q of n)if(!d.Oz(q))return!1;return!0};d.x3=function(n){return 1===n.length&&32>n.charCodeAt(0)};d.f0=function(n){return[...n].filter(q=>
!d.x3(q)).join("")};const e=new Set([..."0123456789.+-e"]);d.eoa=function(n){n=n.trim();if(!n.length)return!1;let q=n.charAt(0);if("-"!==q&&!b.has(q))return!1;for(let r of n)if(!e.has(r))return!1;return!0};d.Q5=function(n){let q=n.length;for(;0<q&&d.m3(n.charAt(q-1));)--q;return n.substr(0,q)};d.mna=function(n){let q=d.Q5(n);n=(n=n.substr(q.length))?(parseInt(n,10)+1).toString():"2";return q+n};const c=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]]);function f(n){return c.get(n)}
const k=/[&<>"']/g;d.W_=function(n){return n.replace(k,f)};d.lma=function(n){n=d.ej(n,"\\","\\\\");n=d.ej(n,'"','\\"');n=d.ej(n,"\t","\\t");n=d.ej(n,"\r","");return d.ej(n,"\n","\\n")};d.mma=function(n){n=d.ej(n,"&","&amp;");n=d.ej(n,"<","&lt;");n=d.ej(n,">","&gt;");return d.ej(n,'"',"&quot;")};const g=/[-[\]{}()*+?.,\\^$|#\s]/g;d.yu=function(n){return n.replace(g,"\\$&")};d.wma=function(n,q,r=!1){if(!q)return[];r||(n=n.toLowerCase(),q=q.toLowerCase());r=q.length;var p=0;let u=[];for(;-1<(p=n.indexOf(q,
p));)u.push(p),p+=r;return u};d.ej=function(n,q,r){return n.replaceAll(q,()=>r)};d.Qqa=function(n,q,r){return n.replace(new RegExp(d.yu(q),"gi"),()=>r)};d.Hsa=function(n,q){"string"===typeof q?n.textContent=q:q.pV?n.textContent=q.toString():(n.innerHTML=q.MM(),q instanceof d.yl&&q.Zga(n))};d.fua=function(n,q){return n instanceof d.yF||n instanceof d.yl?n.Zc(q):q instanceof d.yF||q instanceof d.yl?q.Zc(n):n===q};d.gua=function(n,...q){let r=n;for(let p=0,u=q.length;p<u;++p){const t=`{${p}}`;if(!n.includes(t))throw Error(`missing placeholder '${t}' in string substitution`);
r=r.replace(t,q[p].toString())}return r};d.hua=function(n,...q){let r=n,p=-1,u=-1;for(let t=0,w=q.length;t<w;++t){const x=`{${t}}`;n.includes(x)?(u=t,r=r.replace(x,q[t].toString())):-1===p&&(p=t)}if(0<=p&&0<=u&&p<u)throw Error(`missing placeholder '${p}' in string substitution`);return r};d.iua=function(n,q){for(let [r,p]of Object.entries(q))n=n.replaceAll(r,p.toString());return n};d.Pta=function(n,q){n=n.toLowerCase();q=q.toLowerCase();return n>q?1:n<q?-1:0};d.Bma=function(n,q){q="common."+(q?"dataRates":
"dataSizes")+".";const r=self.Kwa;if(1024>n)return r(q+"bytes",n);if(1048576>n)return n/=1024,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"kilobytes",n);if(1073741824>n)return n/=1048576,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"megabytes",n);if(1099511627776>n)return n/=1073741824,n=10>n?Math.round(10*n)/10:Math.round(n),r(q+"gigabytes",n);n/=1099511627776;n=10>n?Math.round(10*n)/10:Math.round(n);return r(q+"terabytes",n)};const l={Wga:!1,jha:!0,Iha:!0,fia:!0,OX:!0};d.Cma=function(n,q){q=Object.assign({},
l,q);d.B3.Bqa("common.time");const r=[],p=self.lang,u=self.Jwa;if(q.jha){var t=Math.floor(n/86400);0<t&&(n-=86400*t,r.push(u(".days",null,t)))}q.Iha&&(t=Math.floor(n/3600),0<t||r.length)&&(n-=3600*t,r.push(u(".hours",null,t)));q.fia&&(t=Math.floor(n/60),0<t||r.length||!q.OX)&&(n-=60*t,r.push(u(".minutes",null,t)));q.OX&&r.push(u(".seconds",null,Math.floor(n%60)));n=(q.Wga?p(".approx-prefix"):"")+r.join(p(".separator"));d.B3.tqa();return n};d.rva=function(n,q){let r=0>n?"-":"";n=Math.abs(n);n=n.toString();
q-=n.length;for(let p=0;p<q;++p)r+="0";return r+n};d.jua=function(n){return n.toLowerCase().replace(/\b\w/g,q=>q.toUpperCase())};d.Ala=function(n,q){n=n.split(".").map(r=>r.trim());q=q.split(".").map(r=>r.trim());d.NX(n);d.NX(q);n=n.map(r=>parseInt(r,10));q=q.map(r=>parseInt(r,10));for(let r=0;4>r;++r){const p=n[r]-q[r];if(0!==p)return 0>p?-1:1}return 0};d.Qla=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const q=Math.floor(16*Math.random());return("x"===n?q:q&3|8).toString(16)})};
d.dua=function(n,q){if(n.length!==q.length)throw Error("strings must be same length");let r=0;for(let p=0,u=n.length;p<u;++p)n.charAt(p)!==q.charAt(p)&&++r;return r};d.eua=function(n,q){if(0===n.length)return q.length;if(0===q.length)return n.length;let r,p,u,t;if(n.length>q.length){var w=n;n=q;q=w}t=Array(n.length+1);for(w=0;w<=n.length;w++)t[w]=w;for(w=1;w<=q.length;w++){p=w;for(r=1;r<=n.length;r++)u=q[w-1]===n[r-1]?t[r-1]:Math.min(t[r-1]+1,Math.min(p+1,t[r]+1)),t[r-1]=p,p=u;t[n.length]=p}return t[n.length]}}
{"use strict";const d=self.B,b=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),a=/\[(\/?)([a-zA-Z0-9]+)\]/g,
e=/\[(\/?)([^\[]*?)\]/g;let c=null,f=0;function k(l,n,q){var r=b.get(q);if(r){if("string"===typeof r){if("a"!==r||n)return"<"+n+r+">";n=parseInt(q.substring(1),10)-1;if(0>n||n>=c.length)throw Error("invalid bbcode link substitution");r=c[n];if("string"===typeof r)return`<a href="${c[n]}">`;if("function"===typeof r)return`<a class="bblink${n}">`;throw new TypeError("invalid bbcode link action");}if(Array.isArray(r))return l=r[0],r=r[1],n?"</"+l+">":`<${l} class="${r}">`}else return"class"===q?n?"</span>":
`<span class="bbclass${f++}">`:l}const g=/\n/g;d.yl=class{constructor(l,n){this.fi=n&&n.DX?l:d.W_(l);this.wJ="";this.rU=!1;this.Vw=[];if(n&&(this.rU=!!n.Jva,n.links)){if(9<n.links.length)throw Error("too many links");this.Vw=n.links}this.VU=this.fi.includes("[");this.UV=this.rU&&this.fi.includes("\n");this.pV=!this.VU&&!this.UV&&!this.fi.includes("&");this.ZU=!1;this.ow=[]}toString(){return this.fi}valueOf(){return this.fi}MM(){if(this.pV)return this.fi;if(!this.wJ&&this.fi){let l=this.fi;this.VU&&
(f=0,c=this.Vw,l=l.replace(a,k),c=null);this.UV&&(l=l.replace(g,"<br>"));this.wJ=l}return this.wJ}Zga(l){if(this.Vw.length)for(let n=0,q=this.Vw.length;n<q;++n){const r=this.Vw[n];if("function"!==typeof r)continue;const p=l.querySelector(".bblink"+n);if(!p)throw Error("unable to attach BBString link handler");p.onclick=r}}Zc(l){return l instanceof d.yF?this.MM()===l.MM():l instanceof d.yl?this.fi===l.fi:this.fi===l}UX(){if(this.ZU)return this.ow;const l=this.fi,n=[];let q=e.lastIndex=0;for(var r;null!==
(r=e.exec(l));){var p=r.index;if(0<p&&"\\"===l.charAt(p-1))continue;var u=r[1],t=r[2];const w=l.substring(q,p);q=p+r[0].length;w&&this.ow.push({text:w,pd:n.slice(0)});if(t)if(u)for(t=t.toLowerCase(),r=n.length-1;0<=r;--r){if(n[r].tag===t){n.splice(r,1);break}}else r=t,p=null,u=t.indexOf("="),-1!==u?(r=t.substring(0,u).toLowerCase(),p=t.substring(u+1)):r=r.toLowerCase(),n.push({tag:r,od:p})}q<l.length&&this.ow.push({text:l.substring(q),pd:n.slice(0)});for(const w of this.ow)w.text=this.Gca(w.text);
this.ZU=!0;return this.ow}Gca(l){l=d.ej(l,"\\[","[");return d.ej(l,"\\\\","\\")}static PQ(l){return l.replace(e,"")}}}
{"use strict";const d=self.B;d.yv=class{constructor(){this.dl=[]}US(b,a){let e=0,c=0,f=0,k=0,g=0;for(const l of b)-1===l.width&&(b=a(l.text,l.pd),l.width=b.width,l.height=b.height,l.Cg=b.Cg||0,l.Yf=b.Yf||0,l.$f=b.$f||0),e+=l.width,c=Math.max(c,l.height),f=Math.max(f,l.Cg),k=Math.max(k,l.Yf),g=Math.max(g,l.$f);return{width:e,height:c,Cg:f,Yf:k,$f:g}}rA(b,a,e,c,f,k){this.dl.push({XL:b,width:a,height:e,Cg:c,Yf:f,$f:k})}yv(b,a,e,c,f){"string"===typeof b&&(b=[{text:b,pd:[]}]);d.F(this.dl);if(!(!b.length||
1===b.length&&!b[0].text.length||2>e)){if(1===b.length){var k=b[0];const g=k.text;k=k.pd;if(100>=g.length&&!g.includes("\n")){let {width:l,height:n,Cg:q,Yf:r,$f:p}=a(g,k);l+=f;q=q||0;r=r||0;p=p||0;if(l<=e){this.rA([{text:g,pd:k,width:l,height:n,Cg:q,Yf:r,$f:p}],l,n,q,r,p);return}}}if("word"===c)c=this.Qea(b);else{c=[];for(const g of b)d.Vm(c,[...g.text].map(l=>[{text:l,pd:g.pd}]))}this.kfa(c,a,e,f)}}Qea(b){const a=[];let e=[],c=!1;for(const k of b){var f=k.text;b=k.pd;for(const g of f)"\n"===g?(0<
e.length&&a.push(e),a.push([{text:"\n",pd:b}]),e=[]):0===e.length?(e.push({text:g,pd:b}),c=d.Oz(g)):(f=d.Oz(g),f===c?(f=e.ue(-1),f.pd===b?f.text+=g:e.push({text:g,pd:b})):(a.push(e),e=[],e.push({text:g,pd:b}),c=f))}0<e.length&&a.push(e);return a}v9(b){return b.map(a=>({text:a.text,pd:a.pd,width:a.width,height:a.height,Cg:a.Cg,Yf:a.Yf,$f:a.$f}))}pR(b,a){var e=b.length?b.ue(-1):null;let c=0;e&&a[0].pd===e.pd&&(e.text+=a[0].text,e.width=-1,e.height=-1,e.Cg=-1,e.Yf=-1,e.$f=-1,c=1);for(e=a.length;c<e;++c){const f=
a[c];b.push({text:f.text,pd:f.pd,width:-1,height:-1,Cg:-1,Yf:-1,$f:-1})}}kfa(b,a,e,c){let f=[],k=0,g=0,l=0,n=0;var q=0;for(const r of b){if(1===r.length&&"\n"===r[0].text){0===g&&(q=a(" ",r[0].pd),g=q.height,l=q.Cg||0,n=q.Yf||0,q=q.$f||0);this.rA(f,k,g,l,n,q);f=[];q=n=l=g=k=0;continue}b=this.v9(f);this.pR(b,r);const p=this.US(b,a),u=p.width;u>=e?(0<f.length&&this.rA(f,k,g,l,n,q),f=[],d.Nz(r[0].text)?q=n=l=g=k=0:(this.pR(f,r),q=this.US(f,a),k=q.width,g=q.height,l=q.Cg,n=q.Yf,q=q.$f)):(f=b,k=u,g=p.height,
l=p.Cg,n=p.Yf,q=p.$f)}0<f.length&&this.rA(f,k,g,l,n,q);this.Tea(a,c)}Tea(b,a){for(const c of this.dl){const f=c.XL;if(!f.length)continue;let k=f.ue(-1);var e=k.text;const g=e.trimEnd();if(!g)c.width-=k.width,f.pop();else if(g.length<e.length){e=b(g,k.pd).width;const l=k.width-e;k.width=e;k.text=g;c.width-=l}0!==a&&0<f.length&&(k=f.ue(-1),k.width+=a,c.width+=a)}}Lc(){d.F(this.dl)}$N(){return this.dl.reduce((b,a)=>Math.max(b,a.width),0)}A1(){return this.dl.reduce((b,a)=>b+a.height,0)}}}
{"use strict";const d=self.B,b=self.ul,a=b.dE,e=b.ty,c=b.So,f=a.create(),k=a.create(),g=a.create(),l=e.create(),n=c.create(),q=a.create(),r=a.create(),p=a.create(),u=a.create(),t=a.create(),w=a.create(),x=a.create(),z=a.create(),E=e.Zf(0,0,1,1);d.fa={v5(H,I,K,Q,R,U,Z){const ca=Q[0]*H+Q[4]*I+Q[8]*K+Q[12],Y=Q[1]*H+Q[5]*I+Q[9]*K+Q[13],ha=Q[2]*H+Q[6]*I+Q[10]*K+Q[14];Q=Q[3]*H+Q[7]*I+Q[11]*K+Q[15];H=R[0]*ca+R[4]*Y+R[8]*ha+R[12]*Q;I=R[1]*ca+R[5]*Y+R[9]*ha+R[13]*Q;K=R[2]*ca+R[6]*Y+R[10]*ha+R[14]*Q;R=R[3]*
ca+R[7]*Y+R[11]*ha+R[15]*Q;if(0===R)return!1;R=1/R;Z[0]=(H*R*.5+.5)*U[2]+U[0];Z[1]=(I*R*.5+.5)*U[3]+U[1];Z[2]=.5*(1+K*R);return!0},Gk(H,I,K,Q,R,U,Z){c.multiply(n,R,Q);if(null===c.cu(n,n))return!1;l[0]=(H-U[0])/U[2]*2-1;l[1]=(I-U[1])/U[3]*2-1;l[2]=2*K-1;l[3]=1;e.OM(l,l,n);if(0===l[3])return!1;l[3]=1/l[3];Z[0]=l[0]*l[3];Z[1]=l[1]*l[3];Z[2]=l[2]*l[3];return!0},i8(H,I,K,Q,R,U,Z){if(!d.fa.Gk(H,I,0,Q,R,U,f)||!d.fa.Gk(H,I,1,Q,R,U,k))return!1;a.bn(k,k,f);a.set(g,0,0,1);H=-K;I=a.Po(g,k);K=0;if(0===I){if(0!==
a.Po(g,f)+H)return!1}else if(K=-(a.Po(f,g)+H)/I,0>K)return!1;a.FM(Z,f,k,K);return!0}};function G(H,I,K,Q){a.bn(f,K,I);a.bn(k,H,I);a.UL(g,f,k);a.normalize(g,g);Q.set(g[0],g[1],g[2],a.Po(H,g))}function N(H,I,K,Q,R,U,Z){const ca=Z.x,Y=Z.y,ha=Z.z,ka=Z.w,za=Z.bY,Oa=Z.cY;Z=Z.dY;const ab=1-za,Ua=1-Oa,bb=1-Z;return ca*H*za+ca*Q*ab+Y*I*Oa+Y*R*Ua+ha*K*Z+ha*U*bb>=ka?!0:ca*Q*za+ca*H*ab+Y*R*Oa+Y*I*Ua+ha*U*Z+ha*K*bb>ka}class C{constructor(){this.dY=this.cY=this.bY=this.w=this.z=this.y=this.x=NaN}set(H,I,K,Q){this.x=
H;this.y=I;this.z=K;this.w=Q;this.bY=0<H?1:0;this.cY=0<I?1:0;this.dY=0<K?1:0}}d.fa.r8=class{constructor(){this.GV=new C;this.PW=new C;this.pW=new C;this.lU=new C;this.TV=new C;this.IU=new C}TY(H,I){d.fa.Gk(0,1,0,H,I,E,q);d.fa.Gk(1,1,0,H,I,E,r);d.fa.Gk(0,0,0,H,I,E,p);d.fa.Gk(1,0,0,H,I,E,u);d.fa.Gk(0,1,1,H,I,E,t);d.fa.Gk(1,1,1,H,I,E,w);d.fa.Gk(0,0,1,H,I,E,x);d.fa.Gk(1,0,1,H,I,E,z);G(p,q,t,this.GV);G(q,r,w,this.PW);G(r,u,z,this.pW);G(u,p,x,this.lU);G(x,t,w,this.IU);G(u,r,q,this.TV)}pZ(H,I,K,Q,R,U){return N(H,
I,K,Q,R,U,this.GV)&&N(H,I,K,Q,R,U,this.PW)&&N(H,I,K,Q,R,U,this.pW)&&N(H,I,K,Q,R,U,this.lU)&&N(H,I,K,Q,R,U,this.TV)&&N(H,I,K,Q,R,U,this.IU)}}}
{"use strict";const d=self.B,b=self.ul,a=b.dE,e=b.ty,c=b.So,f=c.create(),k=a.Zf(0,0,0),g=a.Zf(0,0,0),l=a.Zf(0,0,0),n=a.Zf(0,1,0);e.Zf(0,0,0,0);new d.Bd;new d.Rect;const q=new d.Bd(0,0,1,0,1,1,0,1);d.fa.T5=class{constructor(){this.P=this.U=0;this.Ofa=d.Aa(45);this.pL=Math.tan(this.Ofa/2);this.IC=c.create();this.oK=c.create();this.Yp=[];this.aD=new Map;this.eL=this.fD=this.gD=null;this.Cx=new Map;this.Aj=null;this.II=[];this.SV=new Map;this.kw=this.$v=0;this.gga=this.hga=1;this.iK=.5;this.ni=0;this.Vs=
!0;this.uJ=!1}e0(r){let p=0,u=r.length,t=0;for(;p<u;)r[p++]=t,r[p++]=t+1,r[p++]=t+2,r[p++]=t,r[p++]=t+2,r[p++]=t+3,t+=4}tR(){this.kw=this.$v=0;this.eL=this.fD=this.gD=null;this.t9()}Hz(){this.tR();this.Aj=null}u4(){for(const r of this.Yp)r.A();this.tR()}S(){return this.U}V(){return this.P}tu(r,p,u=.5,t=.5){u=1-u;const w=1*this.pL;p*=w;c.Aha(r,(2*u-2)*p,2*u*p,(2*t-2)*w,2*t*w,1,1E4)}SY(r,p,u){const t=self.devicePixelRatio,w=200*t*this.pL/u;p=p*w/(2*t);u=u*w/(2*t);c.mia(r,-p,p,-u,u,1,1E4)}bN(r,p,u,t,
w=this.lF()){w=200*self.devicePixelRatio*this.pL/w;a.set(l,w,-w,1);a.multiply(k,p,l);a.multiply(g,u,l);c.cia(r,k,g,t||n);c.scale(r,r,l)}su(r,p,u,t,w,x){a.set(k,r,p,u);a.set(g,t,w,0);this.bN(f,k,g,n,x);return f}S8(r){this.Yp.push(r);this.aD.set(r.Ea(),r)}bda(r){const p=this.Yp.indexOf(r);-1!==p&&this.Yp.splice(p,1);this.aD.delete(r.Ea())}t9(){d.F(this.Yp);this.aD.clear()}oO(r){return this.aD.get(r)||null}Zh(){this.Dn(this.gD)}wG(){this.Dn(this.eL)}Yda(r){this.Aj=r}hY(r,p,u,t){const w=d.fa.QG.$O(r,
p,u,t);let x=this.Cx.get(w);x||(x=d.C(d.fa.QG,this,r,p,u,t),this.Cx.set(w,x));x.wY();return x}MP(r){r.JZ();0===r.Xc&&(this.Aj===r&&(this.Aj=null),this.Cx.delete(r.c1()),r.A())}Laa(r){d.F(this.II);this.SV.clear();for(const p of r){r=p[0];const u=p[1],t=p[2];this.II.push([u,t]);this.SV.set(r,{jya:u,Rva:t})}}maa(r){return this.II[r]}hv(r){this.$v=r}zn(r){this.kw=r;this.Aj=null}Rz(r,p,u,t,w,x){var z=this.iK;r=r+z-x;p=p+z-w;u=u+z+x;t=t+z+w;z=2*x;const E=2*w;this.Xz(r+w,p-x,0,u+w,t-x,0,u-w-z,t+x-E,0,r-
w+z,p+x+E,0,q)}Qz(r,p,u,t,w,x){const z=this.iK;r=r+z-x;p=p+z-w;u=u+z+x;t=t+z+w;this.Xz(r+w,p-x,0,u+w,t-x,0,u-w,t+x,0,r-w,p+x,0,q)}Pz(r,p,u,t,w,x){const z=this.iK;r+=z;p+=z;u+=z;t+=z;this.Xz(r+w,p-x,0,u+w,t-x,0,u-w,t+x,0,r-w,p+x,0,q)}D3(r,p,u,t){const w=.5*this.hga,x=this.gga;2===x?this.iba(r,p,u,t,w):1===x?this.hba(r,p,u,t,w):this.gba(r,p,u,t,w)}iba(r,p,u,t,w){this.Rz(r,p,u,p,0,w);this.Rz(u,p,u,t,w,0);this.Rz(u,t,r,t,0,-w);this.Rz(r,t,r,p,-w,0)}hba(r,p,u,t,w){this.Qz(r,p,u,p,0,w);this.Qz(u,p,u,t,
w,0);this.Qz(u,t,r,t,0,-w);this.Qz(r,t,r,p,-w,0)}gba(r,p,u,t,w){this.Pz(r,p,u,p,0,w);this.Pz(u,p,u,t,w,0);this.Pz(u,t,r,t,0,-w);this.Pz(r,t,r,p,-w,0)}UO(r){this.D3(r.R,r.O,r.Y,r.W)}Bu(){this.Ui();this.ni++}s2(){this.ni++}AG(r){this.Vs=!!r}P6(r){this.uJ=!!r}Yu(){return!1}}}
{"use strict";const d=self.B;d.fa.QG=class{constructor(b,a,e,c,f){this.za=b;this.Xc=0;this.nb=null;this.ux="";this.Qn=e;this.ub=d.C(d.ib);this.ub.set(c);this.kd=f;"string"===typeof a?this.ux=a:(this.nb=a,this.ux=this.nb.Ea())}A(){if(0<this.Xc)throw Error("releasing state group still in use");this.nb=this.za=null;this.ux=""}DY(){const b=this.za;b.Dn(this.nb);b.kg(this.Qn);b.Ak(this.ub);b.zn(this.kd);b.Yda(this)}c1(){return d.fa.QG.$O(this.ux,this.Qn,this.ub,this.kd)}wY(){++this.Xc}JZ(){--this.Xc}Sl(){this.nb=
null}ZF(b){this.nb=b.oO(this.ux);if(!this.nb)throw Error("failed to restore shader program");}static $O(b,a,e,c){return("string"===typeof b?b:b.Ea())+","+a+","+e.cb+","+e.Ia+","+e.ab+","+e.Wa+","+c}}}
{"use strict";const d=self.B,b=d.C(d.Bd);function a(e,c,f){const k=f.Nb,g=f.Ob;return[k+(f.pc-k)*e+(f.kc-k)*c,g+(f.qc-g)*e+(f.lc-g)*c]}d.fa.V3=class{constructor(e){this.sK=e;this.Hh=this.Fh=this.kd=this.T=this.Z=0}mj(e,c,f,k){this.Z=e;this.T=c;this.Fh=f;this.Hh=k}L(){return this.Z}bh(e){this.Z!==e&&(this.Z=e,this.sK.YH())}M(){return this.T}dh(e){this.T!==e&&(this.T=e,this.sK.YH())}Za(){return this.kd}df(e){this.kd!==e&&(this.kd=Math.max(e,0),this.sK.YH())}HG(e){this.Fh=e}IG(e){this.Hh=e}Yaa(e,c,f){[this.Z,
this.T]=a(e.Z,e.T,c);this.kd=e.kd;this.Fh=d.wd(f.R,f.Y,e.Fh);this.Hh=d.wd(f.O,f.W,e.Hh)}Xaa(e,c,f){[this.Z,this.T]=a(e.Z,e.T,c);this.kd=e.kd;[this.Fh,this.Hh]=a(e.Fh,e.Hh,f)}cd(){return{x:this.L(),y:this.M(),z:this.Za(),u:this.Fh,v:this.Hh}}Nc(e){this.bh(e.x);this.dh(e.y);e.hasOwnProperty("z")&&this.df(e.z);this.HG(e.u);this.IG(e.v)}};d.fa.cP=class{constructor(e,c,f){if(2>e||2>c)throw Error("invalid mesh size");this.Wk=e;this.ll=c;this.nc=f||null;this.wo=[];this.PV=this.OV=0;this.LV=this.KV=1;this.MV=
0;this.MK=!1;f=e-1;const k=c-1;for(let g=0;g<c;++g){const l=[];for(let n=0;n<e;++n){const q=d.C(d.fa.V3,this,n,g),r=n/f,p=g/k;q.mj(r,p,r,p);l.push(q)}this.wo.push(l)}}A(){d.F(this.wo)}YH(){this.MK=!0}Kv(){if(this.MK){var e=Infinity,c=Infinity,f=-Infinity,k=-Infinity,g=0;for(const l of this.wo)for(const n of l){const q=n.L(),r=n.M();e=Math.min(e,q);c=Math.min(c,r);f=Math.max(f,q);k=Math.max(k,r);g=Math.max(g,n.Za())}this.OV=e;this.PV=c;this.KV=f;this.LV=k;this.MV=g;this.MK=!1}}m1(){this.Kv();return this.OV}n1(){this.Kv();
return this.PV}j1(){this.Kv();return this.KV}k1(){this.Kv();return this.LV}l1(){this.Kv();return this.MV}Jr(e,c){e=Math.floor(e);c=Math.floor(c);return 0>e||e>=this.Wk||0>c||c>=this.ll?null:this.wo[c][e]}UY(e,c,f){const k=f instanceof d.Rect;if(e.Wk!==this.Wk||e.ll!==this.ll)throw Error("source mesh wrong size");e=e.wo;const g=this.wo;for(let l=0,n=g.length;l<n;++l){const q=e[l],r=g[l];for(let p=0,u=r.length;p<u;++p){const t=q[p],w=r[p];k?w.Yaa(t,c,f):w.Xaa(t,c,f)}}}yf(e){const c=this.wo;let f=c[0];
for(let k=1,g=c.length;k<g;++k){const l=c[k];let n=f[0],q=l[0];for(let r=1,p=l.length;r<p;++r){const u=f[r],t=l[r];b.set(n.Fh,n.Hh,u.Fh,u.Hh,t.Fh,t.Hh,q.Fh,q.Hh);e.Xz(n.L(),n.M(),n.Za(),u.L(),u.M(),u.Za(),t.L(),t.M(),t.Za(),q.L(),q.M(),q.Za(),b);n=u;q=t}f=l}}V2(e){e=e.Hd;const c=[],f=this.Wk-1,k=this.ll-1,g=1/f,l=1/k,n=f-1,q=k-1;let r=e[0],p=e[1],u=d.da(Math.floor(r*f),0,n),t=d.da(Math.floor(p*k),0,q),w=0,x=0,z=0;var E=-1;const G=()=>{r=d.da(d.wd(r,w,z),0,1);p=d.da(d.wd(p,x,z),0,1);c.push(r,p)};for(let N=
0,C=e.length;N<C;N+=2)for(r=e[N],p=e[N+1],c.push(r,p),u=d.da(Math.floor(r*f),0,n),t=d.da(Math.floor(p*k),0,q),E=(N+2)%C,w=e[E],x=e[E+1],E=-1;;){if(1E6<c.length)throw Error("Too many mesh poly points");const H=u*g,I=t*l,K=(u+1)*g,Q=(t+1)*l;if(0!==E&&(z=d.jy(r,p,w,x,H,I,K,Q,-.001),0<=z&&.99999999>=z)){G();E=0;continue}if(0<t&&2!==E&&(z=d.jy(r,p,w,x,H,I,K,I,.001),0<=z&&.99999999>=z)){G();t--;E=4;continue}if(u<n&&3!==E&&(z=d.jy(r,p,w,x,K,I,K,Q,.001),0<=z&&.99999999>=z)){G();u++;E=1;continue}if(0<u&&1!==
E&&(z=d.jy(r,p,w,x,H,I,H,Q,.001),0<=z&&.99999999>=z)){G();u--;E=3;continue}if(t<q&&4!==E&&(z=d.jy(r,p,w,x,H,Q,K,Q,.001),0<=z&&.99999999>=z)){G();t++;E=2;continue}break}return d.C(d.$o,c)}e8(e,c){e=this.Rea(e);this.Jea(e);c.XD(e)}Rea(e){const c=[];e=e.Hd;for(let f=0,k=e.length;f<k;f+=2){const [g,l]=this.UQ(e[f],e[f+1]);c.push(g,l)}return c}UQ(e,c){var f=this.Wk-1,k=this.ll-1;const g=1/f,l=1/k;f=d.da(Math.floor(e*f),0,f-1);const n=d.da(Math.floor(c*k),0,k-1);k=f*g;const q=n*l,r=(f+1)*g,p=(n+1)*l,u=
this.Jr(f,n),t=this.Jr(f+1,n+1),w=d.Sha(e,c,k,q,r,q,r,p);f=this.Jr(f+(w?1:0),n+(w?0:1));const [x,z,E]=d.Sia(e,c,k,q,w?k+g:k,w?q:q+l,r,p);return d.Ria(x,z,E,u.L(),u.M(),f.L(),f.M(),t.L(),t.M())}Jea(e){const c=[];let f=e[0],k=e[1],g=f-e.ue(-2),l=k-e.ue(-1);for(let q=0,r=e.length;q<r;q+=2){var n=(q+2)%r;const p=e[n];n=e[n+1];const u=p-f,t=n-k,w=1E-7>Math.abs(t)&&1E-7>Math.abs(l)&&Math.sign(u)===Math.sign(g);(!(1E-7>Math.abs(u)&&1E-7>Math.abs(g)&&Math.sign(t)===Math.sign(l)||w)&&1E-7<Math.abs(u/g-t/l)||
0==u&&0===t)&&c.push(f,k);f=p;k=n;g=u;l=t}6<=c.length&&c.length<e.length&&d.xd(e,c)}cd(){return{cols:this.Wk,rows:this.ll,points:this.wo.map(e=>e.map(c=>c.cd()))}}Nc(e){const c=this.Wk,f=this.ll;if(e.cols!==c||e.rows!==f)throw Error("mesh data wrong size");e=e.points;for(let k=0;k<f;++k){const g=e[k];for(let l=0;l<c;++l)this.Jr(l,k).Nc(g[l])}}}}
{"use strict";const d=self.B,b=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),a=new Set(["nearest","bilinear","trilinear"]),e=new Set(["default","low","high"]),c=new Set(["clamp-to-edge","repeat","mirror-repeat"]);function f(n,q){let r,p;switch(n){case "rgba8":n=q.RGBA8;p=r=q.RGBA;q=q.UNSIGNED_BYTE;break;case "rgb8":n=q.RGB8;p=r=q.RGB;q=q.UNSIGNED_BYTE;break;case "rgba4":n=q.RGBA4;p=r=q.RGBA;q=q.UNSIGNED_SHORT_4_4_4_4;break;case "rgb5_a1":n=q.RGB5_A1;p=r=q.RGBA;q=q.UNSIGNED_SHORT_5_5_5_1;break;
case "rgb565":n=q.RGB565;p=r=q.RGB;q=q.UNSIGNED_SHORT_5_6_5;break;default:throw Error("invalid pixel format");}return{JM:n,bu:r,format:p,type:q}}const k={fE:"clamp-to-edge",gE:"clamp-to-edge",Oi:"trilinear",cX:0,tM:"rgba8",PD:!0,gy:"default",premultiplyAlpha:!0,yX:!1,width:-1,height:-1},g={premultiplyAlpha:!0,flipY:!1},l=new Set;d.fa.qA=class{constructor(n){this.za=n;this.yb=null;this.P=this.U=0;this.pi=!0;this.Yt=this.Xt="clamp-to-edge";this.td="trilinear";this.xI=0;this.so="rgba8";this.um=!1;this.Jq=
"default";this.Xc=0}Q9(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData||n instanceof ArrayBuffer)&&null!==n)throw Error("invalid texture source");q=Object.assign({},k,q);if(this.yb)throw Error("already created texture");this.Xt=q.fE;this.Yt=q.gE;
this.td=q.Oi;this.xI=q.cX;this.so=q.tM;this.um=!!q.PD&&this.za.Vs;this.Jq=q.gy;if(!c.has(this.Xt)||!c.has(this.Yt))throw Error("invalid wrap mode");if(!a.has(this.td))throw Error("invalid sampling");if(!b.has(this.so))throw Error("invalid pixel format");if(!e.has(this.Jq))throw Error("invalid mipmap quality");this.pi=!0;if(n instanceof ArrayBuffer||null===n||q.yX){if(this.U=q.width,this.P=q.height,n instanceof ArrayBuffer&&n.byteLength!==this.U*this.P*4)throw Error("ArrayBuffer wrong size");}else this.U=
n.width,this.P=n.height;if(0>=this.U||0>=this.P)throw Error("invalid texture data size");if(q.yX){var r=d.Gg(this.U,this.P);r.getContext("2d").drawImage(n,0,0,this.U,this.P);n=r}var p=d.wl(this.U)&&d.wl(this.P);r=this.za.JC;if(this.U>r||this.P>r)throw Error("texture data exceeds maximum texture size");r=this.za.$;var u=this.za.Td;this.yb=r.createTexture();r.bindTexture(r.TEXTURE_2D,this.yb);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1);
q=f(this.so,r);if(this.za.Lp()||p||!this.zH())2<=u?(r.texStorage2D(r.TEXTURE_2D,this.um?Math.floor(Math.log2(Math.max(this.U,this.P))+1):1,q.JM,this.U,this.P),n instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.U,this.P,q.format,q.type,new Uint8Array(n)):null!==n&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,q.format,q.type,n)):n instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,q.bu,this.U,this.P,0,q.format,q.type,new Uint8Array(n)):null===n?r.texImage2D(r.TEXTURE_2D,0,q.bu,this.U,this.P,0,q.format,
q.type,null):r.texImage2D(r.TEXTURE_2D,0,q.bu,q.format,q.type,n);else{if(null===n)throw Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");n instanceof ArrayBuffer&&(n=new ImageData(new Uint8ClampedArray(n),this.U,this.P));n instanceof ImageData&&(p=d.Gg(this.U,this.P),p.getContext("2d").putImageData(n,0,0),n=p);p=d.Gg(d.nM(this.U),d.nM(this.P));u=p.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.td;u.drawImage(n,0,0,this.U,this.P,0,0,p.width,p.height);
r.texImage2D(r.TEXTURE_2D,0,q.bu,q.format,q.type,p)}null!==n&&this.JT(r);r.bindTexture(r.TEXTURE_2D,null);this.za.QH();this.Xc=1;l.add(this)}z9(n,q,r){r=Object.assign({},k,r);if(this.yb)throw Error("already created texture");this.Xt=r.fE;this.Yt=r.gE;this.td=r.Oi;this.so=r.tM;this.um=!!r.PD&&this.za.Vs;this.Jq=r.gy;if(!c.has(this.Xt)||!c.has(this.Yt))throw Error("invalid wrap mode");if(!a.has(this.td))throw Error("invalid sampling");if(!b.has(this.so))throw Error("invalid pixel format");if(!e.has(this.Jq))throw Error("invalid mipmap quality");
this.pi=!1;this.U=Math.floor(n);this.P=Math.floor(q);n=d.wl(this.U)&&d.wl(this.P);q=this.za.JC;if(0>=this.U||0>=this.P)throw Error("invalid texture size");if(this.U>q||this.P>q)throw Error("texture exceeds maximum texture size");if(!this.za.Lp()&&this.zH()&&!n)throw Error("non-power-of-two tiled textures not supported");n=this.za.$;q=this.za.Td;this.yb=n.createTexture();n.bindTexture(n.TEXTURE_2D,this.yb);n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,
!1);r=f(this.so,n);n.texImage2D(n.TEXTURE_2D,0,2<=q?r.JM:r.bu,this.U,this.P,0,r.format,r.type,null);this.JT(n);n.bindTexture(n.TEXTURE_2D,null);this.za.QH();this.Xc=1;l.add(this)}wH(n){if("default"===this.Jq)return this.pi?n.NICEST:n.FASTEST;if("low"===this.Jq)return n.FASTEST;if("high"===this.Jq)return n.NICEST;throw Error("invalid mipmap quality");}zH(){return"clamp-to-edge"!==this.Xt||"clamp-to-edge"!==this.Yt}sS(n,q){if("clamp-to-edge"===q)return n.CLAMP_TO_EDGE;if("repeat"===q)return n.REPEAT;
if("mirror-repeat"===q)return n.MIRRORED_REPEAT;throw Error("invalid wrap mode");}JT(n){var q=d.wl(this.U)&&d.wl(this.P);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.sS(n,this.Xt));n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.sS(n,this.Yt));"nearest"===this.td?(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),this.um=!1):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),(q||this.za.Lp())&&this.um?(n.hint(n.GENERATE_MIPMAP_HINT,
this.wH(n)),n.generateMipmap(n.TEXTURE_2D),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,"trilinear"!==this.td||this.za.uJ?n.LINEAR_MIPMAP_NEAREST:n.LINEAR_MIPMAP_LINEAR)):(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),this.um=!1));(q=this.za.Wv)&&0<this.xI&&"nearest"!==this.td&&n.texParameterf(n.TEXTURE_2D,q.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.xI,this.za.qK))}UT(n,q){if(!("undefined"!==typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!==typeof HTMLVideoElement&&
n instanceof HTMLVideoElement||"undefined"!==typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&n instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&n instanceof OffscreenCanvas||n instanceof ImageData))throw Error("invalid texture source");if(!this.yb||0>=this.Xc)throw Error("texture not created");if(this.pi)throw Error("cannot update static texture");q=Object.assign({},g,q);const r=n.width||n.videoWidth,p=n.height||n.videoHeight;var u=this.za.Td;
const t=this.za.$;t.bindTexture(t.TEXTURE_2D,this.yb);t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha);t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!!q.flipY);q=f(this.so,t);u=2<=u?q.JM:q.bu;try{if(this.U===r&&this.P===p){const w=d.wl(this.U)&&d.wl(this.P);t.texSubImage2D(t.TEXTURE_2D,0,0,0,q.format,q.type,n);(w||this.za.Lp())&&this.um&&(t.hint(t.GENERATE_MIPMAP_HINT,this.wH(t)),t.generateMipmap(t.TEXTURE_2D))}else{this.U=r;this.P=p;const w=d.wl(this.U)&&d.wl(this.P);if(!this.za.Lp()&&this.zH()&&
!w)throw Error("non-power-of-two tiled textures not supported");t.texImage2D(t.TEXTURE_2D,0,u,q.format,q.type,n);(w||this.za.Lp())&&this.um&&(t.hint(t.GENERATE_MIPMAP_HINT,this.wH(t)),t.generateMipmap(t.TEXTURE_2D))}}catch(w){console.error("Error updating WebGL texture: ",w)}t.bindTexture(t.TEXTURE_2D,null);this.za.QH()}kH(){if(0<this.Xc)throw Error("texture still has references");if(!this.yb)throw Error("already deleted texture");l.delete(this);this.za.$.deleteTexture(this.yb);this.yb=null}Cb(){return this.za}Y7(){if(0>=
this.Xc)throw Error("no more references");this.Xc--}S(){return this.U}V(){return this.P}UE(){let n=this.U*this.P;switch(this.so){case "rgba8":n*=4;break;case "rgb8":n*=3;break;case "rgba4":case "rgb5_a1":case "rgb565":n*=2}this.um&&(n+=Math.floor(n/3));return n}static Sl(){l.clear()}static Rga(){return l.values()}}}
{"use strict";const d=self.B,b=self.ul.So,a=new Set(["nearest","bilinear","trilinear"]),e={Oi:"trilinear",alpha:!0,depth:!1,gM:!0,wX:!0,gia:0},c=new Set;d.fa.VG=class{constructor(f){this.za=f;this.Hm=this.yb=this.Hj=null;this.P=this.U=0;this.Fw=!0;this.td="trilinear";this.Hs=!0;this.lf=!1;this.Jw=!0;this.Am=0;this.Nq=b.create()}w9(f,k,g){g=Object.assign({},e,g);const l=this.za.Td;if(this.yb||this.Hm)throw Error("already created render target");this.td=g.Oi;this.Hs=!!g.alpha;this.lf=!!g.depth;this.Jw=
!!g.gM;this.Fw=!!g.wX;this.Am=g.gia;if(!a.has(this.td))throw Error("invalid sampling");if(0<this.Am&&(2>l||this.Jw))throw Error("invalid use of multisampling");2>l&&(this.Jw=!0);this.U=f;this.P=k;if(0>=this.U||0>=this.P)throw Error("invalid render target size");this.qR();f=this.za.$;this.Hj=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,this.Hj);this.Jw?(this.yb=this.za.pN(this.U,this.P,{Oi:this.td,tM:this.Hs?"rgba8":"rgb8",PD:!1}),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,
this.yb.yb,0)):(this.Hm=f.createRenderbuffer(),f.bindRenderbuffer(f.RENDERBUFFER,this.Hm),k=this.Hs?f.RGBA8:f.RGB8,0<this.Am&&((g=f.getInternalformatParameter(f.RENDERBUFFER,k,f.SAMPLES))&&g[0]?(g=g[0],this.Am>g&&(this.Am=g)):this.Am=0),0===this.Am?f.renderbufferStorage(f.RENDERBUFFER,k,this.U,this.P):f.renderbufferStorageMultisample(f.RENDERBUFFER,this.Am,k,this.U,this.P),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.Hm),f.bindRenderbuffer(f.RENDERBUFFER,null));
k=this.za.kq;this.lf&&k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k);f.bindFramebuffer(f.FRAMEBUFFER,null);c.add(this)}iT(f,k){if(this.U!==f||this.P!==k)this.U=f,this.P=k,this.qR(),f=this.za.$,f.bindFramebuffer(f.FRAMEBUFFER,this.Hj),this.yb?this.yb.UT(new ImageData(this.U,this.P)):(f.bindRenderbuffer(f.RENDERBUFFER,this.Hm),f.renderbufferStorage(f.RENDERBUFFER,this.Hs?f.RGBA8:f.RGB8,this.U,this.P),f.bindRenderbuffer(f.RENDERBUFFER,null)),k=this.za.kq,this.lf&&
k&&f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,k),f.bindFramebuffer(f.FRAMEBUFFER,null)}kH(){if(!this.yb&&!this.Hm)throw Error("already deleted render target");c.delete(this);const f=this.za.$;f.bindFramebuffer(f.FRAMEBUFFER,this.Hj);this.yb?(f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,null,0),this.za.ek(this.yb),this.yb=null):this.Hm&&(f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,null),f.deleteRenderbuffer(this.Hm),
this.Hm=null);f.bindFramebuffer(f.FRAMEBUFFER,null);2<=this.za.Td&&(f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null));f.deleteFramebuffer(this.Hj);this.Hj=this.za.Fc.No=null}qR(){this.za.tu(this.Nq,this.U/this.P)}Cb(){return this.za}we(){return this.yb}NF(){return"nearest"!==this.td}S(){return this.U}V(){return this.P}e3(f){f=Object.assign({},e,f);return"nearest"!==f.Oi!==this.NF()||!!f.alpha!==this.Hs||!!f.depth!==this.lf||2<=this.za.Td&&!!f.gM!==this.Jw?!1:"number"===
typeof f.width||"number"===typeof f.height?!this.Fw&&this.S()===f.width&&this.V()===f.height:this.Fw}UE(){return this.yb?this.yb.UE():this.U*this.P*(this.Hs?4:3)}static async CZ(f,k){f=await f.H5(k);return await d.p2(f)}static Sl(){c.clear()}}}
{"use strict";const d=self.B;d.fa.xv=class{static async mZ(b,a,e,c){const f=b.$,k=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(k,a);f.compileShader(k);a=f.createShader(f.VERTEX_SHADER);f.shaderSource(a,e);f.compileShader(a);const g=f.createProgram();f.attachShader(g,k);f.attachShader(g,a);f.bindAttribLocation(g,0,"aPos");f.bindAttribLocation(g,1,"aTex");f.bindAttribLocation(g,2,"aPoints");f.linkProgram(g);const l=b.HK;l?await b.gfa(()=>f.getProgramParameter(g,l.COMPLETION_STATUS_KHR)):await d.bR(5);
if(!f.getShaderParameter(k,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(k),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling fragment shader: "+c);if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw c=f.getShaderInfoLog(a),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(g),Error("Error compiling vertex shader: "+c);if(!f.getProgramParameter(g,f.LINK_STATUS))throw c=f.getProgramInfoLog(g),f.deleteShader(k),f.deleteShader(a),f.deleteProgram(g),Error("Error linking shader program: "+
c);(b=d.f0(f.getProgramInfoLog(g)||"").trim())&&!d.Nz(b)&&console.info(`[WebGL] Shader program '${c}' compilation log: `,b);f.deleteShader(k);f.deleteShader(a);return g}static async Ua(b,a,e,c){e=await d.fa.xv.mZ(b,a.src,e,c);return new d.fa.xv(b,e,a,c)}constructor(b,a,e,c){const f=b.$;var k=b.Fc;b.Ui();f.useProgram(a);this.$=f;this.za=b;this.Ja=c;this.nb=a;this.dC="<default-device-transform>"===c;c=f.getAttribLocation(a,"aPos");const g=f.getAttribLocation(a,"aTex");this.lK=f.getAttribLocation(a,
"aPoints");-1!==c&&(f.bindBuffer(f.ARRAY_BUFFER,b.AD),f.vertexAttribPointer(c,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(c));-1!==g&&(f.bindBuffer(f.ARRAY_BUFFER,b.nD),f.vertexAttribPointer(g,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(g));-1!==this.lK&&(f.bindBuffer(f.ARRAY_BUFFER,b.RC),f.vertexAttribPointer(this.lK,4,f.FLOAT,!1,0,0),f.enableVertexAttribArray(this.lK));f.bindBuffer(f.ARRAY_BUFFER,null);this.xL=new d.fa.Ec(this,"matP","mat4");this.wL=new d.fa.Ec(this,"matMV","mat4");this.ir=new d.fa.Ec(this,
"color","vec4");this.Jga=new d.fa.Ec(this,"samplerFront","sampler");this.AL=new d.fa.Ec(this,"pointTexStart","vec2");this.zL=new d.fa.Ec(this,"pointTexEnd","vec2");this.DL=new d.fa.Ec(this,"zElevation","float");this.BL=new d.fa.Ec(this,"tileSize","vec2");this.CL=new d.fa.Ec(this,"tileSpacing","vec2");this.vL=new d.fa.Ec(this,"color2_","vec4");this.yL=new d.fa.Ec(this,"outlineThickness","float");this.Vt=new d.fa.Ec(this,"samplerBack","sampler");this.Pm=new d.fa.Ec(this,"destStart","vec2");this.Om=
new d.fa.Ec(this,"destEnd","vec2");this.Yj=new d.fa.Ec(this,"srcStart","vec2");this.Qm=new d.fa.Ec(this,"srcEnd","vec2");this.Sm=new d.fa.Ec(this,"srcOriginStart","vec2");this.Rm=new d.fa.Ec(this,"srcOriginEnd","vec2");this.Gh=new d.fa.Ec(this,"pixelSize","vec2");this.Io=new d.fa.Ec(this,"seconds","float");this.Fo=new d.fa.Ec(this,"layerScale","float");this.Eo=new d.fa.Ec(this,"layerAngle","float");this.Ho=new d.fa.Ec(this,"layoutStart","vec2");this.Go=new d.fa.Ec(this,"layoutEnd","vec2");this.WU=
!!(this.Gh.ia||this.Io.ia||this.Vt.ia||this.Pm.ia||this.Om.ia||this.Yj.ia||this.Qm.ia||this.Sm.ia||this.Rm.ia||this.Fo.ia||this.Eo.ia||this.Ho.ia||this.Go.ia);this.FU=e.Wva||0;this.GU=e.Xva||0;this.TI=!!e.Lva;this.mga=!!e.kxa;this.Et=!!e.yxa;this.bB=!!e.yva;b=e.parameters||[];this.jr=[];this.Ox=this.Pm.ia||this.Om.ia;this.Mga=this.Gh.ia||this.Yj.ia||this.Qm.ia||this.Sm.ia||this.Rm.ia;this.oga=this.TI||this.Ox||0!==this.FU||0!==this.GU;this.rJ=this.sJ=!1;this.ir.EO();this.vL.EO();this.Jga.DO(0);this.Vt.DO(1);
this.AL.Sg(0,0);this.zL.Sg(1,1);this.DL.Or(0);this.BL.Sg(0,0);this.CL.Sg(0,0);this.Pm.Sg(0,0);this.Om.Sg(1,1);this.Yj.Sg(0,0);this.Qm.Sg(0,0);this.Sm.Sg(0,0);this.Rm.Sg(0,0);this.Gh.Sg(0,0);this.Fo.Or(1);this.Eo.Or(0);this.Io.Or(0);this.Ho.Sg(0,0);this.Go.Sg(0,0);this.yL.Or(1);for(const l of b)b=l[2],a=new d.fa.Ec(this,l[0],b),"color"===b?a.t2():a.Or(0),this.jr.push(a);this.dC?this.ZT(k.Vx):(this.nA(k.Vx,!0),this.mA(k.HD,!0));k=k.Ji;f.useProgram(k?k.nb:null)}A(){this.$.deleteProgram(this.nb);this.nb=
null;this.za.bda(this);this.za=this.$=null}Ea(){return this.Ja}un(){return this.mga}nz(b){return this.jr[b].rk()}EY(b){for(let a=0,e=b.length;a<e;++a)if(!this.jr[a].s3(b[a]))return!1;return!0}z6(b){for(let a=0,e=b.length;a<e;++a)this.jr[a].s6(b[a])}FY(b,a,e,c,f,k,g,l,n){return this.Vt.ia||this.Gh.ia&&!this.Gh.Ol(f,k)||this.Pm.ia&&!this.Pm.Ol(b.R,b.O)||this.Om.ia&&!this.Om.Ol(b.Y,b.W)||this.Fo.ia&&!this.Fo.RF(g)||this.Eo.ia&&!this.Eo.RF(l)||this.Yj.ia&&!this.Yj.Ol(a.R,a.O)||this.Qm.ia&&!this.Qm.Ol(a.Y,
a.W)||this.Sm.ia&&!this.Sm.Ol(e.R,e.O)||this.Rm.ia&&!this.Rm.Ol(e.Y,e.W)||this.Ho.ia&&!this.Ho.Ol(c.R,c.O)||this.Go.ia&&!this.Go.Ol(c.O,c.W)||this.Io.ia&&!this.Io.RF(n)?!1:!0}c7(b,a,e,c,f,k,g,l,n){this.Vt.ia||(this.Gh.ia&&this.Gh.Wl(f,k),this.Pm.ia&&this.Pm.Wl(b.R,b.O),this.Om.ia&&this.Om.Wl(b.Y,b.W),this.Fo.ia&&this.Fo.tG(g),this.Eo.ia&&this.Eo.tG(l),this.Yj.ia&&this.Yj.Wl(a.R,a.O),this.Qm.ia&&this.Qm.Wl(a.Y,a.W),this.Sm.ia&&this.Sm.Wl(e.R,e.O),this.Rm.ia&&this.Rm.Wl(e.Y,e.W),this.Ho.ia&&this.Ho.Wl(c.R,
c.O),this.Go.ia&&this.Go.Wl(c.O,c.W),this.Io.ia&&this.Io.tG(n))}nA(b,a){this.sJ&&!a||this.dC||(this.xL.ia&&this.xL.oA(b),this.sJ=!0)}a7(){this.sJ=!1}mA(b,a){this.rJ&&!a||this.dC||(this.wL.ia&&this.wL.oA(b),this.rJ=!0)}Z6(){this.rJ=!1}ZT(b){if(!this.dC)throw Error("not device transform shader");this.xL.oA(b);b=this.za;const a=b.S()/2,e=b.V()/2;b=b.su(a,e,100*self.devicePixelRatio,a,e);this.wL.oA(b)}l8(b){this.ir.ia&&this.ir.lA(b[0],b[1],b[2],b[3])}static ez(b){b=b?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nattribute highp vec3 aPos;",
`attribute ${b} vec2 aTex;`,`varying ${b} vec2 vTex;`,"uniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos, 1.0);\n\tvTex = aTex;\n}"].join("\n")}}}
{"use strict";const d=self.B,b=self.ul.So,a=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);d.fa.Ec=class{constructor(e,c,f){if(!a.has(f))throw Error("invalid uniform type");this.nc=e;this.$=this.nc.$;this.Ja=c;this.Da=f;this.IJ="color"===this.Da;this.si=this.$.getUniformLocation(this.nc.nb,c);this.ia=!!this.si;e=a.get(f);this.jb=new Float32Array(e);this.Pj=new Float32Array(e)}A(){this.si=this.$=this.nc=null}rk(){return this.Da}Or(e){this.ia&&
(this.jb[0]=e,this.Pj.set(this.jb),this.$.uniform1f(this.si,e))}DO(e){this.ia&&(this.jb[0]=e,this.Pj.set(this.jb),this.$.uniform1i(this.si,e))}Sg(e,c){this.ia&&(this.jb[0]=e,this.jb[1]=c,this.Pj.set(this.jb),this.$.uniform2f(this.si,e,c))}t2(){this.ia&&(this.jb[0]=0,this.jb[1]=0,this.jb[2]=0,this.Pj.set(this.jb),this.$.uniform3f(this.si,0,0,0))}EO(){this.ia&&(this.jb[0]=1,this.jb[1]=1,this.jb[2]=1,this.jb[3]=1,this.Pj.set(this.jb),this.$.uniform4f(this.si,1,1,1,1))}vs(e){e=Math.fround(e);const c=
this.jb;c[0]!==e&&(c[0]=e,this.$.uniform1f(this.si,e))}ef(e,c){e=Math.fround(e);c=Math.fround(c);const f=this.jb;if(f[0]!==e||f[1]!==c)f[0]=e,f[1]=c,this.$.uniform2f(this.si,e,c)}j8(e,c,f){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);const k=this.jb;if(k[0]!==e||k[1]!==c||k[2]!==f)k[0]=e,k[1]=c,k[2]=f,this.$.uniform3f(this.si,e,c,f)}lA(e,c,f,k){e=Math.fround(e);c=Math.fround(c);f=Math.fround(f);k=Math.fround(k);const g=this.jb;if(g[0]!==e||g[1]!==c||g[2]!==f||g[3]!==k)g[0]=e,g[1]=c,g[2]=f,g[3]=
k,this.$.uniform4f(this.si,e,c,f,k)}oA(e){const c=this.jb;b.ak(c,e)||(d.Tia(c,e),this.$.uniformMatrix4fv(this.si,!1,e))}s3(e){const c=this.Pj;return this.IJ?c[0]===Math.fround(e.cb)&&c[1]===Math.fround(e.Ia)&&c[2]===Math.fround(e.ab):c[0]===Math.fround(e)}s6(e){const c=this.Pj;this.IJ?(c[0]=e.cb,c[1]=e.Ia,c[2]=e.ab):c[0]=e}RF(e){return this.Pj[0]===Math.fround(e)}Ol(e,c){const f=this.Pj;return f[0]===Math.fround(e)&&f[1]===Math.fround(c)}tG(e){this.Pj[0]=e}Wl(e,c){const f=this.Pj;f[0]=e;f[1]=c}}}
{"use strict";const d=self.B,b=self.ul,a=b.ty,e=b.So;d.fa.KY=class{constructor(c){this.xf=c;this.HD=e.create();this.Vx=e.create();this.No=null;this.GD=a.Zf(1,1,1,1);this.Ji=null;this.vM=new d.Rect;this.clearColor=d.C(d.ib,0,0,0,0)}};d.fa.x8=class{constructor(c){const f=new ArrayBuffer(96);this.Da=0;this.Fc=c;this.$=c.xf.$;this.tq=this.Ch=0;this.rf=null;this.Ke=new Float32Array(f,0,16);this.gq=new Float32Array(f,64,4);this.FW=new Float32Array(f,80,4);this.$C=[]}I2(c){this.Da=1;this.Ch=c;this.tq=6}$Z(){const c=
this.$;c.drawElements(c.TRIANGLES,this.tq,c.UNSIGNED_SHORT,this.Ch)}Q2(c){this.Da=2;this.rf=c}l_(){const c=this.$,f=this.rf;c.bindTexture(c.TEXTURE_2D,f?f.yb:null)}AF(c){this.Da=3;c.Mh(this.gq,0)}b_(){const c=this.gq,f=this.Fc;a.xa(f.GD,c);f.Ji.l8(c)}e_(){const c=this.gq,f=this.Fc.Ji;f.vL.ia&&f.vL.lA(c[0],c[1],c[2],c[3])}J2(c,f){this.Da=4;this.Ch=c;this.tq=f}a_(){this.$.blendFunc(this.Ch,this.tq)}R2(c,f){this.Da=5;const k=this.gq;k[0]=0;k[1]=0;k[2]=c;k[3]=f}n_(){const c=this.gq;this.$.viewport(c[0],
c[1],c[2],c[3])}O2(c){this.Da=6;e.xa(this.Ke,c)}j_(){const c=this.Fc,f=c.xf.Yp,k=c.Ji,g=this.Ke;for(let l=0,n=f.length;l<n;++l){const q=f[l];q===k?q.nA(g,!0):q.a7()}e.xa(c.Vx,g)}L2(c){this.Da=7;e.xa(this.Ke,c)}f_(){const c=this.Fc,f=c.xf.Yp,k=c.Ji,g=this.Ke;for(let l=0,n=f.length;l<n;++l){const q=f[l];q===k?q.mA(g,!0):q.Z6()}e.xa(c.HD,g)}P2(c){this.Da=8;this.rf=c}k_(){const c=this.$;var f=this.rf;const k=this.Fc;f?(f=f.Hj,k.No=f,c.bindFramebuffer(c.FRAMEBUFFER,f)):(k.No=null,c.bindFramebuffer(c.FRAMEBUFFER,
null))}y2(c){this.Da=9;c.Mh(this.Ke,0)}z2(){this.Da=9;const c=this.Ke;c[0]=0;c[1]=0;c[2]=0;c[3]=0}TZ(){const c=this.$;var f=this.Ke,k=this.Fc;const g=k.clearColor;(k=k.xf.Bq&&d.du)&&c.disable(c.SCISSOR_TEST);const l=f[0],n=f[1],q=f[2];f=f[3];g.Yx(l,n,q,f)||(c.clearColor(l,n,q,f),g.Xo(l,n,q,f));c.clear(c.COLOR_BUFFER_BIT);k&&c.enable(c.SCISSOR_TEST)}x2(c,f,k,g){this.Da=10;const l=this.Ke;l[0]=c;l[1]=f;l[2]=k;l[3]=g;l[4]=0;l[5]=0;l[6]=0;l[7]=0}SZ(){const c=this.$;var f=this.Ke,k=this.Fc;const g=k.xf;
k=k.clearColor;g.Bq||c.enable(c.SCISSOR_TEST);c.scissor(f[0],f[1],f[2],f[3]);const l=f[4],n=f[5],q=f[6];f=f[7];k.Yx(l,n,q,f)||(c.clearColor(l,n,q,f),k.Xo(l,n,q,f));c.clear(c.COLOR_BUFFER_BIT);g.Bq?c.scissor(0,0,g.Sx,g.Rx):c.disable(c.SCISSOR_TEST)}g_(){const c=this.Ke;this.Fc.vM.set(c[0],c[1],c[2],c[3])}ZZ(){const c=this.$,f=this.Fc,k=f.xf.fD;c.useProgram(k.nb);k.nA(f.Vx,!1);k.mA(f.HD,!1);var g=f.vM;k.AL.ia&&k.AL.ef(g.R,g.O);k.zL.ia&&k.zL.ef(g.Y,g.W);g=this.Ke[0];k.DL.ia&&k.DL.vs(g);k.ir.ia&&(g=f.GD,
k.ir.lA(g[0],g[1],g[2],g[3]));c.drawArrays(c.POINTS,this.Ch/4,this.tq);c.useProgram(f.Ji.nb)}M2(c){this.Da=12;this.rf=c}h_(){var c=this.$;const f=this.Fc,k=this.rf;f.Ji=k;c.useProgram(k.nb);k.nA(f.Vx,!1);k.mA(f.HD,!1);k.ir.ia&&(c=f.GD,k.ir.lA(c[0],c[1],c[2],c[3]))}N2(){this.Da=13}i_(){const c=this.Fc.Ji;c.WU&&this.x$(c);c.jr.length&&this.y$(c)}x$(c){const f=this.$,k=this.Ke,g=this.gq,l=this.FW;if(c.Vt.ia){const n=this.Fc.xf,q=this.rf;n.ho!==q&&(f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,
q?q.yb:null),n.ho=q,f.activeTexture(f.TEXTURE0))}c.Gh.ia&&c.Gh.ef(k[0],k[1]);c.Pm.ia&&c.Pm.ef(k[2],k[3]);c.Om.ia&&c.Om.ef(k[4],k[5]);c.Fo.ia&&c.Fo.vs(k[6]);c.Eo.ia&&c.Eo.vs(k[7]);c.Yj.ia&&c.Yj.ef(k[12],k[13]);c.Qm.ia&&c.Qm.ef(k[14],k[15]);c.Sm.ia&&c.Sm.ef(l[0],l[1]);c.Rm.ia&&c.Rm.ef(l[2],l[3]);c.Ho.ia&&c.Ho.ef(g[0],g[1]);c.Go.ia&&c.Go.ef(g[2],g[3]);c.Io.ia&&c.Io.vs(this.Ch)}y$(c){c=c.jr;const f=this.$C;for(let k=0,g=c.length;k<g;++k){const l=c[k],n=f[k];l.IJ?l.j8(n.cb,n.Ia,n.ab):l.vs(n)}}E2(c){this.Da=
14;this.rf=c}YZ(){const c=this.$,f=this.rf,k=this.Fc.No;f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,f);c.invalidateFramebuffer(c.FRAMEBUFFER,[c.COLOR_ATTACHMENT0]);f!==k&&c.bindFramebuffer(c.FRAMEBUFFER,k)}u2(c,f){this.Da=17;var k=this.Ke;const g=this.Fc.xf;k[0]=c.S();k[1]=c.V();k[2]=f?f.S():g.S();k[3]=f?f.V():g.V();k[4]=c.NF()?1:0;k[5]=!0;k=this.$C;d.F(k);k.push(c.Hj);k.push(f?f.Hj:null)}QZ(){var c=this.Ke,f=this.$C;const k=this.$;var g=c[0],l=c[1],n=c[2];const q=c[3],r=0!==c[4];c=0!==c[5];const p=f[1];
k.bindFramebuffer(k.READ_FRAMEBUFFER,f[0]);k.bindFramebuffer(k.DRAW_FRAMEBUFFER,p);c?k.blitFramebuffer(0,0,g,l,0,0,n,q,k.COLOR_BUFFER_BIT,r?k.LINEAR:k.NEAREST):(f=Math.min(g,n),g=Math.min(l,q),n=Math.max(l-q,0),l=Math.max(q-l,0),k.blitFramebuffer(0,n,f,g+n,0,l,f,g+l,k.COLOR_BUFFER_BIT,k.NEAREST))}T2(c){this.Da=18;this.rf=c}o_(){this.rf.qE();this.rf=null}D2(c){this.Da=19;this.rf=c}XZ(){this.rf.JE();this.rf=null}d_(){const c=this.Fc.Ji,f=this.Ke;c.Gh.ia&&c.Gh.ef(f[0],f[1]);c.yL.ia&&c.yL.vs(f[2])}m_(){const c=
this.Fc.Ji,f=this.Ke;c.Yj.ia&&c.Yj.ef(f[0],f[1]);c.Gh.ia&&c.Gh.ef(f[4],f[5]);c.BL.ia&&c.BL.ef(f[6],f[7]);c.CL.ia&&c.CL.ef(f[8],f[9])}w2(){this.Da=22}RZ(){const c=this.$;c.clear(c.DEPTH_BUFFER_BIT)}K2(c){this.Da=23;this.Ch=c?1:0}c_(){const c=this.$;0===this.Ch?(c.disable(c.DEPTH_TEST),c.depthMask(!1)):(c.enable(c.DEPTH_TEST),c.depthMask(!0))}C2(){this.Da=24}WZ(){const c=this.$;c.clear(c.STENCIL_BUFFER_BIT);c.enable(c.STENCIL_TEST);c.stencilFunc(c.ALWAYS,1,1);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);c.colorMask(!1,
!1,!1,!1)}B2(){this.Da=25}VZ(){const c=this.$;c.colorMask(!0,!0,!0,!0);c.stencilFunc(c.EQUAL,1,1);c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}A2(){this.Da=26}UZ(){const c=this.$;c.disable(c.STENCIL_TEST)}ta(){switch(this.Da){case 1:this.$Z();break;case 2:this.l_();break;case 3:this.b_();break;case 4:this.a_();break;case 5:this.n_();break;case 6:this.j_();break;case 7:this.f_();break;case 8:this.k_();break;case 9:this.TZ();break;case 10:this.SZ();break;case 11:this.ZZ();break;case 12:this.h_();break;case 13:this.i_();
break;case 14:this.YZ();break;case 15:this.g_();break;case 16:this.m_();break;case 17:this.QZ();break;case 18:this.o_();break;case 19:this.XZ();break;case 20:this.d_();break;case 21:this.e_();break;case 22:this.RZ();break;case 23:this.c_();break;case 24:this.WZ();break;case 25:this.VZ();break;case 26:this.UZ()}}}}
{"use strict";const d=self.B,b={timeout:60},a=new d.ib(0,0,0,1),e=new Set(["left","center","right"]),c=new Set(["top","center","bottom"]),f=new Set(["word","character"]),k=new Set;d.i0&&d.i0.addEventListener("fontload",q=>{q=q.font.Ea();for(const r of k)(r.He||d.Kh(r.LB,q))&&r.Vp()});function g(q,r,p,u,t,w){r?"Gecko"===d.bd.Ay?q.strokeText(p,u,t,w):q.strokeText(p,u,t):"Gecko"===d.bd.Ay?q.fillText(p,u,t,w):q.fillText(p,u,t)}let l=!1,n=!1;d.fa.NP=class{constructor(q,r){r=Object.assign({},b,r);this.za=
q;this.LB="Arial";this.MB=16;this.KU=1;this.Ac=0;this.bga=this.Xfa=!1;this.sB="black";this.He=!1;this.pM=null;this.wI=new Set;this.ke="left";this.de="top";this.fc="";this.rj=null;this.wf=d.C(d.yv);this.kr="word";this.VJ=this.oD=!1;this.Dw=!0;this.qh=-1;this.P=this.U=this.lm=this.jf=this.ph=0;this.Ii=1;this.QI=!1;this.$w=this.zm=this.qe=this.$q=null;this.wV=this.xV=-1;this.zC=this.zV=this.aK="";this.bK=this.cK=1;this.ax=(p,u)=>this.Nv(p,u);this.yb=null;this.Ex=this.Gx=0;this.xg=new d.Rect;this.rx=
1;this.yK=!1;this.qL=new d.o2(()=>{this.Wh();this.IT(8,8)},r.timeout);this.qM=null;this.Tx=!1;k.add(this)}A(){this.pM=null;this.wI.clear();this.ax=this.$w=this.zm=this.qe=this.$q=this.rj=null;this.qL.A();this.qM=null;this.Wh();this.wf.Lc();this.za=this.wf=null;this.Tx=!0;k.delete(this)}Up(){this.QI=!0}Vp(){this.Up();this.wf.Lc();this.oD=!0}V6(){this.Dw=!1}Tg(){return this.Dw}fQ(q){q=!!q;this.He!==q&&(q=(this.He=q)?"alphabetic":"top",this.qe&&(this.qe.textBaseline=q),this.zm&&(this.zm.textBaseline=
q),this.Vp())}K6(){"Arial"!==this.LB&&(this.LB="Arial",this.Vp())}L6(){var q=16;.1>q&&(q=.1);this.MB!==q&&(this.MB=q,this.Vp())}jA(q){this.Ac!==q&&(this.Ac=q,this.Up())}gA(q){q=Math.floor(q);this.qh!==q&&(this.qh=q,this.Up())}Sc(q,r){for(let p=q.length-1;0<=p;--p){const u=q[p];if(u.tag===r)return u}return null}Jn(q,r){return!!this.Sc(q,r)}gS(q,r){let p=[];(this.Xfa||this.Jn(r,"b"))&&p.push("bold");(this.bga||this.Jn(r,"i"))&&p.push("italic");var u=this.Sc(r,"size");u=(u?parseFloat(u.od):this.MB)*
this.KU;q?p.push(u+"pt"):p.push(u*this.rx*this.Ii*self.devicePixelRatio+"pt");q=this.LB;(r=this.Sc(r,"font"))&&r.od&&(q=r.od,this.pM&&!this.wI.has(q)&&(this.pM(q),this.wI.add(q)));q&&p.push('"'+q+'"');return p.join(" ")}Ak(q){q instanceof d.ib&&(q=q.Bha());this.sB!==q&&(this.sB=q,this.Up())}gQ(q,r,p){a.YD(q,r,p);this.Ak(a)}R6(){if(!e.has("center"))throw Error("invalid horizontal alignment");"center"!==this.ke&&(this.ke="center",this.Up())}E7(){if(!c.has("center"))throw Error("invalid vertical alignment");
"center"!==this.de&&(this.de="center",this.Up())}LQ(q){if(!f.has(q))throw Error("invalid word wrap mode");this.kr!==q&&(this.kr=q,this.Vp())}qs(q){this.fc!==q&&(this.fc=q,this.Vp())}Dc(q,r,p){"undefined"===typeof p&&(p=1);if(!(0>=q||0>=q||this.jf===q&&this.lm===r&&this.Ii===p)){1===this.Ii!==(1===p)&&(this.yK=!0);var u=this.jf,t=this.Ii;this.jf=q;this.lm=r;this.Ii=p;q=self.devicePixelRatio;this.U=this.jf*this.Ii*q;this.P=this.lm*this.Ii*q;q=Math.max(this.U,this.P);r=Math.min(this.za.JC,2048);p=1;
q>r&&(p=r/q,this.U=Math.min(this.U*p,r),this.P=Math.min(this.P*p,r));this.rx=p;0<this.Gx&&0<this.Ex&&this.Ii===t&&this.xg.set(0,0,this.U/this.Gx,this.P/this.Ex);this.jf!==u?this.Vp():this.Up()}}S(){return this.U}V(){return this.P}uO(){this.Qp();return this.wf.$N()}tO(){this.Qp();return this.wf.A1()+this.wf.dl.length*(this.Ac+4)-this.Ac}we(){this.qL.Pc();this.Mba();return this.yb}Mba(){this.yb&&!this.QI&&!this.oD||this.VJ||0>=this.U||0>=this.P||(this.QI=!1,this.VJ=!0,this.Dw?d.xl(()=>this.LR()):this.LR())}LR(){this.Tx||
(this.IT(Math.ceil(this.U),Math.ceil(this.P)),this.Qp(),this.S$(),this.bfa(),this.qL.Pc(),this.VJ=!1)}IT(q,r){this.$q||(this.$q=d.Gg(16,16));let p=!1;if(this.xV!==q||this.wV!==r)this.xV=q,this.wV=r,this.$q.width=q,this.$q.height=r,p=!0;this.qe||(this.qe=this.$q.getContext("2d"),p=!0);p?(this.qe.textBaseline=this.He?"alphabetic":"top",this.qe.font=this.aK,this.qe.fillStyle=this.zC,this.qe.strokeStyle=this.zC,this.qe.globalAlpha=this.cK,this.qe.lineWidth=this.bK):this.qe.clearRect(0,0,q,r)}OS(){this.zm||
(this.zm=d.Gg(16,16).getContext("2d"),this.$w=d.Gg(16,16).getContext("2d"),this.zm.textBaseline=this.He?"alphabetic":"top",this.$w.textBaseline="top")}qea(q){this.zV!==q&&(this.zV=q,this.zm.font=q,this.$w.font=q)}RT(){if(!l){l=!0;this.OS();const q=this.zm.measureText("test");n="number"===typeof q.fontBoundingBoxAscent&&"number"===typeof q.fontBoundingBoxDescent}return n}Qp(){this.oD&&(this.OS(),!this.He||this.rj&&this.rj.toString()===this.fc||(this.rj=new d.yl(this.fc,{DX:!0})),this.wf.yv(this.He?
this.rj.UX():this.fc,this.ax,this.jf,this.kr,0),this.oD=!1)}Nv(q,r){this.qea(this.gS(!0,r));r=this.Sc(r,"size");r=(r?parseFloat(r.od):this.MB)*this.KU;const p=this.zm.measureText(q);let u=0;this.He&&this.RT()&&(u=p.fontBoundingBoxAscent-this.$w.measureText(q).fontBoundingBoxAscent);return{width:p.width,height:4/3*r,Cg:p.fontBoundingBoxAscent||0,Yf:p.fontBoundingBoxDescent||0,$f:u}}bea(q){this.aK!==q&&(this.aK=q,this.qe.font=q)}QA(q){this.zC!==q&&(this.zC=q,this.qe.fillStyle=q,this.qe.strokeStyle=
q)}aea(q){this.cK!==q&&(this.cK=q,this.qe.globalAlpha=q)}zT(q){this.bK!==q&&(this.bK=q,this.qe.lineWidth=q)}S$(){this.ph=0;const q=this.rx*this.Ii*self.devicePixelRatio,r=(4+this.Ac)*q;var p=0;const u=this.wf.dl;if(0!==u.length){var t=this.He&&this.RT(),w=u[0].height*q;"center"===this.de?(p=u.reduce((x,z)=>x+z.height*q+r,0)-r,p=Math.max(this.P/2-p/2,0),t&&(w=u[0].$f*q)):"bottom"===this.de&&(p=u.reduce((x,z)=>x+z.height*q+r,0)-this.Ac*q,p=this.P-p-(t?u.ue(-1).Yf*q:0)-2);for(let x=0,z=u.length;x<z;++x){t=
u[x];const E=t.height*q,G=p;if(this.He){if(p+=0===x?w:E,0<x&&p>this.P-4*q)break}else if(0<x&&p>=this.P-E)break;0<=G&&this.R$(t,p,q);this.He||(p+=E);p+=r}}}R$(q,r,p){let u=0;"center"===this.ke?u=(this.U-q.width*p)/2:"right"===this.ke&&(u=this.U-q.width*p);for(const t of q.XL)this.Q$(t,u,r,p,q.height),u+=t.width*p}Q$(q,r,p,u,t){const w=this.qe;var x=t/16;t=q.width*u;const z=q.height*u,E=q.height/16;var G=(4+this.Ac)*u,N=q.pd,C=q.text;if(-1!==this.qh){if(this.ph>=this.qh)return;this.ph+C.length>this.qh&&
(C=C.substr(0,this.qh-this.ph),t=this.Nv(C,N).width*u);this.ph+=C.length}var H=this.Sc(N,"background"),I=this.Jn(N,"u");q=this.Jn(N,"s");if((!d.Nz(C)||H||I||q)&&!this.Jn(N,"hide")){var K=this.Sc(N,"offsetx");r+=K?parseFloat(K.od)*u:0;K=this.Sc(N,"offsety");p+=K?parseFloat(K.od)*u:0;H&&(this.QA(H.od),w.fillRect(r,p-z,t,z+G));K=this.Sc(N,"color");this.QA(K?K.od:this.sB);G=this.Sc(N,"opacity");this.aea(G?parseFloat(G.od)/100:1);G=(G=this.Sc(N,"linethickness"))?parseFloat(G.od):1;(H=this.Jn(N,"stroke"))&&
this.zT(.5*E*G*this.rx*this.Ii*self.devicePixelRatio);this.bea(this.gS(!1,N));g(w,H,C,r,p,t);!H&&(this.zT(.5*E*G*this.rx*this.Ii*self.devicePixelRatio),N=this.Sc(N,"outline"))&&(this.QA(N.od),g(w,!0,C,r,p,t));this.QA(K?K.od:this.sB);I&&(N=r,C=p+u*x,I=t,x=u*x*G,H?w.strokeRect(N,C,I,x):w.fillRect(N,C,I,x));q&&(u*=E,w.fillRect(r,p-z/4+u/2-u*G/2,t,u*G))}}bfa(){this.za.tp()||(this.Gx=Math.ceil(this.U),this.Ex=Math.ceil(this.P),this.xg.set(0,0,this.U/this.Gx,this.P/this.Ex),this.yK&&(this.Wh(),this.yK=
!1),this.yb||(this.yb=this.za.pN(this.Gx,this.Ex,{PD:1===this.Ii,gy:"high"})),this.za.p8(this.$q,this.yb),this.qM&&this.qM())}Th(){return this.xg}Wh(){this.yb&&(this.za.tp()||this.za.ek(this.yb),this.yb=null)}static Sl(){for(const q of k)q.Wh()}}}
{"use strict";const d=self.B;class b{constructor(a){this.$=a.$;this.Td=a.Td;this.Sd=a.Sd;this.wi=null;this.uw=this.Lb=!1;this.YC=0;this.wi=1===this.Td?this.Sd.createQueryEXT():this.$.createQuery()}A(){this.CR();this.Sd=this.$=null;this.uw=!1}CR(){this.wi&&(1===this.Td?this.Sd.deleteQueryEXT(this.wi):this.$.deleteQuery(this.wi),this.wi=null)}qE(){if(this.Lb)throw Error("query already active");1===this.Td?this.Sd.beginQueryEXT(this.Sd.TIME_ELAPSED_EXT,this.wi):this.$.beginQuery(this.Sd.TIME_ELAPSED_EXT,
this.wi);this.Lb=!0}JE(){if(!this.Lb)throw Error("query not active");1===this.Td?this.Sd.endQueryEXT(this.Sd.TIME_ELAPSED_EXT):this.$.endQuery(this.Sd.TIME_ELAPSED_EXT);this.Lb=!1}vE(){if(this.wi&&!this.uw&&!this.Lb){var a=1===this.Td?this.Sd.getQueryObjectEXT(this.wi,this.Sd.QUERY_RESULT_AVAILABLE_EXT):this.$.getQueryParameter(this.wi,this.$.QUERY_RESULT_AVAILABLE);var e=this.$.getParameter(this.Sd.GPU_DISJOINT_EXT);a&&!e&&(this.YC=1===this.Td?this.Sd.getQueryObjectEXT(this.wi,this.Sd.QUERY_RESULT_EXT):
this.$.getQueryParameter(this.wi,this.$.QUERY_RESULT),this.YC/=1E9,this.uw=!0);(a||e)&&this.CR()}}Cz(){return this.uw}rz(){if(!this.uw)throw Error("no result available");return this.YC}}d.fa.z8=class{constructor(a){this.za=a;this.ni=a.ni;this.Lb=!1;this.ro=null;this.Aq=!1;this.Gt=null;this.Qq=[]}A(){for(const a of this.Qq)a instanceof b&&a.A();d.F(this.Qq);this.za=this.Gt=this.ro=null}qE(){if(this.Lb)throw Error("query already active");const a=this.za.MW;0<a.length?(this.Aq=!0,this.ro=a.ue(-1),this.ro.OR(),
this.ro.Qq.push(this)):(this.Aq=!1,this.ro=null);this.Lb=!0;a.push(this);this.PT()}JE(){if(!this.Lb)throw Error("query not active");if(this.za.MW.pop()!==this)throw Error("can only end most nested query");this.Lb=!1;this.OR();this.ro&&(this.ro.PT(),this.ro=null)}PT(){this.Gt=d.C(b,this.za);this.Qq.push(this.Gt);this.Gt.qE()}OR(){this.Gt.JE();this.Gt=null}vE(){for(const a of this.Qq)a.vE()}Cz(){return this.Qq.every(a=>a.Cz())}rz(){return this.Qq.reduce((a,e)=>a+e.rz(),0)}}}
{"use strict";const d=self.B;d.fa.eR=class{constructor(b,a=1E3){this.za=b;this.lga=a;this.Pk=[];this.za.Q8(this)}A(){this.Lc();this.za.ada(this);this.za=null}Lc(){for(const b of this.Pk)b.A();d.F(this.Pk)}oE(){const b=new d.fa.z8(this.za);this.Pk.push(b);this.Pk.length>this.lga&&this.Pk.shift().A();return b}aZ(b){for(const a of this.Pk){if(a.ni>=b)break;if(a.Aq)break;a.vE()}}UN(b,a){if(a<=b)return NaN;let e=0;for(const c of this.Pk){if(c.ni>=a)break;if(!(c.ni<b))if(c.Cz())e+=c.rz();else return NaN}return e}tN(b){for(let a=
0,e=this.Pk.length;a<e;++a){const c=this.Pk[a];if(c.ni<b)c.A();else{0<a&&this.Pk.splice(0,a);break}}}}}
{"use strict";const d=self.B,b=self.ul,a=b.ty,e=b.So,c={powerPreference:"default",rX:!0,alpha:!1,hM:!1,depth:!1,BX:2,failIfMajorPerformanceCaveat:!1},f=new Set(["default","low-power","high-performance"]),k=new d.Bd(0,0,1,0,1,1,0,1),g=e.create(),l=e.create(),n=new d.Bd,q=new d.Rect;let r=null;d.du&&(self.Ova=function(){r?r.loseContext():console.warn("WEBGL_lose_context not supported")},self.Pva=function(){r?r.restoreContext():console.warn("WEBGL_lose_context not supported")});const p=new Set;let u=
-1;function t(){u=-1;for(const w of p)w.bha()&&(w.resolve(),p.delete(w));0<p.size&&(u=self.requestAnimationFrame(t))}d.fa.y8=class extends d.fa.T5{constructor(w,x){super();x=Object.assign({},c,x);if(!f.has(x.powerPreference))throw Error("invalid power preference");const z={alpha:!!x.alpha,depth:!1,antialias:!1,powerPreference:x.powerPreference,failIfMajorPerformanceCaveat:!!x.failIfMajorPerformanceCaveat};x.hM&&(z.desynchronized=!0,z.preserveDrawingBuffer=!0);let E=null,G=0;2<=x.BX&&(E=w.getContext("webgl2",
z),G=2);E||(E=w.getContext("webgl",z),G=1);if(!E)throw Error("failed to initialise WebGL context");this.$=E;this.iU=E.getContextAttributes();x.hM&&!this.iU.desynchronized&&console.info("[WebGLRenderer] Low-latency mode specified but is not supported here");E.getParameter(E.VERSION);this.Td=G;this.Tf=a.create();this.DI=e.create();this.JJ=this.Jo=!!x.depth;this.kq=null;this.HJ=!0;this.sU=this.tU=0;this.RC=this.gV=this.nD=this.AD=null;this.Qx=new Float32Array(24E3);this.hV=new Uint16Array(12E3);this.Zq=
new Float32Array(16E3);this.bW=new Float32Array(32E3);this.BV=this.SC=this.Oe=this.Hi=0;this.zo=this.Fq=null;this.aw=[];this.oc=this.Nn=0;this.Od=null;this.Fc=d.C(d.fa.KY,this);this.Tw=d.C(d.ib,1,1,1,1);this.ho=this.xm=null;this.XJ=this.$J=0;this.Bq=!1;this.Rx=this.Sx=-1;this.ega=new d.Rect;this.JC=-1;this.rK=0;this.Mx="(unavailable)";this.MJ=!1;this.Wv=this.HK=null;this.qK=0;this.aga=!!x.rX;this.Sd=null;this.aB=new Set;this.MW=[];this.e0(this.hV)}Yu(){return!0}async Hz(){super.Hz();var w=this.$;
this.Tw.Xo(1,1,1,1);this.ho=this.xm=null;this.SC=this.Hi=0;this.BV=23988;d.F(this.aw);this.oc=this.Nn=0;this.Od=this.Fq=null;this.ega.set(0,0,1,1);var x=this.Fc;x.Ji=null;x.No=null;a.set(x.GD,1,1,1,1);x.clearColor.Xo(0,0,0,0);x.vM.set(0,0,1,1);w.clearColor(0,0,0,0);w.clear(w.COLOR_BUFFER_BIT);w.enable(w.BLEND);w.blendFunc(w.ONE,w.ONE_MINUS_SRC_ALPHA);this.$J=w.ONE;this.XJ=w.ONE_MINUS_SRC_ALPHA;this.Maa(w);w.disable(w.CULL_FACE);w.disable(w.STENCIL_TEST);w.disable(w.DITHER);this.Jo?(w.enable(w.DEPTH_TEST),
w.depthMask(!0),w.depthFunc(w.LEQUAL)):(w.disable(w.DEPTH_TEST),w.depthMask(!1));this.JJ=this.Jo;this.RC=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.RC);w.bufferData(w.ARRAY_BUFFER,this.bW.byteLength,w.DYNAMIC_DRAW);this.AD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.AD);w.bufferData(w.ARRAY_BUFFER,this.Qx.byteLength,w.DYNAMIC_DRAW);this.nD=w.createBuffer();w.bindBuffer(w.ARRAY_BUFFER,this.nD);w.bufferData(w.ARRAY_BUFFER,this.Zq.byteLength,w.DYNAMIC_DRAW);this.gV=w.createBuffer();w.bindBuffer(w.ELEMENT_ARRAY_BUFFER,
this.gV);w.bufferData(w.ELEMENT_ARRAY_BUFFER,this.hV,w.STATIC_DRAW);w.activeTexture(w.TEXTURE0);w.bindTexture(w.TEXTURE_2D,null);this.JC=w.getParameter(w.MAX_TEXTURE_SIZE);this.rK=w.getParameter(w.ALIASED_POINT_SIZE_RANGE)[1];2048<this.rK&&(this.rK=2048);if(x=w.getExtension("WEBGL_debug_renderer_info"))w.getParameter(x.UNMASKED_VENDOR_WEBGL),this.Mx=w.getParameter(x.UNMASKED_RENDERER_WEBGL);this.HK=w.getExtension("KHR_parallel_shader_compile");d.du&&(r=w.getExtension("WEBGL_lose_context"));if(this.aga)if(1===
this.Td){if("Chromium"!==d.bd.Ay||81<=d.bd.sE||"undefined"!==typeof document)this.Sd=w.getExtension("EXT_disjoint_timer_query")}else this.Sd=w.getExtension("EXT_disjoint_timer_query_webgl2")||w.getExtension("EXT_disjoint_timer_query");this.qK=(this.Wv=w.getExtension("EXT_texture_filter_anisotropic"))?w.getParameter(this.Wv.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0;w=d.fa.xv;x=w.ez(!1);w=await Promise.all([["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",
x,"<default>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex) * color;\n}",x,"<default-device-transform>"],["uniform lowp sampler2D samplerFront;\nvarying lowp float pointOpacity;\nuniform mediump vec2 pointTexStart;\nuniform mediump vec2 pointTexEnd;\nuniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, mix(pointTexStart, pointTexEnd, gl_PointCoord)) * color * pointOpacity;\n}",
"attribute vec4 aPoints;\nvarying float pointOpacity;\nuniform float zElevation;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);\n\tgl_PointSize = aPoints.z;\n\tpointOpacity = aPoints.w;\n}","<point>"],["uniform lowp vec4 color;\nvoid main(void) {\n\tgl_FragColor = color;\n}",x,"<fill>"],["precision lowp float;\nvarying mediump vec2 vTex;\nuniform vec4 color;\nuniform vec4 color2_;\nvec3 fromLinear(vec3 linearRGB)\n{\n\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));\n\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);\n\tvec3 lower = linearRGB * vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvec3 toLinear(vec3 sRGB)\n{\n\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));\n\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));\n\tvec3 lower = sRGB/vec3(12.92);\n\treturn mix(higher, lower, vec3(cutoff));\n}\nvoid main(void) {\n\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);\n\tfloat a = mix(color.a, color2_.a, vTex.x);\n\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);\n}",
x,"<lineargradient>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float f = step(diffSq.x + diffSq.y, 0.25);\n\tgl_FragColor = color * f;\n}",x,"<hardellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump float innerF = step(distSq, 0.25);\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<hardellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;\n\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;\n\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);\n\tgl_FragColor = color * f;\n}",
x,"<smoothellipse>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nuniform mediump vec2 pixelSize;\nuniform mediump float outlineThickness;\nvoid main(void) {\n\tmediump vec2 diff = vTex - vec2(0.5, 0.5);\n\tmediump vec2 diffSq = diff * diff;\n\tmediump float distSq = diffSq.x + diffSq.y;\n\tmediump vec2 norm = normalize(diff);\n\tmediump vec2 halfNorm = norm * 0.5;\n\tmediump vec2 halfNormSq = halfNorm * halfNorm;\n\tmediump vec2 pxNorm = pixelSize * norm;\n\tmediump vec2 innerEdge1 = halfNorm - pxNorm;\n\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;\n\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);\n\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;\n\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;\n\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);\n\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;\n\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);\n\tgl_FragColor = color * innerF * outerF;\n}",
x,"<smoothellipseoutline>"],["varying mediump vec2 vTex;\nuniform lowp vec4 color;\nvoid main(void) {\n\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;\n\tgl_FragColor = color * f;\n}",x,"<smoothline>"],["#ifdef GL_FRAGMENT_PRECISION_HIGH\n#define highmedp highp\n#else\n#define highmedp mediump\n#endif\nvarying highmedp vec2 vTex;\nuniform lowp vec4 color;\nuniform lowp sampler2D samplerFront;\nuniform highmedp vec2 srcStart;\nuniform highmedp vec2 pixelSize;\nuniform highmedp vec2 tileSize;\nuniform highmedp vec2 tileSpacing;\nvoid main(void) {\n\thighmedp vec2 tile = floor(vTex);\n\thighmedp vec2 tex = fract(vTex);\n\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);\n\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;\n\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;\n\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;\n}",
w.ez(!0),"<tilemap>"]].map(z=>this.DE({src:z[0]},z[1],z[2])));this.gD=w[0];this.zo=w[1];this.fD=w[2];this.eL=w[3];this.Zh()}async DE(w,x,z){w=await d.fa.xv.Ua(this,w,x,z);this.S8(w);return w}Z5(){this.Fq=null}Dc(w,x,z){if(this.U!==w||this.P!==x||z){this.Ui();z=this.$;var E=this.Fc;this.U=w;this.P=x;w=this.jO();x=this.lF();this.MT(w,x);this.tu(this.DI,w/x);this.ps(this.DI);this.zo&&(z.useProgram(this.zo.nb),this.zo.ZT(this.IC),this.Fq=this.zo,this.Fc.Ji=this.zo);z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,null);z.activeTexture(z.TEXTURE0);this.ho=this.xm=null;this.Jo&&this.HJ&&this.XH(this.U,this.P);this.Od&&this.Od.iT(this.U,this.P);z.bindFramebuffer(z.FRAMEBUFFER,null);this.Od=null;E.No=null}}XH(w,x){const z=this.$;if(this.kq){if(this.tU===w&&this.sU===x)return;z.deleteRenderbuffer(this.kq)}this.kq=z.createRenderbuffer();z.bindRenderbuffer(z.RENDERBUFFER,this.kq);z.renderbufferStorage(z.RENDERBUFFER,2<=this.Td?z.DEPTH24_STENCIL8:z.DEPTH_STENCIL,w,x);z.bindRenderbuffer(z.RENDERBUFFER,
null);this.tU=w;this.sU=x}J6(w,x){this.Jo&&(this.HJ=!1,this.XH(w,x))}r6(){this.Jo&&(this.HJ=!0,this.XH(this.U,this.P))}jO(){return this.Bq?this.Sx:this.S()}lF(){return this.Bq?this.Rx:this.V()}MT(w,x){const z=this.Tf;if(0!==z[0]||0!==z[1]||z[2]!==w||z[3]!==x)this.Oc().R2(w,x),a.set(z,0,0,w,x),this.oc=0}ps(w){e.ak(this.IC,w)||(this.Oc().O2(w),e.xa(this.IC,w),this.oc=0)}kQ(){let w,x;var z=this.Od;null===z||z.Fw&&this.Bq?(w=this.DI,x=this.jO(),z=this.lF()):(w=z.Nq,x=z.S(),z=z.V());this.ps(w);this.MT(x,
z)}ls(w){e.ak(this.oK,w)||(this.Oc().L2(w),e.xa(this.oK,w),this.oc=0)}Oc(){const w=this.aw;this.Nn===w.length&&w.push(new d.fa.x8(this.Fc));return w[this.Nn++]}Ui(){0===this.Nn||this.tp()||(this.lfa(),this.V$(),this.oc=this.SC=this.Oe=this.Hi=this.Nn=0)}lfa(){const w=this.$;0<this.SC&&(w.bindBuffer(w.ARRAY_BUFFER,this.RC),w.bufferSubData(w.ARRAY_BUFFER,0,this.bW.subarray(0,this.SC)));0<this.Hi&&(w.bindBuffer(w.ARRAY_BUFFER,this.AD),w.bufferSubData(w.ARRAY_BUFFER,0,this.Qx.subarray(0,this.Hi)),w.bindBuffer(w.ARRAY_BUFFER,
this.nD),w.bufferSubData(w.ARRAY_BUFFER,0,this.Zq.subarray(0,this.Oe)))}V$(){const w=this.aw;for(let x=0,z=this.Nn;x<z;++x)w[x].ta()}Ld(){return this.Tw.Wa}Hf(w,x,z,E){const G=this.Tw;G.Yx(w,x,z,E)||(G.Xo(w,x,z,E),this.Oc().AF(G),this.oc=0,this.Aj=null)}$e(w){const x=this.Tw;x.Wa!==w&&(x.Lh(w),this.Oc().AF(x),this.oc=0,this.Aj=null)}Ak(w){const x=this.Tw;x.Zc(w)||(x.set(w),this.Oc().AF(x),this.oc=0,this.Aj=null)}gs(){this.Hf(1,1,1,1)}$g(w){w!==this.xm&&(this.Oc().Q2(w),this.xm=w,this.oc=0)}QH(){this.xm=
null}kg(w){w=this.maa(w);this.WH(w[0],w[1])}WH(w,x){if(w!==this.$J||x!==this.XJ)this.Oc().J2(w,x),this.$J=w,this.XJ=x,this.oc=0,this.Aj=null}sG(){this.WH(this.$.ONE,this.$.ONE_MINUS_SRC_ALPHA)}iQ(){this.WH(this.$.ONE,this.$.ZERO)}Rect(w){this.KP(w.R,w.O,w.Y,w.W)}KP(w,x,z,E){this.C5(w,x,z,x,z,E,w,E)}Ev(){let w=this.Hi;w>=this.BV&&(this.Ui(),w=0);1===this.oc?this.aw[this.Nn-1].tq+=6:(this.Oc().I2(w),this.oc=1)}jI(w){w.Wia(this.Qx,this.Hi,this.$v+this.kw);this.Hi+=12}Bd(w){this.Ev();this.jI(w);k.Mh(this.Zq,
this.Oe);this.Oe+=8}C5(w,x,z,E,G,N,C,H){this.Ev();const I=this.Qx;let K=this.Hi;const Q=this.$v+this.kw;I[K++]=w;I[K++]=x;I[K++]=Q;I[K++]=z;I[K++]=E;I[K++]=Q;I[K++]=G;I[K++]=N;I[K++]=Q;I[K++]=C;I[K++]=H;I[K++]=Q;this.Hi=K;k.Mh(this.Zq,this.Oe);this.Oe+=8}bs(w,x){this.Ev();this.jI(w);x.Via(this.Zq,this.Oe);this.Oe+=8}D5(w,x){this.Ev();this.jI(w);x.Mh(this.Zq,this.Oe);this.Oe+=8}Xz(w,x,z,E,G,N,C,H,I,K,Q,R,U){this.Ev();const Z=this.Qx;let ca=this.Hi;const Y=this.$v+this.kw;Z[ca++]=w;Z[ca++]=x;Z[ca++]=
Y+z;Z[ca++]=E;Z[ca++]=G;Z[ca++]=Y+N;Z[ca++]=C;Z[ca++]=H;Z[ca++]=Y+I;Z[ca++]=K;Z[ca++]=Q;Z[ca++]=Y+R;this.Hi=ca;U.Mh(this.Zq,this.Oe);this.Oe+=8}j0(w,x){e.xa(g,this.IC);e.xa(l,this.oK);this.kQ();if(this.Bq){w=this.su(0,0,100*self.devicePixelRatio,0,0);this.ls(w);w=this.Sx/2;var z=this.Rx/2;q.set(-w,z,-w+this.Sx,z-this.Rx);n.bk(q);q.set(0,0,this.Sx/this.U,this.Rx/this.P);this.bs(n,q)}else{const [N,C]=this.u1(this.Od);z=this.su(0,0,100*self.devicePixelRatio,0,0,C);this.ls(z);if("crop"===w&&this.Od&&
x){w=this.U/2;z=this.P/2;const H=x.S();x=x.V();var E=this.Od.S(),G=this.Od.V();E=Math.min(E,H);const I=Math.min(G,x),K=Math.max(x-G,0);G=Math.max(G-x,0);q.set(-w,z-G,-w+E,z-I-G);n.bk(q);q.set(0,K,E,I+K);q.sl(H,x);this.bs(n,q)}else w=N/2,z=C/2,this.KP(-w,z,w,-z)}this.ps(g);this.ls(l)}Dn(w){this.Fq!==w&&(this.Oc().M2(w),this.Fq=w,this.oc=0,this.Aj=null)}B6(){this.Dn(this.zo)}os(w,x,z,E,G,N,C,H,I,K,Q){const R=this.Fq;var U=R.WU;const Z=!!Q.length;if(U&&!R.FY(x,z,E,G,N,C,H,I,K)||Z&&!R.EY(Q)){var ca=this.Oc();
ca.N2();U&&(R.c7(x,z,E,G,N,C,H,I,K),U=ca.Ke,U[0]=N,U[1]=C,x.Mh(U,2),U[6]=H,U[7]=I,z.Mh(U,12),x=ca.gq,G.Mh(x,0),G=x[1],x[1]=x[3],x[3]=G,E.Mh(ca.FW,0),ca.Ch=K,ca.rf=R.Vt.ia?w?w.we():null:null);Z&&(R.z6(Q),d.xd(ca.$C,Q));this.oc=0}}Gy(){this.Oc().z2();this.oc=0}Lc(w){this.Oc().y2(w);this.oc=0}wE(w){this.gZ(w.R,w.O,w.width(),w.height())}gZ(w,x,z,E){0>z||0>E||(this.Oc().x2(w,x,z,E),this.oc=0)}En(){}Bu(){super.Bu();this.$.flush()}cZ(){this.Jo&&this.Od&&this.Od.lf&&(this.Oc().w2(),this.oc=0)}An(w){w=!!w;
this.JJ!==w&&this.Jo&&(this.JJ=w,this.Oc().K2(w),this.oc=0)}$Y(){for(const w of this.aB)w.aZ(this.ni)}tp(){return!this.$||this.$.isContextLost()||this.MJ}Sl(){super.u4();d.fa.qA.Sl();d.fa.VG.Sl();d.fa.NP.Sl();for(const w of this.aB)w.Lc();this.Wv=this.HK=this.Sd=null;this.qK=0;this.Mx="(unavailable)";this.kq=this.zo=this.Fq=null;for(const w of this.Cx.values())w.Sl()}async ZF(){this.MJ=!0;await this.Hz();this.MJ=!1;for(const w of this.Cx.values())w.ZF(this);this.Dc(this.U,this.P,!0)}Jy(w,x){if(this.tp())throw Error("context lost");
this.Ui();const z=d.C(d.fa.qA,this);z.Q9(w,x);return z}Ky(w,x){if(this.tp())return Promise.reject("context lost");x=Object.assign({},x);const z=x.fE&&"clamp-to-edge"!==x.fE||x.gE&&"clamp-to-edge"!==x.gE;if(!d.Vb.ImageBitmapOptions||!this.Lp()&&z)return d.Vb.ImageBitmap?createImageBitmap(w).then(E=>d.xl(()=>this.Jy(E,x))):w instanceof Blob?d.WM(w,!0).then(E=>this.Ky(E,x)):"undefined"!==typeof HTMLImageElement&&w instanceof HTMLImageElement&&"function"===typeof w.decode?w.decode().then(()=>d.xl(()=>
this.Jy(w,x))):d.xl(()=>this.Jy(w,x));x.premultiplyAlpha=!1;return createImageBitmap(w,{premultiplyAlpha:"premultiply"}).then(E=>d.xl(()=>this.Jy(E,x)))}pN(w,x,z){this.Ui();const E=d.C(d.fa.qA,this);E.z9(w,x,z);return E}p8(w,x){this.Ui();x.UT(w,void 0)}ek(w){w&&(w.Y7(),0<w.Xc||(this.Ui(),w===this.xm&&(this.$.bindTexture(this.$.TEXTURE_2D,null),this.xm=null),w===this.ho&&(this.$.activeTexture(this.$.TEXTURE1),this.$.bindTexture(this.$.TEXTURE_2D,null),this.$.activeTexture(this.$.TEXTURE0),this.ho=
null),w.kH()))}zZ(w){let x=this.U,z=this.P,E=!0;w&&("number"===typeof w.width&&(x=w.width,E=!1),"number"===typeof w.height&&(z=w.height,E=!1));if(0>=x||0>=z)throw Error("invalid size");this.Ui();const G=d.C(d.fa.VG,this);G.w9(x,z,Object.assign({wX:E},w));this.Od=null;this.Fc.No=null;return G}bf(w){w!==this.Od&&(w&&w.Fw&&w.iT(this.U,this.P),this.Oc().P2(w),this.Od=w,this.oc=0,this.kQ())}qz(){return this.Od}u1(w){return w?[w.S(),w.V()]:[this.U,this.P]}yE(w){2>this.Td||this.Od&&0<this.Od.Am?(this.iQ(),
this.gs(),this.wu(w,"stretch")):(this.Oc().u2(w,this.Od),this.oc=0)}wu(w,x="stretch"){w=w.we();if(!w)throw Error("not a texture-backed render target");this.$g(w);this.j0(x,w)}rp(w){2>this.Td||(this.Oc().E2(w.Hj),this.oc=0)}NZ(w){this.bf(null);this.Ui();const x=w.we();x===this.xm&&(this.$.bindTexture(this.$.TEXTURE_2D,null),this.xm=null);x===this.ho&&(this.$.activeTexture(this.$.TEXTURE1),this.$.bindTexture(this.$.TEXTURE_2D,null),this.$.activeTexture(this.$.TEXTURE0),this.ho=null);w.kH()}async H5(w){this.Ui();
const x=this.Od;if(w){var z=w.S();var E=w.V();w=w.Hj}else z=this.S(),E=this.V(),w=null;const G=this.$;G.bindFramebuffer(G.FRAMEBUFFER,w);w=new ImageData(z,E);G.readPixels(0,0,z,E,G.RGBA,G.UNSIGNED_BYTE,new Uint8Array(w.data.buffer));(()=>{G.bindFramebuffer(G.FRAMEBUFFER,null);this.Od=null;this.Fc.No=null;this.bf(x)})();return w}mN(){this.An(!0);this.Oc().C2();this.oc=0}lN(){this.An(!1);this.Oc().B2();this.oc=0}kN(){this.An(!0);this.Oc().A2();this.oc=0}PG(w){this.Ek()&&(this.Oc().T2(w),this.oc=0)}IE(w){this.Ek()&&
(this.Oc().D2(w),this.oc=0)}gfa(w){const x=new Promise(z=>p.add({resolve:z,bha:w}));-1===u&&(u=self.requestAnimationFrame(t));return x}h3(){return!!this.iU.desynchronized}C0(){let w=0;for(const x of d.fa.qA.Rga())w+=x.UE();return w}Lp(){return 2<=this.Td}Ek(){return!!this.Sd}Q8(w){this.aB.add(w)}ada(w){this.aB.delete(w)}Maa(w){this.Laa([["normal",w.ONE,w.ONE_MINUS_SRC_ALPHA],["additive",w.ONE,w.ONE],["xor",w.ONE,w.ONE_MINUS_SRC_ALPHA],["copy",w.ONE,w.ZERO],["destination-over",w.ONE_MINUS_DST_ALPHA,
w.ONE],["source-in",w.DST_ALPHA,w.ZERO],["destination-in",w.ZERO,w.SRC_ALPHA],["source-out",w.ONE_MINUS_DST_ALPHA,w.ZERO],["destination-out",w.ZERO,w.ONE_MINUS_SRC_ALPHA],["source-atop",w.DST_ALPHA,w.ONE_MINUS_SRC_ALPHA],["destination-atop",w.ONE_MINUS_DST_ALPHA,w.SRC_ALPHA]])}}}
{"use strict";let d=null;const b=new Set;let a=!1;self.i2=class{constructor(e){d=e;Object.defineProperties(this,{Eha:{value:{},writable:!1},storage:{value:new self.m2(d),writable:!1},Hwa:{value:d.Je,writable:!1}});d.se.addEventListener("keydown",c=>{b.has(c.key)?c.stopPropagation():b.add(c.key)});d.se.addEventListener("keyup",c=>b.delete(c.key));d.Hb().addEventListener("window-blur",()=>b.clear());d.Je&&(self.alert=c=>{a||(a=!0,console.warn("[Construct 3] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual."));
return this.alert(c)})}Paa(e){Object.defineProperties(this.Eha,e)}addEventListener(e,c){d.se.addEventListener(e,c)}removeEventListener(e,c){d.se.removeEventListener(e,c)}get pX(){return d.Wi()}get nwa(){return d.Mg()}random(){return d.Ul()}get Dg(){return d.Pb().xw}get keyboard(){const e=d.fw.keyboard;if(!e)throw Error("runtime.keyboard used but Keyboard object missing - add it to your project first");return e}get kM(){const e=d.fw.kM;if(!e)throw Error("runtime.mouse used but Mouse object missing - add it to your project first");
return e}get NM(){const e=d.fw.NM;if(!e)throw Error("runtime.touch used but Touch object missing - add it to your project first");return e}alert(e){return d.zp("runtime","alert",{message:e+(d.Je?" [via Web Worker]":"")})}}}"use strict";self.a2=class{constructor(){}};{"use strict";const d=self.Eg;self.m2=class{constructor(b){this.Ag=b.nS()}getItem(b){d.Ae(b);return this.Ag.getItem(b)}setItem(b,a){d.Ae(b);return this.Ag.setItem(b,a)}removeItem(b){d.Ae(b);return this.Ag.removeItem(b)}clear(){return this.Ag.clear()}keys(){return this.Ag.keys()}}}
{"use strict";const d=self.Eg,b=new WeakMap;self.Ez=class{constructor(a){b.set(this,a);Object.defineProperties(this,{name:{value:a.Ea(),writable:!1}});a.K().MS(this,a)}addEventListener(a,e){d.Ae(a);d.yk(e);b.get(this).se.addEventListener(a,e)}removeEventListener(a,e){d.Ae(a);d.yk(e);b.get(this).se.removeEventListener(a,e)}*vX(){for(const a of b.get(this).pa())yield a.Rh()}TL(a){d.jg(void 0);d.jg(void 0);if("number"!==typeof a&&"string"!==typeof a)throw new TypeError("invalid layer parameter");var e=
b.get(this),c=e.K();a=c.Pb().ea(a);if(!a)throw Error("invalid layer");e=c.AE(e,a,void 0,void 0,void 0);c=c.oa();c.Qe(!0);e.VA();c.Qe(!1);return e.Rh()}}}
{"use strict";const d=self.Eg,b=new WeakMap;self.e2=class{constructor(a){b.set(this,a);const e=[],c=a.Sa,f=c.Ig().length;for(let k=0;k<f;++k)e.push(new self.zF(c,k));Object.defineProperties(this,{name:{value:a.Ea(),writable:!1},index:{value:a.Ka(),writable:!1},qX:{value:e,writable:!1}})}addEventListener(a,e){d.Ae(a);d.yk(e);b.get(this).se.addEventListener(a,e)}removeEventListener(a,e){d.Ae(a);d.yk(e);b.get(this).se.removeEventListener(a,e)}get width(){return b.get(this).S()}set width(a){b.get(this).cf(a)}get height(){return b.get(this).V()}set height(a){b.get(this).Ze(a)}set scale(a){d.Xg(a);
b.get(this).Jp(a)}get scale(){return b.get(this).Zb}set angle(a){d.Xg(a);b.get(this).jc(a)}get angle(){return b.get(this).ja()}set scrollX(a){d.jg(a);b.get(this).fj(a)}get scrollX(){return b.get(this).eg()}set scrollY(a){d.jg(a);b.get(this).gj(a)}get scrollY(){return b.get(this).fg()}scrollTo(a,e){d.jg(a);d.jg(e);const c=b.get(this);c.fj(a);c.gj(e)}set LX(a){d.Ae(a);const e=b.get(this);if("perspective"===a)e.CQ();else if("orthographic"===a)e.zQ();else throw Error("invalid projection");}get LX(){return b.get(this).Lf?
"orthographic":"perspective"}}}
{"use strict";const d=self.B,b=self.Eg,a=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);const e=d.C(d.ib);self.d2=class{constructor(c){a.set(this,c);const f=[],k=c.Sa,g=k.Ig().length;for(let l=0;l<g;++l)f.push(new self.zF(k,l));Object.defineProperties(this,{name:{value:c.Ea(),writable:!1},index:{value:c.Ka(),
writable:!1},Dg:{value:c.uc().xw,writable:!1},qX:{value:f,writable:!1}})}get isVisible(){return a.get(this).$c()}set isVisible(c){a.get(this).$h(c)}get opacity(){return a.get(this).Ld()}set opacity(c){c=d.da(+c,0,1);isNaN(c)||a.get(this).$e(c)}set scale(c){b.Xg(c);a.get(this).AQ(c)}get scale(){return a.get(this).Zb}set angle(c){b.Xg(c);a.get(this).jc(c)}get angle(){return a.get(this).Ee}set wy(c){b.Xg(c);a.get(this).df(c)}get wy(){return a.get(this).Za()}set backgroundColor(c){b.lG(c);if(3>c.length)throw Error("expected 3 elements");
e.YD(c[0],c[1],c[2]);c=a.get(this);const f=c.hm;f.Qo(e)||(f.Wm(e),c.K().ga())}get backgroundColor(){const c=a.get(this).hm;return[c.cb,c.Ia,c.ab]}set scrollX(c){b.jg(c);const f=a.get(this);f.nv(!0);f.fj(c)}get scrollX(){return a.get(this).eg()}set scrollY(c){b.jg(c);const f=a.get(this);f.nv(!0);f.gj(c)}get scrollY(){return a.get(this).fg()}scrollTo(c,f){b.jg(c);b.jg(f);const k=a.get(this);k.nv(!0);k.fj(c);k.gj(f)}}}
{"use strict";const d=self.B,b=self.Eg,a=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.C(d.Event.Hb);e.set(k,g);return g}let f=null;self.Wu=class{constructor(){a.set(this,f);const k={Kc:{value:f.K().Lj,writable:!1},oM:{value:f.J().yw,writable:!1},uid:{value:f.zb,writable:!1}};f.taa(k);f.laa(k);Object.defineProperties(this,k);f.K().MS(this,f)}static mj(k){f=k}static In(){return f}Pv(){const k=e.get(this);k&&(k.A(),e.delete(this));a.delete(this)}addEventListener(k,g,l){b.Ae(k);
b.yk(g);c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){b.Ae(k);b.yk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}
{"use strict";const d=self.B,b=self.Eg,a=self.Wu,e=new WeakMap;[...(new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]])).entries()].map(c=>[c[1],c[0]]);d.C(d.ib);self.Fz=class c extends a{constructor(){super();var f=a.In();e.set(this,f);const k=[];var g=f.m();if(f=g.Ge){g=g.J().Sa.Ig().length;for(let l=0;l<g;++l)k.push(new self.zF(f,l))}Object.defineProperties(this,
{qX:{value:k,writable:!1}})}get Dg(){return e.get(this).m().uc().xw}get fe(){return e.get(this).m().ea().Qfa}get x(){return e.get(this).m().L()}set x(f){f=+f;const k=e.get(this).m();isNaN(f)||k.L()===f||(k.bh(f),k.ua())}get y(){return e.get(this).m().M()}set y(f){f=+f;const k=e.get(this).m();isNaN(f)||k.M()===f||(k.dh(f),k.ua())}get wy(){return e.get(this).m().Za()}set wy(f){f=+f;const k=e.get(this),g=k.m();isNaN(f)||g.Za()===f||(g.df(f),k.K().ga())}get width(){return e.get(this).m().S()}set width(f){f=
+f;const k=e.get(this).m();isNaN(f)||k.S()===f||(k.cf(f),k.ua())}get height(){return e.get(this).m().V()}set height(f){f=+f;const k=e.get(this).m();isNaN(f)||k.V()===f||(k.Ze(f),k.ua())}get angle(){return e.get(this).m().ja()}set angle(f){f=d.md(+f);const k=e.get(this).m();isNaN(f)||k.ja()===f||(k.jc(f),k.ua())}aM(){e.get(this).m().Mc().Mia()}get isVisible(){return e.get(this).m().$c()}set isVisible(f){f=!!f;const k=e.get(this),g=k.m();g.$c()!==f&&(g.$h(f),k.K().ga())}get opacity(){return e.get(this).m().Ld()}set opacity(f){f=
d.da(+f,0,1);const k=e.get(this),g=k.m();isNaN(f)||g.Ld()===f||(g.$e(f),k.K().ga())}get zIndex(){return e.get(this).m().sk()}Xf(f,k){b.jg(f);b.jg(k);return e.get(this).m().vu(+f,+k)}getParent(){const f=e.get(this).Fa();return f?f.Rh():null}*hy(){for(const f of e.get(this).hy())yield f.Rh()}*children(){for(const f of e.get(this).children())yield f.Rh()}*rl(){for(const f of e.get(this).rl())yield f.Rh()}removeChild(f){b.mG(f,c);const k=e.get(this);f=e.get(f);k.xk(f)}}}
{"use strict";const d=new WeakMap;self.dna=class extends self.Fz{constructor(){super();d.set(this,self.Wu.In())}focus(){d.get(this).ma.FN()}blur(){d.get(this).ma.YM()}}}
{"use strict";const d=self.B,b=self.Eg,a=new WeakMap,e=new WeakMap;function c(k){let g=e.get(k);if(g)return g;g=d.C(d.Event.Hb);e.set(k,g);return g}let f=null;self.Dz=class{constructor(){a.set(this,f);const k={Kc:{value:f.K().Lj,writable:!1},behavior:{value:f.zf().U0(),writable:!1}};Object.defineProperties(this,k)}static mj(k){f=k}static In(){return f}get instance(){return a.get(this).H.Rh()}Pv(){const k=e.get(this);k&&(k.A(),e.delete(this));a.delete(this)}addEventListener(k,g,l){b.Ae(k);b.yk(g);
c(this).addEventListener(k,g,l)}removeEventListener(k,g,l){b.Ae(k);b.yk(g);c(this).removeEventListener(k,g,l)}dispatchEvent(k){c(this).dispatchEvent(k)}}}{"use strict";const d=new WeakMap;self.BO=class{constructor(b){d.set(this,b);Object.defineProperties(this,{Kc:{value:b.K().Lj,writable:!1}})}}}
{"use strict";const d=self.B,b=self.Eg,a=new WeakMap;self.zF=class{constructor(e,c){a.set(this,e);Object.defineProperties(this,{index:{value:c,writable:!1}})}get name(){return a.get(this).Ig()[this.index].Ea()}getParameter(e){b.Xg(e);e=Math.floor(+e);const c=a.get(this).Kg(this.index);if(0>e||e>=c.length)throw new RangeError("invalid effect parameter index");e=c[e];return e instanceof d.ib?[e.cb,e.Ia,e.ab]:e}}}
{"use strict";const d=self.B,b=new Set(["local","remote"]),a=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.JY=class extends d.la{constructor(e,c){super();var f=c.exportType;this.j=e;this.FC=new Map;this.qt=new Map;this.jga=new Map;this.cC="cordova"===f;this.WJ=!!c.isiOSCordova;this.Gw=!!c.isFileProtocol;this.Gga=c.supportedAudioFormats||{};this.CI=
new Map;this.eW=!1;this.bV=this.LU=this.NV="";this.wB="html5"===f||"scirra-arcade"===f||"instant-games"===f?"remote":"local";this.sI=[];this.BI=new Map;this.IL=[];this.DC=[];this.XU=!1;this.yC=this.AI=this.Kx=0;this.tJ=!1;this.iga=d.C(d.G5,()=>this.TR(),50);this.SK=new d.dG(Math.max(d.hardwareConcurrency,8));if(e=c.previewImageBlobs){(f=c.previewProjectFileBlobs)&&Object.assign(e,f);(f=c.projectData)&&(e["data.json"]=f);for(const [k,g]of Object.entries(e))this.FC.set(k.toLowerCase(),g)}if(c=c.previewProjectFileSWUrls)for(const [k,
g]of Object.entries(c))this.jga.set(k,g);new self.a2(this)}A(){this.FC.clear();for(const e of this.qt.values())e.startsWith("blob:")&&URL.revokeObjectURL(e);this.qt.clear();for(const e of this.sI)e.A();d.F(this.sI);this.BI.clear();d.F(this.DC);this.j=null}K(){return this.j}rea(e){this.NV=e}cea(e){this.LU=e}iea(e){this.bV=e}FA(e){return this.FC.has(e.toLowerCase())}CA(e){return this.FC.get(e.toLowerCase())||null}dF(e){if(!this.FA(e))return e;e=e.toLowerCase();var c=this.qt.get(e);c||(c=this.CA(e),
c=URL.createObjectURL(c),this.qt.set(e,c));return c}Bl(e,c){c=c||this.wB;const f=this.CA(e);if(f)return Promise.resolve(f);if(d.QF(e)){const k=e.toLowerCase();return this.cC&&this.Gw?this.oN(k):"local"===c?this.SK.sc(()=>d.Bl(k)):d.Bl(k)}return d.Bl(e)}zu(e){const c=this.CA(e);if(c)return d.OY(c);if(d.QF(e)){const f=e.toLowerCase();return this.cC&&this.Gw?this.nN(f):"local"===this.wB?this.SK.sc(()=>d.zu(f)):d.zu(f)}return d.zu(e)}Au(e){const c=this.CA(e);if(c)return d.XM(c);if(d.QF(e)){const f=e.toLowerCase();
return this.cC&&this.Gw?this.tZ(f):"local"===this.wB?this.SK.sc(()=>d.Au(f)):d.Au(f)}return d.Au(e)}async DN(e){e=await this.Au(e);return JSON.parse(e)}bH(e,c){return this.j.zp("runtime","cordova-fetch-local-file",{filename:e,as:c})}tZ(e){return this.bH(e,"text")}async oN(e){const c=await this.bH(e,"buffer");e?(e=e.split("."),e=2>e.length?"":a.get(e.ue(-1).toLowerCase())||""):e="";return new Blob([c],{type:e})}async sZ(e){e=e.toLowerCase();var c=this.qt.get(e);if(c)return c;c=await this.oN(e);c=URL.createObjectURL(c);
this.qt.set(e,c);return c}nN(e){return this.bH(e,"buffer")}aO(e){return this.FA(e)?this.dF(e):this.NV+e.toLowerCase()}oz(e,c=""){if(d.DF(e)){if(c)throw Error("cannot specify subfolder with remote URL");return Promise.resolve(e)}return this.FA(e)?Promise.resolve(this.dF(e)):this.cC&&this.Gw?this.sZ(c+e):Promise.resolve(c+e.toLowerCase())}Sz(e){if(e.ey&&!b.has(e.ey))throw Error("invalid load policy");let c=this.BI.get(e.url);if(c)return c;c=d.C(d.CO,this,{url:e.url,size:e.size||0,ey:e.ey||this.wB});
this.sI.push(c);this.BI.set(c.kl,c);this.XU||(this.Kx+=c.ln(),this.DC.push(c.WO().then(()=>this.lR(c.ln()))));return c}async cR(){try{await Promise.all(this.DC),this.yC=1}catch(e){console.error("Error loading: ",e),this.tJ=!0,this.TR()}}S6(){this.XU=!0}lR(e){this.AI+=e;this.iga.WY()}TR(){const e=d.C(d.Event,"loadingprogress");this.yC=d.da(this.AI/this.Kx,0,1);e.progress=this.yC;this.j.Hb().dispatchEvent(e)}Dea(e){d.xd(this.IL,e);this.IL.length&&this.DC.push(this.Eba())}Eba(){if("undefined"===typeof FontFace)return Promise.resolve();
const e=[];for(const [c,f,k]of this.IL)this.Kx+=k,e.push(this.Dba(c,f).then(()=>this.lR(k)));return Promise.all(e)}async Dba(e,c){try{const f=await this.oz(c,this.LU),k=new FontFace(e,`url('${f}')`);this.j.Je?self.fonts.add(k):document.fonts.add(k);await k.load()}catch(f){console.warn(`[C3 runtime] Failed to load web font '${e}': `,f)}}FO(e){return!!this.Gga[e]}Sda(e,c){this.eW=!!c;for(const [f,k,g]of e)this.CI.set(f,{fileName:f,wha:k.map(l=>({type:l[0],Yva:l[1],sX:f+l[1],fileSize:l[2]})),Qha:g})}fO(e){e=
this.CI.get(e.toLowerCase());if(!e)return null;let c=null;for(const f of e.wha)if(c||"audio/webm; codecs=opus"!==f.type||(c=f),this.FO(f.type))return f;return c}Ng(e){return(e=this.fO(e))?{url:this.aO(e.sX),type:e.type}:null}q0(){if(this.eW){const e=[];for(const c of this.CI.values()){if(c.Qha)continue;const f=this.fO(c.fileName);f&&e.push({lia:c.fileName,url:this.aO(f.sX),type:f.type,fileSize:f.fileSize})}return e}return[]}async ZO(e){e=await this.oz(e);return await this.j.zp("runtime","add-stylesheet",
{url:e})}}}
{"use strict";const d=self.B;d.IY=class extends d.la{constructor(b,a){super();this.sb=b;this.j=b.K();this.kl=a.url;this.Jt=a.size;this.jK=a.ey;this.bw=null;this.PJ=!1;this.ko=null}A(){this.bw=this.j=this.sb=this.ko=null}ln(){return this.Jt}WO(){return"local"===this.jK||this.bw?(this.PJ=!0,Promise.resolve()):this.ko?this.ko:this.ko=this.sb.Bl(this.kl,this.jK).then(b=>{this.PJ=!0;this.ko=null;return this.bw=b}).catch(b=>console.error("Error loading resource: ",b))}OF(){return this.PJ}JN(){return this.bw?Promise.resolve(this.bw):
this.ko?this.ko:this.sb.Bl(this.kl,this.jK)}}}
{"use strict";const d=self.B,b=new d.dG,a=new Set;d.CO=class extends d.IY{constructor(e,c){super(e,c);this.nl=this.br=null;this.Xc=0;this.dV=this.fV=-1;a.add(this)}A(){this.Wh();if(0!==this.Xc)throw Error("released image asset which still has texture references");this.br=null;a.delete(this);super.A()}static Zr(){for(const e of a)e.br=null,e.nl=null,e.Xc=0}Vr(e,c){c=c||{};this.Xc++;if(this.nl)return Promise.resolve(this.nl);if(this.br)return this.br;c.cX=this.j.X.LW;return this.br=this.JN().then(f=>
b.sc(()=>e.Ky(f,c).then(k=>{this.br=null;if(0===this.Xc)return e.ek(k),null;this.nl=k;this.fV=k.S();this.dV=k.V();return this.nl}))).catch(f=>{console.error("Failed to load texture: ",f);throw f;})}Wh(){if(0>=this.Xc)throw Error("texture released too many times");this.Xc--;0===this.Xc&&this.nl&&(this.nl.Cb().ek(this.nl),this.nl=null)}we(){return this.nl}S(){return this.fV}V(){return this.dV}async M3(){const e=await this.JN();return d.Vb.ImageBitmapOptions?await createImageBitmap(e,{premultiplyAlpha:"none"}):
d.Vb.ImageBitmap?await createImageBitmap(e):await d.WM(e)}}}
{"use strict";const d=self.B;function b(a,e){return a.m().ql-e.m().ql}d.R5=class extends d.la{constructor(a,e,c){super();this.Z=e;this.T=c;this.I=[];this.Lw=!0;this.Sj=new Set;this.Cw=!1}A(){d.F(this.I);this.Sj.clear()}Pc(){d.F(this.I);this.Lw=!0;this.Sj.clear();this.Cw=!1}u6(){this.Lw=!1}vp(){if(!this.I.length)return!0;if(this.I.length>this.Sj.size)return!1;this.tH();return!0}BF(a){this.Sj.has(a)?(this.Sj.delete(a),0===this.Sj.size&&(this.Cw=!1)):(this.I.push(a),this.Lw=1===this.I.length)}Xh(a){this.Sj.add(a);
this.Cw=!0;50<=this.Sj.size&&this.tH()}tH(){this.Cw&&(this.I.length===this.Sj.size?this.Pc():(d.Jh(this.I,this.Sj),this.Sj.clear(),this.Cw=!1))}U$(){this.Lw||(this.I.sort(b),this.Lw=!0)}GE(a){this.tH();this.U$();this.I.length&&a.push(this.I)}}}
{"use strict";const d=self.B;d.S5=class extends d.la{constructor(b,a){super();this.OI=b;this.NI=a;this.vj=d.C(d.$u)}A(){this.vj.A();this.vj=null}fn(b,a,e){let c=this.vj.ba(b,a);return c?c:e?(c=d.C(d.R5,this,b,a),this.vj.Set(b,a,c),c):null}ij(b){return Math.floor(b/this.OI)}jj(b){return Math.floor(b/this.NI)}Yl(b,a,e){if(a)for(let c=a.R,f=a.Y;c<=f;++c)for(let k=a.O,g=a.W;k<=g;++k){if(e&&e.Xf(c,k))continue;const l=this.fn(c,k,!1);l&&(l.Xh(b),l.vp()&&this.vj.bp(c,k))}if(e)for(let c=e.R,f=e.Y;c<=f;++c)for(let k=
e.O,g=e.W;k<=g;++k)a&&a.Xf(c,k)||this.fn(c,k,!0).BF(b)}Yz(b,a){let e=this.ij(b.R);const c=this.jj(b.O),f=this.ij(b.Y);for(b=this.jj(b.W);e<=f;++e)for(let k=c;k<=b;++k){const g=this.fn(e,k,!1);g&&g.GE(a)}}R3(b){let a=b.R;const e=b.O,c=b.Y;for(b=b.W;a<=c;++a)for(let f=e;f<=b;++f){const k=this.fn(a,f,!1);k&&k.u6()}}}}
{"use strict";const d=self.B,b=new d.Rect,a=new d.Bd,e=[],c=new d.Rect,f=new d.Rect,k=self.ul,g=k.dE,l=k.ty,n=k.So;n.create();const q=g.create(),r=l.create(),p=g.create(),u=g.create(),t=g.create(),w=d.C(d.wv);function x(C,H){return C.m().ql-H.m().ql}function z(C,H){return C.m().Za()-H.m().Za()}const E=[],G=[],N=[];d.TF=class extends d.la{constructor(C,H,I){super();this.Rj=C;this.j=C.K();this.Ja=I[0];this.Va=H;this.Xa=I[2];this.vC=!!I[3];this.hm=d.C(d.ib);this.hm.Wo(I[4].map(K=>K/255));this.eo=!!I[5];
this.me=I[6];this.ne=I[7];this.ub=d.C(d.ib,1,1,1,I[8]);this.TC=d.C(d.ib);this.KJ=I[9];this.Aga=I[17];this.RW=I[18];this.Lga=I[10];this.Vj=I[11];this.Qn=I[12];this.Rk=null;this.Zb=1;this.kd=I[16];this.Ci=this.Bi=this.Ee=0;this.qm=!1;this.Tf=d.C(d.Rect);this.YW=d.C(d.Rect);this.Ko=d.C(d.Rect);this.Nq=n.create();this.TJ=!0;this.RV=n.create();this.QJ=!0;this.XW=d.C(d.fa.r8);this.uC=!0;this.HW=[];this.Yk=[];this.uB=[];this.iV=new Map;this.I=[];this.aq=this.ML=!1;this.Sa=d.C(d.zl,this,I[15]);this.Ht=null;
this.ZJ=[];this.mC=!1;this.fga=d.C(d.Rect,0,0,-1,-1);this.Ffa=d.C(d.Rect,0,0,-1,-1);this.Qfa=new self.d2(this);this.bU();this.Mp()&&(this.Ht=d.C(d.S5,this.j.zh,this.j.yh));for(const K of I[14])C=this.j.Ef(K[1]),this.Rj.jR(C),C.Rs||C.jQ(K),this.Yk.push(K),this.iV.set(K[2],K);d.xd(this.HW,this.Yk)}static Ua(C,H,I){return d.C(d.TF,C,H,I)}A(){this.j=this.Rj=null}X0(C){return this.iV.get(C)}wZ(C){const H=this.Rj.zq;let I=0;const K=this.Yk;for(let R=0,U=K.length;R<U;++R){var Q=K[R];const Z=this.j.Ef(Q[1]);
let ca=!0;if(!Z.wF()||H)Q=this.j.Ti(Q,this,!0),C.push(Q),Z.Vg()&&(ca=!1,this.uB.push(Q.zb));ca&&(K[I]=K[R],++I)}d.ve(K,I);this.j.ge();this.eh()}hh(C,H){const I=C.m();if(I.ea()!==this)throw Error("instance added to wrong layer");this.I.push(C);0!==I.Za()&&(this.aq=!0);H&&this.Mp()&&C.m().ua();this.eh()}Iba(C){this.I.includes(C)||(this.I.push(C),0!==C.m().Za()&&(this.aq=!0),this.eh())}Fca(C){const H=C.m();if(H.ea()!==this)throw Error("instance added to wrong layer");this.I.unshift(C);0!==H.Za()&&(this.aq=
!0);this.eh()}Tp(C,H){const I=this.I.indexOf(C);0>I||(H&&this.Mp()&&C.m().fT(),this.I.splice(I,1),this.eh(),this.RS())}wT(){this.aq=!0}RS(){0===this.I.length&&(this.aq=!1)}cI(C){if(C){C=new Set;for(var H of this.I){var I=H.m().ql;0<=I&&C.add(I)}H=-1;for(const K of this.I)if(I=K.m(),!(0<=I.ql)){for(++H;C.has(H);)++H;I.TA(H)}}this.I.sort(x)}T$(){for(const C of this.I)C.J().Vg()||this.j.dn(C);this.j.ge();d.F(this.I);this.aq=!1;this.eh()}cv(C,H,I,K,Q){const R=this.j.oa(),U=this.j.ed,Z=C.Ya,ca=[];for(const ka of this.Yk){var Y=
ka[0];if(H.Xf(Y[0],Y[1])){Y=U[ka[1]];if(Y!==C)if(Z){if(!C.CN(Y))continue}else continue;Y=this;var ha=this.j.Na();this.uc()!==ha&&((Y=ha.YN(this.Ea()))||(Y=ha.Mu(this.Ka())));ha=this.j.Ti(ka,Y,!1,void 0,void 0,!1,Q);Y.LG(ha);Y=ha.m();Y.Rl(I,K);Y.ua();R.Qe(!0);ha.VA();R.Qe(!1);ca.push(ha)}}return ca}uc(){return this.Rj}Ea(){return this.Ja}Ka(){return this.Va}K(){return this.j}Cl(){return this.j.Cl()}Mp(){return this.Lga&&!this.RW}h7(){this.mC=!1}$c(){return this.vC}$h(C){C=!!C;this.vC!==C&&(this.vC=
C,this.j.ga())}nv(C){C=!!C;if(this.qm!==C){if(this.qm=C)C=this.uc(),this.Bi=C.eg(),this.Ci=C.fg();this.Lk();this.j.ga()}}fj(C){var H=this.uc();const I=H.lO();H=H.mO();C>H&&(C=H);C<I&&(C=I);this.Bi!==C&&(this.Bi=C,this.qm&&(this.Lk(),this.j.ga()))}gj(C){var H=this.uc();const I=H.nO();H=H.kO();C>H&&(C=H);C<I&&(C=I);this.Ci!==C&&(this.Ci=C,this.qm&&(this.Lk(),this.j.ga()))}eg(){return this.qm?this.Bi:this.uc().eg()}fg(){return this.qm?this.Ci:this.uc().fg()}yH(){const C=this.uc();return[C.qF(),C.rF()]}xO(C,
H){var I=this.YW;if(0===C)H.xa(I);else{let U=I.Mi(),Z=I.Ni();var K=this.k0(C);const ca=I.width()/K;I=I.height()/K;const [Y,ha]=this.yH();if(.5!==Y||.5!==ha){const ka=this.Zy();var Q=this.j,R=100/ka;K=(Y-.5)*Q.Vf/R;Q=(ha-.5)*Q.Uf/R;R=this.ja();0!==R&&(w.set(K,Q),w.rotate(R),K=w.Z,Q=w.T);C=d.cE(ka,0,C);U+=d.wd(K,0,C);Z+=d.wd(Q,0,C)}H.set(U-ca/2,Z-I/2,U+ca/2,Z+I/2)}}Ld(){return this.ub.Wa}$e(C){C=d.da(C,0,1);this.ub.Wa!==C&&(this.ub.Lh(C),this.bU(),this.j.ga())}bU(){this.TC.xa(this.ub);this.TC.TD()}hF(){return this.TC}mn(){return this.ub.Yx(1,
1,1,1)}i7(C){this.Vj!==C&&(this.Vj=C,this.Lk(),this.j.ga())}e7(C,H){if(this.me!==C||this.ne!==H)if(this.me=C,this.ne=H,this.Lk(),this.j.ga(),1!==this.me||1!==this.ne)for(const I of this.I)I.J().VH(!0)}df(C){this.kd!==C&&(this.kd=C,this.j.ga())}Za(){return this.kd}jc(C){C=d.md(C);this.Ee!==C&&(this.Ee=C,this.Lk(),this.j.ga())}ja(){return d.md(this.Rj.ja()+this.Ee)}S1(){return 0<this.I.length}uH(){return this.jG()&&this.RW?(d.xd(N,this.I),N.sort((C,H)=>this.Kea(C,H)),N):this.I}Kea(C,H){var I=this.uc().nU,
K=I[0],Q=I[1];I=I[2];var R=C.m();const U=H.m();H=R.L()-K;C=R.M()-Q;R=R.Za()-I;K=U.L()-K;Q=U.M()-Q;I=U.Za()-I;return K*K+Q*Q+I*I-(H*H+C*C+R*R)}x7(C){C=!!C;this.eo!==C&&(this.eo=C,this.j.ga())}M6(C){C=!!C;this.KJ!==C&&(this.KJ=C,this.j.ga())}U5(){return!this.K().Tm||!this.Aga}jG(){return!this.U5()}Nr(){return this.jG()&&this.uc().Wfa}kg(C){this.Qn!==C&&(this.Qn=C,this.j.ga())}Vi(){return this.Qn}w3(C){return this===C||this.me===C.me&&this.ne===C.ne&&this.Zb===C.Zb&&this.Vj===C.Vj&&this.Ee===C.Ee&&this.eg()===
C.eg()&&this.fg()===C.fg()}Tca(C){0!==C.size&&0<d.Jh(this.I,C)&&(this.RS(),this.eh())}eh(){this.mC=this.ML=!1}Uv(){if(!this.ML){this.I.sort(z);if(this.Mp())for(let C=0,H=this.I.length;C<H;++C){const I=this.I[C].m();I.TA(C);this.Ht.R3(I.nx)}else for(let C=0,H=this.I.length;C<H;++C)this.I[C].m().TA(C);this.ML=!0}}W3(C,H,I){var K=C.m();H=H.m();if(K.ea()!==this||H.ea()!==this)throw Error("can't arrange Z order unless both objects on this layer");K=K.sk();H=H.sk();if(K===H+(I?1:-1))return!1;d.Yga(this.I,
K);K<H&&H--;I&&H++;H===this.I.length?this.I.push(C):this.I.splice(H,0,C);this.eh();return!0}Qba(C,H){const I=[];let K=0,Q=0,R=C.length,U=H.length;for(;K<R&&Q<U;){const Z=C[K],ca=H[Q];Z.m().ql<ca.m().ql?(I.push(Z),++K):(I.push(ca),++Q)}for(;K<R;++K)I.push(C[K]);for(;Q<U;++Q)I.push(H[Q]);return I}Pba(C){const H=[],I=C.length;for(let K=0;K<I-1;K+=2)H.push(this.Qba(C[K],C[K+1]));1===I%2&&H.push(C[I-1]);return H}Oba(C){for(;1<C.length;)C=this.Pba(C);return C[0]}Baa(){this.Uv();d.F(e);this.Ht.Yz(this.Tf,
e);return e.length?1===e.length?e[0]:this.Oba(e):[]}cba(){return!this.ws()&&!this.eo}MQ(){return this.$c()&&0<this.Ld()&&(this.S1()||!this.eo)}ws(){return this.KJ||!this.mn()||0!==this.Vi()||this.Sa.Tu()}qz(){return this.Rk}o9(C){if(0===C.length)return!0;if(2<=C.length)return!1;C=C[0].nb;return!C.un()&&!C.Ox&&!C.TI&&this.mn()}k0(C){if(this.Rj.Lf)return 1;{const H=this.Zy();return H/(H-C)}}Zy(){return 100/this.ik()}Lk(){this.uC=this.QJ=!0}DA(C){this.QJ&&(this.m9(C,this.RV),this.QJ=!1);return this.RV}m9(C,
H){const I=this.j;var K=this.uc();const Q=I.jn();var R=I.FK,U=I.GK,Z=(this.eg()-R)*this.me+R,ca=(this.fg()-U)*this.ne+U;this.j.ao&&(Z=Math.round(Z),ca=Math.round(ca));if(this.Nr())g.xa(p,K.nU),g.xa(u,K.Bfa),g.xa(t,K.Cfa),K=u[0]-p[0],ca=u[1]-p[1],Z=u[2]-p[2],p[0]=(p[0]-R)*this.me+R,p[1]=(p[1]-U)*this.ne+U,p[2]*=Math.max(this.me,this.ne),u[0]=p[0]+K,u[1]=p[1]+ca,u[2]=p[2]+Z,g.set(q,Q,Q,1),g.multiply(p,p,q),g.multiply(u,u,q);else{R=(Z+0)*Q;U=(ca+0)*Q;K=K.Lf?100:this.Zy();ca=this.ja();const [ha,ka]=this.yH();
if(.5!==ha||.5!==ka){var Y=100/K;Z=(ha-.5)*I.Vf*Q/Y;Y=(ka-.5)*I.Uf*Q/Y;0!==ca&&(w.set(Z,Y),w.rotate(ca),Z=w.Z,Y=w.T);R+=Z;U+=Y}g.set(p,R,U,K);g.set(u,R,U,K-100);0===ca?g.set(t,0,1,0):g.set(t,Math.sin(ca),Math.cos(ca),0)}C.bN(H,p,u,t,I.X.dg());1!==Q&&(g.set(q,Q,Q,1),n.scale(H,H,q))}vea(){this.uC=this.TJ=!0}EA(C){this.TJ&&(this.n9(C),this.TJ=!1);return this.Nq}n9(C){const H=this.j.X,[I,K]=this.yH();this.Rj.Lf?C.SY(this.Nq,H.Jg(),H.dg()):.5===I&&.5===K?n.xa(this.Nq,H.xB):C.tu(this.Nq,H.Jg()/H.dg(),I,
K)}bI(C){C.ps(this.EA(C));let H;H=this.DA(C);C.ls(H)}t5(C){this.bI(C);C.hv(this.Za())}yf(C,H,I){var K=this.j.X;const Q=this.ws();var R=null;let U=null;if(this.j.JF()&&C.Yu()){const Z=K.ZN(this);Z&&(U=Z.oE(),C.PG(U))}Q?(R={Oi:this.j.td},"low"===K.Jj&&(R.width=K.Jg(),R.height=K.dg()),R=this.j.Eu(R),C.bf(R),this.eo?C.Gy():C.Lc(this.hm)):(C.bf(H),this.eo||I||C.Lc(this.hm));this.Rk=R||H;this.bI(C);C.hv(this.Za());C.An(this.jG());this.ik()>Number.EPSILON&&(this.Uv(),K=this.Mp()&&0===this.Za()&&!this.aq,
this.Nr()?this.G$(C):K?this.H$(C):this.MR(C,this.uH()));C.hv(0);C.zn(0);Q&&(C.An(!1),this.I$(C,R,H,I));U&&C.IE(U);this.Rk=null}MR(C,H){const I=this.Tf,K=this.Rk,Q=this.uc().Lf,R=this.uc().AO();let U=null;for(let Z=0,ca=H.length;Z<ca;++Z){const Y=H[Z];if(Y===U)continue;U=Y;const ha=Y.m();ha.$c()&&ha.OO(I,R,Q)&&this.am(Y,ha,C,K)}}G$(C){const H=this.Rk,I=this.Gv(),K=this.uH();for(let Z=0,ca=K.length;Z<ca;){var Q=K[Z],R=Q.m();if(!R.$c()||!R.Qr(I)){++Z;continue}(!Q.ds()||0<R.lf)&&G.push(Q);var U=Q.m().hg();
E.push(Q);let Y=Z+1;for(;Y<ca;++Y){const ha=K[Y],ka=ha.m();if(ka.$c()&&ka.Qr(I)){if(ka.hg()!==U)break;ha.ds()?(0<ka.lf&&G.push(ha),E.push(ha)):G.push(ha)}}if(1!==E.length||E[0].dP()){this.B$(C,E);for(let ha=0,ka=G.length;ha<ka;++ha)Q=G[ha],R=Q.m(),R.RA(!0),this.am(Q,R,C,H),R.RA(!1)}else{this.am(Q,R,C,H);for(let ha=0,ka=G.length;ha<ka;++ha)R=G[ha],R!==Q&&(U=R.m(),U.ea().am(R,U,C,H))}Z=Y;d.F(E);d.F(G)}}B$(C,H){const I=this.Rk;C.mN();for(let R=0,U=H.length;R<U;++R){var K=H[R],Q=K.m();Q.PA(!0);this.qH(K,
Q,C)}C.lN();for(let R=0,U=H.length;R<U;++R)K=H[R],Q=K.m(),this.am(K,Q,C,I),Q.PA(!1);C.kN()}H$(C){var H=this.Ht;const I=this.Ffa,K=this.fga,Q=this.Tf;I.set(H.ij(Q.R),H.jj(Q.O),H.ij(Q.Y),H.jj(Q.W));this.mC&&I.Zc(K)?H=this.ZJ:(H=this.Baa(),this.mC=!0,K.xa(I));this.MR(C,H);H!==this.ZJ&&d.xd(this.ZJ,H)}am(C,H,I,K){H.Tu()?this.E$(C,H,I,K):this.qH(C,H,I)}qH(C,H,I){H=H.Yq;I.Aj!==H&&H.DY();C.yf(I)}E$(C,H,I,K){this.D$(C,H,I,K)&&this.bI(I)}D$(C,H,I,K){const Q=H.Ge.oj;if(1===Q.length){const R=Q[0],U=R.nb;if(!U.oga&&
H.mn()&&!C.un())return this.F$(C,H,R,U,I),!1}C=d.iG(I,this.j,C,K,Q,null);I.hv(this.Za());return C}F$(C,H,I,K,Q){Q.Dn(K);Q.kg(H.Vi());K.bB&&this.j.ga();let R=0,U=0;if(K.Mga){const [Z,ca]=C.cz();R=1/Z;U=1/ca;(K=C.dz())?f.xa(K):f.set(0,0,0,0)}I=H.Ge.Kg(I.Ka());Q.zn(H.Za());Q.os(null,c,f,f,H.Mc(),R,U,this.Zb,this.ja(),this.j.Mg(),I);C.yf(Q)}I$(C,H,I,K){const Q=this.Sa.oj,R=this.j;if(this.o9(Q)){C.bf(I);if(1===Q.length){var U=Q[0];I=U.nb;C.Dn(I);f.set(0,0,1,1);U=this.Sa.Kg(U.Ka());C.os(null,c,f,f,this.Tf,
1/R.Jg(),1/R.dg(),this.ik(),this.ja(),R.Mg(),U);I.bB&&R.ga()}else C.Zh();K&&0===this.Qn&&this.mn()&&0===Q.length?C.yE(H):(C.kg(this.Qn),C.Ak(this.TC),C.wu(H));C.rp(H);R.wn(H)}else d.iG(C,R,this,I,Q)}AQ(C){this.Zb!==C&&(this.Zb=C,this.Rj.zy(),this.Lk(),this.j.ga())}jn(){return this.ik()*this.j.jn()}Dl(){return this.ik()*this.j.Dl()}ik(){return(this.Zb*this.Rj.Zb-1)*this.Vj+1}UG(){var C=this.j.FK,H=this.j.GK,I=(this.eg()-C)*this.me+C,K=(this.fg()-H)*this.ne+H;C=this.ik();H=this.j.Vf/C;C=this.j.Uf/C;
I-=H/2;let Q=K-C/2;this.j.ao&&(I=Math.round(I),Q=Math.round(Q));K=this.YW;K.set(I,Q,I+H,Q+C);H=this.ja();0!==H&&(b.xa(K),b.offset(-K.Mi(),-K.Ni()),a.Dia(b,H),a.aM(b),b.offset(K.Mi(),K.Ni()),K.xa(b));H=this.kd;this.xO(H,this.Tf);this.Nr()?this.VY(H,this.Ko):this.Ko.xa(this.Tf)}VY(C,H){var I=this.j.X,K=I.hd;I=I.Tc;const [Q,R]=this.Fg(0,0,C),[U,Z]=this.Fg(K,0,C),[ca,Y]=this.Fg(K,I,C),[ha,ka]=this.Fg(0,I,C);C=Math.min(Q,U,ca,ha);K=Math.min(R,Z,Y,ka);I=Math.max(Q,U,ca,ha);let za=Math.max(R,Z,Y,ka);isFinite(C)||
(C=-Infinity);isFinite(K)||(K=-Infinity);isFinite(I)||(I=Infinity);isFinite(za)||(za=Infinity);H.set(C,K,I,za)}Fg(C,H,I=0){return this.r9(C,H,I,this.Dl())}r9(C,H,I,K){const Q=this.j;var R=Q.Cb();const U=this.ik();l.set(r,0,0,Q.Vf/U,Q.Uf/U);C/=K;H=r[3]-H/K;K=this.EA(R);R=this.DA(R);return d.fa.i8(C,H,I,R,K,r,q)?[q[0],q[1]]:[NaN,NaN]}eN(C,H){const I=this.Zb,K=this.Vj,Q=this.me,R=this.ne,U=this.Ee;this.ne=this.me=this.Vj=this.Zb=1;this.Ee=0;this.Lk();C=this.Fg(C,H);this.Zb=I;this.Vj=K;this.me=Q;this.ne=
R;this.Ee=U;this.Lk();return C}yp(C,H){return this.JS(C,H,0,this.Dl())}tn(C,H,I=0){return this.JS(C,H,I,this.jn()*this.Cl())}JS(C,H,I,K){var Q=this.j,R=Q.Cb();const U=this.ik();l.set(r,0,0,Q.Vf/U,Q.Uf/U);Q=this.EA(R);R=this.DA(R);return d.fa.v5(C,H,I,R,Q,r,q)?[q[0]*K,(r[3]-q[1])*K]:[NaN,NaN]}Gv(){this.uC&&(this.ffa(),this.uC=!1);return this.XW}ffa(){var C=this.j.Cb();const H=this.EA(C);C=this.DA(C);this.XW.TY(C,H)}qa(){return{s:this.Zb,a:this.Ee,vl:this.Tf.R,vt:this.Tf.O,vr:this.Tf.Y,vb:this.Tf.W,
v:this.$c(),bc:this.hm.toJSON(),t:this.eo,sx:this.Bi,sy:this.Ci,hosp:this.qm,px:this.me,py:this.ne,c:this.ub.toJSON(),sr:this.Vj,fx:this.Sa.cd(),cg:this.uB}}ya(C){this.Zb=C.s;this.Ee=C.a;this.Tf.set(C.vl,C.vt,C.vr,C.vb);this.vC=!!C.v;this.hm.Wo(C.bc);this.eo=!!C.t;C.hasOwnProperty("sx")&&(this.Bi=C.sx);C.hasOwnProperty("sy")&&(this.Ci=C.sy);C.hasOwnProperty("hosp")&&(this.qm=!!C.hosp);this.me=C.px;this.ne=C.py;this.ub.Wo(C.c);this.Vj=C.sr;d.xd(this.uB,C.cg);d.xd(this.Yk,this.HW);const H=new Set(this.uB);
let I=0;for(let K=0,Q=this.Yk.length;K<Q;++K)H.has(this.Yk[K][2])||(this.Yk[I]=this.Yk[K],++I);d.ve(this.Yk,I);this.Sa.Nc(C.fx);this.cI(!1);this.eh()}LG(C){C.m();if(!this.I.includes(C))if(C.Gf()){var H=[...C.rl()];H.push(C);H.sort((K,Q)=>{K=K.m().Uq;Q=Q.m().Uq;return K-Q});for(var I of H)if(I.cc())for(const K of I.Qd)H.includes(K)||(C=[...K.rl()],C.push(K),C.sort((Q,R)=>{Q=Q.m().Uq;R=R.m().Uq;return Q-R}),C&&C.length&&H.splice(H.length,0,...C));for(const K of H)this.hh(K,!0)}else if(this.hh(C,!0),
C.cc())for(H of C.Qd)if(I=[...H.rl()],I.push(H),I.sort((K,Q)=>{K=K.m().Uq;Q=Q.m().Uq;return K-Q}),I&&I.length)for(const K of I)this.hh(K,!0)}}}
{"use strict";const d=self.B,b=self.bg,a=d.C(d.Rect),e=d.C(d.Rect),c=d.C(d.Rect),f=d.C(d.ib),k=self.ul.dE,g=[],l=[],n=[],q=[],r=[];let p=null;function u(t,w){p!==t&&(t.t5(w),p=t)}d.TO=class extends d.la{constructor(t,w,x){super();this.bb=t;this.j=t.K();this.Ja=x[0];this.wga=x[1];this.vga=x[2];this.U=x[1];this.P=x[2];this.tC=!!x[3];this.Lf=!!x[4];this.yD=x[5];this.zD=x[6];this.EU=x[7];this.jd=null;this.Xa=x[8];this.Va=w;this.Ci=this.Bi=0;this.Zb=1;this.Ee=0;this.et=new Set;this.Eh=new Set;this.Fx=
new Set;this.Os=[];this.zJ=[];this.Wfa=!1;this.nU=k.create();this.Bfa=k.create();this.Cfa=k.create();this.ec=[];this.EV=new Map;this.FV=new Map;this.Sa=d.C(d.zl,this,x[11]);this.Rk=null;this.Mq={};this.zq=!0;this.xw=new self.e2(this);this.se=d.C(d.Event.Hb);for(const z of x[9])t=d.TF.Ua(this,this.ec.length,z),this.ec.push(t),this.EV.set(t.Ea().toLowerCase(),t),this.FV.set(t.Xa,t);for(const z of x[10]){x=this.j.Ef(z[1]);if(!x)throw Error("missing nonworld object class");x.Rs||x.jQ(z);this.zJ.push(z);
this.jR(x)}}A(){for(const t of this.ec)t.A();d.F(this.ec);this.Fx.clear();this.j=this.bb=this.jd=null}K(){return this.j}Ea(){return this.Ja}Ka(){return this.Va}bO(){let t=this.ec[0].ik();for(let w=1,x=this.ec.length;w<x;++w){const z=this.ec[w];if(0!==z.me||0!==z.ne)t=Math.min(t,z.ik())}return t}qS(){return.5*this.j.Vf/this.bO()}rS(){return.5*this.j.Uf/this.bO()}lO(){return this.tC?-Infinity:this.qS()}mO(){return this.tC?Infinity:this.S()-this.qS()}nO(){return this.tC?-Infinity:this.rS()}kO(){return this.tC?
Infinity:this.V()-this.rS()}fj(t){const w=this.lO(),x=this.mO();t>x&&(t=x);t<w&&(t=w);this.Bi!==t&&(this.Bi=t,this.Kk(),this.j.ga())}eg(){return this.Bi}gj(t){const w=this.nO(),x=this.kO();t>x&&(t=x);t<w&&(t=w);this.Ci!==t&&(this.Ci=t,this.Kk(),this.j.ga())}fg(){return this.Ci}zy(){this.fj(this.eg());this.gj(this.fg());for(const t of this.ec)t.qm&&(t.fj(t.eg()),t.gj(t.fg()))}A7(t,w){if(this.yD!==t||this.zD!==w)this.yD=t,this.zD=w,this.n3()&&(this.Fs(),this.Kk(),this.j.ga())}qF(){return this.Lf?.5:
this.yD}rF(){return this.Lf?.5:this.zD}AO(){const t=this.qF(),w=this.rF();return 0>t||1<t||0>w||1<w}CQ(){this.Lf&&(this.Lf=!1,this.Fs(),this.Kk(),this.j.ga())}zQ(){this.Lf||(this.Lf=!0,this.Fs(),this.Kk(),this.j.ga())}n3(){return!this.Lf}Jp(t){this.Zb!==t&&(this.Zb=t,this.Kk(),this.zy(),this.j.ga())}jc(t){t=d.md(t);this.Ee!==t&&(this.Ee=t,this.Kk(),this.j.ga())}ja(){return this.Ee}S(){return this.U}cf(t){!isFinite(t)||1>t||(this.U=t)}V(){return this.P}Ze(t){!isFinite(t)||1>t||(this.P=t)}ea(t){return"number"===
typeof t?this.Mu(t):this.YN(t.toString())}Mu(t){t=d.da(Math.floor(t),0,this.ec.length-1);return this.ec[t]}YN(t){return this.EV.get(t.toLowerCase())||null}lz(t){return this.FV.get(t)||null}Fs(){for(const t of this.ec)t.vea()}Kk(){for(const t of this.ec)t.Lk()}h1(){for(const t of this.ec)if(t.MQ()&&t.cba())return f.Wm(t.hm),f.Lh(1),f;f.Xo(0,0,0,0);return f}jS(){return[...this.et]}jR(t){if(t.cc())for(const w of t.oh.Dm)this.et.add(w);else this.et.add(t)}Eaa(){return[...this.Eh]}AH(t,w){if(t===this||
!w)return Promise.resolve();t&&(d.rZ(this.Eh,t.Eh),t.Eh.clear());t=[];for(const x of this.et)this.Eh.has(x)||(t.push(x.Wr(w)),this.Eh.add(x));return Promise.all(t)}async aP(t){if(t.Ya)throw Error("cannot load textures for family");var w=this.j.Cb();!w||w.tp()||this.Eh.has(t)||(this.Eh.add(t),w=t.Wr(w),this.P8(w),await w,t.Uz(),this.j.ga())}P8(t){this.Fx.add(t);t.then(()=>this.Fx.delete(t)).catch(()=>this.Fx.delete(t))}u8(){return Promise.all([...this.Fx])}U3(t){if(t.Ya||0<t.I.length)throw Error("cannot unload textures");
this.j.Cb()&&this.Eh.has(t)&&(this.Eh.delete(t),t.Bp())}Vea(t,w){if(t!==this&&w)for(const x of this.Eh)x.Vg()||t.et.has(x)||(x.Bp(),this.Eh.delete(x))}Ov(){this.Eh.clear()}async QT(t){const w=this.j,x=this.bb,z=w.oa();this.EU&&(this.jd=z.RN(this.EU),this.jd.iI());x.FT(this);this.U=this.wga;this.P=this.vga;this.Bi=w.zh/2;this.Ci=w.yh/2;this.zy();this.Sba(t);this.G9();this.zq||this.J9();this.vR(this.Os);this.H9();x.fZ();w.ge();const E=this.j.mfa;await Promise.all(E);d.F(E);if(!w.$k){for(const G of this.Os)G.F7();
for(const G of this.Os)G.ST()}d.F(this.Os);await Promise.all([...this.et].map(G=>G.cG(this.j.Cb())));t&&(w.Hb().dispatchEvent(new d.Event("beforefirstlayoutstart")),await w.cp(new d.Event("beforeprojectstart")));await this.cp(new d.Event("beforelayoutstart"));w.$k||await w.lb(d.D.$a.G.sP,null,null);await this.cp(new d.Event("afterlayoutstart"));t&&(w.Hb().dispatchEvent(new d.Event("afterfirstlayoutstart")),await w.cp(new d.Event("afterprojectstart")));z.rda(x);await this.u8();this.Fs();this.Kk();
this.zq=!1}Sba(t){for(const x of this.j.ed)if(!x.Ya&&x.Mf)for(const z of x.pa()){const E=z.m();var w=E.ea();w=d.da(w.Ka(),0,this.ec.length-1);w=this.ec[w];E.Rv(w);w.Iba(z)}if(!t)for(const x of this.ec)x.cI(!1)}G9(){for(const t of this.ec)t.wZ(this.Os),t.UG()}J9(){let t=!1;for(const [x,z]of Object.entries(this.Mq)){const E=this.j.mz(parseInt(x,10));if(E&&!E.Ya&&E.wF()){for(const G of z){var w=null;if(E.Mf&&(w=this.lz(G.w.l),!w))continue;w=this.j.Ti(E,w,!1,0,0,!0);w.Nc(G);t=!0;this.Os.push(w)}d.F(z)}}for(const x of this.ec)x.cI(!0),
x.eh();t&&(this.j.ge(),this.j.aT())}vR(t){for(const x of t){if(!x.cc())continue;const z=x.m(),E=x.ip();for(const G of x.J().oh.Dm)if(G!==x.J()){var w=G.pa();w.length>E?x.xs(w[E]):(w=z?this.j.Ti(G,z.ea(),!0,z.L(),z.M(),!0):this.j.Ti(G,null,!0,0,0,!0),this.j.ge(),G.WA(),x.xs(w),t.push(w))}}}H9(){for(const t of this.zJ)this.j.Ef(t[1]).cc()||this.j.Ti(t,null,!0)}E9(){const t=[],w=this.zJ;let x=0;for(let z=0,E=w.length;z<E;++z){const G=w[z],N=this.j.Ef(G[1]);N.Vg()?N.cc()&&N.oh.O1()||t.push(this.j.Ti(G,
null,!0)):(w[x]=G,++x)}d.ve(w,x);this.j.ge();this.vR(t)}cv(t,w,x,z,E,G){if(x)return x.cv(t,w,z,E,G);x=[];for(const N of this.ec)x.push(N.cv(t,w,z,E,G));return x.flat()}async Nea(){const t=this.bb;this.j.$k||await this.j.lb(d.D.$a.G.I4,null,null);t.tQ(!0);this.j.oa().Dy();this.zq||this.Bda();for(const w of this.ec)w.T$();for(const w of this.j.ed)if(!(w.Vg()||w.Mf||w.Jb().bo||w.Ya)){for(const x of w.pa())this.j.dn(x);this.j.ge()}t.tQ(!1);t.Pb()===this&&t.FT(null)}zda(t){const w=t.J().Xa.toString();
this.Mq.hasOwnProperty(w)||(this.Mq[w]=[]);this.Mq[w].push(t.cd())}Bda(){for(const t of this.ec){t.Uv();for(const w of t.I){const x=w.J();!x.Vg()&&x.wF()&&this.zda(w)}}}a6(){this.Mq={};this.zq=!0}qz(){return this.Rk}ws(){return"low"===this.j.X.Jj||this.j.EL||"low-latency"===this.j.Ns||this.Sa.Tu()||this.j.Cb().Yu()&&this.j.Tm}p9(t){return 0===t.length?!0:2<=t.length?!1:!t[0].nb.un()}yf(t){var w=this.j.X;const x=this.ws();var z=null;x?("low-latency"!==this.j.Ns&&(t.bf(null),t.Gy()),z={Oi:this.j.td,
gM:this.j.EL||this.Sa.Tu()},"low"===w.Jj&&(z.width=w.Jg(),z.height=w.dg()),z=this.j.Eu(z),t.bf(z)):t.bf(null);t.Lc(this.h1());this.j.Tm&&t.cZ();this.Rk=z;for(var E of this.ec)E.UG(),E.MQ()&&g.push(E);for(let G=0,N=g.length;G<N;){w=g[G];if(w.Nr()&&!w.ws()){l.push(w);for(E=G+1;E<N;++E){const C=g[E];if(C.Nr()&&!C.ws())l.push(g[E]);else break}if(2<=l.length){this.z$(t,z,l);G+=l.length;d.F(l);continue}d.F(l)}w.yf(t,z,0===G);++G}d.F(g);x&&(t.An(!1),this.J$(t,z));this.Rk=null}J$(t,w){const x=this.Sa.oj,
z=this.j;if(this.p9(x)){t.bf(null);if(1===x.length){var E=x[0];const G=E.nb;t.Dn(G);e.set(0,0,1,1);c.set(0,0,z.Vf,z.Uf);E=this.Sa.Kg(E.Ka());t.os(null,a,e,e,c,1/z.Jg(),1/z.dg(),this.Zb,this.ja(),z.Mg(),E);G.bB&&z.ga()}else t.Zh();0===x.length?t.yE(w):(t.sG(),t.gs(),t.wu(w));t.rp(w);z.wn(w)}else d.iG(t,z,this,null,x)}z$(t,w,x){var z=this.j.X;t.An(!0);for(var E of x)E.Uv(),d.Vm(n,E.uH());E=x[0];x=null;this.j.JF()&&t.Yu()&&(z=z.ZN(E))&&(x=z.oE(),t.PG(x));for(let H=0,I=n.length;H<I;){E=n[H];var G=E.m(),
N=G.ea();if(G.$c()&&G.Qr(N.Gv())){(!E.ds()||0<G.lf)&&r.push(E);var C=E.m().hg();q.push(E);for(z=H+1;z<I;++z){const K=n[z],Q=K.m();if(Q.$c()&&Q.Qr(Q.ea().Gv())){if(Q.hg()!==C)break;K.ds()?(0<Q.lf&&r.push(K),q.push(K)):r.push(K)}}if(1!==q.length||q[0].dP()){this.A$(t,w,q);for(let K=0,Q=r.length;K<Q;++K)E=r[K],G=E.m(),N=G.ea(),G.RA(!0),u(N,t),N.am(E,G,t,w),G.RA(!1)}else{u(N,t);N.am(E,G,t,w);for(let K=0,Q=r.length;K<Q;++K)G=r[K],G!==E&&(N=G.m(),C=N.ea(),u(C,t),C.am(G,N,t,w))}H=z;d.F(q);d.F(r)}else++H}x&&
t.IE(x);d.F(n);p=null}A$(t,w,x){t.mN();for(let N=0,C=x.length;N<C;++N){var z=x[N],E=z.m(),G=E.ea();E.PA(!0);u(G,t);G.qH(z,E,t)}t.lN();for(let N=0,C=x.length;N<C;++N)z=x[N],E=z.m(),G=E.ea(),u(G,t),G.am(z,E,t,w),E.PA(!1);t.kN()}qa(){const t={sx:this.eg(),sy:this.fg(),s:this.Zb,a:this.ja(),w:this.S(),h:this.V(),ortho:this.Lf,vpX:this.qF(),vpY:this.rF(),fv:this.zq,persist:this.Mq,fx:this.Sa.cd(),layers:{}};for(const w of this.ec)t.layers[w.Xa.toString()]=w.qa();return t}ya(t){this.Bi=t.sx;this.Ci=t.sy;
this.Zb=t.s;this.Ee=t.a;this.U=t.w;this.P=t.h;this.Lf=!!t.ortho;t.hasOwnProperty("vpX")&&(this.yD=t.vpX);t.hasOwnProperty("vpY")&&(this.zD=t.vpY);this.zq=!!t.fv;this.Mq=t.persist;this.Sa.Nc(t.fx);for(const [w,x]of Object.entries(t.layers))(t=this.lz(parseInt(w,10)))&&t.ya(x);this.Fs();this.Kk()}Nh(t){t.Dg=this.xw;var w=this.j;(w=w.wb&&!w.oa().Kz())&&b.OG();this.se.dispatchEvent(t);w&&b.nE()}cp(t){t.Dg=this.xw;return this.se.WL(t)}}}
{"use strict";const d=self.B;d.C3=class extends d.la{constructor(b){super();this.j=b;this.qj=[];this.gK=new Map;this.hK=new Map;this.Zw=null;this.XK=[];this.KB=null;this.fC=0;this.hx=null}A(){this.hx=this.KB=this.Zw=this.j=null;d.F(this.qj);this.gK.clear();this.hK.clear();d.F(this.XK)}Ua(b){b=d.C(d.TO,this,this.qj.length,b);this.qj.push(b);this.gK.set(b.Ea().toLowerCase(),b);this.hK.set(b.Xa,b)}K(){return this.j}I6(b){this.KB=b}P0(){if(this.KB)return this.KB;if(this.qj.length)return this.qj[0];throw Error("no first layout");
}Hr(b){return this.gK.get(b.toLowerCase())||null}cF(b){return this.hK.get(b)||null}i1(b){b=d.da(Math.floor(b),0,this.qj.length-1);return this.qj[b]}uc(b){return"number"===typeof b?this.i1(b):this.Hr(b.toString())}FT(b){this.Zw=b}Pb(){return this.Zw}*ny(){this.Zw&&(yield this.Zw);this.XK.length&&(yield*this.XK)}tQ(b){if(b)this.fC++;else{if(0>=this.fC)throw Error("already unset");this.fC--}}LO(){return 0<this.fC}Cy(b){this.hx=b}fZ(){this.hx=null}Rr(){return!!this.hx}Hp(){const b=this.Pb();b&&b.Fs()}Gp(){const b=
this.Pb();b&&b.Kk()}}}
{"use strict";const d=self.B;class b{constructor(){this.Kc=this.xf=null;this.ku=this.lu=this.Ki=this.Xm=0;this.hu=new d.Rect;this.Ym=new d.Rect;this.Vo=new d.Rect;this.ky=new d.Rect;this.iu=new d.Rect;this.clearRect=new d.Rect;this.aE=new d.Rect;this.tX=[null,null];this.Ro=0;this.nr=1;this.fu=this.gu=this.$t=this.Zt=0;this.Zm=this.ag=this.ee=this.fe=this.Dg=null;this.ID=this.wM=this.SD=!1;this.QD=null}Lc(){this.QD=this.Zm=this.ag=this.ee=this.fe=this.Dg=this.Kc=this.xf=null}H7(g){g=g.nb;if(g.un())return!0;
if(this.ee)return g.Ox&&(0!==this.ag.ja()||0>this.ag.S()||0>this.ag.V())||0!==this.Zt||0!==this.$t||!this.ag.mn()||this.ee.un();if(this.fe)return!this.fe.mn()}G7(g){g=g.nb;return g.Ox||g.TI||this.Dg&&"low"===this.Kc.X.Jj}Gr(g){if(0!==g&&1!==g)throw Error("invalid effect target");const l=this.tX;if(!l[g]){var n=this.Kc;const q=n.X;n={Oi:n.td};"low"===q.Jj&&(n.width=q.Jg(),n.height=q.dg());l[g]=q.Eu(n)}return l[g]}J5(){const g=this.tX,l=this.Kc.X;g[0]&&(l.wn(g[0]),g[0]=null);g[1]&&(l.wn(g[1]),g[1]=
null)}}const a=[];let e=0;const c=new d.Bd;let f=!1;async function k(g,l,n){l=await d.fa.VG.CZ(l,n);l=URL.createObjectURL(l);console.log("[FX] "+g+" "+(n?"":" [to display]")+": ",l)}d.iG=function(g,l,n,q,r,p){e===a.length&&a.push(new b);var u=a[e++];u.xf=g;u.Kc=l;if(n instanceof d.Instance)u.ee=n,u.ag=u.ee.m();else if(n instanceof d.TF)u.fe=n;else if(n instanceof d.TO)u.Dg=n;else throw Error("invalid effects object");n=l.X;u.Zm=q;u.Xm=n.Jg();u.Ki=n.dg();u.lu=u.Xm;u.ku=u.Ki;u.Ro=0;u.nr=1;u.Zt=0;u.$t=
0;u.iu.set(0,0,u.Xm,u.Ki);u.clearRect.set(0,0,u.Xm,u.Ki);u.ID=!1;u.QD=p;u.ee?(q=u.ag,u.gu=q.ea().jn(),u.fu=q.ea().ja(),u.hu.xa(q.Mc())):u.fe?(q=u.fe,u.gu=q.jn(),u.fu=q.ja(),u.hu.xa(q.Tf)):(q=u.Dg,u.gu=q.Zb,u.fu=q.ja(),u.hu.set(0,0,u.Xm,u.Ki));if(u.ee){{for(let H=0,I=r.length;H<I;++H)q=r[H].nb,u.Zt+=q.FU,u.$t+=q.GU;var t=u.ag;q=t.ea();n=q.ja();p=t.Mc();var w=t.hg();t=t.lf;let [E,G]=q.tn(p.R,p.O,w),[N,C]=q.tn(p.Y,p.W,w);if(0!==n||0<t){const [H,I]=q.tn(p.Y,p.O,w),[K,Q]=q.tn(p.R,p.W,w);if(0<t){n=w+t;
const [R,U]=q.tn(p.R,p.O,n),[Z,ca]=q.tn(p.Y,p.O,n),[Y,ha]=q.tn(p.Y,p.W,n),[ka,za]=q.tn(p.R,p.W,n);q=Math.min(E,N,H,K,R,Z,Y,ka);N=Math.max(E,N,H,K,R,Z,Y,ka);E=q;q=Math.min(G,C,I,Q,U,ca,ha,za);C=Math.max(G,C,I,Q,U,ca,ha,za);G=q}else q=Math.min(E,N,H,K),N=Math.max(E,N,H,K),E=q,q=Math.min(G,C,I,Q),C=Math.max(G,C,I,Q),G=q}q=u.iu;p=u.ky;n=u.Vo;w=u.clearRect;t=u.Ym;q.set(E,G,N,C);q.IM(u.Ki);p.xa(q);p.sl(u.lu,u.ku);p.tr();q.MD(u.Zt,u.$t);n.xa(q);n.sl(u.lu,u.ku);n.tr();w.xa(q);w.zia();w.MD(u.Zt+1,u.$t+1);
q.da(0,0,u.Xm,u.Ki);w.da(0,0,u.Xm,u.Ki);t.xa(q);t.sl(u.lu,u.ku);t.tr()}}else u.Ym.set(0,0,u.Xm/u.lu,u.Ki/u.ku),u.Vo.xa(u.Ym),u.ky.xa(u.Ym),u.Ym.tr(),u.Vo.tr(),u.ky.tr();g.sG();g.gs();g.hv(0);g.zn(0);u.SD=u.H7(r[0]);u.SD&&(q=u.xf,q.Zh(),p=u.Gr(u.Ro),q.bf(p),(n=u.QD)&&n.xM&&n.xM(),q.wE(u.clearRect),u.ee?(q.Ak(u.ag.hF()),q.zn(u.ag.hg()),u.ee.yf(q),q.zn(0)):(n=(u.fe||u.Dg).qz(),u.fe?q.Ak(u.fe.hF()):q.gs(),q.wu(n),q.rp(n),u.Kc.X.wn(n)),u.Vo.iX(),u.Ro=1,u.nr=0,f&&k("Pre-draw",q,p));g.gs();q=r.length-1;
u.wM=u.G7(r[q]);for(let E=0,G=r.length;E<G;++E){n=r[E];p=n.nb;g.Dn(p);p.bB&&l.ga();if(0!==E||u.SD){g.iQ();var x=void 0,z=void 0;p=u;x=n;z=E===q&&!u.wM;n=E;w=p.xf;t=p.Kc;0===n&&p.SD&&p.ee&&p.iu.IM(p.Ki);z?(p.ee?w.kg(p.ag.Vi()):p.fe&&w.kg(p.fe.Vi()),z=p.Zm,w.bf(z)):(z=p.Gr(p.Ro),w.bf(z),w.wE(p.clearRect));x=p.ee?p.ag.Ge.Kg(x.Ka()):(p.fe||p.Dg).Sa.Kg(x.Ka());w.os(p.Zm,p.Vo,p.Ym,p.ky,p.hu,1/p.lu,1/p.ku,p.gu,p.fu,t.Mg(),x);x=p.Gr(p.nr);w.$g(x.we());t.X.lQ(w);p.ID=!0;c.bk(p.iu);w.bs(c,p.Ym);p.ee||w.rp(x);
f&&k("Bounce "+n,w,z)}else{p=u;z=n;n=p.xf;w=p.Kc;t=p.Gr(p.Ro);n.bf(t);(x=p.QD)&&x.xM&&x.xM();n.wE(p.clearRect);if(p.ee){const [N,C]=p.ee.cz();(x=p.ee.dz())?p.aE.xa(x):p.aE.set(0,0,0,0);z=p.ag.Ge.Kg(z.Ka());n.os(p.Zm,p.Vo,p.aE,p.aE,p.hu,1/N,1/C,p.gu,p.fu,w.Mg(),z);n.zn(p.ag.hg());p.ee.yf(n);n.zn(0);p.Vo.iX();p.iu.IM(p.Ki)}else z=(p.fe||p.Dg).Sa.Kg(z.Ka()),n.os(p.Zm,p.Vo,p.Ym,p.ky,p.hu,1/p.Xm,1/p.Ki,p.gu,p.fu,w.Mg(),z),p=(p.fe||p.Dg).qz(),f&&k("Layer target",n,p),n.wu(p),n.rp(p),w.X.wn(p);f&&k("First bounce",
n,t)}0===u.Ro?(u.Ro=1,u.nr=0):(u.Ro=0,u.nr=1)}u.wM&&(g=u.xf,u.Dg?(g.Zh(),g.bf(u.Zm),l=u.Gr(u.nr),g.yE(l),g.rp(l)):(l=u.Kc.X,"low"===l.Jj?(g.Zh(),l.lQ(g,l.Jg(),l.dg()),u.ID=!0):g.B6(),u.ee?g.kg(u.ag.Vi()):u.fe&&g.kg(u.fe.Vi()),g.bf(u.Zm),l=u.Gr(u.nr),g.$g(l.we()),c.bk(u.iu),g.bs(c,u.Ym),u.ee||g.rp(l),f&&k("Post-draw",g,u.Zm)));g=u.ID;u.J5();u.Lc();e--;f=!1;return g}}
{"use strict";const d=self.B;d.b8=class extends d.la{constructor(b){super();this.j=b;this.Ix=d.C(d.fh);this.xga=null;this.Co=[];this.Jx=new Map;this.Cm=new Map;this.Do=new Map;this.Ah=[];this.wg=[];this.Nw=this.Ls=this.rq=!1;this.Nm=()=>this.tca();this.Qt=()=>this.LH();this.EI=()=>this.IA();this.fK=()=>this.Uba();this.DJ=a=>this.WS(a.instance);this.rI=()=>this.Rp();this.lw=[]}A(){this.O5();this.rI=this.DJ=this.fK=this.EI=this.Qt=this.Nm=null;for(const b of this.Co)b.mg(),b.A();d.F(this.Co);this.Co=
null;this.Ix.A();this.Ix=null;d.F(this.Ah);this.Ah=null;d.F(this.wg);this.wg=null;this.Jx.clear();this.Jx=null;this.Cm.clear();this.Cm=null;this.Do.clear();this.Do=null;d.F(this.lw);this.j=this.lw=null}xY(){const b=this.j.Hb();b.addEventListener("pretick",this.Nm);b.addEventListener("tick2",this.Qt);b.addEventListener("beforelayoutchange",this.EI);b.addEventListener("layoutchange",this.fK);b.addEventListener("instancedestroy",this.DJ);b.addEventListener("afterload",this.rI)}O5(){const b=this.j.Hb();
b.removeEventListener("pretick",this.Nm);b.removeEventListener("tick2",this.Qt);b.removeEventListener("beforelayoutchange",this.EI);b.removeEventListener("layoutchange",this.fK);b.removeEventListener("instancedestroy",this.DJ);b.removeEventListener("afterload",this.rI)}Ua(b){this.Ix.sc(b);b=d.he.vZ(b,this);this.sc(b);this.o7(b);this.Do.set(b.Ea(),0)}zE(b){b=b.sO();var a=this.Ix.ba(b);a=d.he.zE(`${b}:${this.Do.get(b)}`,a,this);this.AS(b);this.sc(a);return a}AS(b){this.Do.set(b,this.Do.get(b)+1)}Xda(){for(const b of this.Co)b.gt||
this.AS(b.sO())}u9(){for(const b of this.Do.keys())this.Do.set(b,0)}sc(b){this.Co.push(b);this.Jx.set(b.Ea().toLowerCase(),b)}Xh(b){b.gt||(d.mr(this.Co,b),d.mr(this.Ah,b),d.mr(this.wg,b),this.Jx.delete(b.Ea().toLowerCase()),this.P5(b),b.yi||b.A())}na(b){this.j.na(b,this.xga,null)}K(){return this.j}IQ(b,a){this.Cm.has(b)||this.Cm.set(b,new Set);this.Cm.get(b).add(a)}o7(b){for(const a of b.gF())this.IQ(a,b)}P5(b){for(const [a,e]of this.Cm.entries())e.has(b)&&(e.delete(b),0===e.size&&this.Cm.delete(a))}z1(b){if(this.Cm.has(b))return this.Cm.get(b)}vz(b){return this.Jx.get(b.toLowerCase())||
null}N5(b){d.mr(this.wg,b);this.Lv()}bQ(b){this.wg.includes(b)?(b.pv(!0),b.rv(!1),b.zG(!1)):(b.pv(!1),b.rv(!0),b.zG(!1),this.Ah.includes(b)||this.Ah.push(b));this.PS()}My(b){b.pv(!1);b.rv(!1);b.nG();d.mr(this.Ah,b);this.Lv()}Iy(b){b.pv(!1);b.rv(!1);b.zG(!0)}nZ(b){this.Iy(b);b.nG()}tca(){if(!this.K().$k&&this.rq&&!this.Ls){var b=!1;for(this.Nw=!0;this.Ah.length;){var a=this.Ah.pop();a.Cd();this.wg.push(a)}a=this.j.Wi();var e=this.j.Id;for(const c of this.wg){if(c.ut)continue;const f=c.Ed(a,e);!b&&
f&&(b=!0)}this.Nw=!1;b&&this.K().ga()}}LH(){if(!this.K().$k&&this.rq&&!this.Ls){var b;for(const a of this.wg)a.ut&&(b||(b=new Set),this.QS(a),b.add(a));b&&d.Jh(this.wg,b);this.Lv()}}QS(b){b.yi||b.zO()&&b.pg&&b.Zn&&b.EN()}PS(){this.rq||(this.rq=!0)}Lv(){this.wg.length||this.Ah.length||this.Nw||(this.rq=!1)}IA(){for(this.Ls=!0;this.Ah.length;)this.My(this.Ah.pop());const b=new Set;for(const a of this.wg)a.IA()&&b.add(a);d.Jh(this.wg,b);this.Lv();for(const a of this.Co)a.dk()}Uba(){this.Ls=!1}WS(b){var a=
b.J();if(a=this.z1(a))if(this.j.$k)this.lw.push(b);else for(const e of a)e.gt||(e.yi?this.Xh(e):e.zO()||(this.QS(e),this.Xh(e)))}Rp(){for(const b of this.lw)this.WS(b);d.F(this.lw)}qa(){return{timelinesJson:this.Gda(),scheduledTimelinesJson:this.Eda(),playingTimelinesJson:this.Cda(),hasRuntimeListeners:this.rq,changingLayout:this.Ls,isTickingTimelines:this.Nw}}ya(b){b&&(this.u9(),this.Aba(b.timelinesJson),this.xba(b.scheduledTimelinesJson),this.vba(b.playingTimelinesJson),this.rq=!b.hasRuntimeListeners,
this.Ls=!!b.changingLayout,this.Nw=!!b.isTickingTimelines,this.Xda(),this.PS(),this.Lv())}Gda(){return this.Co.map(b=>b.qa())}Aba(b){for(const a of b){b=this.vz(a.name);if(!b){b=this.Daa(a);if(!b)continue;b=this.vz(b);b=this.zE(b)}b.ya(a);b.X1()||this.Xh(b)}}Daa(b){return(b=b.name.split(":"))&&2===b.length?b[0]:null}Eda(){return this.sT(this.Ah)}xba(b){this.LS(b,this.Ah)}Cda(){return this.sT(this.wg)}vba(b){this.LS(b,this.wg)}fba(b,a){for(const e of a)if(e===b.Ea())return!0;return!1}sT(b){return b.map(a=>
a.Ea())}LS(b,a){var e=new Set;for(const c of a)this.fba(c,b)||e.add(c);d.Jh(a,e);e=c=>f=>f.Ea()===c;for(const c of b)(b=this.vz(c))&&(a.find(e(c))||a.push(b))}}}
{"use strict";const d=self.B;d.he=class extends d.la{constructor(b,a,e){super();this.j=e.K();this.Gb=e;this.sf=a;this.Ja=b;this.Tb=[];for(const c of this.sf.xz().Nia())this.Tb.push(d.TQ.Ua(this,c));this.QC=this.ix=null;this.to=d.C(d.Ur);this.to.Set(0);this.Em=1;this.Uj=0;this.zj=1;this.Zn=this.vm=this.kC=!1;this.pg=!0;this.ut=this.yi=!1;this.Ms=-1;this.Xn=this.oq=this.gt=this.WB=!1;this.yV=NaN;this.Dh=[""];this.JW="";this.oL=!1}static vZ(b,a){const e=a.Ix.ba(b[0]);b=d.C(d.he,b[0],e,a);b.W6();return b}static zE(b,
a,e){return d.C(d.he,b,a,e)}static get s8(){return 1}static get Pl(){return d.nM(1)}A(){if(!this.yi){this.Gb.My(this);this.Gb.nZ(this);for(const b of this.Tb)b.A();d.F(this.Tb);this.Tb=null;this.to.A();this.sf=this.Gb=this.j=this.to=null;this.yi=!0;this.QC=this.ix=null}}K(){return this.j}mF(b,a,e){const c=[];for(const f of this.Tb){if(b!==f.Ga())continue;const k=f.Il(e);k&&a.constructor===k.zd().constructor&&c.push(k)}return c}X1(){return!!this.Tb.length}kA(b){this.Ja=b}Ea(){return this.Ja}sO(){return this.sf.Ea()}Xd(){return this.sf.Xd()}Ou(){return this.sf.Ou()}Xi(){return this.sf.Xi()}aj(){return this.sf.aj()}Bk(b){for(const a of this.Tb)a.Bk(b)}Ir(){return this.sf.Ir()}Kr(){return this.sf.Kr()}kn(){return this.sf.kn()}ov(b){return this.Em=
b}Uh(){return this.IsPlaying()?0<this.Em:!0}dO(){this.ix||(this.ix=new Promise(b=>{this.QC=b}))}nG(){this.ix&&(this.QC(),this.QC=this.ix=null)}HQ(b){this.Dh=d.he.Caa(b);this.oL=!0}yP(){d.D.Rc.G.Kp(this);this.Gb.na(d.D.Rc.G.Fpa);this.Gb.na(d.D.Rc.G.Gpa);this.Gb.na(d.D.Rc.G.Hpa);this.Gb.na(d.D.Rc.G.wpa);d.D.Rc.G.Kp(null)}mP(){this.Ms=this.j.il}EN(){this.oq||(this.oq=!0,d.D.Rc.G.Kp(this),this.Gb.na(d.D.Rc.G.Cpa),this.Gb.na(d.D.Rc.G.Dpa),this.Gb.na(d.D.Rc.G.Epa),this.Gb.na(d.D.Rc.G.vpa),d.D.Rc.G.Kp(null))}pv(b){this.kC=
b}IO(){return this.Ms===this.j.il}IsPlaying(b=!1){return this.IO()||this.vm&&!b?!0:this.kC}Bs(){return this.IsPlaying(!0)}rv(b){this.vm=b}hQ(b){this.pg=b;b=this.Ha();if(0>=b||b>=this.Xd())this.pg=!0}zG(b){this.ut=b}yG(b){this.WB=b}W6(){this.gt=!0}Ha(){return this.to.ba()}rs(b){const a=this.Ha();this.Ce(b);this.hQ(!1);this.pg||this.yG(!0);if(this.Bs()||this.vm||!this.Zn)this.Bs()||this.vm||this.Zn?this.Bs()?this.mg():this.vm&&(this.Gb.My(this),this.sQ()):this.sQ();this.GA(b,!1,!0,!0,a)&&this.K().ga();
this.ZS()}Ce(b){0>b?this.to.Set(0):b>=this.Xd()?this.to.Set(this.Xd()):this.to.Set(b)}ZS(){d.D.Rc&&this.constructor===d.he&&(d.D.Rc.G.Kp(this),this.Gb.na(d.D.Rc.G.zpa),this.Gb.na(d.D.Rc.G.Apa),this.Gb.na(d.D.Rc.G.Bpa),d.D.Rc.G.Kp(null))}Play(b=!1){return this.yi||this.vm?!1:this.Bs()&&this.IO()?this.Kda():this.Bs()||!this.pg&&!b&&!this.WB?!1:this.Lda()}Kda(){this.yG(!1);this.Gb.N5(this);this.Gb.bQ(this);this.dO();return!0}Lda(){this.yG(!1);this.Gb.bQ(this);this.dO();return!0}mg(b=!1){this.yi||(this.hQ(b),
this.Gb.Iy(this),this.pg&&this.nG())}Pc(b=!0,a=!1){if(!this.yi)if(!this.Bs()&&this.vm)this.Gb.My(this);else if(!this.pg){this.mg(!0);this.Uh()?this.Ce(0):this.Ce(this.Xd());var e=this.Ha();a=a?this.Waa(e):this.GA(e,!1,!1,!0);b&&this.ZS();a&&b&&this.K().ga()}}WP(){this.Pc(!1,!0)}Waa(b){this.GA(b,!1,!1,!0,NaN,!1,!0)}IA(){if(this.yi)return!0;if(this.Y1())return!1;this.Gb.Iy(this);this.WP();return!0}sQ(){this.Cd(!0)}Cd(b){if(!this.ut)if(b){this.Xn=this.Zn=!0;for(const a of this.Tb)a.Cd()}else if(this.pv(!0),
this.rv(!1),this.yP(),this.pg){this.Ms=-1;this.Uj=0;this.zj=1;this.oq=this.pg=!1;this.Xn=this.Zn=!0;this.Uh()?this.Ce(0):this.Ce(this.Xd());for(const a of this.Tb)a.Cd()}else{this.Xn=!0;for(const a of this.Tb)a.lg()}}Ed(b,a){if(0!==b||0!==this.yV){this.yV=b;var e=this.Ha();this.Ce(e+b*a*this.Em);var c;this.Ir()||this.Kr()?this.Ir()&&!this.Kr()?c=this.Fba():!this.Ir()&&this.Kr()?c=this.Dca():this.Ir()&&this.Kr()&&(c=this.Gba()):c=this.Iea();if(c){for(const f of this.Tb)f.G6();this.mg(!0);this.mP();
return!0}return this.GA(this.Ha(),!0,!1,!1,e,!0)}}GA(b,a=!1,e=!1,c=!1,f=NaN,k=!1,g=!1){let l=!1;for(var n of this.Tb)n.ru();for(const q of this.Tb){n=b;if("number"===typeof f){const r=this.Ha()-q.gg(),p=f-q.gg();0>r&&0<p&&(n=q.gg(),this.Ce(n))}n=q.rb(n,a,e,c,this.Xn,g);!l&&n&&(l=!0)}for(const q of this.Tb)q.qu();this.Xn&&k&&(this.Xn=!1);return l}Iea(){if(this.Uh()){if(this.Ha()>=this.Xd())if(this.zj<this.kn())this.zj++,this.Ce(0);else return this.Ce(this.Xd()),!0}else if(0>=this.Ha())if(this.zj<this.kn())this.zj++,
this.Ce(this.Xd());else return this.Ce(0),!0;return!1}Fba(){this.Uh()?this.Ha()>=this.Xd()&&this.Ce(0):0>=this.Ha()&&this.Ce(this.Xd());return!1}Dca(){if(this.Uh()){if(this.Ha()>=this.Xd())if(this.Ce(this.Xd()),this.ov(-1*this.Em),1===this.Uj)if(this.zj<this.kn())this.zj++,this.Uj=0;else return!0;else 0===this.Uj&&(this.Uj=1)}else if(0>=this.Ha())if(this.Ce(0),this.ov(-1*this.Em),1===this.Uj)if(this.zj<this.kn())this.zj++,this.Uj=0;else return!0;else 0===this.Uj&&(this.Uj=1);return!1}Gba(){this.Uh()?
this.Ha()>=this.Xd()&&(this.Ce(this.Xd()),this.ov(-1*this.Em)):0>=this.Ha()&&(this.Ce(0),this.ov(-1*this.Em));return!1}dk(){for(const b of this.Tb)b.dk()}hZ(){for(const b of this.Tb)b.eZ()}q7(b,a){if(a)for(const e of this.Tb)if(e.Vh()){if(b){if(e.hk()!==b)continue}else if(e.R1())continue;e.T6(a);this.Gb.IQ(a.J(),this);break}}zO(){return this.Tb.some(b=>b.Vh()?b.tE():!0)}Y1(){return this.Tb.some(b=>b.Vh()?b.tE()?(b=b.J())?b.Vg():!1:!1:!1)}Il(b){for(const a of this.Tb)for(const e of a.Jc)if(e.Ta.Pd===
b)return e}vO(b){for(const a of this.Tb)if(b===a.Ga())return a;return null}gF(){const b=[];for(const a of this.Tb)b.push(a.J());return b.filter(a=>a)}qa(){return{tracksJson:this.Ida(),name:this.Ja,playheadTime:this.Ha(),playbackRate:this.Em,pingPongState:this.Uj,currentRepeatCount:this.zj,isPlaying:this.kC,isScheduled:this.vm,initialStateSet:this.Zn,finishedTriggers:this.oq,complete:this.pg,released:this.yi,markedForRemoval:this.ut,completedTick:this.Ms,implicitPause:this.WB,isTemplate:this.gt,tags:this.Dh.join(" "),
stringTags:this.JW,tagsChanged:this.oL,firstTick:this.Xn}}ya(b){b&&(this.Bba(b.tracksJson),this.Ja=b.name,this.to.Set(b.playheadTime),this.Em=b.playbackRate,this.Uj=b.pingPongState,this.zj=b.currentRepeatCount,this.kC=!!b.isPlaying,this.vm=!!b.isScheduled,this.Zn=!!b.initialStateSet,this.oq=b.hasOwnProperty("finishedTriggers")?!!b.finishedTriggers:!1,this.pg=!!b.complete,this.yi=!!b.released,this.ut=!!b.markedForRemoval,this.Ms=b.completedTick,this.WB=!!b.implicitPause,this.gt=!!b.isTemplate,this.Dh=
b.tags.split(" "),this.JW=b.stringTags,this.oL=!!b.tagsChanged,this.Xn=!!b.firstTick)}Ida(){return this.Tb.map(b=>b.qa())}Bba(b){b.forEach((a,e)=>{this.Tb[e].ya(a)});this.Tb.filter(a=>a.tE())}static Caa(b){if(d.sp(b))return b.slice(0);if(d.cj(b))return b.split(" ")}}}
{"use strict";const d=self.B;d.TQ=class extends d.la{constructor(b,a){super();this.Bo=b;this.ac=a;this.tf=a.xz();this.Bm=this.rm=NaN;this.pb=this.uh=null;this.Aq=0<a.gg();this.lq=this.ft=!1;this.Eq=null;this.Vc=this.ac.Zi().Vc;this.Jc=[];for(const e of this.ac.We().sia())this.Jc.push(d.gb.Ua(this,e))}static Ua(b,a){return d.C(d.TQ,b,a)}A(){this.Vc=null;for(const b of this.Jc)b.A();d.F(this.Jc);this.Eq=this.ac=this.pb=this.uh=this.Bo=this.Jc=null}dk(){for(const b of this.Jc)b.dk();this.pb=this.uh=
null}vc(){return this.Bo}K(){return this.Bo.K()}g1(){return this.Vc?this.Vc:this.Vc=this.ac.Zi().Vc}Il(b){for(const a of this.Jc)if(a.Ta.Pd===b)return a}Xr(){this.uh||this.Ga()}Nl(){return this.uh?!this.uh.GF():!1}tE(){if(!this.Vh())return!1;const b=this.K().Ue(this.Ku());return b?!b.GF():!1}J(){if(this.Vh()){var b=this.fF();if(-1!==b)return this.K().Ef(b)}}eZ(){this.uh=null;this.rm=-1;this.pb=null;this.Bm=-1}R1(){return!!this.uh}Ga(){return this.uh&&this.Nl()?this.uh:this.uh=this.K().Ue(this.Ku())}T6(b){if(this.uh!==
b){this.dk();this.uh=b;this.Bm=b.J().Ka();this.rm=b.zb;this.pb=b.m();for(const k of this.tia()){const g=k.Hia;switch(k.ria.Wd()){case "instance-variable":var a=b.J(),e=a.$0(k.name),c=a.WN(e);a=a.Lu(e);c===k.name&&a===k.type&&g.n8(e);break;case "behavior":var f=k.PL;e=this.J();c=b.J();a=g.Ph(c);f&&a&&(f=f.Ea(),e.Gu(f),c.Gu(f),g.k8(a.Xa))}}}}*tia(){for(const e of this.Jc){var b=e.zd(),a=this.J();const c={ria:e,Hia:b};switch(e.Wd()){case "world-instance":c.Axa=e.Ta.Pd;break;case "instance-variable":b=
b.Fr();c.name=a.WN(b);c.type=a.Lu(b);break;case "effect":a=b.TE(a.Sa);c.Tva=a;break;case "behavior":a=b.Ph(a);c.PL=a;break;case "plugin":c.wxa=a.Jb()}yield c}}m(){if(this.pb&&this.Nl())return this.pb;const b=this.Ga();b&&(this.pb=b.m());return this.pb}Ku(){return this.rm?this.rm:this.ac.Ku()}Xi(){return this.ac.Xi()}aj(){return this.ac.aj()}hk(){return this.ac.hk()}gg(){return this.ac.gg()}Hl(){return this.ac.Hl()}Bk(b){for(const a of this.g1())a.Bk(b);for(const a of this.Jc)a.Bk(b)}Fl(){return this.ac.Fl()}Xl(b){this.ac.Xl(b)}fF(){return isNaN(this.Bm)?
this.ac.fF():this.Bm}mk(){const b=this.Ga();return b&&b.ma.wp()?b.ma.mk():this.ac.mk()}lk(){const b=this.Ga();return b&&b.ma.wp()?b.ma.lk():this.ac.lk()}rk(){return this.ac.rk()}Ea(){return this.ac.Ea()}Vh(){return 0===this.rk()}Cd(){this.Xr();if(this.Nl()||!this.Vh()){for(var b of this.Jc)b.Cd();b=this.vc().Uh()?0:this.Hl();this.Eq=this.bF(b);this.lq=this.ft=!1;this.rb(b)}}lg(){this.Xr();if(this.Nl()||!this.Vh()){this.Bo.Uh();var b=this.Bo.Ha()-this.gg();this.Eq=this.bF(b);for(const a of this.Jc)a.lg()}}G6(){if(!(this.vc().pg||
(this.Xr(),!this.Nl()&&this.Vh()||this.Aq))){const b=this.Bo.Ha();b>=this.gg()+this.Hl()?this.rb(this.Hl(),!0,!1,!0):0>=b&&this.rb(0,!0,!1,!0)}}ru(){for(const b of this.Jc)b.ru()}rb(b,a=!1,e=!1,c=!1,f=!1,k=!1){this.Xr();if(!this.Nl()&&this.Vh()||k&&this.Vh()&&this.J().Vg())return!1;b-=this.gg();if(0>b)return!1;this.T3(b,a);this.bP(b,a,f);f=k=!1;for(const g of this.Jc){const l=g.rb(b,e,!1,c);k||0===(l&d.he.s8)||(k=!0);f||0===(l&d.he.Pl)||(f=!0)}this.S3(b,a);k&&(b=this.m())&&b.ua();return f}qu(){for(const b of this.Jc)b.qu()}T3(b,
a){if(a&&this.Aq&&!this.ft){if(this.vc().Uh()){if(0>b)return;for(const e of this.Jc)e.rb(0,!1,!1,!0)}else{if(b>this.Hl())return;for(const e of this.Jc)e.rb(this.Hl(),!1,!1,!0)}for(const e of this.Jc)e.Cd();this.ft=!0}}S3(b,a){if(a&&this.Aq&&!this.lq)if(this.vc().Uh()){if(b>=this.Hl()){for(const e of this.Jc)e.rb(this.Hl(),!1,!1,!0);this.lq=!0}}else if(0>=b){for(const e of this.Jc)e.rb(0,!1,!1,!0);this.lq=!0}}bP(b,a,e){!e&&a&&(b=this.bF(b),b!==this.Eq&&this.rP(b),this.Eq=b)}bF(b){const a=this.vc();
let e=this.tf.d1(b,this.ac);return e?e:a.Uh()?this.tf.O0(b,this.ac):this.tf.N0(b,this.ac)}rP(b){if(d.D.Rc&&this.vc().constructor===d.he){var a=this.vc();d.D.Rc.G.Kp(a);d.D.Rc.G.y7(b);b=a.Gb;b.na(d.D.Rc.G.upa);b.na(d.D.Rc.G.rP);d.D.Rc.G.Kp(null);d.D.Rc.G.y7(null)}}sY(){return this.ac.Zi().lY()}LZ(b){this.ac.Zi().KZ(b)}EE(b){for(const a of this.Jc)a.EE(b)}Fp(){for(const b of this.Jc)b.Fp()}Ri(){this.Xr();if(this.Nl()||!this.Vh())for(const b of this.Jc)b.Ri()}Si(){this.Xr();if(this.Nl()||!this.Vh()){var b=
!1;for(const a of this.Jc){const e=a.Si();!b&&e&&(b=!0)}b&&(b=this.sY(),b.rs(this.vc().Ha()),b.Bk("noease"),b.Xl(!0),b.HQ(""))}}qa(){var b=this.Ga();b=b?b.zb:this.Ku();return{propertyTracksJson:this.Dda(),lastKeyframeDataItemJson:this.Ada(),initialStateOfNestedSet:this.ft,endStateOfNestedSet:this.lq,instanceUid:b}}ya(b){b&&(this.wba(b.propertyTracksJson),this.uba(b.lastKeyframeDataItemJson),this.rba(b.instanceUid),this.ft=!1,b.hasOwnProperty.initialStateOfNestedSet&&(this.ft=b.initialStateOfNestedSet),
this.lq=!1,b.hasOwnProperty.endStateOfNestedSet&&(this.lq=b.endStateOfNestedSet))}Ada(){return this.ac.Zi().f1(this.Eq)}Dda(){return this.Jc.map(b=>b.qa())}wba(b){b.forEach((a,e)=>{this.Jc[e].ya(a)})}rba(b){if(d.nn(b)&&(b=this.K().Ue(b))){var a=this.vc();a.hZ();a.q7(this.ac.hk(),b)}}uba(b){this.Eq=this.ac.Zi().e1(b)}}}
{"use strict";const d=self.B;d.gb=class extends d.la{constructor(b,a){super();this.vd=b;this.Ta=a;this.Gd=a.We();this.Wj=this.zd();this.Wc=this.Ta.$i().Wc}static Ua(b,a){return d.C(d.gb,b,a)}A(){this.vd=null;this.Wj&&(this.Wj.A(),this.Wj=null);this.Gd=this.Ta=this.Wc=null}We(){return this.Gd}vc(){return this.vd.vc()}K(){return this.vd.K()}Ga(){return this.vd.Ga()}zd(){if(this.Wj)return this.Wj;let b;switch(this.Ta.Wd()){case "behavior":b=new d.gb.MY(this);break;case "effect":b=new d.gb.T_(this);break;
case "instance-variable":b=new d.gb.X2(this);break;case "plugin":b=new d.gb.o5(this);break;case "world-instance":b=new d.gb.B8(this);break;case "value":b=new d.gb.q8(this)}return this.Wj=b}Wd(){return this.Ta.Wd()}Nu(){return this.Ta.rk()}jF(){return this.We().hz(this.Ta).rk()}Fl(){return this.Ta.Fl()}Xl(b){this.Ta.Xl(b)}Xi(){return this.Ta.Xi()}aj(){return this.Ta.aj()}Bk(b){for(const a of this.gO())a.Bk(b)}gO(){return this.Wc?this.Wc:this.Wc=this.Ta.$i().Wc}dk(){this.zd().dk()}Se(){return this.zd().Se()}Cd(){this.zd().Cd()}lg(){this.zd().lg()}ru(){this.zd().ru()}rb(b,
a=!1,e=!1,c=!1){var f=this.Ta;let k=this.Gd.iF(b,f);k?f=this.Gd.TN(b,f):(k=this.Gd.XE(b,f),f=this.Gd.WE(b,f));return this.zd().rb(b,k,f,a,e,c)}qu(){this.zd().qu()}static rO(b,a){const e=a.Ta;a=a.Gd;let c=a.iF(b,e);c||(c=a.XE(b,e));return c}static B0(b,a){const e=a.Ta;a=a.Gd;return a.iF(b,e)?a.TN(b,e):a.WE(b,e)}uY(){return this.Ta.$i().mY()}EE(b){this.Ta.$i().MZ(b)}Fp(){this.zd().Fp()}Ri(){if(this.zd().Ri()){const b=this.Gd.hz(this.Ta),a=this.zd().Se();b.eQ(a)}}Si(){const b=this.zd().Si();b&&this.vY();
this.zd().Hy();return b}vY(){const b=this.vc().Ha(),a=this.zd(),e=d.gb.rO(b,this),c=this.uY();c.JQ(e.rk());c.rs(b);c.Bk(e.gn());c.Xl(!0);c.ah(a.Az());c.eQ(a.Se())}qa(){return{sourceAdapterJson:this.zd().qa()}}ya(b){b&&this.zd().ya(b.sourceAdapterJson)}}}
{"use strict";const d=self.B.gb;d.dj=class{constructor(b){this.ra=b;this.Fm=null}A(){this.Fm&&(this.Fm.A(),this.Fm=null);this.ra=null}Il(){return this.ra}dk(){this.Fm&&this.Fm.dk()}Og(){return this.Fm?this.Fm:this.Fm=this.M9()}Fr(){}Ka(){return this.Fr()}Qu(){}Cd(){this.Og().Cd()}lg(){this.Og().lg()}ru(){this.Og().yr()}rb(b,a,e,c,f,k){const g=d.dj.XN(this.ra)(b,a,e,this.ra);return f?g:this.Og().Zo(b,g,a,e,c,k)}qu(){this.Og().xr()}Fp(){var b=this.Og();b.Ai=b.Se()}Hy(){this.Og().Hy()}Se(){return this.Og().Se()}Ri(){return this.Og().Ri()}Si(){return this.Og().Si()}Az(){return d.dj.Az(this.ra)}M9(){const b=
this.ra.Nu();switch(this.ra.jF()){case "combo":case "boolean":case "text":case "string":return new d.ig.eP(this);case "numeric":case "number":case "angle":return"combo"===b?new d.ig.eP(this):new d.ig.Z3(this);case "color":case "offsetColor":return new d.ig.kZ(this)}}qa(){return{propertyAdapterJson:this.Og().qa()}}ya(b){b&&this.Og().ya(b.propertyAdapterJson)}static Az(b){const a=b.vd.vc().Ha(),e=d.rO(a,b),c=d.B0(a,b);return d.dj.XN(b)(a,e,c,b)}static xe(){let b=(void 0).aj();"combo"===(void 0).Nu()&&
(b="absolute");switch(b){case "relative":return NaN}}static XN(b){switch(b.jF()){case "numeric":return d.WF.rb;case "angle":return d.UM.rb;case "boolean":return d.ZM.rb;case "color":return d.iN.rb;case "text":return d.RQ.rb}}static E1(b){switch(b.jF()){case "numeric":return d.WF.Zl;case "angle":return d.UM.Zl;case "boolean":return d.ZM.Zl;case "color":return d.iN.Zl;case "text":return d.RQ.Zl}}}}{"use strict";const d=self.B;class b extends d.gb.dj{constructor(a){super(a)}}d.gb.B8=b}
{"use strict";const d=self.B;class b extends d.gb.dj{constructor(a){super(a);this.Nx=NaN}Fr(){return this.ra.Ta.Bh[0]}Ka(){return this.Nx?this.Nx:super.Ka()}Qu(){return this.ra.vd.Ga()}n8(a){this.ra.Ta.Bh[0]!==a&&(this.Nx=a)}rb(a,e,c,f,k,g){if(this.Og().dN(e.xe()))return super.rb(a,e,c,f,k,g)}qa(){return Object.assign(super.qa(),{index:this.Nx})}ya(a){a&&(super.ya(a),this.Nx=a.index)}}d.gb.X2=b}
{"use strict";const d=self.B;class b extends d.gb.dj{constructor(a){super(a);this.Xa=NaN}Fr(){return this.ra.Ta.Bh[1]}Qu(){var a=this.ra.Ta,e=this.Xa?this.Xa:a.Bh[0];a=this.ra.vd.Ga();e=a.IN(e);return a.fd[e].ma}Ph(a){return a.Xy(this.ra.Ta.Bh[2])}k8(a){this.ra.Ta.Bh[0]!==a&&(this.Xa=a)}rb(a,e,c,f,k,g){const l=this.ra.vd.Ga();if(this.Ph(l.J()))return super.rb(a,e,c,f,k,g)}qa(){return Object.assign(super.qa(),{sid:this.Xa})}ya(a){a&&(super.ya(a),this.Xa=a.sid)}}d.gb.MY=b}
{"use strict";const d=self.B;class b extends d.gb.dj{constructor(a){super(a)}Fr(){return this.ra.Ta.Bh[1]}Qu(){const a=this.ra.vd.m().Ge,e=this.TE(a.Sa).Ka();return a.Xu(e)?a.Kg(e):null}TE(a){return a.El(this.ra.Ta.Bh[0])}rb(a,e,c,f,k,g){if(this.$aa())return super.rb(a,e,c,f,k,g)}$aa(){const a=this.ra.vd.m().Ge,e=this.TE(a.Sa);if(e)return a.Xu(e.Ka())}}d.gb.T_=b}
{"use strict";const d=self.B;class b extends d.gb.dj{constructor(a){super(a)}Fr(){return this.ra.Ta.Bh[0]}Qu(){return this.ra.vd.Ga().ma}rb(a,e,c,f,k,g){var l=this.ra.vd;const n=l.J().Jb();l=l.Ga().J().Jb();if(n===l)return super.rb(a,e,c,f,k,g)}}d.gb.o5=b}
{"use strict";const d=self.B;class b extends d.gb.dj{constructor(a){super(a);this.Jd=0;this.XB=!1}Cd(){const a=this.ra.We();let e=this.ra.Ta;e=a.hz(e);this.Jd=e.wc()}lg(){}xe(){this.XB||this.ra.rb(0);return this.Jd}rb(a,e,c){const f=d.gb.WF.rb;this.Jd=f(a,e,c,this.ra);this.XB=!0}Fp(){}Hy(){}Se(){return this.Jd}Ri(){return!1}Si(){return!1}qa(){return{value:this.Jd,init:this.XB}}ya(a){a&&(this.Jd=a.value,this.XB=a.hasOwnProperty("init")?a.init:!0)}}d.gb.q8=b}"use strict";
function ic(d,b,a){return d.ra.vc().Uh()?b():a()}function jc(d,b,a){return"relative"===d.ra.aj()?b():a()}function kc(d,b,a){d.Zs?(d.Zs=!1,b()):a()}function lc(d){if(d.Ot)return d.Ot;d.Ot=d.Wj.Qu();return d.Ot}function mc(d,b,a,e,c,f){switch(d.ra.Wd()){case "behavior":return b();case "effect":return a();case "instance-variable":return e();case "plugin":return c();case "world-instance":return f()}}
function nc(d,b=!1){const a=[];for(const e of d){d=e.vd.gg();for(const c of e.gO())b&&0===c.Ha()?a.push({time:d+c.Ha(),value:c.ei}):b||a.push({time:d+c.Ha(),value:c.ei})}return a.sort((e,c)=>e.time-c.time)}function oc(d,b){for(let a=b.length-1;0<=a;a--)if(b[a].time<=d)return b[a];return null}
self.B.gb.ig=class{constructor(d){this.Wj=d;this.ra=d.Il();this.pb=this.ra.vd.m();this.Pd=this.ra.Ta.Pd;this.Zs=!1;this.Ot=this.Ai=null}A(){this.Ot=this.Ai=this.pb=this.ra=this.Wj=null}dk(){this.Ot=this.Ai=this.pb=null}Il(){return this.ra}m(){return this.pb?this.pb:this.pb=this.ra.vd.m()}Cd(){}lg(){}Hy(){this.Ai=null}Se(){}Ri(){}Si(){}dN(d){return typeof this.cm()===typeof d}yr(){}Zo(){}xr(){}Op(){return ic(this,()=>{const d=this.ra.Ta;return this.ra.We().hz(d)},()=>{const d=this.ra.Ta;return this.ra.We().jp(d)}).ei}uA(){const d=
this.ra.vc().Ha()-this.ra.vd.gg();return ic(this,()=>{const b=this.ra.Ta;return this.ra.We().XE(d,b)},()=>{const b=this.ra.Ta,a=this.ra.We(),e=a.WE(d,b);return e?e:a.jp(b)}).ei}yA(){}bi(){return this.Wj.Ka()}qa(){return{firstAbsoluteUpdate:this.Zs,saveState:this.Ai}}ya(d){d&&(this.Zs=d.firstAbsoluteUpdate,this.Ai=d.saveState)}};
{"use strict";const d=self.B,b=new Map,a=[0,0,0];class e extends d.gb.ig{constructor(c){super(c)}Cd(){}lg(){}Se(){const c=this.ra.Wd(),f=lc(this),k=this.bi();switch(c){case "behavior":return this.UA(f.ic(k));case "effect":return this.UA(f[k]);case "plugin":return this.UA(f.ic(k));case "world-instance":return this.UA(this.cm())}}Ri(){const c=this.Op();return!this.uR(c,this.cm())}Si(){return d.ye(this.Ai)?!1:!this.uR(this.Ai,this.cm())}uR(c,f){return c.Qo(f)}Op(){const c=super.Op();return this.zA(c)}uA(){const c=
super.uA();return this.zA(c)}yA(){}UA(c){return d.pn(c,d.ib)?c.toArray().slice(0,3):c.slice(0,3)}zA(c){return d.pn(c,d.ib)?c:new d.ib(c[0],c[1],c[2],1)}dN(){return!0}yr(){var c=this.ra.Ga();b.has(c)||b.set(c,new Map);c=b.get(c);const f=this.ra.Wd();c.has(f)||c.set(f,new Map);c=c.get(f);c.has(this.Pd)||c.set(this.Pd,{ry:!1,color:new d.ib(0,0,0,1)})}uS(c,f,k){c=b.get(c).get(f).get(k);c.ry=!0;return c.color}Zo(c,f){var k=this.ra.vc(),g=this.ra.vd;c=this.ra.Ga();var l=this.ra.zd();const n=this.ra.Wd();
l=k.mF(c,l,this.Pd);if(1<l.length){if(l=nc(l,!0),k=k.Ha(),k=oc(k,l))if(l=k.time-g.gg(),0===l)this.uS(c,n,this.Pd).$W(f[0],f[1],f[2]);else{if(0>l)return;k=f[0];g=f[1];f=f[2];l=this.ra.rb(l,!1,!0);k=d.ib.FE(k,l[0]);g=d.ib.FE(g,l[1]);f=d.ib.FE(f,l[2]);this.uS(c,n,this.Pd).$W(k,g,f)}}else this.Nk(f[0],f[1],f[2]);return d.he.Pl}xr(){const c=this.ra.Ga();if(b.has(c)){var f=b.get(c),k=this.ra.Wd();if(f.has(k)){var g=f.get(k);if(g.has(this.Pd)){var l=g.get(this.Pd),n=l.color;l.ry&&this.Nk(n.cb,n.Ia,n.ab);
0===g.size&&f.delete(k);0===f.size&&b.delete(c)}}}}cm(){const c=this.ra.Wd(),f=lc(this),k=this.bi();switch(c){case "behavior":return this.zA(f.ic(k));case "effect":return f[k].clone();case "plugin":return this.zA(f.ic(k));case "world-instance":return this.m().ub.clone()}}Nk(c,f,k){const g=this.ra.Wd(),l=lc(this),n=this.bi();switch(g){case "behavior":a[0]=c;a[1]=f;a[2]=k;l.If(n,a);break;case "effect":l[n].YD(c,f,k);break;case "plugin":a[0]=c;a[1]=f;a[2]=k;l.If(n,a);break;case "world-instance":this.m().z7(c,
f,k)}}qa(){}ya(){}}d.gb.ig.kZ=e}
{"use strict";const d=self.B;class b extends d.gb.ig{constructor(a){super(a)}Cd(){}lg(){}Se(){return this.cm()}Ri(){return this.Op()!==this.Se()}Si(){return d.ye(this.Ai)?!1:this.Ai!==this.Se()}Zo(a,e){const c=d.gb.dj.E1(this.ra);var f=this.ra;const k=f.vd,g=f.Wd();var l=f.vc();const n=k.Ga();f=f.zd();l=l.mF(n,f,this.Pd);1<l.length&&(l=nc(l),a=oc(a+k.gg(),l))&&(e=a.value);if(c(this.bi(),lc(this),e,g))switch(this.Nk(e),g){case "plugin":return d.he.Pl}}cm(){const a=this.ra.Wd(),e=lc(this),c=this.bi();
switch(a){case "behavior":return e.ic(c);case "effect":return e[c];case "instance-variable":return e.Ve(c);case "plugin":return e.ic(c)}}Nk(a){const e=this.ra.Wd(),c=lc(this),f=this.bi();switch(e){case "behavior":c.If(f,a);break;case "effect":c[f]=a;break;case "instance-variable":c.Bn(f,a);break;case "plugin":c.If(f,a)}}}d.gb.ig.eP=b}
{"use strict";const d=self.B,b=new Map,a=(c,f,k,g,l)=>b.set(c,{Fia:f,Oga:k,Dha:g,round:l});a("offsetX",(c,f)=>c.g4(f),(c,f)=>c.bh(f),c=>c.L(),!0);a("offsetY",(c,f)=>c.h4(f),(c,f)=>c.dh(f),c=>c.M(),!0);a("offsetWidth",(c,f)=>c.gP(f),(c,f)=>c.cf(f),c=>c.S(),!0);a("offsetHeight",(c,f)=>c.fP(f),(c,f)=>c.Ze(f),c=>c.V(),!0);a("offsetAngle",(c,f)=>c.c4(f),(c,f)=>c.jc(f),c=>c.ja(),!1);a("offsetOpacity",(c,f,k,g)=>{k=c.Ld()+f;0===g.Uc?(1<k?g.Uc+=k-1:0>k&&(g.Uc+=k),c.d4(f)):(c=c.Ld()+f,0<f&&0<g.Uc?1<c&&(g.Uc+=
c-1):0<f&&0>g.Uc?(g.Uc+=f,0<g.Uc&&(g.Uc=0)):0>f&&0<g.Uc?(g.Uc+=f,0>g.Uc&&(g.Uc=0)):0>f&&0>g.Uc&&0>c&&(g.Uc+=c))},(c,f)=>{c.$e(f)},c=>c.Ld(),!1);a("offsetOriginX",(c,f)=>c.e4(f),(c,f)=>c.ms(f),c=>c.jk(),!1);a("offsetOriginY",(c,f)=>c.f4(f),(c,f)=>c.ns(f),c=>c.kk(),!1);a("offsetZElevation",(c,f)=>c.i4(f),(c,f)=>c.df(f),c=>c.Za(),!0);a("offsetScaleX",(c,f,k)=>{const g=0>c.S()?-1:1;c.gP(k.mk()*g*f)},(c,f,k)=>{c.cf(k.mk()*f)},(c,f)=>{const k=0>c.S()?-1:1;if(c.mp()){var g=c.Fa(),l=f.vc().vO(g.Ga());l?g=
g.S()/l.mk():(l=g.Ga().ma,g=l.wp()?g.S()/l.mk():1);return c.S()*k/(f.mk()*g)}return c.S()*k/f.mk()},!1);a("offsetScaleY",(c,f,k)=>{const g=0>c.V()?-1:1;c.fP(k.lk()*g*f)},(c,f,k)=>{c.Ze(k.lk()*f)},(c,f)=>{const k=0>c.V()?-1:1;if(c.lp()){var g=c.Fa(),l=f.vc().vO(g.Ga());l?g=g.V()/l.lk():(l=g.Ga().ma,g=l.wp()?g.V()/l.lk():1);return c.V()*k/(f.lk()*g)}return c.V()*k/f.lk()},!1);class e extends d.gb.ig{constructor(c){super(c);this.Uc=this.jb=0;this.EJ=this.GJ=this.FJ=null;this.rW=!1;this.hr=d.pn(this.ra.vc(),
d.g8)?new d.gb.ig.b4(this):new d.gb.ig.a4(this);c=this.ra.Ta.Pd;"world-instance"===this.ra.Wd()&&(c=b.get(c),this.FJ=c.Dha,this.GJ=c.Fia,this.EJ=c.Oga,this.rW=c.round)}A(){this.EJ=this.GJ=this.FJ=this.hr=null;super.A()}vQ(c){this.jb=c}Cd(){const c=this.hr.Cd();"number"===typeof c&&(this.jb=c);this.Uc=0}lg(){const c=this.hr.lg();"number"===typeof c&&(this.jb=c)}Se(){return this.cm()}Ri(){return this.Op()!==this.Se()}Si(){return d.ye(this.Ai)?!1:this.Ai!==this.Se()}yr(){this.hr.yr()}Zo(c,f,k,g,l,n,
q){return this.hr.Zo(c,f,k,g,l,n,q)}xr(){this.hr.xr()}cm(){const c=lc(this),f=this.bi(),k=this.ra.vd,g=this.m();return mc(this,()=>c.ic(f),()=>c[f],()=>c.Ve(f),()=>c.ic(f),()=>this.FJ(g,k))}Nk(c){const f=lc(this),k=this.bi(),g=this.ra.vd,l=this.m();mc(this,()=>f.YF(k,c),()=>f[k]+=c,()=>f.U6(k,c),()=>f.YF(k,c),()=>this.GJ(l,c,g,this))}NT(c){const f=lc(this),k=this.bi(),g=this.ra.vd,l=this.m();mc(this,()=>f.If(k,c),()=>f[k]=c,()=>f.Bn(k,c),()=>f.If(k,c),()=>this.EJ(l,c,g))}Cs(c,f,k,g,l,n){this.hr.Cs(c,
f,k,g,l,n)}$l(c,f,k){c=(c.toString().split(".")[1]||"").length;const g=this.cm();this.Nk((0===c?this.rW?Math.round(g):g:d.toFixed(g,c))-g,f,k)}qa(){return Object.assign(super.qa(),{v:this.jb,a:this.Uc})}ya(c){c&&(super.ya(c),this.jb=c.v,this.Uc=c.a)}}d.gb.ig.Z3=e}
{"use strict";const d=self.B,b=new Map;class a{constructor(e){this.Le=e}A(){this.Le=null}Cd(){const e=this.Le,c=this.Le.Il();return jc(e,()=>ic(e,()=>0,()=>d.gb.dj.Az(c)),()=>{})}lg(){}yr(){const e=this.Le,c=this.Le.Il(),f=c.Ta.Pd;jc(e,()=>{},()=>{var k=c.Ga();b.has(k)||b.set(k,new Map);k=b.get(k);const g=c.Wd();k.has(g)||k.set(g,new Map);k=k.get(g);k.has(f)||k.set(f,{ry:!1,value:0})})}tS(e,c,f){e=b.get(e).get(c).get(f);e.ry=!0;return e}Zo(e,c,f,k,g,l){const n=this.Le,q=this.Le.Il(),r=q.Ta.Pd;jc(n,
()=>{const p=n.jb;n.Nk(c-p,f,k);l&&this.Cs(e,f,k,g,p,c);n.vQ(c)},()=>{var p=q.vc(),u=q.vd;const t=q.Ga();var w=q.zd();const x=q.Wd();w=p.mF(t,w,r);if(1<w.length){if(w=nc(w,!0),p=p.Ha(),p=oc(p,w))u=p.time-u.gg(),0===u?this.tS(t,x,r).value+=c:0>u||(u=q.rb(u,!1,!0),this.tS(t,x,r).value+=c-u)}else n.NT(c)});return mc(n,()=>{},()=>d.he.Pl,()=>{},()=>d.he.Pl,()=>d.he.Pl)}xr(){const e=this.Le,c=this.Le.Il(),f=c.Ta.Pd;jc(e,()=>{},()=>{const k=c.Ga();if(b.has(k)){var g=b.get(k),l=c.Wd();if(g.has(l)){var n=
g.get(l);if(n.has(f)){var q=n.get(f),r=q.value;q.ry&&e.NT(r);n.delete(f);0===n.size&&g.delete(l);0===g.size&&b.delete(k)}}}})}Cs(e,c,f,k,g,l){const n=this.Le;k||(c&&e===c.Ha()?n.$l(c.wc(),c,f):f&&e===f.Ha()?n.$l(f.wc(),c,f):0===l-g&&n.$l(c.wc(),c,f))}}d.gb.ig.a4=a}
{"use strict";const d=self.B;class b{constructor(a){this.Le=a}A(){this.Le=null}Cd(){const a=this.Le;a.Zs=!0;return this.yA(a.Op())}lg(){const a=this.Le;if(a.Op()!==a.uA())return a.Zs=!0,this.yA(a.uA())}yr(){}Zo(a,e,c,f,k,g){const l=this.Le,n=l.jb;jc(l,()=>{l.Nk(e-n,c,f);g&&this.Cs(a,c,f,k,n,e)},()=>{kc(l,()=>{l.Nk(n,c,f)},()=>{l.Nk(e-n,c,f);g&&this.Cs(a,c,f,k,n,e)})});l.vQ(e);return mc(l,()=>{},()=>d.he.Pl,()=>{},()=>d.he.Pl,()=>d.he.Pl)}xr(){}yA(a){return a-this.Le.Se()}Cs(a,e,c,f,k,g){const l=this.Le;
f?e&&a===e.Ha()?l.$l(e.wc(),e,c):c&&a===c.Ha()?l.$l(c.wc(),e,c):c||l.$l(e.wc(),e,c):e&&a===e.Ha()?l.$l(e.wc(),e,c):c&&a===c.Ha()?l.$l(c.wc(),e,c):0===g-k&&l.$l(e.wc(),e,c)}}d.gb.ig.b4=b}
{"use strict";const d=self.B,b=self.xu;d.gb.WF=class{constructor(){}static Zl(a,e,c,f){let k;switch(f){case "behavior":k=e.ic(a);break;case "effect":k=e[a];break;case "instance-variable":k=e.Ve(a);break;case "plugin":k=e.ic(a)}return k===c?!1:!0}static rb(a,e,c,f){if(!c)return c=f.Ta,c=f.We().jp(c),c.wc();var k=f.Xi();"default"===k&&(k="continuous");"combo"===f.Nu()&&(k="discrete");if("discrete"===k)return e.wc();if("continuous"===k||"step"===k){"step"===k&&(k=f.vc().Ou(),0!==k&&(k=1/k,a=Math.floor(a*
k)/k));var g=e.Ha();const l=c.Ha();k=e.wc();const n=c.wc();if(k===n)return k;a=d.normalize(a,g,l);const q=e.gn();e=e.ME("cubic-bezier");c=c.ME("cubic-bezier");e&&e.Bx&&c&&c.DB?(g=l-g,g=b.kp(q)(g*a,0,1,g),g=b.kp("cubicbezier")(g,k,k+e.iL,n+c.cJ,n)):g=b.kp(q)((l-g)*a,k,n-k,l-g);return"integer"===f.Nu()?Math.floor(g):g}}}}
{"use strict";const d=self.B;d.gb.UM=class{constructor(){}static Zl(b,a,e,c){let f;switch(c){case "behavior":f=a.ic(b);break;case "effect":f=a[b];break;case "instance-variable":f=a.Ve(b);break;case "plugin":f=a.ic(b)}return f===e?!1:!0}static rb(b,a,e,c){if(!e)return a=c.Ta,a=c.We().jp(a),a.wc();var f=c.Xi();"default"===f&&(f="continuous");"combo"===c.Nu()&&(f="discrete");if("discrete"===f)return a.wc();if("continuous"===f||"step"===f){"step"===f&&(c=c.vc().Ou(),0!==c&&(c=1/c,b=Math.floor(b*c)/c));
const k=a.Ha(),g=e.Ha();c=a.wc();e=e.wc();if(f=a.ME("angle")){const l=f.WK;if(c===e&&0===l)return c;b=d.normalize(b,k,g);a=self.xu.kp(a.gn())(b,0,1,1);switch(f.WI){case "closest":return d.NL(c,e,a,l);case "clockwise":return d.Vga(c,e,a,l);case "anti-clockwise":return d.Uga(c,e,a,l)}}else{if(c===e)return c;b=d.normalize(b,k,g);a=self.xu.kp(a.gn());return d.NL(c,e,a(b,0,1,1))}}}}}"use strict";
self.B.gb.ZM=class{constructor(){}static Zl(d,b,a,e){let c;switch(e){case "behavior":c=b.ic(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Ve(d);break;case "plugin":c=b.ic(d)}return!!c===!!a?!1:!0}static rb(d,b,a,e){return a?b.wc()?1:0:(d=e.Ta,d=e.We().jp(d),d.wc()?1:0)}};
{"use strict";const d=self.B,b=[0,0,0],a=[0,0,0],e=[0,0,0];d.gb.iN=class{constructor(){}static Zl(c,f,k,g){let l;switch(g){case "behavior":l=f.ic(c);break;case "effect":l=f[c];break;case "instance-variable":l=f.Ve(c);break;case "plugin":l=f.ic(c)}Array.isArray(k)?(b[0]=k[0],b[1]=k[1],b[2]=k[2]):(e.RD(k),b[0]=Math.floor(255*e.cb),b[1]=Math.floor(255*e.Ia),b[2]=Math.floor(255*e.ab));Array.isArray(l)?(a[0]=l[0],a[1]=l[1],a[2]=l[2]):(e.RD(l),a[0]=Math.floor(255*e.cb),a[1]=Math.floor(255*e.Ia),a[2]=Math.floor(255*
e.ab));return b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]?!0:!1}static rb(c,f,k,g){if(!k)return f=g.Ta,f=g.We().jp(f),f=f.wc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;var l=g.Xi();"default"===l&&(l="continuous");if("discrete"===l)return f=f.wc(),b[0]=f[0],b[1]=f[1],b[2]=f[2],b;if("continuous"===l||"step"===l){"step"===l&&(g=g.vc().Ou(),0!==g&&(g=1/g,c=Math.floor(c*g)/g));g=f.Ha();l=k.Ha();var n=f.wc(),q=k.wc();const r=d.normalize(c,g,l);c=n[0];k=n[1];n=n[2];const p=q[0],u=q[1];q=q[2];f=self.xu.kp(f.gn());g=l-g;
l=g*r;b[0]=c===p?c:f(l,c,p-c,g);b[1]=k===u?k:f(l,k,u-k,g);b[2]=n===q?n:f(l,n,q-n,g);return b}}}}"use strict";self.B.gb.RQ=class{constructor(){}static Zl(d,b,a,e){let c;switch(e){case "behavior":c=b.ic(d);break;case "effect":c=b[d];break;case "instance-variable":c=b.Ve(d);break;case "plugin":c=b.ic(d)}return c===a?!1:!0}static rb(d,b,a,e){return a?b.wc():(d=e.Ta,d=e.We().jp(d),d.wc())}};
{"use strict";const d=self.B;d.fh=class{constructor(){this.Hx=new Map}A(){for(const b of this.Hx.values())b.A();this.Hx.clear();this.Hx=null}sc(b){b=new d.a8(b);this.Hx.set(b.Ea(),b)}ba(b){return this.Hx.get(b)}static zv(b,a,e,c){if(a)for(const f of a)d.fh.xR("create",f,b,e,c)}static Jv(b,a,e,c){b.length?a.forEach((f,k)=>{b[k].ya(f)}):a.forEach(f=>{d.fh.xR("load",f,b,e,c)})}static xR(b,a,e,c,f){let k;if("function"===typeof c)switch(b){case "load":k=new c(null,f);break;case "create":k=new c(a,f)}else if("object"===
typeof c)switch(c=c.map.get(a[c.MX]),b){case "load":k=new c(null,f);break;case "create":k=new c(a,f)}switch(b){case "load":k.ya(a);e.push(k);break;case "create":"function"!==typeof k.Fl||k.Fl()?e.push(k):k.A()}}}}
{"use strict";const d=self.B;d.a8=class{constructor(b){this.Ja="";this.qD=NaN;this.lD=0;this.yg=this.tg="default";this.PC=this.GC=!1;this.It=1;this.tf=null;b&&(this.Ja=b[0],this.qD=b[1],this.lD=b[2],this.tg=b[3],this.yg=b[4],this.GC=!!b[6],this.PC=!!b[7],this.It=b[8],this.tf=new d.SQ(b[5],this))}A(){this.tf.A();this.tf=null}xz(){this.tf||(this.tf=new d.SQ(null,this));return this.tf}Ea(){return this.Ja}kA(b){this.Ja=b}Xd(){return this.qD}Ou(){return this.lD}Xi(){return this.tg}aj(){return this.yg}Ir(){return this.GC}Kr(){return this.PC}kn(){return this.It}qa(){return{trackDataJson:this.tf.qa(),
name:this.Ja,totalTime:this.qD,step:this.lD,interpolationMode:this.tg,resultMode:this.yg,loop:this.GC,pingPong:this.PC,repeatCount:this.It}}ya(b){b&&(this.xz().ya(b.trackDataJson),this.Ja=b.name,this.qD=b.totalTime,this.lD=b.step,this.tg=b.interpolationMode,this.yg=b.resultMode,this.GC=b.loop,this.PC=b.pingPong,this.It=b.repeatCount)}}}
{"use strict";const d=self.B;class b{constructor(a,e){this.tf=e;this.Mn=this.$B=null;this.Bm=this.rm=NaN;this.yg=this.tg="default";this.rh=!1;this.Gd=this.Oj=null;this.mf="";this.yt=null;this.jL=0;this.EC=this.tf.sf.Xd();this.Da=0;this.Ja="";a&&(a[0]&&(this.$B=a[0],this.rm=a[0][2],this.Bm=a[0][1]),this.tg=a[1],this.yg=a[2],this.rh=!!a[3],a[6]&&(this.mf=a[6]),a[7]&&(this.yt=a[7],this.jL=a[7][0],this.EC=a[7][1]),a[8]&&(this.Mn=a[8]),a[8]&&(this.Mn=a[8]),a[9]&&(this.Da=a[9]),a[10]&&(this.Ja=a[10]),this.Oj=
new d.SO(a[4],this),this.Gd=new d.FP(a[5],this))}A(){this.tf=this.$B=null;this.Oj&&(this.Oj.A(),this.Oj=null);this.Gd&&(this.Gd.A(),this.Gd=null);this.yt=null}xz(){return this.tf}Zi(){this.Oj||(this.Oj=new d.SO(null,this));return this.Oj}We(){this.Gd||(this.Gd=new d.FP(null,this));return this.Gd}fF(){return this.Bm}Ku(){return this.rm}Xi(){return this.tg}aj(){return this.yg}Fl(){return this.rh}Xl(a){this.rh=!!a}hk(){return this.mf}gg(){return this.jL}Hl(){return this.EC}mk(){return this.Mn[0]}lk(){this.Mn||
(this.Mn=[]);return this.Mn[1]}rk(){return this.Da}Ea(){return this.Ja}qa(){return{keyframeDataJson:this.Oj.qa(),propertyTrackDataJson:this.Gd.qa(),instanceData:this.$B,additionalInstanceData:this.Mn,instanceUid:this.rm,objectClassIndex:this.Bm,interpolationMode:this.tg,resultMode:this.yg,enabled:this.rh,id:this.mf,nestedData:this.yt,type:this.Da,name:this.Ja}}ya(a){a&&(this.$B=a.instanceData,this.rm=a.instanceUid,this.Bm=a.objectClassIndex,this.tg=a.interpolationMode,this.yg=a.resultMode,this.rh=
a.enabled,this.mf=a.id,this.Da=a.type?a.type:0,this.Da=a.name?a.name:"",this.EC=this.tf.sf.Xd(),a.nestedData&&(this.yt=a.nestedData,this.jL=this.yt[0],this.EC=this.yt[1]),a.additionalInstanceData&&(this.Mn=a.additionalInstanceData),this.Zi().ya(a.keyframeDataJson),this.We().ya(a.propertyTrackDataJson))}}d.SQ=class{constructor(a,e){this.sf=e;this.cr=[];this.Sw=new Map;d.fh.zv(this.cr,a,b,this)}A(){this.sf=null;for(const a of this.cr)a.A();d.F(this.cr);this.cr=null;this.Sw.clear();this.Sw=null}d1(a,
e){const c=this.Sw.get(e);if(c&&c.has(a))return c.get(a);for(const f of e.Zi().zX())if(f.Ha()===a)return c||this.Sw.set(e,new Map),this.Sw.get(e).set(a,f),f}N0(a,e){for(const c of e.Zi().zX())if(c.Ha()>=a)return c}O0(a,e){for(const c of e.Zi().Xha())if(c.Ha()<=a)return c}*Nia(){for(const a of this.cr)yield a}qa(){return{trackDataItemsJson:this.cr.map(a=>a.qa())}}ya(a){a&&d.fh.Jv(this.cr,a.trackDataItemsJson,b,this)}}}
{"use strict";const d=self.B;class b{constructor(a,e){this.Gd=e;this.dD="";this.Da=this.Pd=this.Bh=null;this.pK=this.tK=NaN;this.yg=this.tg="default";this.rh=!1;this.el=null;a&&(this.dD=a[0][0],this.Bh=a[0].slice(1),this.Pd=a[1],this.Da=a[2],this.tK=a[3],this.pK=a[4],this.tg=a[5],this.yg=a[6],this.rh=!!a[7],this.el=new d.EP(a[8],this))}A(){this.el.A();this.Bh=this.Gd=this.el=null}We(){return this.Gd}$i(){this.el||(this.el=new d.EP(null,this));return this.el}Wd(){return this.dD}rk(){return this.Da}JQ(a){this.Da=
a}Xi(){return this.tg}aj(){return this.yg}Fl(){return this.rh}Xl(a){this.rh=!!a}qa(){return{propertyKeyframeDataJson:this.el.qa(),sourceAdapterId:this.dD,sourceAdapterArguments:this.Bh,property:this.Pd,type:this.Da,min:this.tK,max:this.pK,interpolationMode:this.tg,resultMode:this.yg,enabled:this.rh}}ya(a){a&&(this.dD=a.sourceAdapterId,this.Bh=a.sourceAdapterArguments,this.Pd=a.property,this.Da=a.type,this.tK=a.min,this.pK=a.max,this.tg=a.interpolationMode,this.yg=a.resultMode,this.rh=a.enabled,this.$i().ya(a.propertyKeyframeDataJson))}}
d.FP=class{constructor(a,e){this.ac=e;this.Oq=[];this.kx=new Map;d.fh.zv(this.Oq,a,b,this)}A(){this.ac=null;for(const a of this.Oq)a.A();d.F(this.Oq);this.Oq=null;this.kx.clear();this.kx=null}hz(a){return a.$i().Wc[0]}jp(a){return a.$i().Wc.ue(-1)}iF(a,e){const c=this.kx.get(e);if(c&&c.has(a))return c.get(a);const f=e.$i();for(const k of f.zM())if(k.Ha()===a)return c||this.kx.set(e,new Map),this.kx.get(e).set(a,k),k}TN(a,e){e=e.$i();for(const c of e.zM())if(c.Ha()>a)return c}WE(a,e){e=e.$i();for(const c of e.zM())if(c.Ha()>=
a)return c}XE(a,e){e=e.$i();for(const c of e.qia())if(c.Ha()<=a)return c}*sia(){for(const a of this.Oq)yield a}qa(){return{propertyTrackDataItemsJson:this.Oq.map(a=>a.qa())}}ya(a){a&&d.fh.Jv(this.Oq,a.propertyTrackDataItemsJson,b,this)}}}
{"use strict";const d=self.B;class b{constructor(a,e){this.Oj=e;this.Yc=-1;this.Cj="noease";this.Dj=!1;this.Yw=this.Dh=null;a&&(this.Yc=a[0],this.Cj=a[1],this.Dj=!!a[2],this.Dh=(a=a[3])?a.split(" "):[],this.Yw=new Set(this.Dh.map(c=>c.toLowerCase())))}A(){this.Oj=null;d.F(this.Dh);this.Dh=null;this.Yw.clear();this.Yw=null}Zi(){return this.Oj}Ha(){return this.Yc}rs(a){this.Yc=a}gn(){return this.Cj}Bk(a){this.Cj=a}Fl(){return this.Dj}Xl(a){this.Dj=!!a}HQ(a){this.Dh=a?a.split(" "):[];this.Yw=new Set(this.Dh.map(e=>
e.toLowerCase()))}qa(){return{time:this.Yc,ease:this.Cj,enable:this.Dj,tags:this.Dh}}ya(a){a&&(this.Yc=a.time,this.Cj=a.ease,this.Dj=a.enable,this.Dh=a.tags,this.Yw=new Set(this.Dh.map(e=>e.toLowerCase())))}}d.SO=class{constructor(a,e){this.ac=e;this.Vc=[];d.fh.zv(this.Vc,a,b,this)}A(){this.ac=null;for(const a of this.Vc)a.A();d.F(this.Vc);this.Vc=null}lY(){const a=new b(null,this);this.Vc.push(a);return a}KZ(a){for(const e of this.Vc){if(!a(e))continue;const c=this.Vc.indexOf(e);-1!==c&&(e.A(),this.Vc.splice(c,
1))}this.L7()}L7(){this.Vc.sort((a,e)=>a.Ha()-e.Ha())}f1(a){return this.Vc.indexOf(a)}e1(a){return this.Vc[a]}*zX(){for(const a of this.Vc)yield a}*Xha(){for(let a=this.Vc.length-1;0<=a;a--)yield this.Vc[a]}qa(){return{keyframeDataItemsJson:this.Vc.map(a=>a.qa())}}ya(a){a&&d.fh.Jv(this.Vc,a.keyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.B;class b{constructor(a,e){this.el=e;this.ei=this.Jd=null;this.Da="";this.Yc=NaN;this.Cj="noease";this.Dj=!1;this.pj=null;a&&(this.Jd=a[0][0],this.ei=a[0][1],this.Da=a[0][2],this.Yc=a[1],this.Cj=a[2],this.Dj=!!a[3],this.pj=null,a[4]&&(this.pj=new d.zY(a[4],this)))}A(){this.el=null;this.pj&&(this.pj.A(),this.pj=null)}xe(){return this.Jd}ah(a){"color"===this.Da&&d.nn(a)?(this.Jd[0]=d.kF(a),this.Jd[1]=d.ZE(a),this.Jd[2]=d.OE(a)):this.Jd=a}eQ(a){"color"===this.Da&&d.nn(a)?(this.ei[0]=
d.kF(a),this.ei[1]=d.ZE(a),this.ei[2]=d.OE(a)):this.ei=a}wc(){const a=this.el.Ta.aj();if("relative"===a)return this.xe();if("absolute"===a)return this.ei}rk(){return this.Da}JQ(a){this.Da=a}Ha(){return this.Yc}rs(a){this.Yc=a}gn(){return this.Cj}Bk(a){this.Cj=a}Fl(){return this.Dj}Xl(a){this.Dj=!!a}ME(a){if(this.pj)for(const e of this.pj.Pga())if(e.hk()===a)return e}qa(){const a=this.pj;return{addonDataJson:a?a.qa():a,value:this.Jd,aValue:this.ei,type:this.Da,time:this.Yc,ease:this.Cj,enable:this.Dj}}ya(a){a&&
(a.addonDataJson&&this.pj.tva(a.addonDataJson),this.Jd=a.value,this.ei=a.aValue,this.Da=a.type,this.Yc=a.time,this.Cj=a.ease,this.Dj=a.enable)}}d.EP=class{constructor(a,e){this.Ta=e;this.Wc=[];d.fh.zv(this.Wc,a,b,this)}A(){this.Ta=null;for(const a of this.Wc)a.A();d.F(this.Wc);this.Wc=null}mY(){const a=new b(null,this);this.Wc.push(a);return a}MZ(a){for(const e of this.Wc){if(!a(e))continue;const c=this.Wc.indexOf(e);-1!==c&&(e.A(),this.Wc.splice(c,1))}this.M7()}M7(){this.Wc.sort((a,e)=>a.Ha()-e.Ha())}*zM(){for(const a of this.Wc)yield a}*qia(){for(let a=
this.Wc.length-1;0<=a;a--)yield this.Wc[a]}qa(){return{propertyKeyframeDataItemsJson:this.Wc.map(a=>a.qa())}}ya(a){a&&d.fh.Jv(this.Wc,a.propertyKeyframeDataItemsJson,b,this)}}}
{"use strict";const d=self.B;class b{constructor(c,f){this.pj=f;this.mf=c[0];this.mm=c[1]}A(){this.mm=this.pj=null}hk(){return this.mf}qa(){return{id:this.mf,data:this.mm}}ya(c){c&&(this.mf=c.id,this.mm=c.data)}}class a extends b{constructor(c,f){super(c,f);this.iL=this.mm[0];this.Bx=!!this.mm[1];this.cJ=this.mm[2];this.DB=!!this.mm[3]}A(){super.A()}qa(){return Object.assign(super.qa(),{startAnchor:this.iL,startEnable:!!this.Bx,endAnchor:this.cJ,endEnable:!!this.DB})}ya(c){c&&(super.ya(c),this.iL=
c.startAnchor,this.Bx=!!c.startEnable,this.cJ=c.endAnchor,this.DB=!!c.endEnable)}}class e extends b{constructor(c,f){super(c,f);this.WI=this.mm[0];this.WK=this.mm[1]}A(){super.A()}qa(){return Object.assign(super.qa(),{direction:this.WI,revolutions:this.WK})}ya(c){c&&(super.ya(c),this.WI=c.direction,this.WK=c.revolutions)}}d.zY=class{constructor(c){this.Xp=[];d.fh.zv(this.Xp,c,{MX:0,map:new Map([["cubic-bezier",a],["angle",e]])},this)}A(){for(const c of this.Xp)c.A();d.F(this.Xp);this.Xp=null}*Pga(){for(const c of this.Xp)yield c}qa(){return{addonDataItemsJson:this.Xp.map(c=>
c.qa())}}ya(c){c&&d.fh.Jv(this.Xp,c.addonDataItemsJson,{MX:"id",map:new Map([["cubic-bezier",a],["angle",e]])},this)}}}
{"use strict";const d=self.B;let b=0;d.g8=class extends d.he{constructor(a,e){super(`tween-${b++}`,a,e);this.mf="";this.uU=!1;this.AJ="start-value";this.WV=this.VV=null}Ga(){var a=this.Tb;if(a&&a.length&&(a=a[0])){var e=a.Ga();return a.Nl()?e:null}}hk(){return this.mf}yP(){if(this.WV)for(const a of this.WV)a(this);if(!this.pg)for(const a of this.Tb)a.Si()}mP(){this.Ms=this.j.il}EN(){if(!this.oq&&(this.oq=!0,this.VV))for(const a of this.VV)a(this)}rs(a){this.BR();super.rs(a)}Cd(a){if(!this.Zn&&"current-state"===
this.AJ)for(const e of this.Tb)e.Ri();super.Cd(a)}mg(a=!1){super.mg(a);if(!this.pg)for(const e of this.Tb)e.Fp()}Pc(a=!0,e=!1){this.BR();super.Pc(a,e)}BR(){for(const a of this.Tb){const e=c=>{c=c.Ha();const f=this.Xd();return 0!==c&&c!==f};a.LZ(e);a.EE(e)}}IA(){if(this.yi)return!0;const a=this.Ga();if(a&&a.J().Vg())return!1;this.Gb.Iy(this);this.WP();return!0}bP(){}Ed(){const a=this.Ga();super.Ed(this.K().Wi(a),1)}qa(){const a=super.qa();return Object.assign(a,{tweenDataItemJson:this.sf.qa(),id:this.mf,
destroyInstanceOnComplete:this.uU,initialValueMode:this.AJ})}ya(a){a&&(this.sf.ya(a.tweenDataItemJson),super.ya(a),this.mf=a.id,this.uU=a.destroyInstanceOnComplete,this.AJ=a.initialValueMode)}static IsPlaying(a){return a.IsPlaying()}}}
{"use strict";const d=self.B,b=self.xu;d.VQ=class extends d.la{constructor(a){super();this.Ja=a[0];this.Fi=[];for(const e of a[1])a=d.WQ.Ua(this,e),this.Fi.push(a);this.jx=new Map;this.rD=new Map;this.Eca();b.kY(this.Ja,(e,c,f,k)=>this.rb(e,c,f,k))}static Ua(a){return d.C(d.VQ,a)}A(){for(const a of this.Fi)a.A();d.F(this.Fi);this.Fi=null;this.jx.clear();this.jx=null;this.rD.clear();this.rD=null}C1(a){const e=this.rD.get(a);if(e)return e;for(const c of this.Fi)if(c.uf===a)return this.rD.set(a,c),c}R0(a){for(const e of this.Fi)if(e.uf>
a)return e}Q0(a){for(const e of this.Fi)if(e.uf>=a)return e}S0(a){for(let e=this.Fi.length-1;0<=e;e--){const c=this.Fi[e];if(c.uf<=a)return c}}rb(a,e,c,f){var k=a/f;(a=this.C1(k))?f=this.R0(k):(a=this.S0(k),f=this.Q0(k));k=d.dia(k,a.uf,f.uf,f.uf-a.uf);const g=a.uf,l=a.Px,n=a.uf+a.GW,q=a.Px+a.Fga,r=f.uf+f.CU,p=f.Px+f.Lfa,u=f.uf;f=f.Px;f=b.kp("spline")(k,g,l,n,q,r,p,u,f,this.jx.get(a));f+=a.Px;return(1-f)*e+f*(e+c)}Eca(){this.jx.clear();for(let e=0;e<this.Fi.length-1;e++){var a=this.Fi[e];if(!a.Bx)continue;
const c=this.Fi[e+1];this.jx.set(a,b.s0(a.uf,a.uf+a.GW,c.uf+c.CU,c.uf))}}}}{"use strict";const d=self.B;d.WQ=class extends d.la{constructor(b,a){super();this.uf=a[0];this.Px=a[1];this.GW=a[2];this.Fga=a[3];this.CU=a[4];this.Lfa=a[5];this.Bx=a[6];this.DB=a[7]}A(){}static Ua(b,a){return d.C(d.WQ,b,a)}}}{"use strict";const d=self.B;d.f8=class extends d.la{constructor(b){super();this.j=b;this.sD=[]}A(){for(const b of this.sD)b.A();d.F(this.sD);this.sD=null}Ua(b){this.sD.push(d.VQ.Ua(b))}}}
{"use strict";const d=self.B;d.K7=class extends d.la{constructor(b){super();this.N=b;this.ob=[];this.ob.push(d.C(d.KG,this));this.Va=0;this.yj=this.ob[0]}A(){for(const b of this.ob)b.A();d.F(this.ob);this.N=this.yj=null}J(){return this.N}ca(){return this.yj}Lc(){this.ca().Lc()}x5(){var b=this.ob,a=++this.Va;a===b.length?(a=d.C(d.KG,this),b.push(a),this.yj=a):(b=b[a],b.Pc(),this.yj=b)}y5(){const b=this.ob,a=++this.Va;a===b.length&&b.push(d.C(d.KG,this));const e=b[a];e.qZ(b[a-1]);this.yj=e}Oa(){this.yj=
this.ob[--this.Va]}Cp(b){const a=this.ob;for(let e=0,c=a.length;e<c;++e)a[e].Cp(b)}}}
{"use strict";const d=self.B;d.KG=class extends d.la{constructor(b){super();this.ob=b;this.N=this.ob.J();this.Zd=this.N.K().rd();this.$b=!0;this.I=[];this.mc=[]}A(){this.Ey();this.Zd=this.N=this.ob=null}Ey(){d.F(this.I);d.F(this.mc)}J(){return this.N}uF(){return this.$b?!!this.N.I.length:!!this.I.length}pa(){return this.$b?this.N.pa():this.I}M1(){return!!this.mc.length}H0(){const b=this.pa();return b.length?b:this.mc}Pc(){this.$b=!0;d.F(this.mc)}Lc(){this.$b=!0}qZ(b){b.$b?this.Pc():(this.$b=!1,d.xd(this.I,
b.I),d.F(this.mc))}Sp(b){this.I.push(b)}Kn(b){this.mc.push(b)}Be(b){this.$b=!!b}Ck(b){this.$b=!1;d.F(this.I);this.I.push(b)}gv(b){this.$b=!1;d.xd(this.I,b)}sv(b){this.$b=!1;d.F(this.I);for(const a of b)this.I.push(a)}SM(b,a){for(const e of a)b.has(e)||this.mc.push(e)}d8(b){for(const a of b)this.I.push(a);d.Jh(this.mc,b)}vn(b){b&&(this.Zd.Df().Ib().ae?(this.$b&&(d.F(this.I),d.xd(this.mc,b.J().pa()),this.$b=!1),b=this.mc.indexOf(b),-1!==b&&(this.I.push(this.mc[b]),this.mc.splice(b,1))):this.Ck(b))}Cp(b){d.Jh(this.I,
b);d.Jh(this.mc,b)}}}
{"use strict";const d=self.B;d.$_=class extends d.la{constructor(b){super();this.Ca=b;this.j=this.Ca.K();this.ob=[];this.ob.push(d.C(d.AN,this,null));this.Va=0;this.GB=[]}A(){for(const b of this.ob)b.A();d.F(this.ob);d.F(this.GB);this.j=this.Ca=null}oa(){return this.Ca}K(){return this.j}Df(){return this.ob[this.Va]}Qa(b){var a=this.ob;const e=++this.Va;if(e===a.length)return b=d.C(d.AN,this,b),a.push(b),b;a=a[e];a.Pc(b);return a}Oa(){--this.Va}z5(b){this.GB.push(b)}p5(){this.GB.pop()}x0(){const b=this.GB;
return 0===b.length?null:b.ue(-1)}}}
{"use strict";const d=self.B;d.AN=class extends d.la{constructor(b,a){super();this.ob=b;this.j=this.ob.K();this.hw=a;this.ng=this.jm=0;this.bJ=this.Dq=!1;this.gJ=null;this.nJ=this.PU=0}A(){this.Pc(null);this.j=this.ob=null}Pc(b){this.hw=b;this.ng=this.jm=0;this.bJ=this.Dq=!1}RH(b,a){this.hw=b;this.jm=0;this.ng=a}XP(){this.ng=this.jm=0}Ib(){return this.hw}Zg(b){this.hw=b}yn(b){this.jm=b}cA(b){this.ng=b}Cn(b){this.Dq=!!b}ks(b){this.bJ=!!b}H6(b){this.gJ=b}v2(b,a){this.PU=b;this.nJ=a}iA(b){this.nJ=b}vk(){const b=
this.hw;return b.qC?!0:this.jm<b.dc.length-1?!!b.Md().length:!1}}}{"use strict";const d=self.B;d.N3=class extends d.la{constructor(b){super();this.Ca=b;this.j=this.Ca.K();this.ob=[];this.Va=-1;this.yj=null;this.YB=[]}A(){d.F(this.ob);this.j=this.Ca=null}lea(b){this.YB=b;b=this.YB.slice(0);this.ob.push(b);this.Va=0;this.yj=b}oa(){return this.Ca}K(){return this.j}Er(){return this.yj}Qa(){const b=++this.Va,a=this.ob;b===a.length?a.push(this.YB.slice(0)):d.xd(a[b],this.YB);this.yj=a[b]}Oa(){this.yj=this.ob[--this.Va]}}}
{"use strict";const d=self.B;d.P3=class extends d.la{constructor(b){super();this.Ca=b;this.j=this.Ca.K();this.ob=[];this.Va=-1}A(){d.F(this.ob);this.j=this.Ca=null}oa(){return this.Ca}K(){return this.j}NO(){return 0<=this.Va}Er(){return this.ob[this.Va]}Qa(){++this.Va;if(this.Va===this.ob.length){var b=d.C(d.O3,this);this.ob.push(b);return b}b=this.ob[this.Va];b.Pc();return b}Oa(){--this.Va}g0(b){const a=this.ob;for(let e=this.Va;0<=e;--e){const c=a[e];if(c.Ea()===b)return c}return null}}}
{"use strict";const d=self.B;d.O3=class extends d.la{constructor(b){super();this.Pf=b;this.Ja="";this.Va=0;this.zc=!1}Pc(){this.Ja="";this.Va=0;this.zc=!1}kA(b){this.Ja=b}Ea(){return this.Ja}Qc(b){this.Va=b}Ka(){return this.Va}mg(){this.zc=!0}}}{"use strict";const d=self.B;d.GY=class extends d.la{constructor(){super();this.ob=[];this.Va=-1}A(){d.F(this.ob)}Er(){return this.ob[this.Va]}Qa(){++this.Va;if(this.Va===this.ob.length){const b=[];this.ob.push(b);return b}return this.ob[this.Va]}Oa(){--this.Va}}}
{"use strict";const d=self.B;function b(a,e){return a.Ka()-e.Ka()}d.Z_=class extends d.la{constructor(a){super();this.j=a;this.Vv=[];this.$K=new Map;this.vI=[];this.TU=new Map;this.KI=new Map;this.RI=new Map;this.ZA=new Map;this.fU=new Map;this.eJ=new Map;this.tga=0;this.uI=[];this.pfa=[];this.HV=[];this.lJ=new Map;this.Zd=d.C(d.$_,this);this.Fd=d.C(d.N3,this);this.Pf=d.C(d.P3,this);this.uL=[];this.WC=[];this.VC=[];this.JI=this.nm=this.Km=0;this.zg=[];this.gB=[];self.c3_callFunction=(e,c)=>this.HA(e,
c)}A(){this.Dy();this.Zd.A();this.Zd=null;this.Fd.A();this.Fd=null;d.F(this.WC);d.F(this.VC);this.j=null;d.F(this.Vv);this.$K.clear()}Ua(a){a=d.C(d.Y_,this,a);this.Vv.push(a);this.$K.set(a.Ea().toLowerCase(),a)}V8(a){this.uL.push(a)}Sb(){for(const a of this.lJ.values())a.Sb(!1);for(const a of this.Vv)a.Sb();for(const a of this.Vv)a.iI();for(const a of this.uL)a.Sb(!1);d.F(this.uL);this.Fd.lea(this.HV)}K(){return this.j}RN(a){return this.$K.get(a.toLowerCase())||null}Rca(a){this.vI.push(a);this.TU.set(a.SU,
a)}Oca(a){this.KI.set(a.Xa,a)}Nca(a){this.RI.set(a.Xa,a)}Mca(a){this.ZA.set(a.Xa,a)}Qca(a){this.lJ.set(a.PB.toLowerCase(),a)}Pca(a){this.eJ.set(a.Xa,a);a.Vg()?this.uI.push(a):this.pfa.push(a)}vA(a){2<=a.length&&a.sort(b);let e=this.fU.get(a.length);e||(e=[],this.fU.set(a.length,e));for(let f=0,k=e.length;f<k;++f){const g=e[f];a:{for(let l=0,n=a.length;l<n;++l)if(a[l]!==g[l]){var c=!1;break a}c=!0}if(c)return g}e.push(a);return a}yaa(a){this.HV.push(a.mb);return this.tga++}rd(){return this.Zd}Cf(){return this.rd().Df()}Ib(){return this.Cf().Ib()}Bf(){const a=
this.Cf();return a.Ib().NN(a.jm)}Hu(){const a=this.Cf();return a.Ib().GN(a.ng)}o0(a){const e=[];for(a=a.Mr();a;)d.Vm(e,a.VR()),a=a.Mr();return e}lS(a){const e={};for(const c of this.o0(a))e[c.Yi()]=c.pS();return Object.create(Object.prototype,e)}VE(a){return this.eJ.get(a)||null}D0(a){return this.KI.get(a)||null}m0(a){return this.ZA.get(a)||null}jz(a){return this.lJ.get(a.toLowerCase())||null}W5(){for(const a of this.uI)a.b6()}QN(a){return this.TU.get(a.toLowerCase())||null}E0(a){return(a=this.KI.get(a))&&
a.Nj?a:null}X5(){for(const a of this.vI)a.Y5()}hT(){for(const a of this.Vv)a.gda()}h6(a){this.hT();this.Km++;for(const e of a.ny())if(a=e.jd)this.j.bv(e),a.ta(),this.j.av();this.Km--}async FZ(a){this.hT();this.Km++;for(const e of this.i$(a))await this.j.Cr(e);this.Km--}*i$(a){for(const e of a.ny())if(a=e.jd)this.j.bv(e),yield*a.qb(),this.j.av()}Tv(a,e,c,f){let k=!1;if(!a.Pb())return this.fG(e,c,f);this.nm++;for(const g of a.ny())if(a=g.jd){this.j.bv(g);for(const l of a.vB){const n=l.Tv(e,c,f);k=k||
n}a=a.Tv(e,c,f);k=k||a;this.j.av()}this.nm--;return k}*Cv(a,e,c,f){let k=!1;if(!a.Pb())return this.fG(e,c,f);this.nm++;for(const g of a.ny())if(a=g.jd){this.j.bv(g);for(const l of a.vB){const n=yield*l.Cv(e,c,f);k=k||n}a=yield*a.Cv(e,c,f);k=k||a;this.j.av()}this.nm--;return k}fG(a,e,c){this.WC.push([a,e,c]);return!1}E5(a,e,c){let f=null;const k=new Promise(g=>f=g);this.VC.push([a,e,c,f]);return k}*qda(){if(this.j.Vu())throw Error("should not be in breakpoint");const a=this.j.bb;for(;this.VC.length;){const [e,
c,f,k]=this.VC.shift(),g=yield*this.Cv(a,e,c,f);k(g)}}async ZP(){for(const a of this.qda())await this.j.Cr(a)}MF(){return 0<this.nm}Hv(){return++this.nm}Dv(){--this.nm}r3(){return 0<this.Km}Kz(){return this.r3()||this.MF()}rda(a){for(const [e,c,f]of this.WC)this.Tv(a,e,c,f);d.F(this.WC)}Qe(a){a?this.JI++:this.JI--}MO(){return 0<this.JI}Ar(a){for(let e=0,c=a.length;e<c;++e)a[e].yo.Lc()}Wg(a){for(let e=0,c=a.length;e<c;++e)a[e].yo.x5()}Ye(a){for(let e=0,c=a.length;e<c;++e)a[e].yo.y5()}Rb(a){for(let e=
0,c=a.length;e<c;++e)a[e].yo.Oa()}mE(){const a=d.C(d.rG,this);this.zg.push(a);return a}j6(){if(this.zg.length){var a=this.Cf(),e=!1;this.Km++;for(let c=0,f=this.zg.length;c<f;++c){const k=this.zg[c];k.OT()&&k.ida(a);k.wx&&(e=!0)}e&&this.RR();this.Km--}}async HZ(){if(this.zg.length){var a=this.Cf(),e=!1;this.Km++;for(let c=0,f=this.zg.length;c<f;++c){const k=this.zg[c];k.OT()&&await k.c$(a);k.wx&&(e=!0)}e&&this.RR();this.Km--}}RR(){const a=d.Xga(this.zg,e=>e.wx);for(const e of a)e.A()}Dy(){for(const a of this.zg)a.A();
d.F(this.zg)}M5(a){for(const e of this.zg)e.Cp(a)}hE(a){this.gB.push(a)}Fy(){d.F(this.gB)}s1(){const a=Promise.all(this.gB);this.gB=[];return a}qa(){return{groups:this.yda(),cnds:this.xda(),acts:this.wda(),vars:this.Jda(),waits:this.Fda()}}ya(a){this.qba(a.groups);this.lba(a.cnds);this.jba(a.acts);this.Cba(a.vars);this.yba(a.waits)}yda(){const a={};for(const e of this.vI)a[e.Xa.toString()]=e.Pr();return a}qba(a){for(const [e,c]of Object.entries(a))(a=this.E0(parseInt(e,10)))&&a.Ip(c)}xda(){const a=
{};for(const [e,c]of this.RI){const f=c.qa();f&&(a[e.toString()]=f)}return a}lba(a){const e=new Map;for(const [c,f]of Object.entries(a))e.set(parseInt(c,10),f);for(const [c,f]of this.RI)f.ya(e.get(c)||null)}wda(){const a={};for(const [e,c]of this.ZA){const f=c.qa();f&&(a[e.toString()]=f)}return a}jba(a){const e=new Map;for(const [c,f]of Object.entries(a))e.set(parseInt(c,10),f);for(const [c,f]of this.ZA)f.ya(e.get(c)||null)}Jda(){const a={};for(const [e,c]of this.eJ)c.Ab||!c.Vg()&&!c.pi||(a[e.toString()]=
c.xe());return a}Cba(a){for(const [e,c]of Object.entries(a))(a=this.VE(parseInt(e,10)))&&a.ah(c)}Fda(){return this.zg.filter(a=>!a.p3()).map(a=>a.qa())}yba(a){this.Dy();for(const e of a)(a=d.rG.C9(this,e))&&this.zg.push(a)}KE(a){for(;a;)if(a=a.Mr(),a instanceof d.Du)return a;return null}HA(a,e){Array.isArray(e)||(e=[]);a=this.jz(a.toLowerCase());if(!a)return null;if(!a.uk())return a.Ju();var c=a.th;if(e.length<c.length){e=e.slice(0);do e.push(c[e.length].mb);while(e.length<c.length)}c=a.Te();return c.oG(c.Nd(),
a.Im,a.Ju(),...e)}}}
{"use strict";const d=self.B;d.Y_=class extends d.la{constructor(b,a){super();this.Ca=b;this.j=b.K();this.Ja=a[0];this.EB=[];this.vD=new Map;this.JU=new Map;this.Mfa=new Map;this.vw=!1;this.yW=[];this.vB=[];this.gU=new Set;for(const e of a[1])this.yR(e,null,this.EB);this.Tj=this.j.wb?{type:"sheet",name:this.Ja,qy:0,children:[]}:null}A(){this.j=this.Ca=null}yR(b,a,e){switch(b[0]){case 0:case 3:this.A9(b,a,e);break;case 1:this.B9(b,a,e);break;case 2:this.F9(b,a,e);break;case 4:this.D9(b,a);break;case 5:this.O9(b,
a,e);break;default:throw Error("invalid event type");}}A9(b,a,e){b=d.Al.Ua(this,a,b);if(b.ae){e.push(b);e=b.dc;for(let c=0,f=e.length;c<f;++c)e[c].xp()&&this.CS(b,c)}else b.xp()?this.CS(b,0):e.push(b)}D9(b,a){b=d.Du.Ua(this,a,b);this.Ca.Qca(b)}B9(b,a,e){b=d.Sy.Ua(this,a,b);e.push(b)}F9(b,a,e){b=d.zN.Ua(this,a,b);e.push(b)}O9(b,a,e){b=d.Ry.Ua(this,a,b);e.push(b)}CS(b,a){b.ae||this.Ca.V8(b);var e=b.NN(a),c=e.La,f=e.J();if(e.nV){var k=this.JU.get(f);k||(k=new Map,this.JU.set(f,k));e=e.J0().toLowerCase();
f=k.get(c);f||(f=new Map,k.set(c,f));c=f.get(e);c||(c=[],f.set(e,c));c.push([b,a])}else k=this.vD.get(f),k||(k={jM:new Map,Ux:new Map},this.vD.set(f,k)),(f=e.Ph())?(e=k.Ux.get(f),e||(e=new Map,k.Ux.set(f,e))):e=k.jM,k=e.get(c),k||(k=[],e.set(c,k)),k.push([b,a])}Sb(){const b=this.EB;for(let a=0,e=b.length;a<e;++a)b[a].Sb(a<e-1&&b[a+1]instanceof d.Al&&b[a+1].Jz())}T8(b){this.yW.push(b)}iI(){d.F(this.vB);this.iR(this);this.gU.clear()}iR(b){const a=b.vB,e=b.gU;for(const c of this.yW){const f=c.Aw;c.Lb&&
b!==f&&!e.has(f)&&(e.add(f),f.iR(b),a.push(f))}}oa(){return this.Ca}K(){return this.j}Ea(){return this.Ja}bT(b,a){this.Mfa.set(a,b)}gda(){this.vw=!1}ta(){if(!this.vw){var b=this.j,a=b.EF(),e=a?performance.now():0;this.vw=!0;var c=this.oa(),f=c.Cf();for(const k of this.EB)k.ta(f),c.Ar(k.Md()),c.Fy(),b.ge();f.Pc(null);a&&(this.Tj.qy+=performance.now()-e)}}*qb(){if(!this.vw){this.vw=!0;var b=this.j,a=this.oa(),e=a.Cf();for(const c of this.EB)yield*c.qb(e),a.Ar(c.Md()),a.Fy(),b.ge();e.Pc(null)}}Tv(b,
a,e){if(a){const c=a.J();this.gI(b,a,c,e);for(const f of c.mi)this.gI(b,a,f,e)}else return this.gI(b,a,null,null)}gI(b,a,e,c){e=this.vD.get(e);if(!e)return!1;c=c?e.Ux.get(c):e.jM;if(!c)return!1;c=c.get(b);if(!c)return!1;b=!1;for(const [f,k]of c)c=this.QR(a,f,k),b=b||c;return b}*Cv(b,a,e){if(a){const c=a.J();yield*this.jH(b,a,c,e);for(const f of c.mi)yield*this.jH(b,a,f,e)}else return yield*this.jH(b,a,null,null)}*jH(b,a,e,c){e=this.vD.get(e);if(!e)return!1;c=c?e.Ux.get(c):e.jM;if(!c)return!1;c=c.get(b);
if(!c)return!1;b=!1;for(const [f,k]of c)c=f.Re()?this.QR(a,f,k):yield*this.W9(a,f,k),b=b||c;return b}QR(b,a,e){const c=this.j,f=this.Ca,k=f.Ib(),g=f.rd(),l=f.nm;let n=!1;k&&f.Wg(k.Nd());f.Wg(a.Nd());const q=1<l;q&&f.Fd.Qa();const r=g.Qa(a);b&&(a.dc[e].J().ca().Ck(b),b.cc()&&b.hj());b=!0;if(a.Fa()){const p=a.gr;for(let u=0,t=p.length;u<t;++u)if(!p[u].YP(r)){b=!1;break}}b&&(c.Ml(),a.ae?a.i6(r,e):a.ta(r),n=r.Dq);g.Oa();q&&f.Fd.Oa();f.Rb(a.Nd());k&&f.Rb(k.Nd());k||1!==l||(f.Fy(),f.MO()||c.ge());return n}*W9(b,
a,e){const c=this.j,f=this.Ca,k=f.Ib(),g=f.rd(),l=f.nm;let n=!1;k&&f.Wg(k.Nd());f.Wg(a.Nd());const q=1<l;q&&f.Fd.Qa();const r=g.Qa(a);b&&(a.dc[e].J().ca().Ck(b),b.cc()&&b.hj());b=!0;if(a.Fa()){const p=a.gr;for(let u=0,t=p.length;u<t;++u)if(!(yield*p[u].sN(r))){b=!1;break}}b&&(c.Ml(),a.ae?yield*a.GZ(r,e):yield*a.qb(r),n=r.Dq);g.Oa();q&&f.Fd.Oa();f.Rb(a.Nd());k&&f.Rb(k.Nd());k||1!==l||(f.Fy(),f.MO()||c.ge());return n}}}
{"use strict";const d=self.B,b=[];function a(){return!0}function*e(){return!0}d.Al=class extends d.la{constructor(c,f,k){super();this.jd=c;this.j=c.K();this.Ic=f;this.oe=null;this.Zd=this.j.oa().rd();this.qf=[];this.Kt=[];this.qw=this.sC=this.qC=this.YU=!1;this.ae=!!k[2];this.eC=!1;this.gr=null;this.dc=[];this.mh=[];this.Ei=[];this.nj=a;this.Np=e;this.NJ=this.Nj=!1;this.SU="";this.gC=!1;this.Tj=this.tB=null;this.Xa=k[4];this.Ts=k[5];this.jd.bT(this,this.Ts);this.Ra=this.j.wb?{nd:k[3][0],eM:k[3][1],
eX:!1,QL:!1,RL:!1,fX:!1}:null;this.oa().Oca(this);3===k[0]&&this.Qaa(k[1]);c=0;for(var g of k[6])f=d.jN.Ua(this,g,c++),this.dc.push(f),this.nR(f.J());c=0;for(const l of k[7])g=d.xy.Ua(this,l,c++),this.mh.push(g);if(9===k.length){k=k[8];for(const l of k)this.jd.yR(l,this,this.Ei)}this.dc.length&&(this.eC=null===this.dc[0].J()&&this.dc[0].La===d.D.$a.G.yN);0===this.dc.length&&(this.dc=b);0===this.mh.length&&(this.mh=b);0===this.Ei.length&&(this.Ei=b)}static Ua(c,f,k){return d.C(d.Al,c,f,k)}Qaa(c){this.Nj=
!0;this.gC=this.NJ=!!c[0];this.SU=c[1].toLowerCase();this.tB=[];this.oa().Rca(this);this.j.wb&&(this.Tj={type:"group",name:c[1],qy:0,children:[]})}K8(c){this.tB.push(c)}hR(c,f){for(const k of c.oh.Dm)f.includes(k)||f.push(k)}oR(c,f){if(c)if(f.includes(c)||f.push(c),c.Ya)for(const k of c.Wn)k.cc()&&this.hR(k,f);else c.cc()&&this.hR(c,f)}nR(c){this.oR(c,this.qf)}O8(c){this.oR(c,this.Kt)}p6(){this.qf=this.j.ed}Sb(c){this.qw=!!c;this.Jaa();this.Kaa();for(const k of this.dc)k.Sb();if(0<this.mh.length){c=
!1;for(var f of this.mh)f.Sb(),f.U1()&&(c=!0);c?(this.nj=this.kda,this.Np=this.e$):(this.nj=this.jda,this.Np=this.d$)}f=this.Ei;for(let k=0,g=f.length;k<g;++k)f[k].Sb(k<g-1&&f[k+1]instanceof d.Al&&f[k+1].Jz());this.Ra&&this.Xea();this.Tj&&this.zaa().Tj.children.push(this.Tj)}zaa(){let c=this.Fa();for(;c;){if(c.Nj)return c;c=c.Fa()}return this.jd}Xea(){const c=this.Ra;c.eX=this.dc.every(f=>f.Re());c.QL=this.mh.every(f=>f.Re());c.RL=this.Ei.every(f=>f.Re());c.fX=c.eX&&c.QL&&c.RL}Jaa(){if(this.Nj){var c=
this.Fa();for(this.sC=!0;c;){if(!c.Nj){this.sC=!1;break}c=c.Fa()}}}Iaa(){var c=this.j.ed;if(this.qf===c)this.Kt=c;else{this.Kt=d.ED(this.qf);for(c=this.Fa();c;){for(var f of c.qf)this.O8(f);c=c.Fa()}f=this.oa();this.qf=f.vA(this.qf);this.Kt=f.vA(this.Kt)}}Kaa(){if(this.N1()){this.gr=[];for(var c=this.Fa();c;)this.gr.push(c),c=c.Fa();this.gr.reverse()}}tv(){this.qC=!0;this.Ic&&this.Ic.tv()}Md(){return this.qf}Nd(){this.YU||(this.YU=!0,this.Iaa());return this.Kt}W1(c){return this.qf.includes(c)}oa(){return this.jd.oa()}K(){return this.j}Fa(){return this.Ic}xea(c){this.oe=
c}Mr(){return this.oe||this.Ic}FF(){return this.Ra&&this.Ra.eM}up(){return this.FF()&&this.Ra.nd}Jz(){return this.eC}Pr(){return this.gC}Y5(){this.Ip(this.NJ)}Ip(c){c=!!c;if(!this.Nj)throw Error("not a group");if(this.gC!==c){this.gC=c;for(const f of this.tB)f.XQ();this.tB.length&&(c=this.j.Na().jd)&&c.iI()}}xp(){return this.dc.length&&this.dc[0].xp()}j3(){return this.oe&&this.oe instanceof d.Du}N1(){return this.j3()||this.dc.some(c=>c.xp())}NN(c){c=Math.floor(c);if(0>c||c>=this.dc.length)throw new RangeError("invalid condition index");
return this.dc[c]}i3(c){let f=c.Ka();if(0===f)return!0;for(--f;0<=f;--f)if(this.dc[f].J()===c.J())return!1;return!0}GN(c){c=Math.floor(c);if(0>c||c>=this.mh.length)throw new RangeError("invalid action index");return this.mh[c]}Haa(c){c=Math.floor(c);return 0<=c&&c<this.mh.length}VR(){return this.Ei.filter(c=>c instanceof d.Sy)}YP(c){c.Zg(this);let f=!1;const k=this.dc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.yn(g);if(n.iC)throw Error("trigger cannot be used as sub-event to a loop");if(n.ta())f=
!0;else if(!this.ae)return!1}return this.ae?f:!0}i6(c,f){c.Zg(this);this.dc[f].ta()&&(this.nj(c,0)&&this.dm(),c.Cn(!0))}*sN(c){c.Zg(this);let f=!1;const k=this.dc;for(let g=0,l=k.length;g<l;++g){const n=k[g];c.yn(g);if(n.iC)throw Error("trigger cannot be used as sub-event to a loop");if(n.Re()?n.ta():yield*n.qb())f=!0;else if(!this.ae)return!1}return this.ae?f:!0}*GZ(c,f){c.Zg(this);f=this.dc[f];if(f.Re()?f.ta():yield*f.qb())(this.Ny()?this.nj(c,0):yield*this.Np(c,0))&&(this.Oy()?this.dm():yield*this.Bv()),
c.Cn(!0)}ta(c){c.Zg(this);this.eC||c.ks(!1);this.ae?this.pda(c):this.NA(c)}*qb(c){if(this.up()||this.j.tc())yield this;c.Zg(this);this.eC||c.ks(!1);this.ae?yield*this.p$(c):yield*this.gH(c)}pda(c){const f=this.dc;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var g=f[l];g.xp()||(c.yn(l),g=g.ta(),k=k||g)}c.Cn(k);k&&(this.nj(c,0)&&this.dm(),this.qw&&c.ks(!0))}*p$(c){const f=this.dc;let k=0===f.length;for(let l=0,n=f.length;l<n;++l){var g=f[l];g.xp()||(c.yn(l),g=g.Re()?g.ta():yield*g.qb(),k=k||g)}c.Cn(k);
k&&((this.Ny()?this.nj(c,0):yield*this.Np(c,0))&&(this.Oy()?this.dm():yield*this.Bv()),this.qw&&c.ks(!0))}NA(c){const f=this.dc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.yn(k);if(!l.ta()){c.Cn(!1);return}}c.Cn(!0);this.nj(c,0)&&this.dm();c.Dq&&this.qw&&c.ks(!0)}*gH(c){const f=this.dc;for(let k=0,g=f.length;k<g;++k){const l=f[k];c.yn(k);if(l.Re()?!l.ta():!(yield*l.qb())){c.Cn(!1);return}}c.Cn(!0);(this.Ny()?this.nj(c,0):yield*this.Np(c,0))&&(this.Oy()?this.dm():yield*this.Bv());c.Dq&&this.qw&&
c.ks(!0)}jda(c,f){const k=this.mh;for(let g=f,l=k.length;g<l;++g)f=k[g],c.cA(g),f.ta();return!0}*d$(c,f){const k=this.mh;for(let g=f,l=k.length;g<l;++g)f=k[g],c.cA(g),f.Re()?f.ta():yield*f.qb();return!0}kda(c,f){const k=this.oa(),g=this.mh;for(let l=f,n=g.length;l<n;++l){f=g[l];c.cA(l);const q=f.ta();if(f.cN()&&!0===q)return!1;f.Tg()&&q instanceof Promise&&k.hE(q)}return!0}*e$(c,f){const k=this.oa(),g=this.mh;for(let l=f,n=g.length;l<n;++l){f=g[l];c.cA(l);let q;q=f.Re()?f.ta():yield*f.qb();if(f.cN()&&
!0===q)return!1;f.Tg()&&q instanceof Promise&&k.hE(q)}return!0}hda(c){this.nj(c,c.ng)&&this.dm()}*b$(c){if(yield*this.Np(c,c.ng))yield*this.Bv()}dm(){if(this.Ei.length){var c=this.Nj&&this.j.EF(),f=c?performance.now():0,k=this.Zd,g=k.Qa(this);this.qC?this.uda(g):this.tda(g);k.Oa();c&&(this.Tj.qy+=performance.now()-f)}}uda(c){const f=this.Nj,k=this.sC,g=this.oa(),l=this.Ei;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],u=p.Md(),t=!k||!f&&n<r;t&&g.Ye(u);p.ta(c);t?g.Rb(u):g.Ar(u)}}tda(c){const f=
this.Ei;for(let k=0,g=f.length;k<g;++k)f[k].ta(c)}*Bv(){if(this.Ei.length){var c=this.Zd,f=c.Qa(this);this.qC?yield*this.s$(f):yield*this.r$(f);c.Oa()}}*s$(c){const f=this.Nj,k=this.sC,g=this.oa(),l=this.Ei;for(let n=0,q=l.length,r=q-1;n<q;++n){const p=l[n],u=p.Md(),t=!k||!f&&n<r;t&&g.Ye(u);yield*p.qb(c);t?g.Rb(u):g.Ar(u)}}*r$(c){const f=this.Ei;for(let k=0,g=f.length;k<g;++k)yield*f[k].qb(c)}Yg(c,f){this.j.Ml();f.XP();const k=this.dc;if(!this.ae)for(let g=c.jm+1,l=k.length;g<l;++g)if(c=k[g],f.yn(g),
!c.ta())return!1;this.nj(f,0)&&this.dm();return!0}*Hg(c,f){this.j.Ml();f.XP();const k=this.dc;if(!this.ae)for(let g=c.jm+1,l=k.length;g<l;++g)if(c=k[g],f.yn(g),c.Re()?!c.ta():!(yield*c.qb()))return!1;(this.Ny()?this.nj(f,0):yield*this.Np(f,0))&&(this.Oy()?this.dm():yield*this.Bv());return!0}Re(){return!this.up()&&!this.j.tc()&&this.Ra.fX}Ny(){return!this.j.tc()&&this.Ra.QL}Oy(){return!this.j.tc()&&this.Ra.RL}$G(c){if(this.Fa()){const f=this.gr;for(let k=0,g=f.length;k<g;++k)if(!f[k].YP(c))return!1}return!0}*zR(c){if(this.Fa()){const f=
this.gr;for(let k=0,g=f.length;k<g;++k)if(!(yield*f[k].sN(c)))return!1}return!0}PR(c,f,k){0<f.length?k?(f=f.map(g=>g.ba(0)),c.Fd.Qa(),this.oe.lv(f)):this.oe.X_(f):k&&c.Fd.Qa()}f6(c,f){let k,g;const l=0<c.length;var n=this.j;const q=this.Zd,r=n.oa(),p=1<r.Hv();this.PR(r,f,p);l&&r.Wg(c);f=q.Qa(this);this.$G(f)&&(n.Ml(),f.Zg(this),(n=this.oe.Tg())&&([g,k]=this.oe.NG()),this.NA(f),n&&this.oe.Zu(g));q.Oa();p&&r.Fd.Oa();l&&r.Rb(c);r.Dv();return k}*DZ(c,f){let k,g;if(this.up()||this.j.tc())yield this;const l=
0<c.length;var n=this.j;const q=this.Zd,r=n.oa(),p=1<r.Hv();this.PR(r,f,p);l&&r.Wg(c);f=q.Qa(this);if(yield*this.zR(f))n.Ml(),f.Zg(this),(n=this.oe.Tg())&&([g,k]=this.oe.NG()),yield*this.gH(f),n&&this.oe.Zu(g);q.Oa();p&&r.Fd.Oa();l&&r.Rb(c);r.Dv();return k}g6(c){const f=this.Nd(),k=0<f.length,g=this.j,l=this.Zd,n=g.oa(),q=1<n.Hv();q&&n.Fd.Qa();this.oe.lv(c);k&&n.Wg(f);c=l.Qa(this);this.$G(c)&&(g.Ml(),c.Zg(this),this.NA(c));l.Oa();q&&n.Fd.Oa();k&&n.Rb(f);n.Dv()}*EZ(c){if(this.up()||this.j.tc())yield this;
const f=this.Nd(),k=0<f.length,g=this.j,l=this.Zd,n=g.oa(),q=1<n.Hv();q&&n.Fd.Qa();this.oe.lv(c);k&&n.Wg(f);c=l.Qa(this);if(yield*this.zR(c))g.Ml(),c.Zg(this),yield*this.gH(c);l.Oa();q&&n.Fd.Oa();k&&n.Rb(f);n.Dv()}oG(c,f,k,...g){let l,n;const q=0<c.length,r=this.j,p=this.Zd,u=r.oa(),t=1<u.Hv();t&&u.Fd.Qa();0<g.length&&this.oe.lv(g);q&&u.Wg(c);g=p.Qa(this);g.v2(f,k);p.z5(g);r.fA(!1);this.$G(g)&&(r.Ml(),g.Zg(this),(f=this.oe.Tg())&&([n,l]=this.oe.NG()),this.NA(g),f&&this.oe.Zu(n));r.fA(!0);p.Oa();p.p5();
t&&u.Fd.Oa();q&&u.Rb(c);u.Dv();return l||g.nJ}}}
{"use strict";const d=self.B,b=[];let a=!1;d.Ry=class extends d.la{constructor(e,c,f){super();const k=e.K(),g=e.oa();this.jd=e;this.Ca=g;this.j=e.K();this.Ic=c;this.La=k.Sh(f[1]);this.Ts=f[2];this.jd.bT(this,this.Ts);this.Ra=k.wb?{nd:f[3][0],eM:f[3][1]}:null}static Ua(e,c,f){return d.C(d.Ry,e,c,f)}Sb(){const e=this.La,c=this.j.oa().lS(this);this.La=e.bind(null,this.j.Lj,c)}Fa(){return this.Ic}Mr(){return this.Ic}FF(){return this.Ra&&this.Ra.eM}up(){return this.FF()&&this.Ra.nd}Jz(){return!1}Md(){return b}Nd(){return this.Ic?
this.Ic.Nd():b}ta(e){e.Zg(this);this.Ca.hE(this.vda())}async vda(){try{await this.La()}catch(e){console.error(`Unhandled exception running script %c${this.jd.Ea()}, event ${this.Ts}:`,"font-size: 1.2em; font-weight: bold;",e),self.bg&&self.bg.mea(this),a||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),a=!0)}}*qb(e){e.Zg(this);if(this.up()||this.j.tc())yield this;
this.ta(e)}Re(){return!this.up()&&!this.j.tc()}static I1(){return a}static O6(){a=!0}}}
{"use strict";const d=self.B;d.Du=class extends d.la{constructor(b,a,e){super();this.jd=b;this.j=b.K();this.Ic=a;const c=e[1];this.PB=c[0];this.Im=c[1];this.th=c[2].map(f=>d.Sy.Ua(b,this,f));this.aa=c[3];this.BJ=[];this.Dw=c[4];this.pga=0;this.gw=-1;this.Yv=new Map;this.je=d.Al.Ua(b,a,e);this.je.xea(this)}static Ua(b,a,e){return d.C(d.Du,b,a,e)}Sb(){for(const b of this.th)b.Sb();this.je.Sb(!1)}VR(){return this.th}Sca(b){this.BJ.push(b)}X_(b){const a=this.th;for(let e=0,c=a.length;e<c;++e)a[e].ah(b[e].ba(0))}lv(b){const a=
this.th;for(let e=0,c=a.length;e<c;++e)a[e].ah(b[e])}ZY(){return this.th.map(b=>b.xe())}Fa(){return this.Ic}Mr(){return this.Ic}uk(){return this.aa}Ju(){switch(this.Im){case 0:return null;case 2:return"";default:return 0}}Te(){return this.je}Tg(){return this.Dw}NG(){const b=this.pga++;this.gw=b;let a;const e=new Promise(c=>a=c);this.Yv.set(b,{resolve:a,sM:0});return[b,e]}Zu(b){const a=this.Yv.get(b);0===a.sM&&(a.resolve(),this.Yv.delete(b));this.gw=-1}m5(){this.Yv.get(this.gw).sM++;return this.gw}e6(b){this.gw=
b;this.Yv.get(b).sM--}}}
{"use strict";const d=self.B,b=[];d.Sy=class extends d.la{constructor(a,e,c){super();const f=a.oa();this.jd=a;this.Ca=f;this.j=a.K();this.Ic=e;this.Fd=f.Fd;this.Ja=c[1];this.Da=c[2];this.mb=c[3];this.pi=!!c[4];this.Ab=!!c[5];this.Zfa=e instanceof d.Du;this.Xa=c[6];this.Qw=this.j.Yi(c[8]);this.Ega=k=>this.ah(k);this.Cga=()=>this.xe();this.$U=!this.Ic||this.pi||this.Ab;this.Jd=this.mb;this.mK=-1;this.HO()&&(this.Jd=this.Jd?1:0);!this.PF()||this.pi||this.Ab||(this.mK=f.yaa(this));f.Pca(this)}static Ua(a,
e,c){return d.C(d.Sy,a,e,c)}Sb(){if(this.PF()&&!this.pi&&!this.Ab&&!this.Zfa){const a=this.Ca.KE(this);a&&a.Sca(this)}}Ea(){return this.Ja}Yi(){return this.Qw}Fa(){return this.Ic}Mr(){return this.Fa()}Vg(){return!this.Fa()}PF(){return!this.Vg()}rn(){return 0===this.Da}cj(){return 1===this.Da}HO(){return 2===this.Da}Jz(){return!1}Md(){return b}ta(){!this.PF()||this.pi||this.Ab||this.ah(this.mb)}Re(){return!0}*qb(a){this.ta(a)}ah(a){this.rn()?"number"!==typeof a&&(a=parseFloat(a)):this.cj()?"string"!==
typeof a&&(a=a.toString()):this.HO()&&(a=a?1:0);this.$U?this.Jd=a:this.Fd.Er()[this.mK]=a}xe(){return this.$U?this.Jd:this.Fd.Er()[this.mK]}b6(){this.Jd=this.mb}pS(){return{configurable:!1,enumerable:!0,get:this.Cga,set:this.Ega}}}}
{"use strict";const d=self.B,b=[];d.zN=class extends d.la{constructor(a,e,c){super();const f=a.oa();this.jd=a;this.Ca=f;this.j=a.K();this.Ic=e;this.Aw=null;this.Sfa=c[1];this.Lb=!0}static Ua(a,e,c){return d.C(d.zN,a,e,c)}Sb(){this.Aw=this.Ca.RN(this.Sfa);this.jd.T8(this);let a=this.Fa();for(;a;)a instanceof d.Al&&a.Nj&&a.K8(this),a=a.Fa();this.XQ();this.j.wb&&this.jd.Tj.children.push(this.Aw.Tj)}Fa(){return this.Ic}Md(){return b}ta(){const a=!!this.Fa(),e=this.j.ed;a&&this.Ca.Wg(e);this.Aw.ta();a&&
this.Ca.Rb(e)}*qb(){const a=!!this.Fa(),e=this.j.ed;a&&this.Ca.Wg(e);yield*this.Aw.qb();a&&this.Ca.Rb(e)}Re(){return!1}XQ(){let a=this.Fa();for(;a;){if(a instanceof d.Al&&a.Nj&&!a.Pr()){this.Lb=!1;return}a=a.Fa()}this.Lb=!0}}}
{"use strict";const d=self.B;d.ep=class extends d.la{constructor(g){super();this.nc=g;this.j=g.K()}Sb(){}static xZ(g,l){return d.C([f,e,c,k,b,a][l[0]],g,l)}};class b extends d.ep{constructor(g,l){super(g);this.Rd=this.j.Pu();this.La=this.j.Sh(l[1]);this.La!==d.D.$a.Ud.random&&this.La!==d.D.$a.Ud.cha||this.nc.JG()}fk(){return this.Rd.Hk(this.La,this.Rd)}}class a extends d.ep{constructor(g,l){super(g);this.bt=null;this.PB=l[1];this.nc.JG()}Sb(){const g=this.j.oa();this.bt=g.jz(this.PB);this.PB=null;
const l=this.bt.Te();this.km=[...new Set([...this.nc.Te().Nd(),...l.Nd()])];this.km=g.vA(this.km)}fk(){const g=this.bt;if(g.uk())return d.Al.prototype.oG.bind(g.Te(),this.km,g.Im,g.Ju());{const l=g.Ju();return()=>l}}}class e extends d.ep{constructor(g,l){super(g);this.N=this.j.Ef(l[1]);this.La=this.j.Sh(l[2]);this.VK=!!l[3];this.Zd=this.j.oa().rd();this.nc.FH(this.N)}fk(){return this.N.Jb().Hk(this.La,this.N.qk().ma)}BN(){const g=this.N,l=g.ca().H0();var n=l.length;if(0===n)return this.VK?"":0;var q=
this.nc.cD;q>=n?n=q%n:(0>q&&(q<=-n&&(q%=n),0>q&&(q+=n)),n=q);this.Zd.Df().H6(g);return this.La.apply(l[n].ma,[])}}class c extends d.ep{constructor(g,l){super(g);this.N=this.j.Ef(l[1]);this.VK=!!l[2];this.nc.FH(this.N)}}class f extends d.ep{constructor(g,l){super(g);this.N=this.j.Ef(l[1]);this.gd=this.N.Xy(l[2]);this.tj=this.N.Gu(l[2]);this.La=this.j.Sh(l[3]);this.VK=!!l[4];this.Zd=this.j.oa().rd();this.nc.FH(this.N)}}class k extends d.ep{constructor(g,l){super(g);this.Xs=null;this.dJ=l[1]}Sb(){this.Xs=
this.j.oa().VE(this.dJ)}}}
{"use strict";const d=self.B;d.Xe=class extends d.la{constructor(z,E,G){super();this.nc=z;this.Va=G;this.Da=E;this.ba=null;this.Ab=this.vf=!1}static Ua(z,E,G){const N=E[0];return d.C([a,e,q,f,g,c,l,a,f,f,r,p,q,t,e,n,k,u,w,x][N],z,N,G,E)}Sb(){}JG(){this.vf=!0}FH(z){this.vf||!z||z.Jb().bo||(this.vf=!0)}Ka(){return this.Va}K(){return this.nc.K()}Te(){return this.nc.Te()}};function b(z){z=self.PY[z];if(!z)throw Error("invalid expression number");return z}class a extends d.Xe{constructor(z,E,G,N){super(z,
E,G);this.cD=0;z=N[1];this.fJ=z[0];this.zt=[];this.HB=null;for(let C=1,H=z.length;C<H;++C)this.zt.push(d.ep.xZ(this,z[C]));this.zt.length?this.ba=this.G0:(this.ba=b(this.fJ),this.Ab=!0)}ci(){if(0>=this.zt.length)throw new RangeError("invalid numbered node");return this.zt[0]}Sb(){for(var z of this.zt)z.Sb();z=b(this.fJ);this.HB=this.zt.length?z(this):z}G0(z){this.cD=z;return this.HB()}}class e extends a{constructor(z,E,G,N){super(z,E,G,N);this.ba=this.w1;14===E&&(this.Te().p6(),this.nc instanceof
d.xy&&this.Te().tv())}w1(z){this.cD=z;z=this.HB();return"string"===typeof z?z:""}saa(){return b(this.fJ)()}}class c extends a{constructor(z,E,G,N){super(z,E,G,N);this.ba=this.ea;this.Ab=!1}ea(z){this.cD=z;z=this.HB();return this.K().Na().ea(z)}}class f extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.Efa=N[1];this.ba=this.w0;this.Ab=!0}w0(){return this.Efa}}class k extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.ufa=N[1];this.ba=this.t0;this.Ab=!0}t0(){return this.ufa}}class g extends d.Xe{constructor(z,
E,G,N){super(z,E,G);this.N=this.K().Ef(N[1]);this.ba=this.J;z=this.Te();z.nR(this.N);this.nc instanceof d.xy?z.tv():z.Fa()&&z.Fa().tv();this.Ab=!0}J(){return this.N}}class l extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.Rj=this.K().bb.Hr(N[1]);this.ba=this.uc;this.Ab=!0}uc(){return this.Rj}}class n extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.Bo=this.K().Gb.vz(N[1]);this.ba=this.vc;this.Ab=!0}vc(){return this.Bo}}class q extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.Nfa=N[1];this.ba=
this.K0;this.Ab=!0}K0(){return this.Nfa}}class r extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.jV=N[1];(z=this.nc.J())&&z.Ya?(this.ba=this.I0,this.JG()):(this.ba=this.Z0,this.Ab=!0)}Z0(){return this.jV}I0(z){z=z||0;const E=this.nc.J();var G=E.ca();const N=G.pa();if(N.length)z=N[z%N.length].J();else if(G.M1())G=G.mc,z=G[z%G.length].J();else if(0<E.I.length)G=E.pa(),z=G[z%G.length].J();else return 0;return this.jV+z.SN(E.Gj)}}class p extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.dJ=N[1];
this.Xs=null;this.ba=this.F0;this.Ab=!0}Sb(){this.Xs=this.K().oa().VE(this.dJ)}F0(){return this.Xs}}class u extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.NU=N[1];this.bt=null;this.ba=this.T0;this.Ab=!0}Sb(){this.bt=this.K().oa().jz(this.NU);this.NU=null}T0(){return this.bt}}class t extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.nL=[];this.VW=[];this.Ab=!0;for(let C=1,H=N.length;C<H;++C)z=d.Xe.Ua(this.nc,N[C],0),this.nL.push(z),this.VW.push(0),z.Ab||(this.Ab=!1);this.ba=this.D1}Sb(){for(const z of this.nL)z.Sb()}D1(){const z=
this.nL,E=this.VW;for(let G=0,N=z.length;G<N;++G)E[G]=z[G].ba(0);return E}}class w extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.Jfa=N[1];this.ba=this.gn;this.Ab=!0}gn(){return this.Jfa}}class x extends d.Xe{constructor(z,E,G,N){super(z,E,G);this.Afa=N[1];this.ba=this.y1;this.Ab=!0}y1(){return this.Afa}}}
{"use strict";const d=self.B;function b(c,f){for(let k=0,g=c.length;k<g;++k)f[k]=c[k].ba(0)}const a=[],e=function(){};d.jN=class extends d.la{constructor(c,f,k){super();this.je=c;this.j=c.K();this.Va=k;this.La=this.j.Sh(f[1]);this.UJ=0<f[3];this.nV=2===f[3];this.iC=!!f[4];this.oi=!!f[5];this.pi=!!f[6];this.Xa=f[7];this.oV=this.je.ae;this.gd=this.N=null;this.tj=-1;this.Rd=null;this.qb=this.ta=e;this.Ma=[];this.Bb=[];this.gm=!1;this.Gi=this.Fb=null;this.Ra=this.j.wb?{nd:f[8][0],Wf:f[8][1]}:null;-1===
f[0]?this.Rd=this.j.Pu():(this.N=this.j.Ef(f[0]),f[2]&&(this.gd=this.N.Xy(f[2]),this.tj=this.N.Gu(f[2])),this.je.Fa()&&this.je.Fa().tv());if(10===f.length){c=f[9];for(let g of c)this.Ma.push(d.Xe.Ua(this,g,this.Ma.length)),this.Bb.push(0)}0===this.Ma.length&&(this.Bb=this.Ma=a);this.je.oa().Nca(this)}static Ua(c,f,k){return d.C(d.jN,c,f,k)}Sb(){for(const c of this.Ma)c.Sb(),c.vf&&(this.gm=!0);this.nV?(this.ta=this.lda,this.qb=this.j$):this.Rd?(this.aI(),this.qb=this.iH):this.N.Jb().bo?(this.ZH(),
this.qb=this.hH):this.pi?(this.ta=this.sda,this.qb=this.q$):(this.ta=this.nT,this.qb=this.k$)}aI(){this.Sv(this.Rd,this.Rd,this.UH)}ZH(){const c=this.N.Jb(),f=this.N.qk().ma;this.Sv(c,f,this.TH)}Sv(c,f,k){const g=this.La,l=this.oi,n=this.Ma;if(0===n.length){const q=c.Hk(g,f);this.ta=l?function(){return d.xor(q(),l)}:q}else if(1===n.length){const q=n[0];if(!l&&q.Ab)this.ta=c.ZR(g,f,q.ba(0));else{const r=c.Hk(g,f);this.ta=function(){return d.xor(r(q.ba(0)),l)}}}else if(2===n.length){const q=n[0],r=
n[1];if(!l&&q.Ab&&r.Ab)this.ta=c.$R(g,f,q.ba(0),r.ba(0));else{const p=c.Hk(g,f);this.ta=function(){return d.xor(p(q.ba(0),r.ba(0)),l)}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(!l&&q.Ab&&r.Ab&&p.Ab)this.ta=c.aS(g,f,q.ba(0),r.ba(0),p.ba(0));else{const u=c.Hk(g,f);this.ta=function(){return d.xor(u(q.ba(0),r.ba(0),p.ba(0)),l)}}}else this.ta=k}J(){return this.N}Ph(){return this.gd}Te(){return this.je}K(){return this.j}Ka(){return this.Va}ON(){return this.Ka()}xp(){return this.UJ}Re(){return!this.Ra.nd&&
!this.j.tc()&&!this.Ra.Wf}Ff(){this.Fb||(this.Fb=new Map);return this.Fb}Ru(){this.Gi||(this.Gi=new Map);return this.Gi}UH(){const c=this.Bb;b(this.Ma,c);return d.xor(this.La.apply(this.Rd,c),this.oi)}*iH(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){var c=this.Bb;b(this.Ma,c);c=this.La.apply(this.Rd,c);d.qn(c)&&(c=yield*c);return d.xor(c,this.oi)}return this.ta()}TH(){const c=this.Bb;b(this.Ma,c);const f=this.N.qk().ma;return d.xor(this.La.apply(f,c),this.oi)}*hH(){if(this.Ra.nd||this.j.tc())yield this;
if(this.Ra.Wf){var c=this.Bb;b(this.Ma,c);const f=this.N.qk().ma;c=this.La.apply(f,c);d.qn(c)&&(c=yield*c);return d.xor(c,this.oi)}return this.ta()}lda(){return!0}*j$(){if(this.Ra.nd||this.j.tc())yield this;return!0}sda(){var c=this.Bb;b(this.Ma,c);c=this.La.apply(this.gd||this.N,c);this.N.hc();return c}*q$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){var c=this.Bb;b(this.Ma,c);c=this.La.apply(this.gd||this.N,c);d.qn(c)&&(c=yield*c);this.N.hc();return c}return this.ta()}nT(){const c=this.Ma,
f=this.Bb,k=this.N.ca();for(let g=0,l=c.length;g<l;++g){const n=c[g];n.vf||(f[g]=n.ba(0))}return k.$b?this.mda(k):this.nda(k)}*k$(){if(this.Ra.nd||this.j.tc())yield this;return this.nT()}rH(c){const f=this.Ma,k=this.Bb;for(let g=0,l=f.length;g<l;++g){const n=f[g];n.vf&&(k[g]=n.ba(c))}}mda(c){const f=this.N,k=f.Ya,g=f.Gj,l=this.tj,n=0<=l,q=f.pa(),r=this.gm,p=this.Bb,u=this.La,t=this.oi,w=this.oV&&!this.UJ;c.Ey();for(let z=0,E=q.length;z<E;++z){const G=q[z];r&&this.rH(z);var x=void 0;n?(x=k?G.J().hp(g):
0,x=u.apply(G.fd[l+x].ma,p)):x=u.apply(G.ma,p);d.xor(x,t)?c.Sp(G):w&&c.Kn(G)}f.Cu(!0);c.Be(!1);f.hc();return c.uF()}nda(c){const f=this.N;var k=f.Ya;const g=f.Gj,l=f.cc(),n=this.tj,q=0<=n,r=this.gm,p=this.Bb,u=this.La,t=this.oi,w=this.oV&&!this.UJ,x=c.I,z=c.mc,E=w&&!this.je.i3(this),G=E?z:x;let N=0,C=!1;for(let I=0,K=G.length;I<K;++I){const Q=G[I];r&&this.rH(I);var H=void 0;q?(H=k?Q.J().hp(g):0,H=u.apply(Q.fd[n+H].ma,p)):H=u.apply(Q.ma,p);d.xor(H,t)?(C=!0,E?(x.push(Q),l&&Q.Jca()):(G[N]=Q,l&&Q.zea(N),
++N)):E?(G[N]=Q,l&&Q.yea(N),++N):w&&(z.push(Q),l&&Q.Ica())}d.ve(G,N);l&&f.Uea(E,N);k=C;E&&!C&&(C=this.Aca(x));f.Cu(k||w);return w?C:c.uF()}Aca(c){var f=this.N;const k=f.Ya;f=f.Gj;const g=this.gm,l=this.tj,n=0<=l,q=this.Bb,r=this.La,p=this.oi;for(let t=0,w=c.length;t<w;++t){var u=c[t];g&&this.rH(t);if(n){const x=k?u.J().hp(f):0;u=r.apply(u.fd[l+x].ma,q)}else u=r.apply(u.ma,q);if(d.xor(u,p))return!0}return!1}dv(c,f){return this.Ma[c].ba(f)}J0(){const c=this.Ma;if(!c.length)throw Error("no parameters");
return c[0].saa()}qa(){if(!this.Fb||!this.Fb.size)return null;const c={};for(const [f,k]of this.Fb.entries()){let g=k;"collmemory"===f&&(g=[...k.entries()].map(l=>[l[0].zb,l[1].zb,l[2]]));c[f]=g}return{ex:c}}ya(c){this.Fb&&(this.Fb.clear(),this.Fb=null);if(c){var f=this.j,k=c.ex;if(k){c=this.Ff();c.clear();for(const [g,l]of Object.entries(k))k=l,"collmemory"===g&&(k=d.C(d.$u,l.map(n=>[f.Ue(n[0]),f.Ue(n[1]),n[2]]).filter(n=>n[0]&&n[1]))),c.set(g,k)}}}}}
{"use strict";const d=self.B;function b(f,k){for(let g=0,l=f.length;g<l;++g)k[g]=f[g].ba(0)}const a=[],e=function(){},c=function*(){};d.xy=class extends d.la{constructor(f,k,g){super();this.je=f;this.j=f=f.K();this.Va=g;this.Xa=4<=k.length?k[3]:-1;this.XA=5<=k.length?k[4]:0;this.gd=this.N=this.La=null;this.tj=-1;this.Rd=null;this.oB="";this.km=this.nB=null;this.qb=this.ta=e;this.Ma=[];this.Bb=[];this.gm=!1;this.Gi=this.Fb=null;const l=(g=-3===k[0])?k[2]:k[5];this.Ra=f.wb||g?{nd:l[0],Wf:l[1],index:l[2]}:
null;-1===k[0]?(this.Rd=f.Pu(),this.La=f.Sh(k[1])):-2===k[0]?this.oB=k[1]:g?(this.La=f.Sh(k[1]),this.ta=this.pG,this.qb=this.IZ,this.XA=1):(this.La=f.Sh(k[1]),this.N=f.Ef(k[0]),k[2]&&(this.gd=this.N.Xy(k[2]),this.tj=this.N.Gu(k[2])));if(7===k.length){k=k[6];for(const n of k)this.Ma.push(d.Xe.Ua(this,n,this.Ma.length)),this.Bb.push(0)}0===this.Ma.length&&(this.Bb=this.Ma=a);this.je.oa().Mca(this)}static Ua(f,k,g){return d.C(d.xy,f,k,g)}Sb(){for(var f of this.Ma)f.Sb(),f.vf&&(this.gm=!0);if(this.Rd)this.aI(),
this.qb=this.iH;else if(this.oB)this.Uda(),this.oB="";else if(this.ta===this.pG){f=this.La;const k=this.j.oa().lS(this.je);this.La=f.bind(null,this.j.Lj,k)}else this.gd?this.Tg()?(this.ta=this.lT,this.qb=this.g$):(this.ta=this.kT,this.qb=this.f$):this.N.Jb().bo?(this.ZH(),this.qb=this.hH):this.Tg()?(this.ta=this.pT,this.qb=this.m$):this.Ma.length?this.Ma.every(k=>k.vf)?(this.ta=this.oT,this.qb=this.l$):this.gm?(this.ta=this.rT,this.qb=this.o$):this.Ma.every(k=>k.Ab)?(b(this.Ma,this.Bb),this.ta=this.SH,
this.qb=this.AR):(this.ta=this.qT,this.qb=this.n$):(this.ta=this.SH,this.qb=this.AR)}aI(){this.Sv(this.Rd,this.Rd,this.UH)}ZH(){const f=this.N.Jb(),k=this.N.qk().ma;this.Sv(f,k,this.TH)}Uda(){const f=this.je.oa(),k=f.jz(this.oB);k.uk()?(this.nB=k.Te(),this.km=[...new Set([...this.je.Nd(),...this.nB.Nd()])],this.km=f.vA(this.km),this.ta=d.Al.prototype.f6.bind(this.nB,this.km,this.Ma),this.qb=this.h$):(this.ta=e,this.qb=c)}Sv(f,k,g){const l=this.La,n=this.Ma;if(0===n.length)this.ta=f.Hk(l,k);else if(1===
n.length){const q=n[0];if(q.Ab)this.ta=f.ZR(l,k,q.ba(0));else{const r=f.Hk(l,k);this.ta=function(){return r(q.ba(0))}}}else if(2===n.length){const q=n[0],r=n[1];if(q.Ab&&r.Ab)this.ta=f.$R(l,k,q.ba(0),r.ba(0));else{const p=f.Hk(l,k);this.ta=function(){return p(q.ba(0),r.ba(0))}}}else if(3===n.length){const q=n[0],r=n[1],p=n[2];if(q.Ab&&r.Ab&&p.Ab)this.ta=f.aS(l,k,q.ba(0),r.ba(0),p.ba(0));else{const u=f.Hk(l,k);this.ta=function(){return u(q.ba(0),r.ba(0),p.ba(0))}}}else this.ta=g}Tg(){return 1===this.XA}cN(){return 2===
this.XA}U1(){return 0!==this.XA}J(){return this.N}Te(){return this.je}K(){return this.j}Ka(){return this.Va}ON(){return this.Ra.index}Re(){return!this.Ra.nd&&!this.j.tc()&&!this.Ra.Wf}Ff(){this.Fb||(this.Fb=new Map);return this.Fb}Ru(){this.Gi||(this.Gi=new Map);return this.Gi}UH(){const f=this.Bb;b(this.Ma,f);return this.La.apply(this.Rd,f)}*iH(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const f=this.Bb;b(this.Ma,f);return yield*this.La.apply(this.Rd,f)}return this.ta()}*h$(){if(this.Ra.nd||
this.j.tc())yield this;return yield*this.nB.DZ(this.km,this.Ma)}TH(){const f=this.Bb;b(this.Ma,f);return this.La.apply(this.N.qk().ma,f)}*hH(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const f=this.Bb;b(this.Ma,f);return yield*this.La.apply(this.N.qk().ma,f)}return this.ta()}SH(){const f=this.Bb,k=this.N.ca().pa();for(let g=0,l=k.length;g<l;++g)this.La.apply(k[g].ma,f)}*AR(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const f=this.Bb,k=this.N.ca().pa();for(let g=0,l=k.length;g<
l;++g)yield*this.La.apply(k[g].ma,f)}else this.SH()}qT(){const f=this.Bb;b(this.Ma,f);const k=this.N.ca().pa();for(let g=0,l=k.length;g<l;++g)this.La.apply(k[g].ma,f)}*n$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const f=this.Bb;b(this.Ma,f);const k=this.N.ca().pa();for(let g=0,l=k.length;g<l;++g)yield*this.La.apply(k[g].ma,f)}else this.qT()}oT(){const f=this.Ma,k=this.Bb,g=this.La,l=this.N.ca().pa();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,u=f.length;p<u;++p)k[p]=f[p].ba(n);
g.apply(r.ma,k)}}*l$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const f=this.Ma,k=this.Bb,g=this.La,l=this.N.ca().pa();for(let n=0,q=l.length;n<q;++n){const r=l[n];for(let p=0,u=f.length;p<u;++p)k[p]=f[p].ba(n);yield*g.apply(r.ma,k)}}else this.oT()}rT(){const f=this.Ma,k=this.Bb,g=this.La,l=this.N.ca().pa();for(let q=0,r=f.length;q<r;++q){var n=f[q];n.vf||(k[q]=n.ba(0))}for(let q=0,r=l.length;q<r;++q){n=l[q];for(let p=0,u=f.length;p<u;++p){const t=f[p];t.vf&&(k[p]=t.ba(q))}g.apply(n.ma,
k)}}*o$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const k=this.Ma,g=this.Bb,l=this.La,n=this.N.ca().pa();for(let q=0,r=k.length;q<r;++q){var f=k[q];f.vf||(g[q]=f.ba(0))}for(let q=0,r=n.length;q<r;++q){f=n[q];for(let p=0,u=k.length;p<u;++p){const t=k[p];t.vf&&(g[p]=t.ba(q))}yield*l.apply(f.ma,g)}}else this.rT()}kT(){var f=this.N;const k=f.Ya,g=f.Gj,l=this.Ma,n=this.gm,q=this.Bb,r=this.La,p=this.tj;f=f.ca().pa();for(let w=0,x=l.length;w<x;++w){var u=l[w];u.vf||(q[w]=u.ba(0))}for(let w=
0,x=f.length;w<x;++w){u=f[w];if(n)for(let z=0,E=l.length;z<E;++z){var t=l[z];t.vf&&(q[z]=t.ba(w))}t=k?u.J().hp(g):0;r.apply(u.fd[p+t].ma,q)}}*f$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){var f=this.N;const l=f.Ya,n=f.Gj,q=this.Ma,r=this.gm,p=this.Bb,u=this.La,t=this.tj;f=f.ca().pa();for(let w=0,x=q.length;w<x;++w){var k=q[w];k.vf||(p[w]=k.ba(0))}for(let w=0,x=f.length;w<x;++w){k=f[w];if(r)for(let z=0,E=q.length;z<E;++z){var g=q[z];g.vf&&(p[z]=g.ba(w))}g=l?k.J().hp(n):0;yield*u.apply(k.fd[t+
g].ma,p)}}else this.kT()}pT(){const f=this.Ma,k=this.Bb,g=this.La,l=this.N.ca().pa(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let u=0,t=f.length;u<t;++u)k[u]=f[u].ba(q);n.push(g.apply(p.ma,k))}return Promise.all(n)}*m$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){const f=this.Ma,k=this.Bb,g=this.La,l=this.N.ca().pa(),n=[];for(let q=0,r=l.length;q<r;++q){const p=l[q];for(let u=0,t=f.length;u<t;++u)k[u]=f[u].ba(q);n.push(yield*g.apply(p.ma,k))}return Promise.all(n)}return this.pT()}lT(){var f=
this.N;const k=f.Ya,g=f.Gj,l=this.Ma,n=this.Bb,q=this.La,r=this.tj;f=f.ca().pa();const p=[];for(let u=0,t=f.length;u<t;++u){const w=f[u];for(let z=0,E=l.length;z<E;++z)n[z]=l[z].ba(u);const x=k?w.J().hp(g):0;p.push(q.apply(w.fd[r+x].ma,n))}return Promise.all(p)}*g$(){if(this.Ra.nd||this.j.tc())yield this;if(this.Ra.Wf){var f=this.N;const k=f.Ya,g=f.Gj,l=this.Ma,n=this.Bb,q=this.La,r=this.tj;f=f.ca().pa();const p=[];for(let u=0,t=f.length;u<t;++u){const w=f[u];for(let z=0,E=l.length;z<E;++z)n[z]=l[z].ba(u);
const x=k?w.J().hp(g):0;p.push(yield*q.apply(w.fd[r+x].ma,n))}return Promise.all(p)}return this.lT()}async pG(){try{await this.La()}catch(f){console.error(`Unhandled exception running script %c${this.je.jd.Ea()}, event ${this.je.Ts}, action ${this.ON()+1}:`,"font-size: 1.2em; font-weight: bold;",f),self.bg&&self.bg.mea(this),d.Ry.I1()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline",
"","font-weight: bold"),d.Ry.O6())}}*IZ(){if(this.Ra.nd||this.j.tc())yield this;return this.pG()}qa(){return this.Fb&&this.Fb.size?{ex:d.TG(this.Fb)}:null}ya(f){this.Fb&&(this.Fb.clear(),this.Fb=null);f&&(f=f.ex)&&(this.Fb=d.LE(f))}}}
{"use strict";const d=self.B,b=new d.ib;function a(L,O){return d.compare(this.m().L(),L,O)}function e(L,O){return d.compare(this.m().M(),L,O)}function c(){const L=this.m(),O=L.ea();return O.Nr()?L.Qr(O.Gv()):L.OO(O.Tf,L.uc().AO(),L.uc().Lf)}function f(){var L=this.m();const O=L.uc();L=L.Mc();return 0>L.Y||0>L.W||L.R>O.S()||L.O>O.V()}function k(L,O,V){const ba=this.ca(),ia=ba.pa();if(!ia.length)return!1;let ja=ia[0];var la=ja.m();let va=ja,na=d.mX(la.L(),la.M(),O,V);for(let wa=1,xa=ia.length;wa<xa;++wa)if(ja=
ia[wa],la=ja.m(),la=d.mX(la.L(),la.M(),O,V),0===L&&la<na||1===L&&la>na)na=la,va=ja;ba.vn(va);return!0}function g(L){const O=this.m();O.L()!==L&&(O.bh(L),O.ua())}function l(L){const O=this.m();O.M()!==L&&(O.dh(L),O.ua())}function n(L,O){const V=this.m();V.V_(L,O)||(V.Dd(L,O),V.ua())}function q(L,O){if(L&&(L=L.p1(this.H))){var [V,ba]=L.Gl(O);O=this.m();if(O.L()!==V||O.M()!==ba)O.Dd(V,ba),O.ua()}}function r(L){if(0!==L){var O=this.m();O.Rl(O.RE()*L,O.nF()*L);O.ua()}}function p(L,O){if(0!==O){var V=this.m();
L=d.Aa(L);V.Rl(Math.cos(L)*O,Math.sin(L)*O);V.ua()}}function u(){return this.m().L()}function t(){return this.m().M()}function w(){return this.j.Wi(this.H)}function x(L,O){return d.compare(this.m().S(),L,O)}function z(L,O){return d.compare(this.m().V(),L,O)}function E(L){const O=this.m();O.S()!==L&&(O.cf(L),O.ua())}function G(L){const O=this.m();O.V()!==L&&(O.Ze(L),O.ua())}function N(L,O){const V=this.m();if(V.S()!==L||V.V()!==O)V.Dc(L,O),V.ua()}function C(){return this.m().S()}function H(){return this.m().V()}
function I(){return this.m().Mc().R}function K(){return this.m().Mc().O}function Q(){return this.m().Mc().Y}function R(){return this.m().Mc().W}function U(L,O){return d.lr(this.m().ja(),d.Aa(O))<=d.Aa(L)}function Z(L){return d.te(this.m().ja(),d.Aa(L))}function ca(L,O){L=d.Aa(L);O=d.Aa(O);const V=this.m().ja();return d.te(O,L)?d.te(V,L)&&!d.te(V,O):!(!d.te(V,L)&&d.te(V,O))}function Y(L){const O=this.m();L=d.md(d.Aa(L));isNaN(L)||O.ja()===L||(O.jc(L),O.ua())}function ha(L){if(!isNaN(L)&&0!==L){var O=
this.m();O.jc(O.ja()+d.Aa(L));O.ua()}}function ka(L){if(!isNaN(L)&&0!==L){var O=this.m();O.jc(O.ja()-d.Aa(L));O.ua()}}function za(L,O){const V=this.m(),ba=V.ja();L=d.OL(ba,d.Aa(O),d.Aa(L));isNaN(L)||ba===L||(V.jc(L),V.ua())}function Oa(L,O,V){const ba=this.m(),ia=ba.ja();O-=ba.L();V-=ba.M();L=d.OL(ia,Math.atan2(V,O),d.Aa(L));isNaN(L)||ia===L||(ba.jc(L),ba.ua())}function ab(L,O){const V=this.m(),ba=V.ja();L-=V.L();O-=V.M();O=Math.atan2(O,L);isNaN(O)||ba===O||(V.jc(O),V.ua())}function Ua(){return d.Kd(this.m().ja())}
function bb(L,O){return d.compare(d.EM(100*this.m().Ld()),L,O)}function mb(){return this.m().$c()}function Va(L){const O=this.m();L=2===L?!O.$c():0!==L;O.$c()!==L&&(O.$h(L),this.j.ga())}function Pa(L){L=d.da(L/100,0,1);const O=this.m();O.Ld()!==L&&(O.$e(L),this.j.ga())}function fb(L){b.oy(L);L=this.m();L.ub.Qo(b)||(L.KQ(b),this.j.ga())}function cb(){const L=this.m().ub;return d.Vz(L.cb,L.Ia,L.ab,L.Wa)}function ub(){return d.EM(100*this.m().Ld())}function vb(L){return L?this.m().ea()===L:!1}function wb(L){const O=
this.ca(),V=O.pa();if(!V.length)return!1;let ba=V[0];for(let ia=1,ja=V.length;ia<ja;++ia){const la=V[ia],va=la.m(),na=ba.m(),wa=va.ea().Ka(),xa=na.ea().Ka();if(0===L){if(wa>xa||wa===xa&&va.sk()>na.sk())ba=la}else if(wa<xa||wa===xa&&va.sk()<na.sk())ba=la}O.vn(ba);return!0}function gb(L,O,V){const ba=this.m();L=0===L?ba.Za():ba.hg();return d.compare(L,O,V)}function xb(){this.m().G8()}function yb(){this.m().E8()}function zb(L){L&&this.m().F8(L)}function Ab(L,O){L=0===L;O&&(O=O.Lg(this.Ga()))&&this.m().D8(O,
L)}function Bb(L){const O=this.m();O.Za()!==L&&(O.df(L),this.j.ga())}function Cb(){return this.m().ea().Ka()}function Db(){return this.m().ea().Ea()}function hb(){return this.m().sk()}function Eb(){return this.m().Za()}function Fb(){return this.m().hg()}function Gb(L,O){if(O=this.J().Sa.El(O)){O=O.Ka();L=1===L;var V=this.m().Ge;V.Xu(O)!==L&&(V.nQ(O,L),V.Gn(),this.j.ga())}}function Hb(L,O,V){var ba=this.J().Sa.El(L);if(ba){L=ba.Ka();var ia=this.m().Ge,ja=ia.Kg(L);O=Math.floor(O);if(!(0>O||O>=ja.length)){ba=
ba.nb.nz(O);if("color"===ba){b.oy(V);O=ja[O];if(b.Qo(O))return;O.Wm(b)}else{"percent"===ba&&(V/=100);if(ja[O]===V)return;ja[O]=V}ia.Xu(L)&&this.j.ga()}}}const ib=d.C(d.Rect),Sa=[],jb=[];let kb=!1,Wa=null,lb=!1;const Ma=new Set;function nb(L,O,V,ba){O.zb<V.zb?L.Set(O,V,ba):L.Set(V,O,ba)}function qa(L,O,V){O.zb<V.zb?L.bp(O,V):L.bp(V,O)}function Ka(L,O,V){return O.zb<V.zb?L.ba(O,V):L.ba(V,O)}function Ib(L,O,V,ba){if(!O)return!1;L=L.Ga();const ia=0!==V||0!==ba,ja=L.m(),la=L.K(),va=la.hf;var na=la.Bf();
const wa=na.Te().ae;var xa=na.J();na=na.oi;const Ha=O.ca();xa=xa!==O;Wa=O;kb=xa&&!na;lb=!1;let La=0,Ca=0,ma=!1;Ha.$b?(ib.xa(ja.Mc()),ib.offset(V,ba),va.bz(ja.ea(),O,ib,jb),O=jb):wa?la.g3()&&!Ha.mc.length&&Ha.I.length?O=Ha.I:(O=Ha.mc,lb=!0):O=Ha.I;ia&&(La=ja.L(),Ca=ja.M(),ja.Rl(V,ba),ja.ua());for(const ea of O)if(va.Fk(L,ea)){ma=!0;if(na)break;xa&&Ma.add(ea)}ia&&(ja.Dd(La,Ca),ja.ua());d.F(jb);return ma}function Ob(L,O){if(kb){if(O){{L=L.K().Ib().ae;O=Wa.ca();const V=O.I,ba=O.mc;O.$b?(O.sv(Ma),L&&(d.F(ba),
O.SM(Ma,Wa.pa()))):L?lb?O.d8(Ma):(O.SM(Ma,V),O.sv(Ma)):O.sv(Ma);Wa.hc()}}Ma.clear();Wa=null;kb=!1}}function Pb(L){if(this.j.Ie)return Qb.call(this,L);if(!L)return!1;var O=this.j;const V=O.hf,ba=O.oa(),ia=ba.rd();var ja=ba.Bf();const la=ja.J();var va=ja.Ff(),na=ja.Ru();ja=ia.Df();const wa=O.il,xa=wa-1,Ha=ja.Ib(),La=ia.Qa(Ha);let Ca=va.get("collmemory");Ca||(Ca=d.C(d.$u),va.set("collmemory",Ca));na.get("collisionCreatedDestroyCallback")||(na.set("collisionCreatedDestroyCallback",!0),O.Hb().addEventListener("instancedestroy",
Na=>{Ca.uN(Na.instance)}));O=L.ca();va=la.ca().pa();na=null;for(let Na=0;Na<va.length;++Na){const Ba=va[Na];O.$b?(V.bz(Ba.m().ea(),L,Ba.m().Mc(),Sa),na=Sa,V.TM(Ba,L,na)):na=O.pa();for(let eb=0;eb<na.length;++eb){const Ja=na[eb];if(V.Fk(Ba,Ja)||V.gN(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<xa;nb(Ca,Ba,Ja,wa);ma&&(ma=Ha.Md(),ba.Ye(ma),oa=la.ca(),ea=L.ca(),oa.Be(!1),ea.Be(!1),la===L?(ea=oa.I,d.F(ea),ea.push(Ba),ea.push(Ja),la.hc()):(oa=oa.I,ea=ea.I,d.F(oa),
d.F(ea),oa.push(Ba),ea.push(Ja),la.hc(),L.hc()),Ha.Yg(ja,La),ba.Rb(ma))}else qa(Ca,Ba,Ja)}d.F(Sa)}ia.Oa();return!1}function*Qb(L){if(!L)return!1;var O=this.j;const V=O.hf,ba=O.oa(),ia=ba.rd(),ja=ia.Df(),la=O.il,va=la-1,na=ja.Ib(),wa=ia.Qa(na);var xa=ba.Bf();const Ha=xa.J();var La=xa.Ff();xa=xa.Ru();let Ca=La.get("collmemory");Ca||(Ca=d.C(d.$u),La.set("collmemory",Ca));xa.get("collisionCreatedDestroyCallback")||(xa.set("collisionCreatedDestroyCallback",!0),O.Hb().addEventListener("instancedestroy",
Na=>{Ca.uN(Na.instance)}));O=L.ca();La=Ha.ca().pa();xa=null;for(let Na=0;Na<La.length;++Na){const Ba=La[Na];O.$b?(V.bz(Ba.m().ea(),L,Ba.m().Mc(),Sa),xa=Sa,V.TM(Ba,L,xa)):xa=O.pa();for(let eb=0;eb<xa.length;++eb){const Ja=xa[eb];if(V.Fk(Ba,Ja)||V.gN(Ba,Ja)){var ma=Ka(Ca,Ba,Ja),ea=!1,oa=-2;"number"===typeof ma&&(ea=!0,oa=ma);ma=!ea||oa<va;nb(Ca,Ba,Ja,la);ma&&(ma=na.Md(),ba.Ye(ma),oa=Ha.ca(),ea=L.ca(),oa.Be(!1),ea.Be(!1),Ha===L?(ea=oa.I,d.F(ea),ea.push(Ba),ea.push(Ja),Ha.hc()):(oa=oa.I,ea=ea.I,d.F(oa),
d.F(ea),oa.push(Ba),ea.push(Ja),Ha.hc(),L.hc()),yield*na.Hg(ja,wa),ba.Rb(ma))}else qa(Ca,Ba,Ja)}d.F(Sa)}ia.Oa();return!1}function Rb(L){return Ib(this,L,0,0)}function Sb(L,O,V){return Ib(this,L,O,V)}function ob(){return this.m().tk()}function pb(){return this.m().Gf()}function qb(L,O){const V=this.ca().pa();if(0===V.length)return!1;const ba=L.ca();var ia=ba.pa();if(0===ia.length)return!1;ia=new Set(ia);const ja=new Set;for(let va=0,na=V.length;va<na;++va){var la=V[va];if(1===O)for(const wa of la.hy())wa.zr(L)&&
ia.has(wa)&&ja.add(wa);else{if(0===O){if(la=la.Fa(),null===la)continue}else la=la.wz();la.zr(L)&&ia.has(la)&&ja.add(la)}}if(0===ja.size)return!1;ba.sv(ja);L.hc();return!0}function rb(L,O){const V=this.ca().pa();if(0===V.length)return!1;const ba=L.ca();var ia=ba.pa();if(ba.$b){var ja=[...this.j.cM(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=new Set;for(let la=0,va=V.length;la<va;++la){const na=V[la];2===O&&!na.Gf()&&na.zr(L)&&ia.has(na)&&ja.add(na);for(const wa of 0===
O?na.children():na.rl())2===O&&wa.Gf()||wa.zr(L)&&ia.has(wa)&&ja.add(wa)}if(0===ja.size)return!1;ba.sv(ja);L.hc();return!0}function db(L,O){const V=this.ca().pa();if(0===V.length)return!1;const ba=L.ca();var ia=ba.pa();if(ba.$b){var ja=[...this.j.cM(L)];0<ja.length&&(ia=ia.concat(ja))}if(0===ia.length)return!1;ia=new Set(ia);ja=[];for(let la=0,va=V.length;la<va;++la){const na=V[la].QE(O);null!==na&&na.zr(L)&&ia.has(na)&&ja.push(na)}if(0===ja.length)return!1;ba.gv(ja);L.hc();return!0}function h(L,
O){return d.compare(this.H.az(),L,O)}function m(L,O,V,ba,ia,ja,la,va){const na=this.H,wa=this.j.Hu().J();for(const xa of L.bX(na,wa)){if(!xa.Jb().KW)break;na.cn(xa,{nu:O,ou:V,wr:ba,ur:ia,mu:ja,pu:la,Wx:va})}}function v(L){const O=this.H,V=this.j.Hu().J();for(const ba of L.bX(O,V))O.xk(ba)}function y(){this.H.tk()&&this.H.Fa().xk(this.H)}function A(){return this.H.az()}function D(L,O){L=Math.floor(L);O=Math.floor(O);const V=this.m();2>L||2>O||!isFinite(L)||!isFinite(O)?(V.Zz(),V.ua()):V.BE(L,O)}function F(L,
O,V,ba,ia,ja,la,va){const na=this.m();na.xQ(L,O,{mode:0===V?"absolute":"relative",x:ba,y:ia,wy:ja,ZX:la,$X:va})&&na.ua()}function J(){const L=this.m();return L.Qg()?L.Jl().Wk:0}function M(){const L=this.m();return L.Qg()?L.Jl().ll:0}function P(L){const O=this.m();L=2===L?!O.$c():0!==L;O.$c()!==L&&O.$h(L)}function S(L,O){this.F6(L,O)}function T(L,O){this.E6(L,""+O)}function X(L){this.L5(L)}function W(){this.FN()}function fa(){this.YM()}function da(){return this.aJ}function aa(L){this.ih(0!==L)}function ua(){return this.aa}
function pa(L,O,V){return d.compare(this.Ga().Ve(L),O,V)}function sa(L){return!!this.Ga().Ve(L)}function ta(L,O){const V=this.ca(),ba=V.pa();if(!ba.length)return!1;let ia=ba[0],ja=ia,la=ia.Ve(O);for(let va=1,na=ba.length;va<na;++va){ia=ba[va];const wa=ia.Ve(O);if(0===L&&wa<la||1===L&&wa>la)la=wa,ja=ia}V.vn(ja);return!0}function ra(L){if(this.j.Bf().oi){{const ba=this.ca();if(ba.$b){ba.Be(!1);ba.Ey();var O=this.pa();for(let ia=0,ja=O.length;ia<ja;++ia){var V=O[ia];V.zb===L?ba.Kn(V):ba.Sp(V)}this.hc();
L=!!ba.I.length}else{O=ba.I;V=0;for(let ia=0,ja=O.length;ia<ja;++ia){const la=O[ia];O[V]=la;la.zb===L?ba.Kn(la):++V}d.ve(O,V);this.hc();L=!!O.length}}}else L=Da(this,L);return L}function Da(L,O){O=L.K().Ue(O);if(!O)return!1;const V=L.ca();if(!V.$b&&!V.I.includes(O))return!1;if(L.Ya){if(O.J().rE(L))return V.vn(O),L.hc(),!0}else if(O.J()===L)return V.vn(O),L.hc(),!0;return!1}function Ea(){this.j.dn(this.H)}function Fa(){return!0}function Ga(){return!0}function Ia(L,O){this.Ga().Bn(L,O)}function Qa(L,
O){const V=this.Ga(),ba=V.Ve(L);"number"===typeof ba&&"number"!==typeof O?O=parseFloat(O):"string"===typeof ba&&"string"!==typeof O&&(O=O.toString());V.Bn(L,ba+O)}function Ra(L,O){const V=this.Ga(),ba=V.Ve(L);"number"===typeof ba&&("number"!==typeof O&&(O=parseFloat(O)),V.Bn(L,ba-O))}function Aa(L,O){this.Ga().Bn(L,O?1:0)}function Jb(L){const O=this.Ga();O.Bn(L,0===O.Ve(L)?1:0)}function Kb(L){let O;try{O=JSON.parse(L)}catch(V){console.error("Failed to load from JSON string: ",V);return}L=this.Ga();
L.Es("state");L.Nc(O,"state")}function pc(){return JSON.stringify(this.Ga().cd("state"))}function qc(){return this.Ga().J().Ea()}function rc(){const L=this.j.Cf().gJ;let O=L.I.length;for(const V of this.j.cM(L))++O;return O}function sc(){return this.j.Cf().gJ.ca().pa().length}function tc(){return this.H.ip()}function uc(){return this.H.zb}d.jY=function(L,O){const V=L[1],ba=L[4],ia=L[5],ja=L[6],la=L[7],va=L[8],na=L[10],wa=L[11],xa=L[12],Ha=L[13],La=L[14],Ca=L[15],ma=O.G,ea=O.fb,oa=O.Ud;L[3]&&(ma.Dla=
a,ma.Ela=e,ma.Tna=c,ma.Vna=f,ma.Zpa=k,ea.bh=g,ea.dh=l,ea.EQ=n,ea.Bta=q,ea.epa=r,ea.dpa=p,oa.fR=u,oa.gR=t,oa.pX=w);ba&&(ma.Cla=x,ma.kla=z,ea.cf=E,ea.Ze=G,ea.Dc=N,oa.eva=C,oa.Z1=H,oa.dka=I,oa.fka=K,oa.eka=Q,oa.cka=R);ia&&(ma.AY=U,ma.d3=Z,ma.a3=ca,ea.jc=Y,ea.Lra=ha,ea.Mra=ka,ea.Nra=za,ea.Ora=Oa,ea.Fta=ab,oa.Hja=Ua);ja&&(ma.$c=mb,ma.qla=bb,ea.$h=Va,ea.$e=Pa,ea.zsa=fb,oa.Opacity=ub,oa.bla=cb);la&&(ma.Rna=vb,ma.gqa=wb,ma.Fla=gb,ea.hpa=xb,ea.fpa=yb,ea.gpa=zb,ea.qva=Ab,ea.df=Bb,oa.uoa=Cb,oa.toa=Db,oa.pva=
hb,oa.ova=Eb,oa.tua=Fb);va&&(ea.Csa=Gb,ea.Dsa=Hb);Ha&&(ma.tk=ob,ma.Gf=pb,ma.eqa=qb,ma.Ypa=rb,ma.cqa=db,ma.ila=h,ea.cn=m,ea.xk=v,ea.Mqa=y,oa.Wka=A);La&&(ea.sta=D,ea.xQ=F,oa.Roa=J,oa.Soa=M);na&&(ma.$c=mb,ea.$h=P,ea.usa=S,ea.Gsa=T,ea.Lqa=X);wa&&(ma.Hna=da,ea.Lsa=W,ea.osa=fa);xa&&(ma.uk=ua,ea.xG=aa);Ca&&(ma.r4=Pb,ma.Xna=Rb,ma.Yna=Sb,O.h0=Ob);V||(ma.lla=pa,ma.wna=sa,ma.$pa=ta,ma.Xpa=ra,ea.Ssa=Ia,ea.rja=Qa,ea.lua=Ra,ea.qsa=Aa,ea.rua=Jb,ma.s4=Fa,ma.t4=Ga,ea.OZ=Ea,ea.VF||(ea.VF=Kb),oa.HY||(oa.HY=pc),oa.Ola=
rc,oa.hqa=sc,oa.ena=tc,oa.Bua=uc,oa.spa=qc)}}
{"use strict";const d=self.B;d.rG=class extends d.la{constructor(b){super();this.Ca=b;this.Da="";this.Yc=-1;this.xx="";this.pC=!1;this.Ej=null;this.ng=0;this.qf=[];this.Vq=new Map;this.im=null;this.Xv=-1;this.mJ=this.th=null;this.wx=!1}A(){this.Da="";this.Yc=-1;this.xx="";this.mJ=this.th=this.im=this.Ej=null;this.Xv=-1;d.F(this.qf);for(const b of this.Vq.values())b.A();this.Vq.clear()}mj(){var b=this.Ca,a=b.K().ed;const e=b.Cf();this.Ej=e.Ib();this.ng=e.ng+1;if(b=b.KE(this.Ej))this.im=b,this.th=b.ZY(),
this.mJ=b.BJ.map(c=>c.xe()),b.Tg()&&(this.Xv=b.m5());for(const c of a)if(a=c.ca(),!a.$b||this.Ej.W1(c))this.qf.push(c),this.Vq.set(c,d.C(d.OQ,a))}U2(b){this.Da="timer";this.mj();this.Yc=this.Ca.K().Mg()+b}S2(b){this.Da="signal";this.mj();this.xx=b.toLowerCase()}H2(b){this.Da="promise";this.mj();b.then(()=>this.CG()).catch(a=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",a);this.CG()})}v3(){return"timer"===this.Da}t3(){return"signal"===this.Da}p3(){return"promise"===
this.Da}CG(){this.pC=!0}OT(){return this.v3()?this.Yc<=this.Ca.K().Mg():this.pC}jT(b){b.RH(this.Ej,this.ng);for(const [a,e]of this.Vq.entries())e.RH(a.ca());if(b=this.im)b.lv(this.th),b.BJ.map((a,e)=>a.ah(this.mJ[e])),b.Tg()&&b.e6(this.Xv)}ida(b){this.jT(b);this.Ej.hda(b);this.im&&this.im.Tg()&&this.im.Zu(this.Xv);this.Ca.Ar(this.qf);this.wx=!0}async c$(b){this.jT(b);for(const a of this.Ej.b$(b))await this.Ca.K().Cr(a);this.im&&this.im.Tg()&&this.im.Zu(this.Xv);this.Ca.Ar(this.qf);this.wx=!0}Cp(b){for(const a of this.Vq.values())a.Cp(b)}qa(){const b=
{},a={t:this.Yc,st:this.xx,s:this.pC,ev:this.Ej.Xa,sm:this.qf.map(e=>e.Xa),sols:b};this.Ej.Haa(this.ng)&&(a.act=this.Ej.GN(this.ng).Xa);for(const [e,c]of this.Vq)b[e.Xa.toString()]=c.qa();return a}static C9(b,a){const e=b.K();var c=b.D0(a.ev);if(!c)return null;let f=0;if(a.hasOwnProperty("act")){var k=b.m0(a.act);if(!k)return null;f=k.Ka()}k=d.C(d.rG,b);k.Yc=a.t;k.Da=-1===k.Yc?"signal":"timer";k.xx=a.st;k.pC=a.s;k.Ej=c;k.ng=f;for(var g of a.sm)(c=e.mz(g))&&k.qf.push(c);for(const [l,n]of Object.entries(a.sols))if(a=
e.mz(parseInt(l,10)))g=d.C(d.OQ,null),g.ya(b,n),k.Vq.set(a,g);return k}}}{"use strict";const d=self.B;d.OQ=class extends d.la{constructor(b){super();this.N=null;this.oC=!0;this.I=[];b&&(this.N=b.J(),this.oC=b.$b,d.xd(this.I,b.I))}A(){this.N=null;d.F(this.I)}RH(b){b.Be(this.oC);d.xd(b.I,this.I)}Cp(b){d.Jh(this.I,b)}qa(){return{sa:this.oC,insts:this.I.map(b=>b.zb)}}ya(b,a){b=b.K();this.oC=!!a.sa;d.F(this.I);for(const e of a.insts)(a=b.Ue(e))&&this.I.push(a)}}}
{"use strict";const d=self.B;function b(a,e){let c=a.get(e);c||(c=new Map,a.set(e,c));return c}d.Vl=class extends d.la{constructor(a){super();this.j=a.Kc;this.bo=!!a.xX;this.Mf=!!a.Uha;this.dga=!!a.Tha;this.nga=!!a.hia;this.Pfa=!!a.Gha;this.KW=!!a.Jia;this.Hga=!!a.Iia;this.zW=null;this.mU=new Map;this.vfa=new Map;this.wfa=new Map;this.xfa=new Map}A(){this.j=null}K(){return this.j}Cc(){}Tr(){return this.dga}un(){return this.nga}vF(){return this.Pfa}Hk(a,e){if(!e)throw Error("missing 'this' binding");
let c=this.mU.get(a);if(c)return c;c=a.bind(e);this.mU.set(a,c);return c}ZR(a,e,c){if(!e)throw Error("missing 'this' binding");const f=b(this.vfa,a);let k=f.get(c);if(k)return k;k=a.bind(e,c);f.set(c,k);return k}$R(a,e,c,f){if(!e)throw Error("missing 'this' binding");var k=b(this.wfa,a);k=b(k,c);let g=k.get(f);if(g)return g;g=a.bind(e,c,f);k.set(f,g);return g}aS(a,e,c,f,k){if(!e)throw Error("missing 'this' binding");var g=b(this.xfa,a);g=b(g,c);g=b(g,f);let l=g.get(k);if(l)return l;l=a.bind(e,c,f,
k);g.set(k,l);return l}Aea(a){if(!this.bo)throw Error("must be single-global plugin");this.zW=a}qk(){if(!this.bo)throw Error("must be single-global plugin");return this.zW.qk()}}}
{"use strict";const d=self.B;d.Rra=class extends d.Vl{constructor(b,a){super(b);this.Un=a;this.rga=0;this.CJ=new Map;this.RM("elem-focused",e=>e.cca());this.RM("elem-blurred",e=>{e&&e.bca()})}A(){super.A()}M8(b){const a=this.rga++;this.CJ.set(a,b);return a}Yca(b){this.CJ.delete(b)}RM(b,a){this.j.Qi(this.Un,b,e=>{const c=this.CJ.get(e.elementId);a(c,e)})}}}{"use strict";const d=self.B;d.Ep=class extends d.la{constructor(b){super();this.N=b;this.j=b.K();this.vi=b.Jb()}A(){this.vi=this.j=this.N=null}J(){return this.N}K(){return this.j}Jb(){return this.vi}Vd(){return this.N.Vd()}Cu(){}Wr(){}Bp(){}Uz(){}cG(){}Pg(){return null}}}
{"use strict";const d=self.B;d.Dp=class extends d.la{constructor(b,a){super();this.H=b;this.Un=a;this.j=b.K();this.N=this.H.J();this.eb=this.N.eb;this.Qt=this.Nm=null;this.Mw=this.wm=!1;this.ie=null;this.Tx=!1}A(){this.Tx=!0;this.em();this.fI();this.Qt=this.Nm=null;this.ie&&(this.ie.A(),this.ie=null);this.eb=this.N=this.j=this.H=null}pA(){return this.Tx}Ga(){return this.H}K(){return this.j}J(){return this.N}Jb(){return this.eb.Jb()}sz(){return this.H.Rh()}na(b){return this.j.na(b,this.H,null)}lb(b){return this.j.lb(b,
this.H,null)}zk(b){return this.j.zk(b)}iE(b,a){this.j.Qi(this.Un,b,a)}jE(b){for(const [a,e]of b)this.iE(a,e)}Pa(b,a){this.j.Tl(this.Un,b,a)}wk(b,a){return this.j.zp(this.Un,b,a)}Jk(b,a){this.j.Je?this.Pa(b,a):window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.Un,handler:b,data:a,responseId:null})}Ed(){}De(){this.wm||(this.Nm||(this.Nm=()=>this.Ed()),this.j.Hb().addEventListener("tick",this.Nm),this.wm=!0)}em(){this.wm&&(this.j.Hb().removeEventListener("tick",this.Nm),this.wm=
!1)}fI(){this.Mw&&(this.j.Hb().removeEventListener("tick2",this.Qt),this.Mw=!1)}cd(){return null}Nc(){}ic(){}If(){}YF(b,a){if(0!==a){var e=this.ic(b);if("number"!==typeof e)throw Error("expected number");this.If(b,e+a)}}Pg(){return null}}}
{"use strict";const d=self.B;d.qG=class extends d.Dp{constructor(b,a){super(b,a);this.pb=b.m();this.BD=this.Wt=null}A(){if(this.Wt){const b=this.j.Hb();b.removeEventListener("webglcontextlost",this.Wt);b.removeEventListener("webglcontextrestored",this.BD);this.BD=this.Wt=null}this.pb=null;super.A()}J1(){if(!this.Wt){this.Wt=()=>this.Zr();this.BD=()=>this.CP();var b=this.j.Hb();b.addEventListener("webglcontextlost",this.Wt);b.addEventListener("webglcontextrestored",this.BD)}}Zr(){}CP(){}m(){return this.pb}wp(){return!1}mk(){if(!this.wp())throw Error("original size not known");
const b=this.Qh();if(b)return b.S()}lk(){if(!this.wp())throw Error("original size not known");const b=this.Qh();if(b)return b.V()}Qh(){return null}cz(){var b=this.Qh();return b&&(b=b.we())?[b.S(),b.V()]:[100,100]}dz(){const b=this.Qh();return b?b.Th():null}Gl(){const b=this.H.m();return[b.L(),b.M()]}ds(){return!0}}}
{"use strict";const d=self.B,b=d.C(d.Rect);d.Qra=class extends d.qG{constructor(a,e){super(a,e);this.CB=this.Jb().M8(this);this.mV=!0;this.rfa=this.aJ=!1;this.lt=d.C(d.Rect,0,0,-1,-1);a=this.j.X;this.DV=a.pl;this.CV=a.ol;this.De()}A(){this.Jb().Yca(this.CB);this.$r("destroy");this.CB=-1;super.A()}$r(a,e){e||(e={});e.elementId=this.CB;this.Pa(a,e)}$S(a){a||(a={});a.elementId=this.CB;this.Jk("focus",a)}hA(a){a=!!a;this.mV!==a&&(this.mV=a,this.$r("set-visible",{isVisible:a}))}Ed(){this.$ea()}Gea(){const a=
this.j.X.iz();return"Android"===d.bd.Yr&&("scale-inner"===a||"scale-outer"===a||"crop"===a)}$ea(){var a=this.m();const e=a.ea();var c=a.L(),f=a.M();let [k,g]=e.yp(c,f),[l,n]=e.yp(c+a.S(),f+a.V());c=this.j.X;f=c.hd;const q=c.Tc;if(a.$c()&&e.$c()){if(!this.Gea()){if(0>=l||0>=n||k>=f||g>=q){this.hA(!1);return}1>k&&(k=1);1>g&&(g=1);l>=f&&(l=f-1);n>=q&&(n=q-1)}b.set(k,g,l,n);a=c.pl;f=c.ol;b.Zc(this.lt)&&this.DV===a&&this.CV===f?this.hA(!0):(this.lt.xa(b),this.DV=a,this.CV=f,this.hA(!0),a=null,this.rfa&&
(a=e.Dl()-.2),this.$r("update-position",{left:Math.round(this.lt.R)+c.fp(),top:Math.round(this.lt.O)+c.gp(),width:Math.round(this.lt.width()),height:Math.round(this.lt.height()),fontSize:a}))}else this.hA(!1)}FN(){this.$S({focus:!0})}YM(){this.$S({focus:!1})}cca(){this.aJ=!0}bca(){this.aJ=!1}F6(a,e){this.$r("set-css-style",{prop:d.RY(a),val:e})}E6(a,e){this.$r("set-attribute",{name:a,val:e})}L5(a){this.$r("remove-attribute",{name:a})}}}
{"use strict";const d=self.B,b=self.BO;d.$z=class extends d.la{constructor(a){super();this.j=a.Kc;this.wK=d.C(d.pE);this.KC=d.C(d.pE);this.ww=null;this.Dga=a.Bia||null}A(){this.KC.A();this.wK.A();this.j=null}K(){return this.j}Cc(){}N8(a){this.wK.sc(a)}gF(){return this.wK.NE()}hh(a){this.KC.sc(a)}Tp(a){this.KC.bp(a)}pa(){return this.KC.NE()}U0(){if(null===this.ww){const a=this.Dga;if(a){if(this.ww=new a(this),!(this.ww instanceof b))throw new TypeError("script interface class must derive from IBehavior");
}else this.ww=new b(this)}return this.ww}}}{"use strict";const d=self.B;d.bA=class extends d.la{constructor(b){super();this.j=b.K();this.gd=b;this.N=b.J();this.sj=b.zf();this.sj.N8(this.N)}A(){this.sj=this.N=this.gd=this.j=null}Ph(){return this.gd}J(){return this.N}K(){return this.j}zf(){return this.sj}}}
{"use strict";const d=self.B;d.aA=class extends d.la{constructor(b,a){super();this.kB=b;this.Un=a;this.H=b.H;this.j=b.K();this.gd=b.Ph();this.eb=this.gd.eb;this.lC=this.Mw=this.wm=!1;this.ie=null}A(){this.em();this.fI();this.eI();this.ie&&(this.ie.A(),this.ie=null);this.eb=this.gd=this.j=this.H=this.kB=null}zf(){return this.gd.zf()}J(){return this.H.J()}m(){return this.H.m()}K(){return this.j}Ph(){return this.gd}sz(){return this.kB.sz()}na(b){return this.j.na(b,this.H,this.gd)}lb(b){return this.j.lb(b,
this.H,this.gd)}Wz(){}Ed(){}bG(){}De(){this.wm||(this.j.I8(this),this.wm=!0)}em(){this.wm&&(this.j.Vca(this),this.wm=!1)}fI(){this.Mw&&(this.j.Wca(this),this.Mw=!1)}dI(){this.lC||(this.j.H8(this),this.lC=!0)}eI(){this.lC&&(this.j.Uca(this),this.lC=!1)}iE(b,a){this.j.Qi(this.Un,b,a)}cd(){return null}Nc(){}ic(){}If(){}YF(b,a){if(0!==a){var e=this.ic(b);if("number"!==typeof e)throw Error("expected number");this.If(b,e+a)}}Pg(){return null}}}
{"use strict";const d=self.B;d.D={};d.ka={};d.n5=class extends d.la{constructor(b){super();this.j=b;this.qfa=[];this.aW=new Map;this.Rd=null;this.nfa=[];this.GI=new Map;this.uV=this.dL=null}yZ(b){const a=this.j.Sh(b[0]);if(!a)throw Error("missing plugin");d.jY(b,a);b=d.C(a,{Kc:this.j,xX:b[1],Uha:b[2],Tha:b[5],Gha:b[8],hia:b[9],Jia:b[13],Iia:b[14]});b.Cc();this.qfa.push(b);this.aW.set(a,b)}AZ(){this.Rd=d.C(d.D.$a,{Kc:this.j,xX:!0});this.Rd.Cc()}uZ(b){b=this.j.Sh(b[1]);if(!b)throw Error("missing behavior");
const a=d.C(b,{Kc:this.j});a.Cc();this.nfa.push(a);this.GI.set(b,a);!this.dL&&d.ka.Gia&&a instanceof d.ka.Gia?this.dL=a:!this.uV&&d.ka.Wha&&a instanceof d.ka.Wha&&(this.uV=a)}r1(b){return this.aW.get(b)||null}P1(b){return this.GI.has(b)}r0(b){return this.GI.get(b)||null}Pu(){return this.Rd}oF(){return this.dL}}}
{"use strict";const d=self.B,b=new Set;d.Gz=class extends d.la{constructor(){super();this.kl="";this.P=this.U=this.Bt=this.At=this.Jt=0;this.rw=this.nC=!1;this.nf=null;this.Lm="";this.xg=d.C(d.Rect);this.Pq=d.C(d.Bd);b.add(this)}A(){this.Wh();this.nf=null;b.delete(this)}static Zr(){for(const a of b)a.Lm="",a.xg.set(0,0,0,0),a.Pq.bk(a.xg)}XO(a){this.kl=a[0];this.Jt=a[1];this.At=a[2];this.Bt=a[3];this.U=a[4];this.P=a[5];this.nC=a[6];this.rw=!0}I3(a,e){if(this.nf)throw Error("already loaded asset");
this.kl=e;const c={};d.DF(e)&&(c.ey="remote");this.UF(a,c);return this.nf.WO()}V5(a){if(a===this)throw Error("cannot replace with self");this.Wh();this.kl=a.kl;this.Jt=a.Jt;this.At=a.At;this.Bt=a.Bt;this.U=a.U;this.P=a.P;this.rw=a.rw;this.nf=a.nf;this.Lm=a.Lm;this.xg=a.xg;this.Pq=a.Pq}ln(){return this.Jt}S(){return this.U}V(){return this.P}UF(a,e){if(this.nf)throw Error("already got asset");e=Object.assign({},e,{url:this.kl,size:this.ln()});this.nf=a.Sz(e)}OF(){return this.nf&&this.nf.OF()}async Vr(a,
e){if(!this.nf)throw Error("no asset");if(this.Lm)throw Error("already loaded texture");this.Lm="loading";a=await this.nf.Vr(a,e);if(!a)return this.Lm="",null;this.Lm="loaded";this.rw||(this.U=a.S(),this.P=a.V(),this.rw=!0);this.xg.set(this.At,this.Bt,this.At+(this.nC?this.P:this.U),this.Bt+(this.nC?this.U:this.P));this.xg.sl(a.S(),a.V());this.Pq.bk(this.xg);this.nC&&this.Pq.xia();return a}Wh(){this.Lm&&(this.nf&&this.nf.Wh(),this.Lm="",this.xg.set(0,0,0,0),this.Pq.bk(this.xg))}we(){return this.nf?
this.nf.we():null}Th(){return this.xg}uz(){return this.Pq}async c0(){const a=await this.nf.M3(),e=d.Gg(this.U,this.P);e.getContext("2d").drawImage(a,this.At,this.Bt,this.U,this.P,0,0,this.U,this.P);return e}}}
{"use strict";const d=self.B;d.CY=class extends d.la{constructor(b){super();this.Ja=b[0];this.Ax=b[1];this.iC=!!b[2];this.It=b[3];this.oW=b[4];this.cga=!!b[5];this.Xa=b[6];this.$d=b[7].map(a=>d.C(d.BY,a))}A(){for(const b of this.$d)b.A();d.F(this.$d)}F3(b){for(const a of this.$d)a.Vd().UF(b)}G3(b,a){return Promise.all(this.$d.map(e=>e.Vd().Vr(b,a)))}I5(){for(const b of this.$d)b.Vd().Wh()}Ea(){return this.Ja}hn(b){b=Math.floor(b);if(0>b||b>=this.$d.length)throw new RangeError("invalid frame");return this.$d[b]}Kl(){return this.Ax}kn(){return this.It}}}
{"use strict";const d=self.B;d.BY=class extends d.la{constructor(b){super();this.sg=d.C(d.Gz);this.sg.XO(b);this.BU=b[7];this.YV=d.C(d.wv,b[8],b[9]);this.VB=b[10].map(a=>d.C(d.q2,this,a));this.eV=new Map;for(const a of this.VB)this.eV.set(a.Ea().toLowerCase(),a);this.fq=null;b=b[11];6<=b.length&&(this.fq=d.C(d.$o,b))}A(){this.fq&&(this.fq.A(),this.fq=null);this.sg.A();this.sg=null}Vd(){return this.sg}jk(){return this.YV.Z}kk(){return this.YV.T}W0(b){return this.eV.get(b.toLowerCase())||null}V0(b){b=
Math.floor(b);return 0>b||b>=this.VB.length?null:this.VB[b]}aF(){return this.VB.length}}}{"use strict";const d=self.B;d.q2=class extends d.la{constructor(b,a){super();this.Ja=a[0];this.NK=d.C(d.wv,a[1],a[2])}A(){}Ea(){return this.Ja}L(){return this.NK.Z}M(){return this.NK.T}pp(){return this.NK}}}
{"use strict";const d=self.B,b=self.bg,a=self.Ez;d.XF=class extends d.la{constructor(e,c,f){super();const k=e.Sh(f[1]);this.j=e;this.vi=e.uo.r1(k);this.eb=null;this.ZB=k.Instance;this.Va=c;this.Xa=f[11];this.Ja=f[0];this.Qw=this.j.Yi(f[14]);this.$fa=!!f[9];this.Ya=!!f[2];this.RJ=!!f[10];this.Mj=f[3].map(g=>({RX:g[0],type:g[1],name:g[2],Vha:e.Yi(g[3])}));this.tfa=f[4];this.Kfa=f[5];this.Mf=this.vi.Mf;this.Sa=null;this.rB=d.C(d.N7,e.zh,e.yh);this.yI=!0;this.zI=!1;this.jJ=this.Wn=null;this.Gj=-1;this.iJ=
this.IB=this.JB=this.hJ=this.mi=null;this.LJ=!1;this.oh=null;this.kU=f[8].map(g=>d.VM.Ua(this,g));this.lB=[];this.HI=new Map;this.FI=new Map;this.TW=new Set;this.yo=d.C(d.K7,this);this.eB=this.dB=this.Yd=this.sg=this.oh=this.Rs=null;this.Pt=0;this.Fb=new Map;this.Gi=new Map;this.I=[];this.yJ=!0;this.vi.vF()&&(this.Sa=d.C(d.zl,this,f[12]));f[6]&&(this.sg=d.C(d.Gz),this.sg.XO(f[6]));if(f[7]){this.Yd=f[7].map(g=>d.C(d.CY,g));this.dB=new Map;this.eB=new Map;for(const g of this.Yd)this.dB.set(g.Ea().toLowerCase(),
g),this.eB.set(g.Xa,g)}this.Ya?(this.Wn=[],this.jJ=new Set,this.Gj=this.j.xaa()):(this.mi=[],this.hJ=new Set,this.JB=[],this.IB=[],this.iJ=[]);this.eb=d.C(k.gh,this,f[15]);this.kV=this.yw=null;this.se=d.C(d.Event.Hb);if(c=this.eb.Pg()){if(this.yw=new c(this),!(this.yw instanceof a))throw new TypeError("script interface class must derive from IObjectClass");}else this.yw=new a(this);this.j.xD&&!this.Ya&&!this.RJ&&this.Mf||this.Cc();this.vi.bo&&(this.vi.Aea(this),this.P9(f))}static Ua(e,c,f){return d.C(d.XF,
e,c,f)}A(){this.sg&&(this.sg.A(),this.sg=null);if(this.Yd){for(const e of this.Yd)e.A();d.F(this.Yd);this.dB.clear();this.eB.clear()}this.yo.A();this.yo=null;this.Fb.clear();this.Gi.clear();this.j=this.oh=null}pba(e){for(let c=1,f=e.length;c<f;++c){const k=this.j.Ef(e[c]);this.Wn.push(k);this.jJ.add(k);k.mi.push(this);k.hJ.add(this)}}Wda(e){this.LJ=!0;this.oh=e}cc(){return this.LJ}Vba(){var e=0;if(!this.Ya)for(var c of this.mi)for(var f of c.kU){const l=f.Ea().toLowerCase();this.HI.set(l,f);this.FI.set(l,
e);this.lB.push(f);++e}for(var k of this.kU)c=k.Ea().toLowerCase(),this.HI.set(c,k),this.FI.set(c,e),this.lB.push(k),++e;for(var g of this.lB)this.TW.add(g.zf().constructor);if(!this.Ya&&this.mi.length){e=this.j.HU;d.JD(this.JB,e,0);d.JD(this.IB,e,0);d.JD(this.iJ,e,0);e=[];c=g=k=0;for(const l of this.mi)if(f=l.Gj,this.JB[f]=k,k+=l.Mj.length,this.IB[f]=g,g+=l.tfa,this.iJ[f]=c,c+=l.Kfa,(f=l.Sa)&&this.Sa)for(const n of f.Ig())e.push(n.iZ(this.Sa));this.Sa&&this.Sa.u5(e)}}P9(e){const c=this.j.waa(),f=
d.C(d.Instance,{Kc:this.j,oM:this,uid:c});f.tA(e[16],[]);this.j.Hba(c,f);this.I.push(f)}Cc(){this.Ya||this.eb.Cc()}T1(){return 0<this.Pt}Wr(e){if(this.Ya)return Promise.resolve();this.Pt++;return 1===this.Pt?this.eb.Wr(e)||Promise.resolve():Promise.resolve()}Bp(){if(!this.Ya){this.Pt--;if(0>this.Pt)throw Error("released textures too many times");0===this.Pt&&this.eb.Bp()}}Uz(){if(this.Ya)throw Error("not applicable to family");this.eb.Uz()}cG(e){return this.Ya?Promise.resolve():this.eb.cG(e)}K(){return this.j}Jb(){return this.vi}Ea(){return this.Ja}Yi(){return this.Qw}Ka(){return this.Va}Vg(){return this.$fa}ZQ(e){return e&&
this.TW.has(e)}b1(){return this.Mj.map(e=>e.RX)}a1(e){return this.Mj.findIndex(c=>c.RX===e)}$0(e){return this.Mj.findIndex(c=>c.name===e)}jaa(){return this.Mj.map(e=>e.Vha)}Lu(e){e=Math.floor(e);if(0>e||e>=this.Mj.length)throw new RangeError("invalid instance variable index");return this.Mj[e].type}WN(e){e=Math.floor(e);if(0>e||e>=this.Mj.length)throw new RangeError("invalid instance variable index");return this.Mj[e].name}Xy(e){return this.HI.get(e.toLowerCase())||null}Gu(e){e=this.FI.get(e.toLowerCase());
return"undefined"===typeof e?-1:e}vF(){return this.vi.vF()}$Q(){return this.Sa&&this.Sa.L1()}ca(){return this.yo.ca()}Vd(){return this.sg}jQ(e){this.Rs=e}rE(e){return this.hJ.has(e)}CN(e){return this.jJ.has(e)}hp(e){return this.IB[e]}SN(e){return this.JB[e]}HN(e){if(!this.Yd)throw Error("no animations");return this.dB.get(e.toLowerCase())||null}p0(e){if(!this.Yd)throw Error("no animations");return this.eB.get(e)||null}M0(){if(!this.Yd)throw Error("no animations");return this.Yd[0].hn(0)}z0(){if(this.Yd){const e=
this.M0().Vd();return[e.S(),e.V()]}return this.sg?[this.sg.S(),this.sg.V()]:[100,100]}qk(){if(!this.vi.bo)throw Error("not a single-global plugin");return this.I[0]}pa(){return this.I}*vX(){yield*this.I}*Lha(){yield*this.I;for(const e of this.j.tm)e.J()===this&&(yield e)}hh(e){this.I.push(e)}Qv(){this.yJ=!0}WA(){if(this.yJ&&!this.Ya){var e=this.I,c=0;for(let f=e.length;c<f;++c)e[c].CT(c);e=this.j.tm;for(const f of e)f.J()===this&&f.CT(c++);this.yJ=!1}}VN(e){var c=this.I;if(e<c.length)return c[e];
e-=c.length;c=this.j.tm;for(const f of c)if(f.J()===this){if(0===e)return f;--e}return null}Lg(e){if(e&&e.cc()&&e.J()!==this)for(const c of e.Qd)if(c.J()===this)return c;e=this.ca().pa();return e.length?e[0]:null}p1(e){const c=this.ca().pa();return 0<c.length?c[e.ip()%c.length]:null}*bX(e,c){const f=this.ca().pa();var k=f.length;const g=c.ca(),l=c.ca().pa(),n=l.length;var q=e.ip();if(c.Ya||!g.$b)q=l.indexOf(e);e=Math.ceil(k/n);k%=n;0===k||q<k?(q*=e,k=e):(q=k*e+(q-k)*(e-1),k=e-1);for(let r=q,p=q+k;r<
p;++r)yield f[r]}Cu(e){this.eb.Cu(e)}hc(){if(this.LJ&&!this.Ya){this.WA();var e=this.ca(),c=e.I,f=e.$b,k=this.j.Cf();k=k&&k.Ib()&&k.Ib().ae;for(const n of this.oh.Dm)if(n!==this){n.WA();var g=n.ca();g.Be(f);if(!f){var l=g.I;d.F(l);for(const q of c)l.push(n.VN(q.ip()));if(k){l=e.mc;g=g.mc;d.F(g);for(const q of l)g.push(n.VN(q.ip()))}}}}}Uea(e,c){for(const f of this.oh.Dm){const k=f.ca();e?d.ve(k.mc,c):d.ve(k.I,c)}}vT(){this.yI=!0}VH(e){this.zI=!!e}VT(){if(this.yI&&this.Mf){for(const e of this.I)e.m().YT();
for(const e of this.j.tm)e.J()===this&&e.m().YT();this.yI=!1}}Ff(){this.Fb||(this.Fb=new Map);return this.Fb}Ru(){this.Gi||(this.Gi=new Map);return this.Gi}yO(){return this.ZQ(d.ka.opa)}wF(){return this.ZQ(d.ka.Spa)}qa(){const e={instances:this.I.map(c=>c.cd())};this.Fb&&this.Fb.size&&(e.ex=d.TG(this.Fb));return e}ya(e){this.Fb&&(this.Fb.clear(),this.Fb=null);var c=e.ex;c&&(this.Fb=d.LE(c));c=this.I;e=e.instances;for(let f=0,k=Math.min(c.length,e.length);f<k;++f)c[f].Nc(e[f]);for(let f=e.length,k=
c.length;f<k;++f)this.j.dn(c[f]);for(let f=c.length,k=e.length;f<k;++f){c=e[f];let g=null;if(this.Mf&&(g=this.j.Pb().lz(c.w.l),!g))continue;this.j.Ti(this.Rs||this,g,!1,0,0,!0).Nc(c)}this.Qv()}Nh(e){var c=this.j;(c=c.wb&&!c.oa().Kz())&&b.OG();this.se.dispatchEvent(e);c&&b.nE()}}}{"use strict";const d=self.B;d.oZ=class extends d.la{constructor(b,a){super();this.j=b;this.Dm=a;for(const e of this.Dm)e.Wda(this)}A(){this.j=null}K(){return this.j}O1(){return this.Dm.some(b=>b.Mf)}}}
{"use strict";const d=self.B,b=self.bg,a=self.Wu,e=[];let c=0;const f=new WeakMap,k=new WeakMap;d.Instance=class extends d.la{constructor(g){super();this.j=g.Kc;this.le=g.oM;this.Fe=this.ma=this.pb=null;this.cV=0;this.zb=g.uid;this.hW=c++;this.wa=0;this.fd=this.Kf=e;var l=this.le.lB;0<l.length&&(this.fd=l.map((n,q)=>d.C(d.yy,{Kc:this.j,PL:n,instance:this,index:q})));this.Qd=this.le.cc()?[]:null;this.Id=-1;this.Xb=null;l=this.Jb();l.un()&&(this.wa|=4);if(l.Mf)if(this.pb=d.C(d.A8,this,g.fe),g.aY)this.pb.Rg(g.aY);
else{this.pb.G2();const [n,q]=this.le.z0();this.pb.Dc(n,q);this.J().$Q()&&this.pb.Ge.H3()}g.uX?this.sba(g.uX):this.nba()}A(){this.Fe&&(this.Fe.Pv(),this.Fe=null);if(0<this.fd.length){for(var g of this.fd)g.A();d.F(this.fd)}this.ma.A();this.ma=null;if(g=f.get(this))g.clear(),f.delete(this);if(g=k.get(this))g.clear(),k.delete(this);this.Qd&&d.F(this.Qd);this.Xb&&(this.Xb.A(),this.Xb=null);this.le=this.j=null;0<this.Kf.length&&d.F(this.Kf);this.pb&&(this.pb.A(),this.pb=null)}sba(g){0<g.length&&(this.Kf=
[],d.xd(this.Kf,g))}nba(){const g=this.le.Mj.length;if(0!==g){this.Kf=[];var l=[0,0,""];for(let n=0;n<g;++n)this.Kf.push(l[this.le.Lu(n)])}}tA(g,l){if(this.ma)throw Error("already got sdk instance");for(let n=0,q=this.fd.length;n<q;++n)this.fd[n].tA(l?l[n]:null);this.ma=d.C(this.le.ZB,this,g);if(!(this.ma instanceof d.Dp))throw Error("sdk type must derive from SDKInstanceBase");for(let n=0,q=this.fd.length;n<q;++n)this.fd[n].Wz();this.le.kV&&this.DS()}m(){return this.pb}K(){return this.j}n0(){const g=
this.Id;return-1===g?this.K().Id:g}GG(g){g=+g;if(0>g||!isFinite(g))g=0;this.Id=g}d6(){this.Id=-1}Hb(){this.Xb||(this.Xb=d.C(d.Event.Hb));return this.Xb}yf(g){this.ma.yf(g)}Cc(g){this.ma.Cc(g)}hea(){this.wa|=2}bj(){return 0!==(this.wa&2)}DH(){this.wa|=1}GF(){return 0!==(this.wa&1)}un(){return 0!==(this.wa&4)}b7(){this.wa|=32}dP(){return 0!==(this.wa&32)}eba(){return 0!==(this.wa&8)}kv(g,l){g<<=16;this.wa=l?this.wa|g:this.wa&~g}YE(g){return 0!==(this.wa&g<<16)}Qh(){return this.ma.Qh()}cz(){return this.ma.cz()}dz(){return this.ma.dz()}Gl(g){return this.ma.Gl(g)}J(){return this.le}ds(){return this.ma.ds()}zr(g){return g.Ya?
g.CN(this.J()):this.J()===g}aR(){if(!this.Jb().KW)throw Error("object does not support scene graph");}tk(){return null!==this.Fa()}Fa(){var g=this.m();return g?(g=g.Fa())?g.Ga():null:null}wz(){var g=this.m();return g?(g=g.wz())?g.Ga():null:null}*hy(){const g=this.m();if(g)for(const l of g.hy())yield l.Ga()}Gf(){const g=this.m();return g?g.Gf():!1}Af(){const g=this.m();return g?g.Af().map(l=>l.Ga()):[]}*children(){const g=this.m();if(g)for(const l of g.children())yield l.Ga()}*rl(){const g=this.m();
if(g)for(const l of g.rl())yield l.Ga()}az(){const g=this.m();return g?g.az():0}QE(g){const l=this.m();return l?(g=l.QE(g))?g.Ga():null:null}cn(g,l){this.aR();g.aR();this.m().cn(g.m(),l||{})}xk(g){const l=this.m();l&&l.xk(g.m())}fz(){const g=this.m();return g?g.fz():!1}F7(){var g=this.m();if(g&&(g=g.ZK))for(const l of g)if(g=this.j.Ue(l[2])){const n=l[3];this.cn(g,{nu:!!(n>>0&1),ou:!!(n>>1&1),wr:!!(n>>2&1),ur:!!(n>>3&1),mu:!!(n>>4&1),Wx:!!(n>>5&1),pu:!!(n>>6&1)})}}cc(){return null!==this.Qd}xs(g){this.Qd.push(g)}V1(g){return!!this.pO(g)}pO(g){const l=
this.Qd;if(null===l||0===l.length)return!1;for(const n of l)if(n.J()===g)return n;return null}hj(){for(const g of this.Qd)g.J().ca().Ck(g)}Jca(){for(const g of this.Qd)g.J().ca().Sp(g)}zea(g){for(const l of this.Qd)l.J().ca().I[g]=l}Ica(){for(const g of this.Qd)g.J().ca().Kn(g)}yea(g){for(const l of this.Qd)l.J().ca().mc[g]=l}Jb(){return this.le.Jb()}CT(g){this.cV=g}ip(){this.le.WA();return this.cV}IN(g){const l=this.fd;for(let n=0,q=l.length;n<q;++n)if(l[n].Ph().Xa===g)return n;return-1}Ve(g){g|=
0;const l=this.Kf;if(0>g||g>=l.length)throw new RangeError("invalid instance variable");return l[g]}uaa(g){const l=this.Kf[g];return 0===this.le.Lu(g)?!!l:l}Bn(g,l){g|=0;const n=this.Kf;if(0>g||g>=n.length)throw new RangeError("invalid instance variable");switch(this.le.Lu(g)){case 0:n[g]=l?1:0;break;case 1:n[g]="number"===typeof l?l:parseFloat(l);break;case 2:n[g]="string"===typeof l?l:l.toString();break;default:throw Error("unknown instance variable type");}}U6(g,l){if(0!==l){g|=0;var n=this.Kf;
if(0>g||g>=n.length)throw new RangeError("invalid instance variable");var q=n[g];if("number"===typeof q)n[g]="number"===typeof l?n[g]+l:n[g]+parseFloat(l);else{if("boolean"===typeof q)throw Error("can not set offset of boolean variable");if("string"===typeof q)throw Error("can not set offset of string variable");throw Error("unknown instance variable type");}}}Ff(){let g=f.get(this);if(g)return g;g=new Map;f.set(this,g);return g}Ru(){let g=k.get(this);if(g)return g;g=new Map;k.set(this,g);return g}xS(g){const l=
this.J();if(l.se.tF(g))return!0;for(const n of l.mi)if(n.se.tF(g))return!0;return this.j.se.tF(g)?!0:!1}VA(){const g=new Set;g.add(this);const l=this.m();if(l&&l.Gf())for(const n of this.rl())if(g.add(n),n.cc())for(const q of n.Qd)g.add(q);if(this.cc())for(const n of this.Qd)g.add(n);for(const n of g.values())n.ST()}ST(){if(this.xS("instancecreate")){const g=this.J(),l=new d.Event("instancecreate");l.instance=this.Rh();g.Nh(l);for(const n of g.mi)n.Nh(l);this.j.Nh(l)}this.j.na(this.Jb().constructor.G.s4,
this,null)}Sea(){this.j.na(this.Jb().constructor.G.t4,this,null)}baa(g){if(this.Fe){var l=new d.Event("destroy");l.Pha=g;this.Nh(l)}if(this.xS("instancedestroy")){l=this.J();var n=new d.Event("instancedestroy");n.instance=this.Rh();n.Pha=g;l.Nh(n);for(const q of l.mi)q.Nh(n);this.j.Nh(n)}}cd(g="full"){const l={};"full"===g?l.uid=this.zb:l.c3=!0;if("visual-state"!==g){var n=f.get(this);n&&n.size&&(l.ex=d.TG(n));-1!==this.Id&&(l.mts=this.Id);if(0<this.le.Mj.length){n={};var q=this.le.b1();for(let r=
0,p=this.Kf.length;r<p;++r)n[q[r].toString()]=this.Kf[r];l.ivs=n}if(this.fd.length){n={};for(const r of this.fd)(q=r.cd())&&(n[r.Ph().Xa.toString()]=q);l.behs=n}}this.pb&&(l.w=this.pb.qa(g));(g=this.ma.cd())&&(l.data=g);return l}Es(g="full"){this.pb&&this.pb.Es(g)}Nc(g,l="full"){if("full"===l)this.zb=g.uid;else if(!g.c3)return;if("visual-state"!==l){var n=f.get(this);n&&(n.clear(),f.delete(this));if(n=g.ex)n=d.LE(n),f.set(this,n);this.Id=g.hasOwnProperty("mts")?g.mts:-1;if(n=g.ivs)for(const [p,u]of Object.entries(n))if(n=
this.le.a1(parseInt(p,10)),!(0>n||n>=this.Kf.length)){var q=u;null===q&&(q=NaN);this.Kf[n]=q}}if(this.Jb().Mf){n=g.w;var r=n.l;this.pb.ea().Xa!==r&&(q=this.pb.ea(),(r=q.uc().lz(r))?(this.pb.Rv(r),q.Tp(this,!0),r.hh(this,!0),r.eh(),this.pb.ua()):"full"===l&&this.j.dn(this));this.pb.ya(n,l)}if("visual-state"!==l&&(l=g.behs))for(const [p,u]of Object.entries(l))l=this.IN(parseInt(p,10)),0>l||l>=this.fd.length||this.fd[l].Nc(u);(g=g.data)&&this.ma.Nc(g)}Rh(){return this.Fe||this.DS()}DS(){var g=this.pb?
self.Fz:a;const l=this.ma.Pg(),n=this.le.kV,q=n||l||g;a.mj(this);this.Fe=new q;a.mj(null);if(l&&!(this.Fe instanceof g))throw new TypeError(`script interface class '${l.name}' does not extend the right base class '${g.name}'`);if(n&&(g=l||g,!(this.Fe instanceof g)))throw new TypeError(`setInstanceClass(): class '${n.name}' does not extend the right base class '${g.name}'`);return this.Fe}taa(g){if(0!==this.Kf.length){var l={},n=this.le.jaa();for(let q=0,r=n.length;q<r;++q)l[n[q]]={configurable:!1,
enumerable:!0,get:d.Instance.prototype.uaa.bind(this,q),set:d.Instance.prototype.Bn.bind(this,q)};l=Object.create(Object.prototype,l);g.Fwa={value:l,writable:!1}}}laa(g){var l=this.fd;if(0!==l.length){var n={};for(const q of l)n[q.Ph().Yi()]={value:q.sz(),writable:!1};l=Object.create(Object.prototype,n);g.Ux={value:l,writable:!1}}}Nh(g){g.instance=this.Rh();var l=this.j;(l=l.wb&&!l.oa().Kz())&&b.OG();this.Rh().dispatchEvent(g);l&&b.nE()}}}
{"use strict";const d=self.B;d.m6=class extends d.la{constructor(b){super();this.nc=b;this.Ic=null;this.pB=[];this.iD=b.S();this.hD=b.V();this.lL=this.kL=1;this.NC=0}A(){this.Ic=null;d.F(this.pB)}BQ(b){this.NC=(this.Ic=b)?b.ja():0}Fa(){return this.Ic}Gf(){return 0<this.pB.length}Af(){return this.pB}l7(b){this.kL=b}m7(b){this.lL=b}nk(){return this.nc.mp()?this.Ic.S()/this.Ic.Mb.iD:1}pk(){return this.nc.lp()?this.Ic.V()/this.Ic.Mb.hD:1}qa(){return{sw:this.iD,sh:this.hD,sx:this.kL,sy:this.lL,psa:this.NC,
c:this.pB.map(b=>{let a="";b.np()&&(a+="x");b.op()&&(a+="y");b.mp()&&(a+="w");b.lp()&&(a+="h");b.yz()&&(a+="a");b.zz()&&(a+="z");b.fz()&&(a+="d");return{uid:b.Ga().zb,f:a}})}}ya(b){this.iD=b.sw;this.hD=b.sh;this.kL=b.sx;this.lL=b.sy;this.NC=b.psa}Rp(b){const a=this.nc,e=a.K();for(const c of b.c){b=e.Ue(c.uid).m();const f=c.f,k={};k.nu=f.includes("x");k.ou=f.includes("y");k.wr=f.includes("w");k.ur=f.includes("h");k.mu=f.includes("a");k.pu=f.includes("z");k.Wx=f.includes("d");a.cn(b,k)}}}}
{"use strict";const d=self.B,b=d.C(d.Rect),a=d.C(d.Bd),e=d.C(d.Event,"bboxchange",!1),c=d.C(d.ib,0,0,0,0),f=d.C(d.$o),k=d.C(d.ib,1,1,1,1),g=d.C(d.Rect,0,0,-1,-1),l=d.C(d.Rect,0,0,-1,-1),n=new Set(["absolute","relative"]),q=[];let r=!0;d.A8=class extends d.la{constructor(p,u){super();this.H=p;this.N=p.J();this.j=p.K();this.cl=u;this.ql=-1;this.wa=196635;this.N.Jb().Tr()&&(this.wa|=128);this.Dt=this.Ct=this.SI=this.aL=this.Wa=this.lf=this.Kj=this.Zj=this.kd=this.T=this.Z=NaN;this.LI=d.C(d.Rect);this.MI=
d.C(d.Bd);this.qB=l;this.nx=g;this.Di=this.St=this.eD=null;this.hq=this.ub=k;this.Ge=this.Yq=null;this.H.J().$Q()&&(this.Ge=d.C(d.W2,this.H,this));this.ZK=this.Mb=null;this.Uq=this.tW=NaN;this.ti=null}DH(){this.wa|=256}A(){this.Yq&&(this.j.Cb().MP(this.Yq),this.Yq=null);this.eD=null;this.St&&(this.St.KX.A(),this.St=null);this.Di&&(this.Di.clear(),this.Di=null);this.Zz();this.tk()&&this.Fa().xk(this);if(this.Gf()){const p=[...this.Af()];for(const u of p)this.xk(u)}this.MA();this.cl=this.j=this.N=this.H=
null}Rg(p){r=!1;this.Dd(p[0],p[1]);this.df(p[2]);this.Dc(p[3],p[4]);this.lf=0;this.Tr()?this.jc(p[6]):this.Wa=0;c.Wo(p[7]);this.OA(c);this.ms(p[8]);this.ns(p[9]);this.kg(p[10]);this.Ge&&this.Ge.oba(p[12]);p[14]&&(this.ZK=p[14][1],this.tW=p[14][2]);if(p[15]){var u=p[15];this.BE(u[0],u[1]);p=this.Jl();u=u[2];for(let t=0,w=u.length;t<w;++t){const x=u[t];for(let z=0,E=x.length;z<E;++z){const G=x[z],N=p.Jr(z,t);N.bh(G[0]);N.dh(G[1]);N.df(G[2]);N.HG(G[3]);N.IG(G[4])}}}r=!0;this.Gs()}G2(){this.aL=this.Wa=
this.lf=this.Kj=this.Zj=this.kd=this.T=this.Z=0;this.SI=1;this.Dt=this.Ct=0;this.Gs()}K(){return this.j}J(){return this.N}Ga(){return this.H}Fv(){return this.yz()?this.Fa().ja()-this.Mb.NC:0}bh(p){p=+p;if(this.np()){const u=this.Mb;p-=this.L();const t=-this.Fv();0===t?this.Z+=p/u.nk():(this.Z+=Math.cos(t)*p/u.nk(),this.op()&&(this.T+=Math.sin(t)*p/u.pk()))}else this.Z=p}g4(p){p=+p;this.np()?this.bh(this.L()+p):this.Z+=p}L(){if(this.np()){let p=this.Z;const u=this.Mb,t=this.Fa(),w=this.Fv();0===w?
p*=u.nk():(p=p*u.nk()*Math.cos(w),this.op()&&(p-=this.T*u.pk()*Math.sin(w)));return t.L()+p}return this.Z}dh(p){p=+p;if(this.op()){const u=this.Mb;p-=this.M();const t=-this.Fv();0===t?this.T+=p/u.pk():(this.np()&&(this.Z-=Math.sin(t)*p/u.nk()),this.T+=Math.cos(t)*p/u.pk())}else this.T=p}h4(p){p=+p;this.op()?this.dh(this.M()+p):this.T+=p}M(){if(this.op()){let p=this.T;const u=this.Mb,t=this.Fa(),w=this.Fv();0===w?p*=u.pk():(p=p*u.pk()*Math.cos(w),this.np()&&(p+=this.Z*u.nk()*Math.sin(w)));return t.M()+
p}return this.T}Dd(p,u){p=+p;u=+u;if(this.wO()){const w=this.np(),x=this.op(),z=this.Mb,E=p-this.L(),G=u-this.M();var t=-this.Fv();if(0===t)this.Z=w?this.Z+E/z.nk():p,this.T=x?this.T+G/z.pk():u;else{const N=Math.sin(t);t=Math.cos(t);this.Z=w?x?this.Z+(t*E-N*G)/z.nk():this.Z+t*E/z.nk():p;this.T=x?w?this.T+(N*E+t*G)/z.pk():this.T+t*G/z.pk():u}}else this.Z=p,this.T=u}Rl(p,u){p=+p;u=+u;this.wO()?this.Dd(this.L()+p,this.M()+u):(this.Z+=p,this.T+=u)}V_(p,u){return this.L()===p&&this.M()===u}df(p){p=+p;
this.zz()&&(p-=this.Fa().Za());this.kd!==p&&(this.kd=p,this.dU(),p=this.ea(),0!==this.kd&&p.wT(),p.eh())}dU(){this.Gs();if(this.Gf()){const p=this.Af();for(let u=0,t=p.length;u<t;u++){const w=p[u];w.zz()&&w.dU()}}}i4(p){this.df(this.Za()+p)}Za(){return this.zz()?this.Fa().Za()+this.kd:this.kd}hg(){return this.ea().Za()+this.Za()}cf(p){p=+p;this.Zj=this.mp()?this.Zj*(p/this.S()):p}gP(p){p=+p;this.mp()?this.cf(this.S()+p):this.Zj+=p}S(){return this.mp()?this.Fa().S()*this.Zj:this.Zj}Ze(p){p=+p;this.Kj=
this.lp()?this.Kj*(p/this.V()):p}fP(p){p=+p;this.lp()?this.Ze(this.V()+p):this.Kj+=p}V(){return this.lp()?this.Fa().V()*this.Kj:this.Kj}Dc(p,u){p=+p;u=+u;this.Zj=this.mp()?this.Zj*(p/this.S()):p;this.Kj=this.lp()?this.Kj*(u/this.V()):u}iO(){if(this.tk()){const p=this.Mb;return Math.min(p.nk(),p.pk())}return 1}Tr(){return 0!==(this.wa&128)}jc(p){p=+p;this.Tr()&&(this.yz()&&(p-=this.Fa().ja()),p=d.md(p),this.Wa!==p&&(this.Wa=p,this.EH()))}c4(p){p=+p;0!==p&&this.Tr()&&(this.Wa=d.md(this.Wa+p),this.EH())}EH(){this.wa|=
262144;if(this.Gf()){const p=this.Af();for(let u=0,t=p.length;u<t;u++)p[u].EH()}}ja(){return this.yz()?d.md(this.Fa().ja()+this.Wa):this.Wa}TS(){const p=this.wa;if(0!==(p&262144)){var u=this.ja();this.aL=Math.sin(u);this.SI=Math.cos(u);this.wa=p&-262145}}nF(){this.TS();return this.aL}RE(){this.TS();return this.SI}ms(p){this.Ct=+p}e4(p){this.Ct+=+p}jk(){return this.Ct}ns(p){this.Dt=+p}f4(p){this.Dt+=+p}kk(){return this.Dt}OA(p){this.ub.Zc(p)||(this.ub===k?(this.ub=d.C(d.ib,p),this.hq=d.C(d.ib,p),this.hq.TD()):
p.Yx(1,1,1,1)?this.hq=this.ub=k:(this.ub.set(p),this.hq.set(p),this.hq.TD()),this.Gs())}$e(p){p=d.da(+p,0,1);this.ub.Mo!==p&&(c.Wm(this.ub),c.Mo=p,this.OA(c))}d4(p){this.$e(this.Ld()+p)}Ld(){return this.ub.Mo}KQ(p){this.ub.Qo(p)||(c.Wm(p),c.Mo=this.ub.Mo,this.OA(c))}z7(p,u,t){c.YD(p,u,t);this.KQ(c)}hF(){return this.hq}fz(){return 0!==(this.wa&512)}A6(p){this.ff(512,p)}np(){return 0!==(this.wa&1024)}u7(p){this.ff(1024,p)}op(){return 0!==(this.wa&2048)}wO(){return 0!==(this.wa&3072)}v7(p){this.ff(2048,
p)}mp(){return 0!==(this.wa&4096)}t7(p){this.ff(4096,p)}lp(){return 0!==(this.wa&8192)}s7(p){this.ff(8192,p)}yz(){return 0!==(this.wa&16384)}r7(p){this.ff(16384,p)}zz(){return 0!==(this.wa&32768)}w7(p){this.ff(32768,p)}sR(){this.wa&=-65025}cn(p,u){if(p!==this&&!p.tk()&&!this.zS(p)&&!this.yS(p)){var t=p.L(),w=p.M(),x=p.S(),z=p.V(),E=p.ja(),G=p.Za();p.GT(this);p.u7(u.nu);p.v7(u.ou);p.t7(u.wr);p.s7(u.ur);p.r7(u.mu);p.w7(u.pu);p.A6(u.Wx);u.nu&&(p.Z=t-this.L(),u.wr&&(p.Z/=this.S()/this.Mb.iD));u.ou&&(p.T=
w-this.M(),u.ur&&(p.T/=this.V()/this.Mb.hD));u.wr&&(p.Zj=x/this.S(),p.Mb.l7(p.Zj));u.ur&&(p.Kj=z/this.V(),p.Mb.m7(p.Kj));u.mu&&(p.Wa=E-this.ja());u.pu&&(p.kd=G-this.Za());this.J8(p);this.ua()}}xk(p){if(p.Fa()===this){var u=p.L(),t=p.M(),w=p.S(),x=p.V(),z=p.ja(),E=p.Za();p.GT(null);p.sR();p.Dd(u,t);p.Dc(w,x);p.jc(z);p.df(E);this.Xca(p);this.ua()}}fda(){for(var p of this.children())this.xk(p);(p=this.Fa())&&p.xk(this);this.sR()}tk(){return null!==this.Fa()}Fa(){const p=this.Mb;return null!==p?p.Fa():
null}wz(){let p=this;for(;p.tk();)p=p.Fa();return p}*hy(){let p=this.Fa();for(;p;)yield p,p=p.Fa()}Q1(p){return this.Af().includes(p)}Gf(){const p=this.Mb;return null!==p?p.Gf():!1}Af(){const p=this.Mb;return null!==p?p.Af():q}children(){return this.Af()}*rl(){for(const p of this.children())yield p,yield*p.rl()}az(){return this.Af().length}QE(p){const u=this.Af();p=Math.floor(+p);return 0>p||p>=u.length?null:u[p]}eH(p){this.Mb||(this.Mb=d.C(d.m6,this));p&&this.Mb.BQ(p)}MA(){this.Mb&&(this.Mb.A(),
this.Mb=null)}GT(p){p?(p.eH(null),this.eH(p)):(this.Mb&&this.Mb.BQ(null),this.Gf()||this.MA())}yS(p){if(!this.tk())return!1;const u=this.Fa();return u===p?!0:u.yS(p)}zS(p){if(this.Q1(p))return!0;for(const u of this.Af())if(u.zS(p))return!0;return!1}J8(p){this.Mb.Af().push(p)}Xca(p){const u=this.Mb.Af(),t=u.indexOf(p);-1!==t&&u.splice(t,1);0!==u.length||this.tk()||this.MA();p.Gf()||p.MA()}BG(p){this.Uq=p}Gs(){if(r){var p=this.j.Cb();this.Yq&&p.MP(this.Yq);this.Yq=p.hY(0!==(this.wa&524288)?p.fD||"<point>":
p.gD||"<default>",this.Vi(),this.hq,this.Za())}}mn(){return this.ub===k}kg(p){p|=0;if(0>p||31<p)throw new RangeError("invalid blend mode");this.Vi()!==p&&(this.wa=this.wa&-2080374785|p<<26,this.Gs())}Vi(){return(this.wa&2080374784)>>26}Rv(p){this.cl=p;0!==this.Za()&&this.cl.wT()}ea(){return this.cl}uc(){return this.ea().uc()}TA(p){this.ql=p|0}sk(){this.cl.Uv();return this.ql}ff(p,u){this.wa=u?this.wa|p:this.wa&~p}$c(){return 0!==(this.wa&1)}$h(p){this.ff(1,p)}Ug(){return 0!==(this.wa&8)}jv(p){p=!!p;
this.Ug()!==p&&(this.ff(8,p),p?this.ua():this.eT())}DG(p,u){this.ff(32,p);this.Di&&this.Di.clear();if(u.trim()){this.Di||(this.Di=new Set);for(const t of u.split(" "))t&&this.Di.add(t.toLowerCase())}else this.Di=null}SF(p){const u=0!==(this.wa&32),t=this.Di;if(!p||!t)return!u;for(const w of t)if(p.has(w))return u;return!u}ua(){this.wa|=65554;this.N.vT();this.j.ga();this.cl.Mp()&&(this.By(this.LI,this.MI,!0),this.wa&=-3,this.afa());0!==(this.wa&4)&&this.H.Hb().dispatchEvent(e);if(null!==this.Mb){const p=
this.Mb.Af();for(let u=0,t=p.length;u<t;++u)p[u].ua()}}By(p,u,t){const w=this.L(),x=this.M(),z=this.S(),E=this.V(),G=this.ja();p.Pi(w-this.Ct*z,x-this.Dt*E,z,E);t&&this.Qg()&&this.W$(p);0===G?u.bk(p):(p.offset(-w,-x),u.WD(p,this.nF(),this.RE()),u.offset(w,x),u.aM(p));p.normalize()}XT(){const p=this.wa;0!==(p&2)&&(this.By(this.LI,this.MI,!0),this.wa=p&-3)}Mc(){this.XT();return this.LI}gk(){this.XT();return this.MI}aG(p){var u=this.L(),t=this.M();u=Math.round(u)-u;t=Math.round(t)-t;if(0===u&&0===t)return p;
a.xa(p);a.offset(u,t);return a}t6(p){this.ff(4,p)}GO(){return 0!==(this.wa&4)}OO(p,u,t){return u&&0!==this.lf?this.Qr(this.ea().Gv()):0===this.Za()||t?p.ND(this.Mc()):this.bba()}bba(){const p=this.ea(),u=this.hg();if(u>=p.Zy())return!1;p.xO(u,b);return b.ND(this.Mc())}Qr(p){var u=this.Mc();const t=u.R,w=u.Y,x=u.O;u=u.W;const z=this.hg();return p.pZ(t,x,z,w,u,z+this.lf)}PA(p){this.ff(1048576,p)}RA(p){this.ff(2097152,p)}EG(p){this.eD=p;this.mH();this.Qg()&&(this.ti.iM=null)}Uu(){return null!==this.eD||
this.Qg()}Ll(){return this.dS(this.S(),this.V(),this.ja(),this.nF(),this.RE())}y0(p,u){return this.dS(p,u,0,0,1)}dS(p,u,t,w,x){let z=this.St;null===z&&(this.St=z={KX:d.C(d.$o),width:NaN,height:NaN,angle:NaN});const E=z.KX;if(z.width===p&&z.height===u&&z.angle===t)return E;const G=this.eD;if(this.Qg()){const N=this.jk(),C=this.kk(),H=this.Jl();let I=this.ti.iM;I||(G?(f.xa(G),f.offset(N,C)):f.Cia(),I=H.V2(f),this.ti.iM=I);H.e8(I,E);E.offset(-N,-C);E.PM(p,u,w,x)}else G?(E.xa(G),E.PM(p,u,w,x)):E.HM(this.gk(),
-this.L(),-this.M());z.width=p;z.height=u;z.angle=t;return E}mH(){this.DQ(!0);const p=this.St;null!==p&&(p.width=NaN)}BE(p,u){p=Math.floor(p);u=Math.floor(u);if(!this.Ga().Jb().Hga)throw Error("object does not support mesh");this.Zz();this.ti={KM:d.C(d.fa.cP,p,u),VX:d.C(d.fa.cP,p,u),iM:null}}Qg(){return null!==this.ti}Jl(){if(!this.Qg())throw Error("no mesh");return this.ti.KM}B1(){if(!this.Qg())throw Error("no mesh");return this.ti.VX}wQ(p){this.ff(65536,p)}k3(){return 0!==(this.wa&65536)}DQ(p){this.ff(131072,
p)}o3(){return 0!==(this.wa&131072)}W$(p){const u=this.ti.KM,t=Math.min(u.m1(),0),w=Math.min(u.n1(),0),x=Math.max(u.j1(),1),z=Math.max(u.k1(),1),E=p.width(),G=p.height();p.offsetLeft(t*E);p.offsetTop(w*G);p.kia((x-1)*E);p.jia((z-1)*G);this.lf=u.l1()}Zz(){this.ti&&(this.ti.KM.A(),this.ti.VX.A(),this.ti=null,this.mH())}xQ(p,u,t){p=Math.floor(p);u=Math.floor(u);var w=t.mode||"absolute";if(!n.has(w))throw Error("invalid mode");w="relative"===w;let x=t.x,z=t.y;const E=t.wy;let G="number"===typeof t.ZX?
t.ZX:w?0:-1;t="number"===typeof t.$X?t.$X:w?0:-1;if(!this.Qg())return!1;const N=this.Jl(),C=N.Jr(p,u);if(null===C)return!1;let H=!1;"number"===typeof E&&C.Za()!==E&&(C.df(E),H=!0);w&&(x+=p/(N.Wk-1),z+=u/(N.ll-1));-1!==G||w?(w&&(G+=p/(N.Wk-1)),G=d.da(G,0,1)):G=C.Fh;-1!==t||w?(w&&(t+=u/(N.ll-1)),t=d.da(t,0,1)):t=C.Hh;if(C.L()===x&&C.M()===z&&C.Fh===G&&C.Hh===t)return H;C.bh(x);C.dh(z);C.HG(G);C.IG(t);this.mH();return!0}bj(){return this.H.bj()}vu(p,u){return this.Mc().Xf(p,u)&&this.gk().Xf(p,u)?this.bj()?
void 0:this.Uu()?this.Ll().Xf(p-this.L(),u-this.M()):!0:!1}Zaa(){return 0!==(this.wa&16)}YT(){if(this.Zaa()&&this.Ug()&&0===(this.wa&256)){var p=this.Mc(),u=this.N.rB,t=this.qB;b.set(u.ij(p.R),u.jj(p.O),u.ij(p.Y),u.jj(p.W));t.Zc(b)||(p=this.H,t===l?(u.Yl(p,null,b),this.qB=d.C(d.Rect,b)):(u.Yl(p,t,b),t.xa(b)),this.wa&=-17)}}eT(){const p=this.qB;p!==l&&(this.N.rB.Yl(this.H,p,null),this.qB=l)}afa(){const p=this.ea();if(p.Mp()&&0===(this.wa&256)){var u=p.Ht,t=this.Mc(),w=this.nx;b.set(u.ij(t.R),u.jj(t.O),
u.ij(t.Y),u.jj(t.W));w.Zc(b)||(t=this.H,w===g?(u.Yl(t,null,b),this.nx=d.C(d.Rect,b)):(u.Yl(t,w,b),w.xa(b)),p.h7())}}fT(){const p=this.nx;p!==g&&(this.ea().Ht.Yl(this.H,p,null),this.nx=g)}G8(){const p=this.H,u=this.cl,t=u.I;t.length&&t.ue(-1)===p||(u.Tp(p,!1),u.hh(p,!1),this.j.ga())}E8(){const p=this.H,u=this.cl,t=u.I;t.length&&t[0]===p||(u.Tp(p,!1),u.Fca(p),this.j.ga())}F8(p){const u=this.H,t=this.cl;if(t.uc()!==p.uc())throw Error("layer from different layout");p!==t&&(t.Tp(u,!0),this.Rv(p),p.hh(u,
!0),this.j.ga())}D8(p,u){const t=this.H;let w=!1;const x=this.cl;if(p.zb!==t.zb){var z=p.m();if(!z)throw Error("expected world instance");z=z.ea();x.Ka()!==z.Ka()&&(x.Tp(t,!0),this.Rv(z),z.hh(t,!0),w=!0);p=z.W3(t,p,!!u);(w||p)&&this.j.ga()}}gea(p){this.ff(64,p)}Tu(){return 0!==(this.wa&64)}qa(p){const u={x:this.L(),y:this.M(),w:this.S(),h:this.V(),l:this.ea().Xa,zi:this.sk()};0!==this.Za()&&(u.ze=this.Za());0!==this.ja()&&(u.a=this.ja());this.mn()||(u.c=this.ub.toJSON());.5!==this.jk()&&(u.oX=this.jk());
.5!==this.kk()&&(u.oY=this.kk());0!==this.Vi()&&(u.bm=this.Vi());this.$c()||(u.v=this.$c());this.Ug()||(u.ce=this.Ug());this.GO()&&(u.be=this.GO());this.Ge&&(u.fx=this.Ge.qa());const t=0!==(this.wa&32);t&&(u.sfi=t);this.Di&&(u.sft=[...this.Di].join(" "));this.Mb&&"visual-state"!==p&&(u.sgi=this.Mb.qa());this.Qg()&&(u.mesh=this.Jl().cd());return u}Es(p){"visual-state"!==p&&this.fda()}ya(p,u){r=!1;this.bh(p.x);this.dh(p.y);this.cf(p.w);this.Ze(p.h);this.TA(p.zi);this.df(p.hasOwnProperty("ze")?p.ze:
0);this.jc(p.hasOwnProperty("a")?p.a:0);p.hasOwnProperty("c")?c.Wo(p.c):p.hasOwnProperty("o")?(c.Wm(this.ub),c.Mo=p.o):c.Xo(1,1,1,1);this.OA(c);this.ms(p.hasOwnProperty("oX")?p.oX:.5);this.ns(p.hasOwnProperty("oY")?p.oY:.5);this.kg(p.hasOwnProperty("bm")?p.bm:0);this.$h(p.hasOwnProperty("v")?p.v:!0);this.jv(p.hasOwnProperty("ce")?p.ce:!0);this.t6(p.hasOwnProperty("be")?p.be:!1);this.DG(p.hasOwnProperty("sfi")?p.sfi:!1,p.hasOwnProperty("sft")?p.sft:"");this.Ge&&p.hasOwnProperty("fx")&&this.Ge.ya(p.fx);
if(p.hasOwnProperty("sgi")&&"visual-state"!==u){this.eH(null);const t=this.Mb,w=p.sgi;t.ya(w);const x=this.K().Hb(),z=()=>{x.removeEventListener("afterload",z);0===(this.wa&256)&&t.Rp(w)};x.addEventListener("afterload",z)}p.hasOwnProperty("mesh")?(p=p.mesh,this.BE(p.cols,p.rows),this.Jl().Nc(p)):this.Zz();this.ua();r=!0;this.Gs()}}}
{"use strict";const d=self.B;d.VM=class extends d.la{constructor(b,a){super();const e=b.K(),c=e.uo,f=e.Sh(a[1]);c.P1(f)||c.uZ(a);this.j=e;this.N=b;this.sj=c.r0(f);this.eb=null;this.ZB=f.Instance;this.Xa=a[2];this.Ja=a[0];this.Qw=this.j.Yi(a[3]);this.eb=d.C(f.gh,this);this.Cc()}static Ua(b,a){return d.C(d.VM,b,a)}A(){this.sj=this.j=null;this.eb.A();this.ZB=this.eb=null}Cc(){this.eb.Cc()}K(){return this.j}J(){return this.N}zf(){return this.sj}Ea(){return this.Ja}Yi(){return this.Qw}}}
{"use strict";const d=self.B,b=self.Dz;d.yy=class extends d.la{constructor(a){super();this.j=a.Kc;this.gd=a.PL;this.sj=this.gd.zf();this.H=a.instance;this.Va=a.index;this.Fe=this.ma=null;this.sj.hh(this.H)}A(){this.Fe&&(this.Fe.Pv(),this.Fe=null);this.sj.Tp(this.H);this.ma.A();this.H=this.sj=this.gd=this.j=this.Fe=this.ma=null}tA(a){if(this.ma)throw Error("already got sdk instance");this.ma=d.C(this.gd.ZB,this,a);this.Raa()}K(){return this.j}Ph(){return this.gd}zf(){return this.sj}bi(){return this.Va}Wz(){this.ma.Wz()}cd(){return this.ma.cd()}Nc(a){return this.ma.Nc(a)}static MG(a,
e){var c=a.H,f=e.H;const k=c.J().Ka(),g=f.J().Ka();if(k!==g)return k-g;c=c.hW;f=f.hW;return c!==f?c-f:a.kB.bi()-e.kB.bi()}Raa(){const a=this.ma.Pg(),e=a||b;b.mj(this);this.Fe=new e;b.mj(null);if(a&&!(this.Fe instanceof b))throw new TypeError(`script interface class '${a.name}' does not extend the right base class '${b.name}'`);}sz(){return this.Fe}}}
{"use strict";const d=self.B;d.zl=class extends d.la{constructor(b,a){super();this.nc=b;this.nh=[];this.oj=[];this.BB=new Map;this.li=[];this.Et=!0;for(const e of a)b=d.C(d.xN,this,e,this.nh.length),this.nh.push(b),this.BB.set(b.Ea().toLowerCase(),b),3<=e.length&&this.li.push(this.BH(e[2]));this.K().L8(this)}A(){d.F(this.nh);d.F(this.oj);this.BB.clear();d.F(this.li);this.nc=null}u5(b){if(b.length){this.nh=b.concat(this.nh);for(const a of b)this.BB.set(a.Ea().toLowerCase(),a);for(let a=0,e=this.nh.length;a<
e;++a)this.nh[a].kea(a)}}BH(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const f=d.C(d.ib);f.Wo(c);b[a]=f}}return b}K(){return this.nc.K()}Gn(){d.F(this.oj);let b=!0;for(const a of this.nh)a.Lb&&(this.oj.push(a),a.nb.Et||(b=!1));this.Et=b}Ig(){return this.nh}L1(){return 0<this.nh.length}El(b){return this.BB.get(b.toLowerCase())||null}PN(b){b=Math.floor(+b);if(0>b||b>=this.nh.length)throw new RangeError("invalid effect type index");return this.nh[b]}Xu(b){return this.PN(b).Lb}nQ(b,
a){this.PN(b).dA(a)}Tu(){return 0<this.oj.length}Kg(b){return this.li[b]}static k6(b){return b&&b instanceof d.ib?{t:"color",v:b.toJSON()}:b}static K3(b){if("object"===typeof b){if("color"===b.t){const a=d.C(d.ib);a.Wo(b.v);return a}throw Error("invalid effect parameter type");}return b}static aQ(b){return b.map(d.zl.k6)}static YO(b){return b.map(d.zl.K3)}cd(){return this.nh.map(b=>({name:b.Ea(),active:b.Lb,params:d.zl.aQ(this.li[b.Ka()])}))}Nc(b){for(const a of b)if(b=this.El(a.name))b.dA(a.active),
this.li[b.Ka()]=d.zl.YO(a.params);this.Gn()}}}
{"use strict";const d=self.B;d.xN=class extends d.la{constructor(b,a,e){super();this.Sa=b;this.mf=a[0];this.Ja=a[1];this.Va=e;this.nb=null;this.Lb=!0}A(){this.nb=this.Sa=null}iZ(b){b=d.C(d.xN,b,[this.mf,this.Ja],-1);b.nb=this.nb;b.Lb=this.Lb;return b}BS(b){b=b.oO(this.mf);if(!b)throw Error("failed to find shader program '"+this.mf+"'");this.nb=b}Ea(){return this.Ja}kea(b){this.Va=b}Ka(){return this.Va}K(){return this.Sa.K()}dA(b){this.Lb=!!b}A0(){const b=[];for(let a=0,e=this.nb.jr.length;a<e;++a){const c=
this.nb.nz(a);if("float"===c||"percent"===c)b.push(0);else if("color"===c)b.push(d.C(d.ib,1,1,1,1));else throw new TypeError("unknown effect parameter type");}return b}}}
{"use strict";const d=self.B;d.W2=class extends d.la{constructor(b,a){super();this.H=b;this.Nga=a;this.Sa=b.J().Sa;this.Wp=[];this.oj=[];this.Et=!0;this.li=[];for(const e of this.Sa.Ig())this.Wp.push(!0);this.Gn()}A(){d.F(this.Wp);d.F(this.oj);d.F(this.li);this.Sa=this.H=null}oba(b){for(const a of b)this.li.push(this.BH(a))}BH(b){b=b.slice(0);for(let a=0,e=b.length;a<e;++a){const c=b[a];if(Array.isArray(c)){const f=d.C(d.ib);f.Wo(c);b[a]=f}}return b}H3(){for(const b of this.Sa.Ig())this.li.push(b.A0())}K(){return this.H.K()}Gn(){d.F(this.oj);
const b=this.Sa.Ig(),a=this.oj,e=this.Wp;let c=!0;for(let f=0,k=b.length;f<k;++f)if(e[f]){const g=b[f];a.push(g);g.nb.Et||(c=!1)}this.Et=c;this.Nga.gea(!!a.length)}Kg(b){return this.li[b]}Xu(b){return this.Wp[b]}nQ(b,a){this.Wp[b]=!!a}Ig(){return this.Sa.Ig()}qa(){return this.Sa.Ig().map(b=>({name:b.Ea(),active:this.Wp[b.Ka()],params:d.zl.aQ(this.li[b.Ka()])}))}ya(b){for(const a of b)if(b=this.Sa.El(a.name))this.Wp[b.Ka()]=a.active,this.li[b.Ka()]=d.zl.YO(a.params);this.Gn()}}}
{"use strict";const d=self.B,b=[],a=[],e=d.C(d.$o),c=d.C(d.$o),f=d.C(d.Bd);d.C(d.Rect);d.C(d.Rect);let k=null,g=null,l=null;d.jZ=class extends d.la{constructor(n){super();this.j=n;this.mx=[]}A(){this.j=null}LP(n,q){const r=n.m(),p=q.m();r&&p&&r.Ug()&&p.Ug()&&this.mx.push([n,q])}TM(n,q,r){for(const [p,u]of this.mx){let t;if(n===p)t=u;else if(n===u)t=p;else continue;t.zr(q)&&(r.includes(t)||r.push(t))}}gN(n,q){if(!this.mx.length)return!1;for(const [r,p]of this.mx)if(n===r&&q===p||n===p&&q===r)return!0;
return!1}hN(){d.F(this.mx)}Fk(n,q){if(!n||!q||n===q)return!1;n=n.m();q=q.m();if(!n.Ug()||!q.Ug())return!1;const r=n.ea(),p=q.ea();return r.w3(p)?this.Pea(n,q):this.Oea(n,q)}Pea(n,q){if(!n.Mc().ND(q.Mc())||!n.gk().dM(q.gk())||n.bj()&&q.bj())return!1;if(n.bj())return this.SG(n,q);if(q.bj())return this.SG(q,n);if(!n.Uu()&&!q.Uu())return!0;const r=n.Ll(),p=q.Ll();return r.ay(p,q.L()-n.L(),q.M()-n.M())}Oea(n,q){var r=n.bj(),p=q.bj();if(r&&!p)return this.QQ(n,q);if(p&&!r)return this.QQ(q,n);if(p||r)return!1;
p=n.ea();r=q.ea();e.xa(n.Ll());c.xa(q.Ll());var u=e.Hd;for(let t=0,w=u.length;t<w;t+=2){const x=t+1,z=u[x],[E,G]=p.yp(u[t]+n.L(),z+n.M());u[t]=E;u[x]=G}n=c.Hd;for(let t=0,w=n.length;t<w;t+=2){p=t+1;u=n[p];const [x,z]=r.yp(n[t]+q.L(),u+q.M());n[t]=x;n[p]=z}e.GM();c.GM();return e.ay(c,0,0)}QQ(n,q){var r=n.ea(),p=q.ea();k||(k=d.C(d.$o));g||(g=d.C(d.Rect));l||(l=d.C(d.Bd));var u=q.L(),t=q.M();const [w,x]=p.yp(u,t),[z,E]=r.Fg(w,x);r=z-u;t=E-t;g.xa(q.Mc());g.offset(r,t);if(!n.Mc().ND(g))return!1;l.xa(q.gk());
l.offset(r,t);if(!n.gk().dM(l))return!1;k.xa(q.Ll());p=k.Hd;for(let G=0,N=p.length;G<N;G+=2)u=G+1,p[G]+=r,p[u]+=t;k.GM();return this.SG(n,q,z,E,k,g,l)}SG(n,q,r,p,u,t,w){t=void 0!==t?t:q.Mc();const x=n.L(),z=n.M();var E=n.Ga().ma;r=void 0!==r?r:q.L();p=void 0!==p?p:q.M();n=q.Uu();w=void 0!==w?w:q.gk();E.Lma(t,a);for(let C=0,H=a.length;C<H;++C){var G=a[C];E=G.t1();if(t.Mha(E,x,z)&&(f.bk(E),f.offset(x,z),f.dM(w)))if(n){var N=void 0!==u?u:q.Ll();if(G=G.eO()){if(G.ay(N,r-(x+E.R),p-(z+E.O)))return d.F(a),
!0}else if(e.HM(f,0,0),e.ay(N,r,p))return d.F(a),!0}else if(N=G.eO()){if(e.HM(w,0,0),N.ay(e,-(x+E.R),-(z+E.O)))return d.F(a),!0}else return d.F(a),!0}d.F(a);return!1}us(n,q,r,p){const u=n.ca();var t=this.j.Ib();if(!t)throw Error("cannot call outside event");t=t.ae;if(u.$b){p||(u.Be(!1),d.F(u.I));for(var w of n.pa()){var x=w.m(),z=x.ea();const [E,G]=z.Fg(q,r,x.hg());if(x.vu(E,G)){if(p)return!1;u.Sp(w)}else t&&u.Kn(w)}}else{w=t?u.mc:u.I;x=0;for(let E=0,G=w.length;E<G;++E){z=w[E];const N=z.m(),C=N.ea(),
[H,I]=C.Fg(q,r,N.hg());if(N.vu(H,I)){if(p)return!1;t?u.Sp(z):w[x++]=z}else t&&(w[x++]=z)}p||(w.length=x)}n.hc();return p?!0:u.uF()}bz(n,q,r,p){n=n?1!==n.me||1!==n.ne:!1;if(q.Ya)for(const u of q.Wn)n||u.zI?d.Vm(p,u.pa()):(u.VT(),u.rB.Yz(r,p));else n||q.zI?d.Vm(p,q.pa()):(q.VT(),q.rB.Yz(r,p))}o1(n,q,r,p){for(const u of q)this.bz(n,u,r,p)}v1(n,q,r){const p=this.j.oF();p&&this.o1(n,p.gF(),q,r)}SF(n,q){return n.eba()&&(!q||q.m().SF(n.Ff().get("solidTags")))}Fn(n){const q=n.m();this.v1(q.ea(),q.Mc(),b);
for(const r of b)if(this.SF(r,n)&&this.Fk(n,r))return d.F(b),r;d.F(b);return null}B5(n,q,r,p,u){p=p||50;const t=n.m(),w=t.L(),x=t.M();for(let z=0;z<p;++z)if(t.Dd(w+q*z,x+r*z),t.ua(),!this.Fk(n,u))return;t.Dd(w,x);t.ua()}HP(n,q,r,p){p=p||50;const u=n.m(),t=u.L(),w=u.M();let x=null,z=null;for(let E=0;E<p;++E)if(u.Dd(t+q*E,w+r*E),u.ua(),!this.Fk(n,x))if(x=this.Fn(n))z=x;else if(!x)return z&&this.A5(n,q,r,z),!0;u.Dd(t,w);u.ua();return!1}A5(n,q,r,p){let u=2,t=!1;var w=!1;const x=n.m();let z=x.L(),E=x.M();
for(;16>=u;)w=1/u,u*=2,x.Rl(q*w*(t?1:-1),r*w*(t?1:-1)),x.ua(),this.Fk(n,p)||this.Fn(n)?w=t=!0:(w=t=!1,z=x.L(),E=x.M());w&&(x.Dd(z,E),x.ua())}IP(n){let q=0;const r=n.m(),p=r.L(),u=r.M();let t=0,w=this.Fn(n);if(w){for(;100>=q;){let x=0,z=0;switch(t){case 0:x=0;z=-1;q++;break;case 1:x=1;z=-1;break;case 2:x=1;z=0;break;case 3:z=x=1;break;case 4:x=0;z=1;break;case 5:x=-1;z=1;break;case 6:x=-1;z=0;break;case 7:z=x=-1}t=(t+1)%8;r.Dd(Math.floor(p+x*q),Math.floor(u+z*q));r.ua();if(!this.Fk(n,w)&&(w=this.Fn(n),
!w))return}r.Dd(p,u);r.ua()}}aN(n,q,r,p){const u=n.m(),t=u.L(),w=u.M(),x=Math.max(10,d.Bg(q,r,t,w));var z=d.Ih(q,r,t,w),E=p||this.Fn(n);if(!E)return d.md(z+Math.PI);let G=E;var N=0,C=0;const H=d.Aa(5);let I;for(I=1;36>I;++I){const K=z-I*H;u.Dd(q+Math.cos(K)*x,r+Math.sin(K)*x);u.ua();if(!this.Fk(n,G)&&(G=p?null:this.Fn(n),!G)){N=K;break}}36===I&&(N=d.md(z+Math.PI));G=E;for(I=1;36>I;++I)if(E=z+I*H,u.Dd(q+Math.cos(E)*x,r+Math.sin(E)*x),u.ua(),!this.Fk(n,G)&&(G=p?null:this.Fn(n),!G)){C=E;break}36===I&&
(C=d.md(z+Math.PI));u.Dd(t,w);u.ua();if(C===N)return C;n=d.lr(C,N)/2;n=d.te(C,N)?d.md(N+n+Math.PI):d.md(C+n);N=Math.cos(z);z=Math.sin(z);C=Math.cos(n);n=Math.sin(n);q=N*C+z*n;return d.Ih(0,0,N-2*q*C,z-2*q*n)}}}
{"use strict";const d=self.B;d.N7=class extends d.la{constructor(b,a){super();this.OI=b;this.NI=a;this.vj=d.C(d.$u)}A(){this.vj.A();this.vj=null}fn(b,a,e){let c=this.vj.ba(b,a);return c?c:e?(c=d.C(d.H1,this,b,a),this.vj.Set(b,a,c),c):null}ij(b){b=Math.floor(b/this.OI);return isFinite(b)?b:0}jj(b){b=Math.floor(b/this.NI);return isFinite(b)?b:0}Yl(b,a,e){if(a)for(let c=a.R,f=a.Y;c<=f;++c)for(let k=a.O,g=a.W;k<=g;++k){if(e&&e.Xf(c,k))continue;const l=this.fn(c,k,!1);l&&(l.Xh(b),l.vp()&&this.vj.bp(c,
k))}if(e)for(let c=e.R,f=e.Y;c<=f;++c)for(let k=e.O,g=e.W;k<=g;++k)a&&a.Xf(c,k)||this.fn(c,k,!0).BF(b)}Yz(b,a){let e=this.ij(b.R);const c=this.jj(b.O),f=this.ij(b.Y);b=this.jj(b.W);if(isFinite(f)&&isFinite(b))for(;e<=f;++e)for(let k=c;k<=b;++k){const g=this.fn(e,k,!1);g&&g.GE(a)}}}}{"use strict";const d=self.B;d.H1=class extends d.la{constructor(b,a,e){super();this.Z=a;this.T=e;this.I=d.C(d.pE)}A(){this.I.A();this.I=null}vp(){return this.I.vp()}BF(b){this.I.sc(b)}Xh(b){this.I.bp(b)}GE(b){d.Vm(b,this.I.NE())}}}
{"use strict";const d=self.B;d.Fqa=class{constructor(){this.uha=this.tha=0;this.rect=new d.Rect;this.Xx=0}Set(b,a,e,c){this.tha=e-b;this.uha=c-a;this.rect.set(b,a,e,c);this.rect.normalize();this.Xx=0;return this}}}
{"use strict";const d=self.B,b=new Set("off crop scale-inner scale-outer letterbox-scale letterbox-integer-scale".split(" ")),a=new Set(["high","low"]),e=self.ul.So,c=e.create(),f=d.C(d.Bd),k=d.C(d.Rect);d.uE=class extends d.la{constructor(g){super();this.j=g;this.Qk=null;this.rV=!1;this.$j=this.hb=null;this.qJ="high-performance";this.Sn=this.Rn=this.hi=this.ii=this.Tc=this.hd=this.ol=this.pl=0;this.Vs=!0;this.Bj=this.Tk=this.LW=0;this.AU=this.MU="letterbox-scale";this.Ifa=this.Hfa=0;this.xB=e.create();
this.Jj=this.HL="high";this.yq=!1;this.Zv=[];this.wD=new Set;this.ZC=self.C3_Shaders;this.rg=this.Yn=0;this.ct=NaN;this.RB=null;this.eK=new Map;this.pw=NaN;this.CD=new Map;this.bD="";this.bL=1;this.AW=d.C(d.Rect);this.cL="";this.BW=this.yx=null;this.Xw=0;this.Ne=-1;this.lo=0;this.kK=l=>this.lo=l.progress;this.Qf=null;this.Rf={fy:null,iy:null,uy:null};this.gL=this.EW=this.hL=0;this.Xj="fade-in";this.fL=null;this.DW=new Promise(l=>this.fL=l)}dea(g){this.qJ=g}Eea(g){this.rV=!!g}async Gg(g){this.Qk=g.canvas;
this.j.Qi("runtime","window-resize",q=>this.OH(q));this.j.Qi("runtime","fullscreenchange",q=>this.dca(q));this.j.Qi("runtime","fullscreenerror",q=>this.eca(q));this.Qk.addEventListener("webglcontextlost",q=>this.Ov(q));this.Qk.addEventListener("webglcontextrestored",()=>this.MH());this.yq=!!g.isFullscreen;var l=navigator.gpu&&this.rV;let n=!1;if(l)try{await this.FS(!0)}catch(q){this.$j=null}if(!this.Cb())try{await this.ES(!0)}catch(q){this.hb=null}this.Cb()||(n=!0);if(!this.Cb()&&l)try{await this.FS(!1)}catch(q){this.$j=
null}if(!this.Cb())try{await this.ES(!1)}catch(q){this.hb=null}l=this.Cb();if(!l)throw Error("failed to acquire a renderer - check WebGL or WebGPU is supported");l.P6(n);this.Dc(g.windowInnerWidth,g.windowInnerHeight,!0);this.$j?await this.Uaa():this.hb&&await this.Taa();l.AG(this.Vs);l.Ek()&&(this.ct=0);g=!1;for(const q of this.j.tI){for(const r of q.Ig())r.BS(l),r.nb.Ox&&(g=!0);q.Gn()}this.j.Cea(g)}async FS(g){g={powerPreference:this.qJ,depth:this.j.Tm,failIfMajorPerformanceCaveat:g};this.$j=d.C(d.fa.$ua);
await this.$j.Ua(this.Qk,g)}async ES(g){g={powerPreference:this.qJ,rX:!0,depth:this.j.Tm,failIfMajorPerformanceCaveat:g};"Android"===d.bd.Yr&&"Chromium"===d.bd.Ay&&75>d.bd.sE&&(console.warn("[Construct 3] Disabling WebGL 2 because this device appears to be affected by crbug.com/934823. Install software updates to avoid this."),g.BX=1);"standard"===this.j.Ns?g.alpha=!0:(g.alpha=!1,g.hM=!0);this.hb=d.C(d.fa.y8,this.Qk,g);await this.hb.Hz()}async Uaa(){if(this.ZC){const g=[];for(const [l,n]of Object.entries(this.ZC))g.push(this.$j.DE(l,
n.Iya,d.fa.ava.ez()));await Promise.all(g)}}async Taa(){if(this.ZC){const g=[];for(const [l,n]of Object.entries(this.ZC))n.src=n.ywa,g.push(this.hb.DE(n,d.fa.xv.ez(),l));await Promise.all(g);this.hb.Z5();this.hb.Zh()}this.hb.Ek()&&(this.RB=d.C(d.fa.eR,this.hb))}A(){this.Qk=this.hb=this.j=null}OH(g){const l=this.j,n=g.devicePixelRatio;l.Je&&(self.devicePixelRatio=n);l.Zda(n);this.yq=!!g.isFullscreen;this.Dc(g.innerWidth,g.innerHeight);l.ga();l.wb&&(l.Vu()||self.bg.Ana())&&l.hG()}dca(g){this.yq=!!g.isFullscreen;
this.Dc(g.innerWidth,g.innerHeight,!0);this.j.ga()}eca(g){this.yq=!!g.isFullscreen;this.Dc(g.innerWidth,g.innerHeight,!0);this.j.ga()}Dc(g,l,n=!1){g=Math.floor(g);l=Math.floor(l);if(0>=g||0>=l)throw Error("invalid size");if(this.pl!==g||this.ol!==l||n){this.pl=g;this.ol=l;n=this.Iu();"letterbox-scale"===n?this.l9(g,l):"letterbox-integer-scale"===n?this.k9(g,l):"off"===n?this.i9(g,l):this.j9(g,l);this.Zea(n);this.Qk.width=this.ii;this.Qk.height=this.hi;this.j.Tl("canvas","update-size",{marginLeft:this.Rn,
marginTop:this.Sn,styleWidth:this.hd,styleHeight:this.Tc});g=this.Cb();g.Dc(this.ii,this.hi,!0);for(var q of this.Zv)g.NZ(q);d.F(this.Zv);g.tu(this.xB,this.Jg()/this.dg());q=this.j.bb;q.Hp();q.Gp()}}l9(g,l){const n=this.j.Cl(),q=this.j.zh,r=this.j.yh,p=q/r;g/l>p?(this.hd=Math.round(l*p),this.Tc=l,this.Rn=Math.floor((g-this.hd)/2),this.Sn=0):(this.hd=g,this.Tc=Math.round(g/p),this.Rn=0,this.Sn=Math.floor((l-this.Tc)/2));this.ii=Math.round(this.hd*n);this.hi=Math.round(this.Tc*n);this.j.vv(q,r)}k9(g,
l){const n=this.j.Cl();1!==n&&(g+=1,l+=1);const q=this.j.zh,r=this.j.yh;var p=q/r;p=g/l>p?l*p*n/q:g/p*n/r;1<p?p=Math.floor(p):1>p&&(p=1/Math.ceil(1/p));this.ii=Math.round(q*p);this.hi=Math.round(r*p);this.hd=this.ii/n;this.Tc=this.hi/n;this.Rn=Math.max(Math.floor((g-this.hd)/2),0);this.Sn=Math.max(Math.floor((l-this.Tc)/2),0);this.j.vv(q,r)}j9(g,l){const n=this.j.Cl();this.hd=g;this.Tc=l;this.ii=Math.round(this.hd*n);this.hi=Math.round(this.Tc*n);this.Sn=this.Rn=0;g=this.Dl();this.j.vv(this.hd/g,
this.Tc/g)}i9(g,l){const n=this.j.Cl();this.hd=this.j.Vf;this.Tc=this.j.Uf;this.ii=Math.round(this.hd*n);this.hi=Math.round(this.Tc*n);this.yq?(this.Rn=Math.floor((g-this.hd)/2),this.Sn=Math.floor((l-this.Tc)/2)):this.Sn=this.Rn=0;this.j.vv(this.j.Vf,this.j.Uf)}Zea(g){if("high"===this.HL)this.Tk=this.ii,this.Bj=this.hi,this.Jj="high";else{let n;if("off"===this.Iu()){var l=this.j.Vf;n=this.j.Uf}else l=this.j.zh,n=this.j.yh;this.ii<l&&this.hi<n?(this.Tk=this.ii,this.Bj=this.hi,this.Jj="high"):(this.Tk=
l,this.Bj=n,this.Jj="low","scale-inner"===g?(g=l/n,l=this.pl/this.ol,l<g?this.Tk=this.Bj*l:l>g&&(this.Bj=this.Tk/l)):"scale-outer"===g&&(g=l/n,l=this.pl/this.ol,l>g?this.Tk=this.Bj*l:l<g&&(this.Bj=this.Tk/l)))}}N6(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.MU=g;g=this.j.bb;g.Hp();g.Gp()}iz(){return this.MU}C6(g){if(!b.has(g))throw Error("invalid fullscreen mode");this.AU=g;g=this.j.bb;g.Hp();g.Gp()}Iu(){return this.yq?this.AU:this.iz()}oQ(g){if(!a.has(g))throw Error("invalid fullscreen scaling quality");
this.HL=g;this.j.bb.Hp()}static UR(g){switch(g){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw Error("invalid fullscreen mode");}}Jg(){return this.Tk}dg(){return this.Bj}AG(g){this.Vs=!!g}Bea(g){this.LW=g}q3(){return this.Cb().tp()}Ov(g){console.log("[Construct 3] WebGL context lost");g.preventDefault();this.Zv=[];this.wD.clear();this.hb.Sl();this.j.Ov()}async MH(){await this.hb.ZF();
await this.sva();for(const g of this.j.tI)for(const l of g.Ig())l.BS(this.hb);await this.j.MH();console.log("[Construct 3] WebGL context restored")}qp(){return this.hb}Su(){return this.$j}Cb(){return this.$j||this.hb}jn(){return"low"===this.Jj?1/this.j.Cl():this.Dl()}Dl(){const g=this.Iu();if("off"===g||"crop"===g)return 1;const l=this.j.zh,n=this.j.yh,q=l/n,r=this.ii/this.hi;return"scale-inner"!==g&&r>q||"scale-inner"===g&&r<q?this.Tc/n:this.hd/l}lQ(g,l,n){l=l||this.Tk;n=n||this.Bj;const q=l/2+this.Hfa,
r=n/2+this.Ifa;{let p=this.xB;if(l!==this.Tk||n!==this.Bj)g.tu(c,l/n),p=c;g.ps(p)}l=g.su(q,r,100*this.j.Cl(),q,r,n||this.Bj);g.ls(l)}x6(g){var l=this.hd/2;const n=this.Tc/2;g.ps(this.xB);l=g.su(l,n,100,l,n);g.ls(l)}fp(){return this.Rn}gp(){return this.Sn}Eu(g){g.depth=this.j.Tm;const l=this.Zv,n=l.findIndex(r=>r.e3(g));let q;-1!==n?(q=l[n],l.splice(n,1)):q=this.Cb().zZ(g);this.wD.add(q);return q}wn(g){if(!this.wD.has(g))throw Error("render target not in use");this.wD.delete(g);this.Zv.push(g)}*DD(){for(const g of this.j.bb.ny())for(const l of g.ec){const n=
this.eK.get(l);n&&(yield n)}}ZN(g){if(!this.Cb().Ek())return null;let l=this.eK.get(g);l||(l={name:g.Ea(),LM:d.C(d.fa.eR,this.hb),FD:0,AX:0},this.eK.set(g,l));return l.LM}Wea(){const g=this.Cb();if(g.Ek()&&0===this.rg){this.rg=g.ni;this.pw=NaN;for(const l of this.DD())l.FD=NaN}}cfa(){this.hb&&this.hb.Ek()&&this.dfa();this.$j&&this.$j.Ek()&&this.efa()}dfa(){if(isNaN(this.pw)&&(this.pw=this.RB.UN(this.Yn,this.rg),!isNaN(this.pw))){if(this.j.wb)for(const g of this.DD())if(g.FD=g.LM.UN(this.Yn,this.rg),
isNaN(g.FD))return;this.RB.tN(this.rg);this.ct=Math.min(this.pw,1);if(this.j.wb){for(const g of this.DD())g.LM.tN(this.rg),g.AX=Math.min(g.FD,1);self.bg.m8(this.ct,[...this.DD()])}this.Yn=this.rg;this.rg=0}}efa(){if(0!==this.rg){for(var g=this.Yn;g<this.rg;++g){var l=this.CD.get(g);if(l&&!l.Cz())return}l=this.j.Pb();g=d.Q3(l.ec.length+1);for(var n=this.Yn;n<this.rg;++n){var q=this.CD.get(n);if(q){q=q.rz();for(let r=0,p=Math.min(g.length,q.length/2);r<p;++r){const u=q[2*r],t=q[2*r+1];g[r]=0===Number(u)||
0===Number(t)?NaN:g[r]+Number(t-u)/1E9}}}this.ct=d.da(g[0],0,1);if(this.j.wb){n=[];l=l.ec;for(let r=0,p=Math.min(l.length,g.length-1);r<p;++r)n.push({name:l[r].Ea(),AX:d.da(g[r+1],0,1)});self.bg.m8(this.ct,n)}for(g=this.Yn;g<this.rg;++g)this.CD.delete(g);this.Yn=this.rg;this.rg=0}}W8(g){this.CD.set(this.$j.ni,g)}kz(){return this.ct}NQ(g,l,n,q,r,p){this.bD=g;this.bL=l;this.AW.Pi(n,q,r,p);return this.yx?this.yx:this.yx=new Promise(u=>{this.BW=u})}Lba(){if(this.bD){var g=this.Qk,l=this.AW,n=d.da(Math.floor(l.R),
0,g.width),q=d.da(Math.floor(l.O),0,g.height),r=l.width();r=0===r?g.width-n:d.da(Math.floor(r),0,g.width-n);l=l.height();l=0===l?g.height-q:d.da(Math.floor(l),0,g.height-q);(0!==n||0!==q||r!==g.width||l!==g.height)&&0<r&&0<l&&(g=d.Gg(r,l),g.getContext("2d").drawImage(this.Qk,n,q,r,l,0,0,r,l));d.uu(g,this.bD,this.bL).then(p=>{this.cL=URL.createObjectURL(p);this.yx=null;this.BW(this.cL)});this.bD="";this.bL=1}}F2(g){this.hb&&(2===g?(this.Qf=d.C(d.fa.NP,this.Cb()),this.Qf.V6(),this.Qf.K6(),this.Qf.L6(),
this.Qf.R6(),this.Qf.E7(),this.Qf.Dc(300,200)):0===g?(g=this.j.pt)&&g.Vr(this.hb).catch(l=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",l)):4===g&&(this.zba().then(l=>{"done"===this.Xj?this.hb.ek(l):this.Rf.fy=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.KS("splash-images/splash-poweredby-512.png").then(l=>{"done"===this.Xj?this.hb.ek(l):this.Rf.iy=l}).catch(l=>console.warn("Failed to load splash image: ",l)),this.KS("splash-images/splash-website-512.png").then(l=>
{"done"===this.Xj?this.hb.ek(l):this.Rf.uy=l}).catch(l=>console.warn("Failed to load splash image: ",l))))}async zba(){var g=(new URL("splash-images/splash-logo.svg",this.j.PE())).toString();g=await d.Bl(g);g=await this.j.F5(g);return await this.hb.Ky(g,{gy:"high"})}async KS(g){g=(new URL(g,this.j.PE())).toString();g=await d.Bl(g);return await this.hb.Ky(g,{gy:"high"})}xF(){this.j.Tl("runtime","hide-cordova-splash")}T7(){this.Xw=Date.now();this.j.Hb().addEventListener("loadingprogress",this.kK);this.Ne=
requestAnimationFrame(()=>this.NR());3!==this.j.ot&&this.xF()}async U_(){if(this.hb){this.lo=1;var g=this.j.ot;4===g&&await this.DW;this.DW=this.fL=null;-1!==this.Ne&&(cancelAnimationFrame(this.Ne),this.Ne=-1);this.j.Hb().removeEventListener("loadingprogress",this.kK);this.kK=null;this.Qf&&(this.Qf.A(),this.Qf=null);this.j.K5();this.hb.En();this.Rf.fy&&(this.hb.ek(this.Rf.fy),this.Rf.fy=null);this.Rf.iy&&(this.hb.ek(this.Rf.iy),this.Rf.iy=null);this.Rf.uy&&(this.hb.ek(this.Rf.uy),this.Rf.uy=null);
this.hb.Gy();this.hb.Bu();this.Xj="done";this.Yn=this.hb.ni;3===g&&this.xF()}}NR(){if(-1!==this.Ne){var g=this.hb;if(g){g.En();this.Ne=-1;var l=this.j.sb.tJ,n=this.j.ot;3!==n&&(this.x6(g),g.Gy(),g.gs(),g.Zh(),g.$g(null));if(0===n)this.N$(l);else if(1===n)this.xA(l,120,0);else if(2===n)this.M$(l);else if(3!==n)if(4===n)this.O$(l);else throw Error("invalid loader style");g.Bu();this.Ne=requestAnimationFrame(()=>this.NR())}}}M$(g){g?this.Qf.gQ(1,0,0):this.Qf.gQ(.6,.6,.6);this.Qf.qs(Math.round(100*this.lo)+
"%");g=this.hd/2;const l=this.Tc/2;f.QX(g-150,l-100,g+150,l+100);this.hb.$g(this.Qf.we());this.hb.bs(f,this.Qf.Th())}xA(g,l,n){const q=this.hb;q.wG();g?q.Hf(1,0,0,1):q.Hf(.118,.565,1,1);g=this.hd/2;const r=this.Tc/2,p=l/2;k.Pi(g-p,r-4+n,Math.floor(l*this.lo),8);q.Rect(k);k.Pi(g-p,r-4+n,l,8);k.offset(-.5,-.5);k.MD(.5,.5);q.Hf(0,0,0,1);q.UO(k);k.MD(1,1);q.Hf(1,1,1,1);q.UO(k)}N$(g){var l=this.j.pt;if(l)if(l=l.we()){var n=l.S(),q=l.V(),r=this.hd/2,p=this.Tc/2,u=n/2;q/=2;f.QX(r-u,p-q,r+u,p+q);this.hb.$g(l);
this.hb.Bd(f);this.xA(g,n,q+16)}else this.xA(g,120,0);else this.xA(g,120,0)}O$(g){const l=this.hb,n=this.Rf.fy,q=this.Rf.iy,r=this.Rf.uy,p=Date.now();0===this.hL&&(this.Xw=p);const u=this.j.Sr()||this.j.Yfa&&!this.j.f3(),t=u?0:200,w=u?0:3E3;let x=1;"fade-in"===this.Xj?x=Math.min((p-this.Xw)/300,1):"fade-out"===this.Xj&&(x=Math.max(1-(p-this.gL)/300,0));l.wG();l.Hf(.231*x,.251*x,.271*x,x);k.set(0,0,this.hd,this.Tc);l.Rect(k);const z=Math.ceil(this.hd),E=Math.ceil(this.Tc);let G;256<this.Tc?(l.Hf(.302*
x,.334*x,.365*x,x),G=Math.max(.005*E,2),k.Pi(0,.8*E-G/2,z,G),l.Rect(k),g?l.Hf(x,0,0,x):l.Hf(.161*x,.953*x,.816*x,x),g=z*this.lo,k.Pi(.5*z-g/2,.8*E-G/2,g,G),l.Rect(k),l.Hf(x,x,x,x),l.Zh(),q&&(g=1.5*d.da(.22*E,105,.6*z),G=g/8,k.Pi(.5*z-g/2,.2*E-G/2,g,G),l.$g(q),l.Rect(k)),n&&(G=g=Math.min(.395*E,.95*z),k.Pi(.5*z-g/2,.485*E-G/2,g,G),l.$g(n),l.Rect(k)),r&&(g=1.5*d.da(.22*E,105,.6*z),G=g/8,k.Pi(.5*z-g/2,.868*E-G/2,g,G),l.$g(r),l.Rect(k))):(l.Hf(.302*x,.334*x,.365*x,x),G=Math.max(.005*E,2),k.Pi(0,.85*E-
G/2,z,G),l.Rect(k),g?l.Hf(x,0,0,x):l.Hf(.161*x,.953*x,.816*x,x),g=z*this.lo,k.Pi(.5*z-g/2,.85*E-G/2,g,G),l.Rect(k),l.Hf(x,x,x,x),l.Zh(),n&&(G=g=.55*E,k.Pi(.5*z-g/2,.45*E-G/2,g,G),l.$g(n),l.Rect(k)));this.hL++;"fade-in"===this.Xj&&300<=p-this.Xw&&2<=this.hL&&(this.Xj="wait",this.EW=p);"wait"===this.Xj&&p-this.EW>=w&&1<=this.lo&&(this.Xj="fade-out",this.gL=p);("fade-out"===this.Xj&&p-this.gL>=300+t||u&&1<=this.lo&&500>p-this.Xw)&&this.fL()}}}
{"use strict";const d=self.B,b=self.bg,a={messagePort:null,baseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,projectData:"",exportType:""};let e=!0;d.$P=class extends d.la{constructor(c){c=Object.assign({},a,c);super();this.bx=c.messagePort;this.sfa=c.baseUrl;this.Je=!!c.isInWorker;e=c.ife;this.Fj=c.exportType;this.WJ=!!c.isiOSCordova;this.Yfa=!!c.isFBInstantAvailable;this.uga=c.opusWasmScriptUrl;this.XV=c.opusWasmBinaryUrl;this.Ie=this.zfa=this.wb=!("preview"!==this.Fj||!c.isDebug);this.VI=
0;this.$A=[];this.mfa=[];this.RK=this.gW=this.UC="";this.yh=this.zh=0;this.vU=self.devicePixelRatio;this.ot=this.Uf=this.Vf=this.GK=this.FK=0;this.xD=!1;this.Zk=!0;this.EL=!1;this.pt=null;this.sb=d.C(d.JY,this,c);this.bb=d.C(d.C3,this);this.Ca=d.C(d.Z_,this);this.uo=d.C(d.n5,this);this.hf=d.C(d.jZ,this);this.Gb=d.C(d.b8,this);this.rL=d.C(d.f8,this);this.ed=[];this.zK=new Map;this.AK=new Map;this.HU=0;this.ofa=[];this.tI=[];this.iw=[];this.tm=[];this.aC=new Map;this.SB=!1;this.gx=this.BK=0;this.vq=
new Map;this.wq=new Set;this.bC=new Set;this.LC=[];this.tV=[];this.X=null;this.Tm=!1;this.kJ="vsync";this.Ns="standard";this.td="trilinear";this.ao=!1;this.xK=!0;this.SJ=this.$V=!1;this.Iga={EX:f=>{this.Jm=this.Ne=-1;this.Ed(f)},Lia:f=>{this.Jm=-1;this.Ed(f,!1,"skip-render")},wia:()=>{this.Ne=-1;this.hG()}};this.Jm=this.Ne=-1;this.Ys=this.Mm=this.il=0;this.aV=this.hC=this.UB=!1;this.OJ=!0;this.Nt=0;this.Bga=new d.dG(1);this.zga=()=>Math.random();this.yB=this.zB=this.AC=this.Ao=0;this.Id=1;this.QV=
30;this.oJ=d.C(d.Ur);this.pJ=d.C(d.Ur);this.GL=d.C(d.Ur);this.OB=-1;this.HC=this.ym=this.NB=this.pq=0;this.$k=!1;this.Ww=this.qx="";this.nt=null;this.Gq="";this.YK=this.QK=null;this.Xb=d.C(d.Event.Hb);this.$I=new Map;this.IK=new Map;this.qga=0;this.qV=this.wU=this.xU=!1;this.FL=[];this.nq={pretick:d.C(d.Event,"pretick",!1),tick:d.C(d.Event,"tick",!1),tick2:d.C(d.Event,"tick2",!1),instancedestroy:d.C(d.Event,"instancedestroy",!1),beforelayoutchange:d.C(d.Event,"beforelayoutchange",!1),layoutchange:d.C(d.Event,
"layoutchange",!1)};this.nq.instancedestroy.instance=null;this.se=d.C(d.Event.Hb);this.UW=null;this.Pn=d.C(d.Ap,d.yy.MG);this.On=d.C(d.Ap,d.yy.MG);this.bq=d.C(d.Ap,d.yy.MG);this.Ow=d.C(d.z3,this,c.jobScheduler);c.canvas&&(this.X=d.C(d.uE,this));this.bx.onmessage=f=>this._OnMessageFromDOM(f.data);this.Qi("runtime","visibilitychange",f=>this.yca(f));this.Qi("runtime","opus-decode",f=>this.ifa(f.arrayBuffer));this.Qi("runtime","get-remote-preview-status-info",()=>this.Aaa());this.Qi("runtime","js-invoke-function",
f=>this.HA(f));this.Qi("runtime","go-to-last-error-script",self.goToLastErrorScript);this.Xb.addEventListener("window-blur",f=>this.NH(f));this.Xb.addEventListener("window-focus",()=>this.zca());this.Gb.xY();this.Lj=null;this.Tfa=new WeakMap;this.fw={keyboard:null,kM:null,NM:null}}static Ua(c){return d.C(d.$P,c)}A(){d.F(this.ed);this.zK.clear();this.AK.clear();this.bb.A();this.bb=null;this.Ca.A();this.Ca=null;this.uo.A();this.uo=null;this.sb.A();this.sb=null;this.hf.A();this.hf=null;this.Gb.A();this.Gb=
null;this.rL.A();this.rL=null;this.X&&(this.X.A(),this.X=null);this.Xb.A();this.Xb=null}["_OnMessageFromDOM"](c){const f=c.type;if("event"===f)this.VS(c);else if("result"===f)this.rca(c);else throw Error(`unknown message '${f}'`);}VS(c){if(this.qV){var f=c.component,k=c.handler,g=c.data,l=c.dispatchOpts,n=!(!l||!l.dispatchRuntimeEvent);l=!(!l||!l.dispatchUserScriptEvent);var q=c.responseId;if("runtime"===f&&(n&&(c=new d.Event(k),c.data=g,this.Xb.qha(c)),l)){c=new d.Event(k,!0);for(const [r,p]of Object.entries(g))c[r]=
p;this.Nh(c)}if(c=this.$I.get(f))if(c=c.get(k)){n=null;try{n=c(g)}catch(r){console.error(`Exception in '${f}' handler '${k}':`,r);null!==q&&this.LA(q,!1,""+r);return}null!==q&&(n&&n.then?n.then(r=>this.LA(q,!0,r)).catch(r=>{console.error(`Rejection from '${f}' handler '${k}':`,r);this.LA(q,!1,""+r)}):this.LA(q,!0,n))}else n||l||console.warn(`[Runtime] No DOM handler '${k}' for component '${f}'`);else n||l||console.warn(`[Runtime] No DOM event handlers for component '${f}'`)}else this.FL.push(c)}LA(c,
f,k){this.bx.postMessage({type:"result",responseId:c,isOk:f,result:k})}rca(c){const f=c.responseId,k=c.isOk;c=c.result;const g=this.IK.get(f);k?g.resolve(c):g.reject(c);this.IK.delete(f)}Qi(c,f,k){let g=this.$I.get(c);g||(g=new Map,this.$I.set(c,g));if(g.has(f))throw Error(`[Runtime] Component '${c}' already has handler '${f}'`);g.set(f,k)}Tl(c,f,k){this.bx.postMessage({type:"event",component:c,handler:f,data:k,responseId:null})}zp(c,f,k){const g=this.qga++,l=new Promise((n,q)=>{this.IK.set(g,{resolve:n,
reject:q})});this.bx.postMessage({type:"event",component:c,handler:f,data:k,responseId:g});return l}r5(){if(!this.wb)throw Error("not in debug mode");this.Tl("runtime","post-to-debugger",{type:"reload"})}async Rg(c){this.wb?await b.Rg(this):self.bg&&self.bg.nna(this);var [f]=await Promise.all([this.sb.DN("data.json"),this.Kba(),this.Ow.Rg()]);this.mba(f);await this.Vaa(c);this.Sr()||console.info("Made with Construct 3, the game and app creator :: https://www.construct.net");this.qp()?(f=this.qp(),
console.info(`[C3 runtime] Hosted in ${this.Je?"worker":"DOM"}, rendering with WebGL ${f.Td} [${f.Mx}] (${f.h3()?"desynchronized":"standard"} compositing)`)):this.Su()&&console.info(`[C3 runtime] Hosted in ${this.Je?"worker":"DOM"}, rendering with experimental WebGPU`);this.Cb().uJ&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance.");this.qV=!0;for(const k of this.FL)this.VS(k);d.F(this.FL);
this.X&&this.X.T7();for(const k of c.runOnStartupFunctions)this.$A.push(this.oda(k));await Promise.all([this.sb.cR(),...this.$A]);d.F(this.$A);if(this.sb.tJ)this.X&&this.X.xF();else return this.X&&await this.X.U_(),await this.Xb.WL(new d.Event("beforeruntimestart")),await this.En(),this.bx.postMessage({type:"runtime-ready"}),this}async oda(c){try{await c(this.Lj)}catch(f){console.error("[C3 runtime] Error in runOnStartup function: ",f)}}mba(c){c=c.project;this.UC=c[0];this.gW=c[16];this.RK=c[31];
const f=c[39]||"loading-logo.png";this.ao=!!c[9];this.zh=this.Vf=c[10];this.yh=this.Uf=c[11];this.FK=this.zh/2;this.GK=this.yh/2;this.Ns=c[36];this.kJ=c[37];"low-latency"===this.Ns&&this.Z2()&&77>=d.bd.sE&&(console.warn("[C3 runtime] Desynchronized (low-latency) compositing is enabled, but is disabled in the Android WebView <=77 due to crbug.com/1008842. Reverting to synchronized (standard) compositing."),this.Ns="standard");this.Tm=!!c[40];this.td=c[14];this.xD=!!c[18];this.ot=c[19];this.gx=c[21];
this.$V=c[22];const k=this.sb;k.Sda(c[7],c[25]);k.rea(c[8]);k.cea(c[32]);k.iea(c[28]);k.Dea(c[29]);if(0===this.ot){let r="";this.Sr()?k.FA(f)&&(r=k.dF(f)):r=k.bV+f;r&&(this.pt=k.Sz({url:r}))}this.X&&(this.X.N6(d.uE.UR(c[12])),this.X.oQ(c[23]?"high":"low"),this.X.AG(0!==c[24]),this.X.dea(c[34]),this.X.Bea(c[41]),this.X.Eea(c[13]));this.uo.AZ();this.LC=self.$M();for(var g of c[2])this.uo.yZ(g);this.LC=self.$M();this.tba();for(var l of c[3])g=d.XF.Ua(this,this.ed.length,l),this.ed.push(g),this.zK.set(g.Ea().toLowerCase(),
g),this.AK.set(g.Xa,g);for(const r of c[4])this.ed[r[0]].pba(r);for(var n of c[27])l=n.map(r=>this.ed[r]),this.ofa.push(d.C(d.oZ,this,l));for(const r of this.ed)r.Vba();for(const r of c[5])this.bb.Ua(r);(n=c[1])&&(n=this.bb.Hr(n))&&this.bb.I6(n);for(var q of c[33])this.Gb.Ua(q);for(const r of c[35])this.rL.Ua(r);this.Saa();for(const r of c[6])this.Ca.Ua(r);this.Ca.Sb();this.Oaa();d.F(this.LC);this.ge();q="any";c=c[20];1===c?q="portrait":2===c&&(q="landscape");this.Tl("runtime","set-target-orientation",
{targetOrientation:q})}lE(c){this.$A.push(c)}xaa(){return this.HU++}L8(c){this.tI.push(c)}async Vaa(c){this.X&&(await this.X.Gg(c),this.X.F2(this.ot))}async Kba(){if(!this.sb.FO("audio/webm; codecs=opus")){var c=null;try{c=this.WJ&&this.sb.Gw?await this.sb.nN(this.XV):await this.sb.zu(this.XV)}catch(f){console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",f);return}c?this.qY(c):this.pY();await this.rY([this.uga])}}async ifa(c){return await this.kE("OpusDecode",{arrayBuffer:c},
[c])}async En(){this.UB=!0;this.Ao=Date.now();if(this.xD){for(var c of this.ed)c.Ya||c.RJ||!c.Mf||c.Cc();this.sb.cR().then(()=>{this.Zk=!1;this.YS()})}else this.Zk=!1;this.sb.S6();this.wb&&b.Pra(e);for(const f of this.bb.qj)f.E9();c=this.bb.P0();await c.AH(null,this.Cb());await c.QT(!0);this.pq=performance.now();this.xD||this.YS();(await this.zp("runtime","before-start-ticking")).isSuspended?this.Nt++:this.Ed()}YS(){this.na(d.D.$a.G.vP,null,null);this.Tl("runtime","register-sw")}Sh(c){c=Math.floor(c);
const f=this.LC;if(0>c||c>=f.length)throw Error("invalid object reference");return f[c]}tba(){for(const c of self.QY){const f=d.first(Object.keys(c));this.tV.push(f)}}Yi(c){c=Math.floor(c);const f=this.tV;if(0>c||c>=f.length)throw Error("invalid prop reference");return f[c]}PE(){return this.sfa}oa(){return this.Ca}rd(){return this.Ca.rd()}Cf(){return this.Ca.Cf()}Ib(){return this.Ca.Ib()}Bf(){return this.Ca.Bf()}g3(){return 0===this.Cf().jm}Hu(){return this.Ca.Hu()}Pu(){return this.uo.Pu()}Ef(c){c=
Math.floor(c);if(0>c||c>=this.ed.length)throw new RangeError("invalid index");return this.ed[c]}eF(c){return this.zK.get(c.toLowerCase())||null}mz(c){return this.AK.get(c)||null}*Qga(){for(const c of this.ed)c.Ya||(yield*c.vX())}Hb(){return this.Xb}Nh(c){c.Kc=this.Lj;const f=this.wb&&!this.Ca.Kz();f&&b.OG();this.se.dispatchEvent(c);f&&b.nE()}cp(c){c.Kc=this.Lj;return this.se.WL(c)}d7(c,f){if(this.zh!==c||this.yh!==f)this.zh=c,this.yh=f,c=this.bb,c.Hp(),c.Gp()}vv(c,f){if(this.Vf!==c||this.Uf!==f)this.Vf=
c,this.Uf=f,c=this.bb,c.Hp(),c.Gp()}Zda(c){this.vU=c}Cl(){return this.vU}Jg(){return this.X?this.X.Jg():this.Vf}dg(){return this.X?this.X.dg():this.Uf}jn(){return this.X?this.X.jn():1}Dl(){return this.X?this.X.Dl():1}fp(){return this.X?this.X.fp():0}gp(){return this.X?this.X.gp():0}LN(){return this.X?this.X.hd:0}KN(){return this.X?this.X.Tc:0}iz(){return this.X?this.X.iz():"off"}Eu(c){return this.X?this.X.Eu(c):null}wn(c){this.X&&this.X.wn(c)}Cea(c){this.EL=!!c}kz(){return this.X?this.X.kz():NaN}NF(){return"nearest"!==
this.td}K5(){this.pt&&(this.pt.A(),this.pt=null)}Pb(){return this.bb.Pb()}Sz(c){return this.sb.Sz(c)}AE(c,f,k,g,l){return this.Ti(c,f,!1,k,g,!1,l,void 0,l)}Ti(c,f,k,g,l,n,q,r,p){var u=null;let t=null;c instanceof d.XF?(t=c,t.Ya&&(u=t.Wn,t=u[Math.floor(this.Ul()*u.length)]),u=t.Rs):(u=c,t=this.Ef(u[1]));c=t.Jb().Mf;if(this.Zk&&c&&!t.RJ)return null;const w=f;c||(f=null);var x=k&&!n&&u&&!this.vq.has(u[2])?u[2]:this.gx++;const z=u?u[0]:null,E=d.C(d.Instance,{Kc:this,oM:t,fe:f,aY:z,uX:u?u[3]:null,uid:x});
this.vq.set(x,E);x=null;c&&(x=E.m(),"undefined"!==typeof g&&"undefined"!==typeof l&&(x.bh(g),x.dh(l)),t.vT());f&&(p||f.hh(E,!0),1===f.me&&1===f.ne||t.VH(!0),f.uc().aP(t));this.BK++;let G=!0;r&&(r=r.J(),r.cc()&&t.cc()&&t.oh===r.oh&&(G=!1));if(t.cc()&&!k&&!n&&G){for(var N of t.oh.Dm)N!==t&&(r=this.Ti(N,w,!1,x?x.L():g,x?x.M():l,!0,!1,void 0,p),E.xs(r));for(var C of E.Qd){C.xs(E);for(const H of E.Qd)C!==H&&C.xs(H)}}c&&!k&&q&&this.cH(E,z,x,f,g,l,p);if(t.cc()&&!k&&!n&&q)for(const H of E.Qd)if(k=H.m())N=
H.Jb(),C=H.J().Rs[0],N.Mf?this.cH(H,C,k,f,k.L(),k.M(),p):this.cH(H,C,k,f,void 0,void 0,p);!n&&q&&("undefined"===typeof g&&(g=z[0]),"undefined"===typeof l&&(l=z[1]),f=x.wz(),g=g-x.L()+f.L(),l=l-x.M()+f.M(),f.Dd(g,l));t.Qv();l=u?d.ED(u[5]):null;u=u?u[4].map(H=>d.ED(H)):null;c&&z&&z[13]&&E.hea();E.tA(l,u);this.tm.push(E);this.SB=!0;this.wb&&b.ona(E);return E}cH(c,f,k,g,l,n,q){var r=k.tW,p=k.ZK;c.m().BG(r);if(p){"undefined"===typeof l&&(l=f[0]);"undefined"===typeof n&&(n=f[1]);r=new Set;k=f[0];f=f[1];
for(const z of p){var u=z[1],t=z[2];p=z[3];var w=!!z[4];const E=z[5];t=this.bb.cF(z[0]).ea(u).X0(t);u=this.Ef(t[1]);var x=c.V1(u);const G=r.has(u);x&&!G&&w?(w=c.pO(u),x=l+t[0][0]-k,t=n+t[0][1]-f,w.m().Dd(x,t),w.m().BG(E),c.cn(w,{nu:!!(p>>0&1),ou:!!(p>>1&1),wr:!!(p>>2&1),ur:!!(p>>3&1),mu:!!(p>>4&1),Wx:!!(p>>5&1),pu:!!(p>>6&1)}),r.add(u)):(u=this.Ti(t,g,!1,l+t[0][0]-k,n+t[0][1]-f,!1,!0,c,q),u.m().BG(E),c.cn(u,{nu:!!(p>>0&1),ou:!!(p>>1&1),wr:!!(p>>2&1),ur:!!(p>>3&1),mu:!!(p>>4&1),Wx:!!(p>>5&1),pu:!!(p>>
6&1)}))}}}dn(c){if(!this.wq.has(c)){var f=c.J(),k=this.aC.get(f);if(k){if(k.has(c))return;k.add(c)}else k=new Set,k.add(c),this.aC.set(f,k);this.wb&&b.pna(c);c.DH();this.SB=!0;if(c.cc())for(const g of c.Qd)this.dn(g);for(const g of c.children())g.fz()&&this.dn(g);this.bb.LO()||this.$k||(f=this.oa(),f.Qe(!0),c.Sea(),f.Qe(!1));c.baa(this.bb.LO())}}ge(){this.SB&&(this.daa(),this.eaa(),this.SB=!1,this.ga())}daa(){for(const c of this.tm){const f=c.J();f.hh(c);for(const k of f.mi)k.hh(c),k.Qv()}d.F(this.tm)}eaa(){this.Xb.js(!0);
for(const [c,f]of this.aC.entries())this.faa(c,f),f.clear();this.aC.clear();this.Xb.js(!1)}faa(c,f){for(const g of f){var k=this.nq.instancedestroy;k.instance=g;this.Xb.dispatchEvent(k);this.vq.delete(g.zb);if(k=g.m())k.eT(),k.fT(),k.DH();this.wq.add(g);this.BK--}d.Jh(c.pa(),f);c.Qv();this.bC.add(c);0===c.pa().length&&c.VH(!1);for(const g of c.mi)d.Jh(g.pa(),f),g.Qv(),this.bC.add(g);if(c.Jb().Mf){c=new Set([...f].map(g=>g.m().ea()));for(const g of c)g.Tca(f)}}*cM(c){for(const f of this.tm)c.Ya?f.J().rE(c)&&
(yield f):f.J()===c&&(yield f)}waa(){return this.gx++}Hba(c,f){this.vq.set(c,f)}Ov(){this.Xb.dispatchEvent(d.C(d.Event,"webglcontextlost"));this.uv(!0);for(var c of this.ed)!c.Ya&&c.T1()&&c.Bp();(c=this.Pb())&&c.Ov();d.Gz.Zr();d.CO.Zr()}async MH(){await this.Pb().AH(null,this.qp());this.Xb.dispatchEvent(d.C(d.Event,"webglcontextrestored"));this.uv(!1);this.ga()}yca(c){this.uv(c.hidden)}NH(c){this.Sr()&&this.$V&&!d.bd.Lz&&!c.data.parentHasFocus&&(this.uv(!0),this.SJ=!0)}zca(){this.SJ&&(this.uv(!1),
this.SJ=!1)}gT(){const c=this.Iga;"vsync"===this.kJ?-1===this.Ne&&(this.Ne=self.requestAnimationFrame(c.EX)):"unlimited-tick"===this.kJ?(-1===this.Jm&&(this.Jm=d.kG(c.Lia)),-1===this.Ne&&(this.Ne=self.requestAnimationFrame(c.wia))):-1===this.Jm&&(this.Jm=d.kG(c.EX))}q9(){-1!==this.Ne&&(self.cancelAnimationFrame(this.Ne),this.Ne=-1);-1!==this.Jm&&(d.YY(this.Jm),this.Jm=-1)}sn(){return 0<this.Nt}uv(c){var f=this.sn();this.Nt+=c?1:-1;0>this.Nt&&(this.Nt=0);c=this.sn();!f&&c?(console.log("[Construct 3] Suspending"),
this.q9(),this.Xb.dispatchEvent(d.C(d.Event,"suspend")),this.na(d.D.$a.G.a5,null,null)):f&&!c&&(console.log("[Construct 3] Resuming"),this.pq=this.AC=f=performance.now(),this.ym=this.HC=this.NB=this.OB=0,this.Xb.dispatchEvent(d.C(d.Event,"resume")),this.na(d.D.$a.G.X4,null,null),this.Vu()||this.Ed(f))}I8(c){this.Pn.sc(c)}H8(c){this.On.sc(c)}Vca(c){this.Pn.Xh(c)}Uca(c){this.On.Xh(c)}Wca(c){this.bq.Xh(c)}g9(){this.Pn.Yh(!0);for(const c of this.Pn)c.Ed();this.Pn.Yh(!1)}f9(){this.On.Yh(!0);for(const c of this.On)c.bG();
this.On.Yh(!1)}h9(){this.bq.Yh(!0);for(const c of this.bq);this.bq.Yh(!1)}*T9(){this.Pn.Yh(!0);for(const c of this.Pn){const f=c.Ed();d.qn(f)&&(yield*f)}this.Pn.Yh(!1)}*S9(){this.On.Yh(!0);for(const c of this.On){const f=c.bG();d.qn(f)&&(yield*f)}this.On.Yh(!1)}*U9(){this.bq.Yh(!0);for(const c of this.bq)d.qn(void 0)&&(yield*void 0);this.bq.Yh(!1)}async Ed(c,f,k){this.aV=!0;const g="background-wake"===k;k="background-wake"!==k&&"skip-render"!==k;this.UB&&(!this.sn()||f||g)&&(f=performance.now(),this.hC=
!0,this.Nba(c||0),c=this.V7(),this.Ie&&await c,c=this.Xb.rha(this.nq.pretick),c instanceof Promise&&await c,c=this.U7(),this.Ie&&await c,this.Tba()&&await this.Gaa(),this.bb.Rr()&&await this.Jba(),c=this.W7(),this.Ie&&await c,k&&this.hG(),this.sn()||g||this.gT(),this.il++,this.Mm++,this.Ys++,this.hC=!1,this.ym+=performance.now()-f)}async V7(){const c=this.Ca,f=this.wb;this.ge();c.Qe(!0);this.bv(this.Pb());f&&b.ts();this.Ie?await c.HZ():c.j6();f&&b.nY();this.av();c.Qe(!1);this.ge();c.Qe(!0)}async U7(){const c=
this.wb,f=this.Ie,k=this.Xb,g=this.nq,l=this.UW;c&&b.ts();f?await this.Py(this.T9()):this.g9();f?await this.Py(this.S9()):this.f9();c&&b.iY();c&&b.ts();f?await this.rN(g.tick):k.dispatchEvent(g.tick);c&&b.tY();this.Ca.Qe(!1);this.Nh(l.tick)}async W7(){const c=this.Ca,f=this.Xb,k=this.nq,g=this.wb,l=this.Ie;g&&b.ts();l?await c.FZ(this.bb):c.h6(this.bb);g&&b.nY();this.hf.hN();this.dT();this.OJ=!1;c.Qe(!0);g&&b.ts();l?await this.Py(this.U9()):this.h9();g&&b.iY();g&&b.ts();l?await this.rN(k.tick2):f.dispatchEvent(k.tick2);
g&&b.tY();c.Qe(!1);l&&await c.ZP()}dT(){if(0!==this.wq.size){var c=this.Xb;c.js(!0);for(const f of this.bC)f.yo.Cp(this.wq);this.bC.clear();this.Ca.M5(this.wq);for(const f of this.wq)f.A();this.wq.clear();c.js(!1)}}async Jba(){const c=this.bb;let f=0;for(;c.Rr()&&10>f++;)await this.FR(c.hx)}Nba(c){let f=0;0!==this.AC&&(f=Math.max(c-this.AC,0)/1E3,.5<f&&(f=0),this.zB=Math.min(f,1/this.QV));this.AC=c;this.yB=this.zB*this.Id;this.oJ.sc(this.yB);this.pJ.sc(f*this.Id);this.GL.sc(this.zB);this.X&&this.X.cfa();
1E3<=c-this.pq&&(this.pq+=1E3,1E3<=c-this.pq&&(this.pq=c),this.NB=this.OB,this.OB=0,this.HC=Math.min(this.ym/1E3,1),this.ym=0,this.X&&this.X.Wea(),this.wb&&b.Jua());this.OB++}async FR(c){const f=this.Xb,k=this.bb.Pb();await k.Nea();k.Vea(c,this.Cb());k===c&&this.Ca.Dy();this.hf.hN();this.dT();f.dispatchEvent(this.nq.beforelayoutchange);d.xl.qQ(!0);await c.AH(k,this.Cb());d.xl.qQ(!1);await c.QT(!1);f.dispatchEvent(this.nq.layoutchange);this.ga();this.OJ=!0;this.ge()}ga(){this.xK=!0}qp(){return this.X?
this.X.qp():null}Su(){return this.X?this.X.Su():null}Cb(){return this.X?this.X.Cb():null}hG(){const c=this.X;if(c&&!c.q3()){var f=this.Cb(),k=f.Ek(),g=k&&f.Yu();k=k&&!1;g&&f.$Y();if(this.xK){var l=this.bb.Pb();f.En();var n=this.wb;n&&b.ts();this.xK=!1;var q=null;g&&(q=c.RB.oE(),f.PG(q));g=null;k&&(g=f.Xta(2*(1+l.ec.length)),f.C8(0));this.Tm&&"low"===c.Jj?f.J6(c.Jg(),c.dg()):f.r6();this.dda(this.Cb(),l);q&&f.IE(q);k&&(f.C8(1),this.X.W8(g));f.Bu();n&&(b.nja(),b.Lua());c&&c.Lba()}else f.s2()}}dda(c,
f){c.Zh();c.sG();c.Hf(1,1,1,1);c.bf(null);c.$g(null);c.An(this.Tm);f.yf(c)}na(c,f,k){if(!this.UB)return!1;var g=!this.hC&&!this.Ca.MF();let l=0;g&&(l=performance.now());const n=this.wb;n&&this.fA(!1);c=this.Ca.Tv(this.bb,c,f,k);g&&(g=performance.now()-l,this.ym+=g,n&&b.zja(g));n&&this.fA(!0);return c}async lb(c,f,k){if(!this.Ie)return this.na(c,f,k);if(!this.UB)return!1;if(this.Vu())return this.Ca.E5(c,f,k);if(!this.Pb())return this.Ca.fG(c,f,k);const g=performance.now();c=this.Ca.Cv(this.bb,c,f,
k);for(f=c.next();!f.done;)await this.Cr(f.value),f=c.next();this.sn()||this.Ca.MF()||(await this.Ca.ZP(),this.aV&&!this.hC&&this.gT());this.ym+=performance.now()-g;return f.value}zk(c){return this.Bga.sc(c)}bv(c){this.iw.push(c)}av(){if(!this.iw.length)throw Error("layout stack empty");this.iw.pop()}Na(){return this.iw.length?this.iw.ue(-1):this.Pb()}Wi(c){return c&&-1!==c.Id?this.zB*c.Id:this.yB}GG(c){if(isNaN(c)||0>c)c=0;this.Id=c}yQ(c){this.QV=d.da(c,1,120)}Mg(){return this.oJ.ba()}$E(){return this.pJ.ba()}sF(){return this.GL.ba()}Ml(){++this.Ys}Ue(c){if(this.$k)throw Error("cannot call while loading state - wait until afterload event");
return this.vq.get(c)||null}aT(){this.vq.clear();for(const c of this.ed)if(!c.Ya)for(const f of c.pa())this.vq.set(f.zb,f)}Sr(){return"preview"===this.Fj}f3(){return"cordova"===this.Fj}Z2(){return"Android"===d.bd.Yr&&("cordova"===this.Fj||"playable-ad"===this.Fj||"instant-games"===this.Fj)}oF(){return this.uo.oF()}f7(c){c=!!c;this.ao!==c&&(this.ao=c,this.bb.Gp(),this.ga())}l6(c){this.qx=c}J3(c){this.Ww=c}VF(c){this.nt=c}Tba(){return!(!this.qx&&!this.Ww&&null===this.nt)}async Gaa(){this.qx&&(this.ge(),
await this.w$(this.qx),this.aH());this.Ww&&(await this.v$(this.Ww),this.aH(),this.wb&&b.Yta());if(null!==this.nt){this.ge();try{await this.KR(this.nt),this.Gq=this.nt,await this.lb(d.D.$a.G.tP,null),this.Gq=""}catch(c){console.error("[Construct 3] Failed to load state from JSON string: ",c),await this.lb(d.D.$a.G.uP,null)}this.aH()}}aH(){this.Ww=this.qx="";this.nt=null}nS(){this.QK||(this.QK=localforage.TL({name:"c3-localstorage-"+this.RK,description:this.UC}));return this.QK}oS(){this.YK||(this.YK=
localforage.TL({name:"c3-savegames-"+this.RK,description:this.UC}));return this.YK}async w$(c){const f=await this.Hda();try{await this.oS().setItem(c,f),console.log("[Construct 3] Saved state to storage ("+f.length+" chars)"),this.Gq=f,await this.lb(d.D.$a.G.Y4,null),this.Gq=""}catch(k){console.error("[Construct 3] Failed to save state to storage: ",k),await this.lb(d.D.$a.G.Z4,null)}}async v$(c){try{const f=await this.oS().getItem(c);if(!f)throw Error("empty slot");console.log("[Construct 3] Loaded state from storage ("+
f.length+" chars)");await this.KR(f);this.Gq=f;await this.lb(d.D.$a.G.tP,null);this.Gq=""}catch(f){console.error("[Construct 3] Failed to load state from storage: ",f),await this.lb(d.D.$a.G.uP,null)}}async Hda(){const c={c3save:!0,version:1,rt:{time:this.Mg(),timeRaw:this.$E(),walltime:this.sF(),timescale:this.Id,tickcount:this.il,execcount:this.Ys,next_uid:this.gx,running_layout:this.Pb().Xa,start_time_offset:Date.now()-this.Ao},types:{},layouts:{},events:this.Ca.qa(),timelines:this.Gb.qa(),user_script_data:null};
for(var f of this.ed)f.Ya||f.yO()||(c.types[f.Xa.toString()]=f.qa());for(const k of this.bb.qj)c.layouts[k.Xa.toString()]=k.qa();f=this.fH("save");f.saveData=null;await this.cp(f);c.user_script_data=f.saveData;return JSON.stringify(c)}async KR(c){var f=this.bb;c=JSON.parse(c);if(c.c2save)throw Error("C2 saves are incompatible with C3 runtime");if(!c.c3save)throw Error("not valid C3 save data");if(1<c.version)throw Error("C3 save data from future version");this.Xb.dispatchEvent(d.C(d.Event,"beforeload"));
for(var k of this.Qga())k.Es();this.$k=!0;k=c.rt;this.oJ.Set(k.time);k.hasOwnProperty("timeRaw")&&this.pJ.Set(k.timeRaw);this.GL.Set(k.walltime);this.Id=k.timescale;this.il=k.tickcount;this.Ys=k.execcount;this.Ao=Date.now()-k.start_time_offset;var g=k.running_layout;if(g!==this.Pb().Xa)if(g=f.cF(g))await this.FR(g);else return;for(const [l,n]of Object.entries(c.types))g=this.mz(parseInt(l,10)),!g||g.Ya||g.yO()||g.ya(n);this.ge();this.aT();this.$k=!1;this.gx=k.next_uid;for(const [l,n]of Object.entries(c.layouts))(k=
f.cF(parseInt(l,10)))&&k.ya(n);this.Ca.ya(c.events);for(const l of this.ed)if(!l.Ya&&l.cc())for(const n of l.pa()){k=n.ip();for(const q of l.oh.Dm)if(q!==l){g=q.pa();if(0>k||k>=g.length)throw Error("missing sibling instance");n.xs(g[k])}}this.Gb.ya(c.timelines);f.Hp();f.Gp();this.Xb.dispatchEvent(d.C(d.Event,"afterload"));f=this.fH("load");f.saveData=c.user_script_data;await this.cp(f);this.ga()}async rY(c){c=(await Promise.all(c.map(f=>this.sb.Bl(f)))).map(f=>URL.createObjectURL(f));this.Ow.r2(c)}pY(){this.Ow.n6()}qY(c){this.Ow.o6(c)}kE(c,
f,k){return this.Ow.kE(c,f,k)}CF(c,f){this.Tl("runtime","invoke-download",{url:c,filename:f})}async F5(c){var f=f||2048;var k=k||2048;return this.Je?(await this.zp("runtime","raster-svg-image",{blob:c,imageWidth:2048,imageHeight:2048,surfaceWidth:f,surfaceHeight:k,imageBitmapOpts:void 0})).imageBitmap:await self.C3_RasterSvgImageBlob(c,2048,2048,f,k)}es(){this.xU||(this.xU=!0,this.Tl("runtime","enable-device-orientation"))}xn(){this.wU||(this.wU=!0,this.Tl("runtime","enable-device-motion"))}Ul(){return this.zga()}Aaa(){const c=
this.qp();return{fps:this.NB,cpu:this.HC,gpu:this.kz(),layout:this.Pb()?this.Pb().Ea():"",renderer:c?c.Mx:"<unavailable>"}}Vu(){return this.wb?b.Vu():!1}Cr(c){return this.Ie?b.Cr(c):Promise.resolve()}tc(){return this.Ie?b.Lka():!1}fA(c){c?this.VI--:this.VI++;this.Yea()}Yea(){this.Ie=this.wb&&this.zfa&&0===this.VI}EF(){return this.wb&&b.EF()}JF(){return this.wb&&this.Cb().Ek()&&b.JF()}async Py(c){if(c)for(const f of c)await this.Cr(f)}rN(c){return this.Py(this.Xb.sha(c))}HA(c){return this.Ca.HA(c.name,
c.params)}fH(c){c=d.C(d.Event,c,!1);c.Kc=this.Lj;return c}Saa(){var c={};for(const f of this.ed)c[f.Yi()]={value:f.yw,enumerable:!0,writable:!1};c=Object.create(Object.prototype,c);this.Lj=new self.i2(this,c);this.UW={tick:this.fH("tick")}}Oaa(){const c={};for(const f of this.oa().uI)c[f.Yi()]=f.pS();this.Lj.Paa(c)}MS(c,f){this.Tfa.set(c,f)}};self.C3_CreateRuntime=d.$P.Ua;self.C3_InitRuntime=(c,f)=>c.Rg(f)}
{"use strict";const d=self.B;d.z3=class extends d.la{constructor(b,a){super();this.j=b;this.Cq=new Map;this.sga=0;this.Bw=a.inputPort;a.outputPort.onmessage=e=>this.XS(e);this.JV=a.maxNumWorkers;this.Pw=1;this.UU=this.Ew=!1}async Rg(){}r2(b){this.Bw.postMessage({type:"_import_scripts",scripts:b})}n6(){this.Bw.postMessage({type:"_send_blob",blob:null,id:"opus-decoder-wasm"})}o6(b){this.Bw.postMessage({type:"_send_buffer",buffer:b,id:"opus-decoder-wasm"},[b])}kE(b,a,e){e||(e=[]);const c=this.sga++;
b={type:b,isBroadcast:!1,jobId:c,params:a,transferables:e};a=new Promise((f,k)=>{this.Cq.set(c,{resolve:f,progress:void 0,reject:k,SL:!1})});this.Bw.postMessage(b,e);this.NS();return a}XS(b){b=b.data;const a=b.type,e=b.jobId;switch(a){case "result":this.ica(e,b.result);break;case "progress":this.hca(e,b.progress);break;case "error":this.gca(e,b.error);break;case "ready":this.jca();break;default:throw Error(`unknown message from worker '${a}'`);}}ica(b,a){const e=this.Cq.get(b);if(!e)throw Error("invalid job ID");
e.SL||e.resolve(a);this.Cq.delete(b)}hca(b,a){b=this.Cq.get(b);if(!b)throw Error("invalid job ID");!b.SL&&b.progress&&b.progress(a)}gca(b,a){const e=this.Cq.get(b);if(!e)throw Error("invalid job ID");e.SL||e.reject(a);this.Cq.delete(b)}jca(){this.Ew&&(this.Ew=!1,this.Pw++,this.Pw<this.JV?this.NS():this.Bw.postMessage({type:"_no_more_workers"}))}async NS(){if(!(this.Pw>=this.JV||this.Ew||this.UU||this.Cq.size<=this.Pw))try{this.Ew=!0,(await this.j.zp("runtime","create-job-worker")).outputPort.onmessage=
b=>this.XS(b)}catch(b){this.UU=!0,this.Ew=!1,console.error(`[Construct 3] Failed to create job worker; stopping creating any more (created ${this.Pw} so far)`,b)}}}}self.C3_Shaders={};
{"use strict";const d=self.B;let b=null,a="",e="",c=[],f="",k="",g="";const l=d.C(d.GY);function n(q,r){q=q[1];r=r[1];if("number"===typeof q&&"number"===typeof r)return q-r;q=""+q;r=""+r;return q<r?-1:q>r?1:0}d.D.$a=class extends d.Vl{constructor(q){super(q);this.Pf=this.j.oa().Pf;this.Zd=this.j.oa().rd();this.zw=this.sq=0;this.OU=new Map}A(){super.A()}ga(){this.j.ga()}na(q){this.j.na(q,null,null)}pz(q,r){b&&q===a&&r===e||(b=new RegExp(q,r),a=q,e=r);b.lastIndex=0;return b}hO(q,r,p){if(q===f&&r===
k&&p===g)return c;const u=this.pz(r,p);c=q.match(u);f=q;k=r;g=p;return c}async CH(q,r){if(r.length){this.sq+=r.length;var p=[];for(const u of r)p.push(q.aP(u));await d.w5(p,()=>{this.zw++});this.zw++;this.zw===this.sq&&(this.j.na(d.D.$a.G.F4,null,null),this.sq=this.zw=0)}}TT(q,r){for(const p of r)0===p.I.length&&q.U3(p)}hS(){return l}eda(q){var r=this.j.oa();const p=r.rd(),u=p.Df(),t=u.Ib(),w=t.Md();var x=u.vk();const z=p.Qa(t),E=r.Pf,G=E.Qa();if(x)for(x=0;x<q&&!G.zc;++x)r.Ye(w),G.Qc(x),t.Yg(u,z),
r.Rb(w);else for(r=0;r<q&&!G.zc;++r)G.Qc(r),t.Yg(u,z);p.Oa();E.Oa();return!1}*a$(q){var r=this.j.oa();const p=r.rd(),u=p.Df(),t=u.Ib(),w=t.Md();var x=u.vk();const z=p.Qa(t),E=r.Pf,G=E.Qa();if(x)for(x=0;x<q&&!G.zc;++x)r.Ye(w),G.Qc(x),yield*t.Hg(u,z),r.Rb(w);else for(r=0;r<q&&!G.zc;++r)G.Qc(r),yield*t.Hg(u,z);p.Oa();E.Oa();return!1}jfa(){var q=this.j.oa();const r=q.rd(),p=r.Df(),u=p.Ib(),t=u.Md();var w=p.vk();const x=r.Qa(u),z=q.Pf,E=z.Qa();if(w)for(w=0;!E.zc;++w)q.Ye(t),E.Qc(w),u.Yg(p,x)||E.mg(),q.Rb(t);
else for(q=0;!E.zc;++q)E.Qc(q),u.Yg(p,x)||E.mg();r.Oa();z.Oa();return!1}*t$(){var q=this.j.oa();const r=q.rd(),p=r.Df(),u=p.Ib(),t=u.Md();var w=p.vk();const x=r.Qa(u),z=q.Pf,E=z.Qa();if(w)for(w=0;!E.zc;++w)q.Ye(t),E.Qc(w),(yield*u.Hg(p,x))||E.mg(),q.Rb(t);else for(q=0;!E.zc;++q)E.Qc(q),(yield*u.Hg(p,x))||E.mg();r.Oa();z.Oa();return!1}gaa(q,r,p){var u=this.j.oa();const t=u.rd(),w=t.Df(),x=w.Ib(),z=x.Md(),E=w.vk(),G=t.Qa(x),N=u.Pf,C=N.Qa();C.kA(q);if(p<r)if(E)for(q=r;q>=p&&!C.zc;--q)u.Ye(z),C.Qc(q),
x.Yg(w,G),u.Rb(z);else for(u=r;u>=p&&!C.zc;--u)C.Qc(u),x.Yg(w,G);else if(E)for(q=r;q<=p&&!C.zc;++q)u.Ye(z),C.Qc(q),x.Yg(w,G),u.Rb(z);else for(u=r;u<=p&&!C.zc;++u)C.Qc(u),x.Yg(w,G);t.Oa();N.Oa();return!1}*X9(q,r,p){var u=this.j.oa();const t=u.rd(),w=t.Df(),x=w.Ib(),z=x.Md(),E=w.vk(),G=t.Qa(x),N=u.Pf,C=N.Qa();C.kA(q);if(p<r)if(E)for(q=r;q>=p&&!C.zc;--q)u.Ye(z),C.Qc(q),yield*x.Hg(w,G),u.Rb(z);else for(u=r;u>=p&&!C.zc;--u)C.Qc(u),yield*x.Hg(w,G);else if(E)for(q=r;q<=p&&!C.zc;++q)u.Ye(z),C.Qc(q),yield*x.Hg(w,
G),u.Rb(z);else for(u=r;u<=p&&!C.zc;++u)C.Qc(u),yield*x.Hg(w,G);t.Oa();N.Oa();return!1}haa(q){var r=this.j.oa();const p=r.rd(),u=p.Df(),t=u.Ib(),w=t.Md();var x=u.vk();const z=p.Qa(t),E=r.Pf,G=E.Qa(),N=q.cc(),C=q.ca(),H=l.Qa();d.xd(H,C.pa());if(x)for(let I=0,K=H.length;I<K&&!G.zc;++I)r.Ye(w),x=H[I],q.ca().Ck(x),N&&x.hj(),G.Qc(I),t.Yg(u,z),r.Rb(w);else{C.Be(!1);q=C.I;d.F(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.zc;++I)r=H[I],q[0]=r,N&&r.hj(),G.Qc(I),t.Yg(u,z)}p.Oa();E.Oa();d.F(H);l.Oa();return!1}*Y9(q){var r=
this.j.oa();const p=r.rd(),u=p.Df(),t=u.Ib(),w=t.Md();var x=u.vk();const z=p.Qa(t),E=r.Pf,G=E.Qa(),N=q.cc(),C=q.ca(),H=l.Qa();d.xd(H,C.pa());if(x)for(let I=0,K=H.length;I<K&&!G.zc;++I)r.Ye(w),x=H[I],q.ca().Ck(x),N&&x.hj(),G.Qc(I),yield*t.Hg(u,z),r.Rb(w);else{C.Be(!1);q=C.I;d.F(q);q.push(null);for(let I=0,K=H.length;I<K&&!G.zc;++I)r=H[I],q[0]=r,N&&r.hj(),G.Qc(I),yield*t.Hg(u,z)}p.Oa();E.Oa();d.F(H);l.Oa();return!1}iaa(q,r){var p=this.j.oa();const u=p.rd(),t=p.Bf(),w=u.Df(),x=w.Ib(),z=x.Md(),E=w.vk(),
G=u.Qa(x),N=p.Pf,C=N.Qa(),H=q.cc(),I=q.ca(),K=l.Qa();d.F(K);const Q=I.pa();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.dv(1,R)]);K.sort(n);1===r&&K.reverse();if(E)for(let R=0,U=K.length;R<U&&!C.zc;++R)p.Ye(z),r=K[R][0],q.ca().Ck(r),H&&r.hj(),C.Qc(R),x.Yg(w,G),p.Rb(z);else{I.Be(!1);q=I.I;d.F(q);q.push(null);for(let R=0,U=K.length;R<U&&!C.zc;++R)p=K[R][0],q[0]=p,H&&p.hj(),C.Qc(R),x.Yg(w,G)}u.Oa();N.Oa();d.F(K);l.Oa();return!1}*Z9(q,r){var p=this.j.oa();const u=p.rd(),t=p.Bf(),w=u.Df(),x=w.Ib(),z=
x.Md(),E=w.vk(),G=u.Qa(x),N=p.Pf,C=N.Qa(),H=q.cc(),I=q.ca(),K=l.Qa();d.F(K);const Q=I.pa();for(let R=0,U=Q.length;R<U;++R)K.push([Q[R],t.dv(1,R)]);K.sort(n);1===r&&K.reverse();if(E)for(let R=0,U=K.length;R<U&&!C.zc;++R)p.Ye(z),r=K[R][0],q.ca().Ck(r),H&&r.hj(),C.Qc(R),yield*x.Hg(w,G),p.Rb(z);else{I.Be(!1);q=I.I;d.F(q);q.push(null);for(let R=0,U=K.length;R<U&&!C.zc;++R)p=K[R][0],q[0]=p,H&&p.hj(),C.Qc(R),yield*x.Hg(w,G)}u.Oa();N.Oa();d.F(K);l.Oa();return!1}BA(q,r){let p=this.OU.get(q);if(p)return p;
if(!r)return null;p={Oo:null,bE:new Map};this.OU.set(q,p);return p}u$(q,r,p,u,t){r.Te().g6(p);u&&q.Rb(t)}*V9(q,r,p,u,t){yield*r.Te().EZ(p);u&&q.Rb(t)}}}{"use strict";const d=self.B;d.D.$a.gh=class extends d.la{constructor(b){super();this.N=b;this.j=b.K();this.vi=b.Jb()}Cc(){}A(){this.vi=this.j=this.N=null}}}{"use strict";const d=self.B;d.D.$a.Instance=class extends d.la{constructor(b){super();this.H=b;this.N=this.H.J();this.eb=this.N.eb;this.j=this.H.K()}A(){this.j=this.eb=this.N=this.H=null}}}
{"use strict";const d=self.B,b=[];d.D.$a.G={b0(){return!0},sP(){return!0},I4(){return!0},a5(){return!0},X4(){return!0},sn(){return this.j.sn()},yN(){const a=this.j.Cf();return a.bJ?!1:!a.Dq},yua(){const a=this.j.Bf().Ff();let e=a.get("TriggerOnce_lastTick");"undefined"===typeof e&&(e=-1,a.set("TriggerOnce_lastTick",-1));const c=this.j.il;a.set("TriggerOnce_lastTick",c);return this.j.OJ||e!==c-1},a0(a){const e=this.j.Bf().Ff(),c=e.get("Every_lastTime")||0,f=this.j.Mg();e.has("Every_seconds")||e.set("Every_seconds",
a);const k=e.get("Every_seconds");if(f>=c+k)return e.set("Every_lastTime",c+k),f>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",f),e.set("Every_seconds",a),!0;f<c-.1&&e.set("Every_lastTime",f);return!1},Pr(a){return(a=this.j.oa().QN(a))&&a.Pr()},Sr(){return this.j.Sr()},Lz(){return d.bd.Lz},vP(){return!0},p4(){return!0},hma(){return!0},Y4(){return!0},Z4(){return!0},tP(){return!0},uP(){return!0},tpa(a){return!!this.j.Ue(a)},Sna(a){switch(a){case 0:return"browser"===d.bd.xE;case 1:return"iOS"===
d.bd.Yr;case 2:return"Android"===d.bd.Yr;case 8:return"cordova"===d.bd.xE;case 9:return"scirra-arcade"===this.j.Fj;case 10:return"nwjs"===d.bd.xE;case 13:return"windows-uwp"===this.j.Fj;default:return!1}},Hqa(a,e,c){return this.pz(e,c).test(a)},cla(a,e,c){return d.compare(a,e,c)},gla(a,e,c){return a>=e&&a<=c},lZ(a,e,c){return d.compare(a.xe(),e,c)},hla(a){return!!a.xe()},vla(a,e){const c=this.j.Mg();return 0===a?(a=this.j.Bf().Ff(),!a.get("CompareTime_executed")&&c>=e?(a.set("CompareTime_executed",
!0),!0):!1):d.compare(c,a,e)},Pna(a){return isNaN(a)},AY(a,e,c){return d.lr(d.Aa(a),d.Aa(c))<=d.Aa(e)},d3(a,e){return d.te(d.Aa(a),d.Aa(e))},a3(a,e,c){a=d.Aa(a);e=d.Aa(e);c=d.Aa(c);return d.te(c,e)?d.te(a,e)&&!d.te(a,c):!(!d.te(a,e)&&d.te(a,c))},ioa(a,e){return"number"===typeof a?0===e:1===e},nma(a){return!!a},Vpa(a,e,c,f){if(!a)return!1;const k=this.hS(),g=k.Qa(),l=a.ca();d.xd(g,l.pa());l.$b&&d.F(l.mc);const n=this.j.Bf();let q=0;for(let r=0,p=g.length;r<p;++r){const u=g[r];g[q]=u;e=n.dv(1,r);f=
n.dv(3,r);d.compare(e,c,f)?++q:l.Kn(u)}d.ve(g,q);l.gv(g);e=!!g.length;d.F(g);k.Oa();a.hc();return e},Wpa(a,e){if(!a)return!1;const c=this.hS(),f=c.Qa(),k=a.ca();d.xd(f,k.pa());k.$b&&d.F(k.mc);const g=this.j.Bf();let l=0;for(let n=0,q=f.length;n<q;++n){const r=f[n];f[l]=r;(e=g.dv(1,n))?++l:k.Kn(r)}d.ve(f,l);k.gv(f);e=!!f.length;d.F(f);c.Oa();a.hc();return e},bqa(a,e){if(!a)return!1;const c=a.ca(),f=c.pa();e=Math.floor(e);if(e>=f.length)return!1;c.vn(f[e]);a.hc();return!0},fqa(a){if(!a)return!1;const e=
a.ca(),c=e.pa(),f=Math.floor(this.j.Ul()*c.length);if(f>=c.length)return!1;e.vn(c[f]);a.hc();return!0},Upa(a){if(!a||!a.I.length)return!1;a.ca().Be(!0);a.hc();return!0},dqa(a,e,c){if(!a)return!1;const f=a.ca();var k=f.pa();const g=this.j.Ib().ae,l=this.j.Bf().oi;f.$b?(d.xd(b,k),f.Ey(),f.Be(!1)):g?(d.xd(b,f.mc),d.F(f.mc)):(d.xd(b,f.I),d.F(f.I));for(let n=0,q=b.length;n<q;++n)k=b[n],d.xor(k.m().vu(e,c),l)?f.Sp(k):f.Kn(k);a.hc();return d.xor(!!f.I.length,l)},aqa(a){if(!a)return!1;var e=a.Ya;let c=null;
const f=this.j.tm;for(let k=f.length-1;0<=k;--k){const g=f[k];if(e){if(g.J().rE(a)){c=g;break}}else if(g.J()===a){c=g;break}}c||(e=a.pa(),e.length&&(c=e.ue(-1)));if(!c)return!1;a.ca().vn(c);a.hc();return!0},Pqa(a){return this.j.Ie?this.a$(a):this.eda(a)},cva(){return this.j.Ie?this.t$():this.jfa()},yma(a,e,c){return this.j.Ie?this.X9(a,e,c):this.gaa(a,e,c)},zma(a){return this.j.Ie?this.Y9(a):this.haa(a)},Ama(a,e,c){return this.j.Ie?this.Z9(a,c):this.iaa(a,c)},voa(a){return a?a.$c():!1},soa(a){return a?
!a.I.length:!1},roa(a,e,c){return a?d.compare(100*a.Ld(),e,c):!1},F4(){return!0},Mna(){return 0<this.sq}}}
{"use strict";const d=self.B;function b(g,l){const n=g[0]-l[0];return 0!==n?n:g[1]-l[1]}function a(g,l){return g[1]-l[1]}const e=[],c=[],f=d.C(d.Rect),k=d.C(d.ib);d.D.$a.fb={B7(g,l){g.ah(l)},yY(g,l){g.rn()&&"number"!==typeof l&&(l=parseFloat(l));g.ah(g.xe()+l)},X7(g,l){g.rn()&&g.ah(g.xe()-l)},rsa(g,l){g.ah(!!l)},sua(g){g.ah(!g.xe())},Fra(){this.j.oa().W5()},qN(g,l,n,q,r){g&&l&&(n=this.j.AE(g,l,n,q,r))&&(r&&l.LG(n),l=this.j.oa(),l.Qe(!0),n.VA(),l.Qe(!1),g.ca().Ck(n),n.cc()&&n.hj())},Sla(g,l,n,q,r){g&&
l&&(g=this.j.eF(g))&&d.D.$a.fb.qN.call(this,g,l,n,q,r)},cv(g,l,n,q,r,p,u,t,w,x){if(g){var z=this.j.Na();if(p&&(z=this.j.bb.Hr(p),!z))return;p=null;if("number"!==typeof u||0<=u)if(p=z.ea(u),!p)return;f.set(l,n,q,r);l=z.cv(g,f,p,t,w,x);g.ca().gv(l);g.hc()}},aua(){const g=this.Pf;g.NO()&&g.Er().mg()},Ip(g,l){(g=this.j.oa().QN(g))&&(0===l?g.Ip(!1):1===l?g.Ip(!0):g.Ip(!g.Pr()))},p7(g){this.j.GG(g)},wta(g,l){0>l&&(l=0);if(g){g=g.ca().pa();for(const n of g)n.GG(l)}},Kra(g){if(g){g=g.ca().pa();for(const l of g)l.d6()}},
bR(g){if(!(0>g))return this.j.oa().mE().U2(g),!0},Vua(g){this.j.oa().mE().S2(g);return!0},Uua(){const g=this.j.oa();g.mE().H2(g.s1());return!0},Nta(g){g=g.toLowerCase();for(const l of this.j.oa().zg)l.t3()&&l.xx===g&&l.CG()},async NQ(g,l,n,q,r,p){const u=this.j.X;u&&(this.ga(),await u.NQ(0===g?"image/png":"image/jpeg",l/100,n,q,r,p),await this.j.lb(d.D.$a.G.p4,null))},vsa(g,l){if(!(0>=g||0>=l)){this.j.vv(g,l);var n=this.j.Na();n.zy();for(const q of n.ec)q.UG();if(n=this.j.X)"off"!==n.Iu()&&this.j.d7(g,
l),n.Dc(n.pl,n.ol,!0),this.j.ga()}},Nsa(g){const l=this.j.X;l&&"off"!==l.Iu()&&(l.oQ(0!==g?"high":"low"),l.Dc(l.pl,l.ol,!0))},Fp(g){this.j.l6(g)},Boa(g){this.j.J3(g)},Coa(g){this.j.VF(g)},Psa(){},Gra(){for(const g of this.j.bb.qj)g.a6()},Ata(g){this.j.f7(0!==g)},yQ(g){this.j.yQ(g)},Qta(g,l){if(g){var n=g.ca().pa(),q=this.j.Na(),r=g.Ya;g=g.Gj;for(let u=0,t=n.length;u<t;++u){var p=n[u];const w=p.m();if(!w)continue;let x;x=r?p.Ve(l+p.J().SN(g)):p.Ve(l);e.push([w.ea().Ka(),w.sk()]);c.push([p,x])}if(e.length){e.sort(b);
c.sort(a);l=!1;for(let u=0,t=e.length;u<t;++u)n=c[u][0],r=q.Mu(e[u][0]),g=e[u][1],p=r.I,p[g]!==n&&(p[g]=n,n.m().Rv(r),r.eh(),l=!0);l&&this.j.ga();d.F(e);d.F(c)}}},F1(g){if(!this.j.Zk){var l=this.j.bb;l.Rr()||l.Cy(g)}},Tma(g){if(!this.j.Zk){var l=this.j.bb;l.Rr()||(g=l.Hr(g))&&l.Cy(g)}},npa(g){if(!this.j.Zk){var l=this.j.bb;if(!l.Rr()){var n=l.qj,q=n.indexOf(l.Pb());g&&0===q||(g||q!==n.length-1)&&l.Cy(n[q+(g?-1:1)])}}},c6(){if(!this.j.Zk){var g=this.j.bb;g.Rr()||(g.Cy(g.Pb()),this.j.oa().X5())}},eta(g,
l){g&&g.$h(l)},Zsa(g,l){g&&g.$e(l/100)},ata(g,l){g&&g.AQ(l)},bta(g,l){g&&g.i7(l)},Tsa(g,l){g&&g.jc(d.Aa(+l))},cta(g,l,n){g&&(g.nv(!0),g.fj(l),g.gj(n))},Jra(g){g&&g.nv(!1)},$sa(g,l,n){g&&g.e7(l/100,n/100)},fta(g,l){g&&g.df(+l)},Usa(g,l){g&&(k.oy(l),k.da(),g=g.hm,g.Qo(k)||(g.Wm(k),this.ga()))},dta(g,l){g&&g.x7(l)},Vsa(g,l){g&&g.kg(l)},Wsa(g,l,n){g&&(g=g.Sa,n=g.El(n))&&(l=1===l,n.Lb!==l&&(n.dA(l),g.Gn(),this.j.ga()))},Xsa(g,l,n,q){if(g&&(g=g.Sa,l=g.El(l))&&(g=g.Kg(l.Ka()),n=Math.floor(n),!(0>n||n>=g.length))){var r=
l.nb.nz(n);if("color"===r){k.oy(q);n=g[n];if(k.Qo(n))return;n.Wm(k)}else{"percent"===r&&(q/=100);if(g[n]===q)return;g[n]=q}l.Lb&&this.j.ga()}},Ysa(g,l){g&&g.M6(l)},kta(g){this.j.Na().Jp(+g)},gta(g){this.j.Na().jc(d.Aa(+g))},hta(g,l){const n=this.j.Na().Sa;if(l=n.El(l))g=1===g,l.Lb!==g&&(l.dA(g),n.Gn(),this.j.ga())},ita(g,l,n){var q=this.j.Na().Sa;if(g=q.El(g))if(q=q.Kg(g.Ka()),l=Math.floor(l),!(0>l||l>=q.length)){var r=g.nb.nz(l);if("color"===r){k.oy(n);l=q[l];if(k.Qo(l))return;l.Wm(k)}else{"percent"===
r&&(n/=100);if(q[l]===n)return;q[l]=n}g.Lb&&this.j.ga()}},lta(g,l){this.j.Na().A7(g/100,l/100)},jta(g){const l=this.j.Na();0===g?l.CQ():l.zQ()},csa(g){this.j.Na().fj(g)},dsa(g){this.j.Na().gj(g)},asa(g,l){const n=this.j.Na();n.fj(g);n.gj(l)},bsa(g){if(g&&(g=g.Lg())&&(g=g.m())){var l=this.j.Na();l.fj(g.L());l.gj(g.M())}},async L3(g){const l=this.j.Pb();l&&g&&!this.j.Zk&&await this.CH(l,g.Ya?g.Wn:[g])},async Aoa(g){await d.D.$a.fb.L3.call(this,this.j.eF(g))},Gua(g){const l=this.j.Pb();l&&g&&this.TT(l,
g.Ya?g.Wn:[g])},h8(g){d.D.$a.fb.h8.call(this,this.j.eF(g))},Hua(){const g=this.j.Pb();if(g){var l=g.Eaa();this.TT(g,l)}},async yoa(g){const l=this.j.Pb();g&&l&&!this.j.Zk&&await this.CH(l,g.jS())},async zoa(g){const l=this.j.Pb();(g=this.j.bb.Hr(g))&&l&&!this.j.Zk&&await this.CH(l,g.jS())},iA(g){const l=this.Zd.x0();if(l)switch(l.PU){case 1:"number"===typeof g&&l.iA(g);break;case 2:"string"===typeof g&&l.iA(g);break;case 3:l.iA(g)}},Loa(g,l,n){var q=this.BA(g.toLowerCase(),!0);const r=q.bE,p=l.toLowerCase();
r.has(p)&&console.warn(`[Construct 3] Function map '${g}' string '${l}' already in map; overwriting entry`);(q=d.first(r.values())||q.Oo)&&0!==q.Im!==(0!==n.Im)?console.error(`[Construct 3] Function map '${g}' string '${l}' function return type not compatible with other functions in the map; entry ignored`):r.set(p,n)},Moa(g,l){const n=this.BA(g.toLowerCase(),!0);n.Oo&&console.warn(`[Construct 3] Function map '${g}' already has a default; overwriting entry`);const q=d.first(n.bE.values())||n.Oo;q&&
0!==q.Im!==(0!==l.Im)?console.error(`[Construct 3] Function map '${g}' default: function return type not compatible with other functions in the map; entry ignored`):n.Oo=l},Nka(g,l,n){n=Math.floor(n);var q=this.BA(g.toLowerCase(),!1);if(q){var r=q.bE.get(l.toLowerCase());if(!r)if(q.Oo)r=q.Oo,n=0;else{console.warn(`[Construct 3] Call mapped function: no function associated with map '${g}' string '${l}'; call ignored (consider setting a default)`);return}if(r.uk())if(0!==r.Im)console.warn(`[Construct 3] Call mapped function: map '${g}' string '${l}' has a return type so cannot be called`);
else{g=this.j;l=g.oa();var p=l.Ib();q=p.Nd();var u=0<q.length;u&&l.Wg(q);var t=[];if(p=l.KE(p)){p=p.th;for(let w=n,x=p.length;w<x;++w)t.push(p[w].xe())}n=r.th;for(let w=t.length,x=n.length;w<x;++w)t.push(n[w].mb);return g.Ie?this.V9(l,r,t,u,q):this.u$(l,r,t,u,q)}}else console.warn(`[Construct 3] Call mapped function: map name '${g}' not found; call ignored`)}}}
{"use strict";const d=self.B;d.D.$a.Ud={Gwa:function(b){"string"===typeof b&&(b=parseInt(b,10),isNaN(b)&&(b=0));return Math.floor(b)},$va:function(b){"string"===typeof b&&(b=parseFloat(b),isNaN(b)&&(b=0));return b},an(b){return b.toString()},cy(b){return"string"===typeof b?b.length:0},random(b,a){return"undefined"===typeof a?this.j.Ul()*b:this.j.Ul()*(a-b)+b},cha(...b){return b[Math.floor(this.j.Ul()*b.length)]},vxa(){return Math.PI},Ewa(){return Infinity},sqrt(b){return Math.sqrt(b)},abs(b){return Math.abs(b)},
round(b){return Math.round(b)},Wxa(b,a){a=Math.max(Math.floor(a),0);a=Math.pow(10,a);return Math.round((b+Number.EPSILON)*a)/a},floor(b){return Math.floor(b)},ceil(b){return Math.ceil(b)},sign(b){return Math.sign(b)},sin(b){return Math.sin(d.Aa(b))},cos(b){return Math.cos(d.Aa(b))},tan(b){return Math.tan(d.Aa(b))},asin(b){return d.Kd(Math.asin(b))},acos(b){return d.Kd(Math.acos(b))},atan(b){return d.Kd(Math.atan(b))},exp(b){return Math.exp(b)},aia(b){return Math.log(b)},log10(b){return Math.log(b)/
Math.LN10},max(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let f=b[e];"number"===typeof f&&a<f&&(a=f)}return a},min(...b){let a=b[0];"number"!==typeof a&&(a=0);for(let e=1,c=b.length;e<c;++e){let f=b[e];"number"===typeof f&&a>f&&(a=f)}return a},da(b,a,e){return d.da(b,a,e)},Xx(b,a,e,c){return d.Bg(b,a,e,c)},angle(b,a,e,c){return d.Kd(d.Ih(b,a,e,c))},wd(b,a,e){return d.wd(b,a,e)},cE(b,a,e){return d.cE(b,a,e)},UD(b,a,e,c){return d.UD(b,a,e,c)},kX(b,a,e,c,f){return d.kX(b,
a,e,c,f)},jX(b,a,e){return d.jX(b,a,e)},vva(b,a){return d.Kd(d.lr(d.Aa(b),d.Aa(a)))},wva(b,a,e){return d.Kd(d.NL(d.Aa(b),d.Aa(a),e))},xva(b,a,e){return d.Kd(d.OL(d.Aa(b),d.Aa(a),d.Aa(e)))},gya(b,a,e){a|=0;return(b|0)&~(1<<a)|(0!==e?1:0)<<a},pya(b,a){return(b|0)^1<<(a|0)},xwa(b,a){return(b|0)&1<<(a|0)?1:0},lxa(){return"\n"},wya(b){return"string"===typeof b?b.toUpperCase():""},dxa(b){return"string"===typeof b?b.toLowerCase():""},left(b,a){return"string"===typeof b?b.substr(0,a):""},mid(b,a,e){return"string"!==
typeof b?"":0>e?b.substr(a):b.substr(a,e)},right(b,a){return"string"===typeof b?b.substr(b.length-a):""},trim(b){return"string"===typeof b?b.trim():""},qya(b,a,e){if("string"!==typeof b||"string"!==typeof e)return"";b=b.split(e);a=Math.floor(a);return 0>a||a>=b.length?"":b[a]},rya(b,a){return"string"===typeof b&&"string"===typeof a&&b.length?b.split(a).length:0},find(b,a){return"string"===typeof b&&"string"===typeof a?b.search(new RegExp(d.yu(a),"i")):-1},Zva(b,a){return"string"===typeof b&&"string"===
typeof a?b.search(new RegExp(d.yu(a),"")):-1},replace(b,a,e){return"string"===typeof b&&"string"===typeof a&&"string"===typeof e?b.replace(new RegExp(d.yu(a),"gi"),e):"string"===typeof b?b:""},Hxa(b,a,e){a=this.pz(a,e);return b?b.search(a):-1},Gxa(b,a,e,c){a=this.pz(a,e);return b?b.replace(a,c):""},Fxa(b,a,e){return(b=this.hO(b.toString(),a,e))?b.length:0},Exa(b,a,e,c){c=Math.floor(c);b=this.hO(b.toString(),a,e);return!b||0>c||c>=b.length?"":b[c]},Lya(b,a){let e=0>b?"-":"";0>b&&(b=-b);e+="0".repeat(Math.max(a-
b.toString().length,0));return e+b.toString()},yya(b){return encodeURIComponent(b)},xya(b){return decodeURIComponent(b)},pX(){return this.j.yB},nya(){return this.j.Id},Hya(){return(Date.now()-this.j.Ao)/1E3},uya(){return Date.now()},time(){return this.j.Mg()},mya(){return this.j.il},pxa(){return this.j.BK},bwa(){return this.j.NB},Kva(){return this.j.HC},zwa(){return this.j.kz()},Kya(){return this.j.X.ii},Jya(){return this.j.X.hi},txa(){return this.j.zh},sxa(){return this.j.yh},rxa(){return this.j.zh},
qxa(){return this.j.yh},Yxa(){return this.j.Na().eg()},Zxa(){return this.j.Na().fg()},Zwa(){return this.j.Na().Ea()},$wa(){return this.j.Na().Zb},Xwa(){return d.Kd(this.j.Na().ja())},axa(){return this.j.Na().S()},Ywa(){return this.j.Na().V()},Dya(b){return(b=this.j.Na().ea(b))?b.Ko.R:0},Fya(b){return(b=this.j.Na().ea(b))?b.Ko.O:0},Eya(b){return(b=this.j.Na().ea(b))?b.Ko.Y:0},Bya(b){return(b=this.j.Na().ea(b))?b.Ko.W:0},Gya(b){return(b=this.j.Na().ea(b))?b.Ko.width():0},Cya(b){return(b=this.j.Na().ea(b))?
b.Ko.height():0},Fva(b,a,e){return(b=this.j.Na().ea(b))?b.Fg(a,e)[0]:0},Gva(b,a,e){return(b=this.j.Na().ea(b))?b.Fg(a,e)[1]:0},Uwa(b,a,e){return(b=this.j.Na().ea(b))?b.yp(a,e)[0]:0},Vwa(b,a,e){return(b=this.j.Na().ea(b))?b.yp(a,e)[1]:0},Qwa(b){return(b=this.j.Na().ea(b))?b.Zb:0},Lwa(b){return(b=this.j.Na().ea(b))?d.Kd(b.Ee):0},Nwa(b){return(b=this.j.Na().ea(b))?100*b.Ld():0},Rwa(b){return(b=this.j.Na().ea(b))?b.Vj:0},Swa(b){return(b=this.j.Na().ea(b))?b.eg():0},Twa(b){return(b=this.j.Na().ea(b))?
b.fg():0},Owa(b){return(b=this.j.Na().ea(b))?100*b.me:0},Pwa(b){return(b=this.j.Na().ea(b))?100*b.ne:0},Wwa(b){return(b=this.j.Na().ea(b))?b.Za():0},Mwa(b){return(b=this.j.Na().ea(b))?b.Ka():-1},Eva(){const b=this.j.X;return b?b.cL:""},cxa(b){const a=this.Pf;return a.NO()?b?(b=a.g0(b))?b.Ka():0:a.Er().Ka():0},Xxa(){return this.j.Gq},Dva(b,a,...e){var c=this.BA(b.toLowerCase(),!1);if(!c)return console.warn(`[Construct 3] Call mapped function: map name '${b}' not found; returning 0`),0;var f=c.bE.get(a.toLowerCase());
if(!f)if(c.Oo)f=c.Oo;else return console.warn(`[Construct 3] Call mapped function: no function associated with map '${b}' string '${a}'; returning 0 (consider setting a default)`),0;c=f.Im;const k=f.Ju();if(0===c)return console.warn(`[Construct 3] Call mapped function: map '${b}' string '${a}' has no return type so cannot be called from an expression; returning 0`),0;if(!f.uk())return k;b=this.j.oa();a=b.Ib().Nd();const g=0<a.length;g&&b.Wg(a);const l=f.th;for(let n=e.length,q=l.length;n<q;++n)e.push(l[n].mb);
f=f.Te();e=f.oG(f.Nd(),c,k,...e);g&&b.Rb(a);return e},bia(){return this.j.sb.yC},Cwa(){return 0===this.sq?1:this.zw/this.sq},xf(){return this.j.Su()?"webgpu":"webgl"},Kxa(){return this.j.Su()?"<unavailable>":this.j.qp().Mx},Dwa(){let b=this.j.Cb().C0();return Math.round(100*b/1048576)/100},Lxa(b,a,e){return d.k5(b,a,e)},Oxa(b,a,e){return d.DP(b/100,a/100,e/100)},Mxa(b,a,e,c){return d.Vz(b/100,a/100,e/100,c/100)},Pxa(b,a,e){return d.DP(b/255,a/255,e/255)},Nxa(b,a,e,c){return d.Vz(b/255,a/255,e/255,
c/255)},pia(){return this.j.UC},zxa(){return this.j.gW},Nva(){return this.j.Ib().jd.Ea()},Mva(){return this.j.Ib().Ts}}}{"use strict";const d=self.B;d.D.Audio=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.B;d.D.Audio.gh=class extends d.Ep{constructor(b){super(b)}A(){super.A()}Cc(){}Pg(){return self.b2}};self.b2=class extends self.Ez{constructor(b){super(b)}}}
{"use strict";const d=self.B,b=["interactive","balanced","playback"];d.D.Audio.Instance=class extends d.Dp{constructor(a,e){super(a,"audio");this.xh=0;this.tL="";this.ox=this.NW=0;this.LK=!1;this.yU=this.ZV=1;this.io=this.j.Vf/2;this.jo=this.j.Uf/2;this.Iq=-600;this.kW=600;this.IV=1E4;this.qW=1;this.ri=null;this.CC=-1;this.xt=1;this.ug=!1;this.sW=0;this.AB=new Map;this.OK=this.PK=0;this.Gm=new Map;a="interactive";e&&(this.NW=e[0],this.ox=e[1],this.LK=e[2],a=b[e[3]],this.ZV=e[4],this.yU=e[5],this.Iq=
-e[6],this.kW=e[7],this.IV=e[8],this.qW=e[9]);this.vh=[];this.ht=[];this.wC=[];this.jE([["state",c=>this.xca(c)],["fxstate",c=>this.wca(c)],["trigger",c=>this.vca(c)]]);e=this.K().Hb();this.ie=new d.Br(d.Ub.Bc(e,"instancedestroy",c=>this.GH(c.instance)),d.Ub.Bc(e,"afterload",()=>this.Rp()),d.Ub.Bc(e,"suspend",()=>this.KH()),d.Ub.Bc(e,"resume",()=>this.JH()));this.j.lE(this.wk("create-audio-context",{preloadList:this.j.sb.q0().map(c=>({originalUrl:c.lia,url:c.url,type:c.type,fileSize:c.fileSize})),
isiOSCordova:this.j.WJ,timeScaleMode:this.NW,latencyHint:a,panningModel:this.ZV,distanceModel:this.yU,refDistance:this.kW,maxDistance:this.IV,rolloffFactor:this.qW,listenerPos:[this.io,this.jo,this.Iq]}).then(c=>{this.sW=c.sampleRate}));this.De()}A(){this.ri=null;super.A()}GH(a){this.ri===a&&(this.ri=null)}Ly(a){return Math.pow(10,a/20)}yd(a){a=this.Ly(a);return isFinite(a)?Math.max(Math.min(a,1),0):0}E3(a){return Math.log(a)/Math.log(10)*20}VO(a){return this.E3(Math.max(Math.min(a,1),0))}KH(){this.LK||
this.Pa("set-suspended",{isSuspended:!0})}JH(){this.LK||this.Pa("set-suspended",{isSuspended:!1})}xca(a){const e=a.tickCount,c=this.vh.filter(f=>f.hasOwnProperty("placeholder")&&(f.placeholder>e||-1===f.placeholder));this.vh=a.audioInstances;this.wC=a.analysers;0<c.length&&d.Vm(this.vh,c)}wca(a){this.ht=a.fxstate}AA(a){for(const e of this.vh)if(d.Kh(e.tag,a))return e;return null}IS(a){return this.vh.some(e=>d.Kh(a,e.tag)&&e.isPlaying)}Ds(a,e,c,f){if(this.IS(a))return null;a={tag:a,duration:0,volume:f,
isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:"",bufferUrl:"",bufferType:"",isMusic:e,isLooping:c,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};this.vh.push(a);return a}async vca(a){const e=a.type;this.tL=a.tag;a=a.aiid;if("ended"===e){for(const c of this.vh)if(c.aiid===a){c.isPlaying=!1;break}await this.lb(d.D.Audio.G.x4)}else"fade-ended"===e&&await this.lb(d.D.Audio.G.z4)}Ed(){const a={timeScale:this.j.Id,gameTime:this.j.$E(),instPans:this.Y0(),tickCount:this.j.Mm};
if(this.ri){const e=this.ri.m();this.io=e.L();this.jo=e.M();a.listenerPos=[this.io,this.jo,this.Iq]}this.Pa("tick",a)}AM(a,e,c,f,k){if(0===c)return[a,e];const g=Math.sin(c);c=Math.cos(c);a-=f;e-=k;const l=a*g;a=a*c-e*g;return[a+f,e*c+l+k]}Y0(){return this.vh.filter(a=>-1!==a.uid).map(a=>this.j.Ue(a.uid)).filter(a=>a).map(a=>{const e=a.m(),c=e.ea().ja(),[f,k]=this.AM(e.L(),e.M(),-c,this.io,this.jo);return{uid:a.zb,x:f,y:k,angle:e.ja()-c}})}Wy(a,e){for(const c of this.wC)if(c.index===e&&d.Kh(c.tag,
a))return c;return null}di(a){this.AB.set(a,(this.AB.get(a)||0)+1)}Hea(a){return a.hasOwnProperty("placeholder")||3===this.ox?!1:a.isMusic&&1===this.ox?!1:a.isMusic||2!==this.ox?!0:!1}cd(){return{isSilent:this.ug,masterVolume:this.xt,listenerZ:this.Iq,listenerUid:this.ri?this.ri.zb:-1,remoteUrls:[...this.Gm.entries()],playing:this.vh.filter(a=>this.Hea(a)),effects:this.ht,analysers:this.wC}}Nc(a){this.ug=a.isSilent;this.xt=a.masterVolume;this.Iq=a.listenerZ;this.ri=null;this.CC=a.listenerUid;this.Gm.clear();
if(a.remoteUrls)for(const [e,c]of a.remoteUrls)this.Gm.set(e,c);this.vh=a.playing;this.ht=a.effects;this.wC=a.analysers}Rp(){if(-1!==this.CC&&(this.ri=this.j.Ue(this.CC),this.CC=-1,this.ri)){var a=this.ri.m();this.io=a.L();this.jo=a.M()}for(var e of this.vh)(a=this.j.sb.Ng(e.bufferOriginalUrl))?(e.bufferUrl=a.url,e.bufferType=a.type):e.bufferUrl=null;for(const c of Object.values(this.ht))for(const f of c)f.hasOwnProperty("bufferOriginalUrl")&&(e=this.j.sb.Ng(f.bufferOriginalUrl))&&(f.bufferUrl=e.url,
f.bufferType=e.type);this.Pa("load-state",{saveLoadMode:this.ox,timeScale:this.j.Id,gameTime:this.j.$E(),listenerPos:[this.io,this.jo,this.Iq],isSilent:this.ug,masterVolume:this.xt,playing:this.vh.filter(c=>null!==c.bufferUrl),effects:this.ht})}}}{"use strict";const d=self.B;d.D.Audio.G={x4(b){return d.Kh(this.tL,b)},z4(b){return d.Kh(this.tL,b)},wqa(){return this.OK===this.PK},Aja(){return!0},coa(){return this.ug},sna(){for(const b of this.vh)if(b.isPlaying)return!0;return!1},foa(b){return this.IS(b)}}}
{"use strict";const d=self.B,b="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");d.D.Audio.fb={async Play(a,e,c,f){if(!this.ug){var k=a[1],g=this.j.sb.Ng(a[0]);if(g){var l=this.xh;this.xh=0;var n=this.Ds(f.toLowerCase(),k,0!==e,this.yd(c));try{await this.wk("play",{originalUrl:a[0],url:g.url,type:g.type,isMusic:k,tag:f.toLowerCase(),isLooping:0!==e,vol:this.yd(c),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Mm)}}}},async lqa(a,
e,c,f,k,g,l,n,q,r){if(!this.ug){var p=a[1],u=this.j.sb.Ng(a[0]);if(u){var t=this.xh;this.xh=0;var w=this.Ds(r.toLowerCase(),p,0!==e,this.yd(c));try{await this.wk("play",{originalUrl:a[0],url:u.url,type:u.type,isMusic:p,tag:r.toLowerCase(),isLooping:0!==e,vol:this.yd(c),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:k,angle:d.Aa(g),innerAngle:d.Aa(l),outerAngle:d.Aa(n),outerGain:this.yd(q)}})}finally{w&&(w.placeholder=this.j.Mm)}}}},async jqa(a,e,c,f,k,g,l,n){if(!this.ug&&
f&&(f=f.Lg())&&f.m()){var q=f.m(),r=q.ea().ja(),[p,u]=this.AM(q.L(),q.M(),-r,this.io,this.jo),t=a[1],w=this.j.sb.Ng(a[0]);if(w){var x=this.xh;this.xh=0;var z=this.Ds(n.toLowerCase(),t,0!==e,this.yd(c));try{await this.wk("play",{originalUrl:a[0],url:w.url,type:w.type,isMusic:t,tag:n.toLowerCase(),isLooping:0!==e,vol:this.yd(c),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:p,y:u,angle:q.ja()-r,innerAngle:d.Aa(k),outerAngle:d.Aa(g),outerGain:this.yd(l),uid:f.zb}})}finally{z&&
(z.placeholder=this.j.Mm)}}}},async nqa(a,e,c,f,k){if(!this.ug){a=1===a;var g=this.j.sb.Ng(e)||this.Gm.get(e.toLowerCase());if(g){var l=this.xh;this.xh=0;var n=this.Ds(k.toLowerCase(),a,0!==c,this.yd(f));try{await this.wk("play",{originalUrl:e,url:g.url,type:g.type,isMusic:a,tag:k.toLowerCase(),isLooping:0!==c,vol:this.yd(f),pos:0,off:l,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{n&&(n.placeholder=this.j.Mm)}}}},async mqa(a,e,c,f,k,g,l,n,q,r,p){if(!this.ug){a=1===a;var u=this.j.sb.Ng(e)||
this.Gm.get(e.toLowerCase());if(u){var t=this.xh;this.xh=0;var w=this.Ds(p.toLowerCase(),a,0!==c,this.yd(f));try{await this.wk("play",{originalUrl:e,url:u.url,type:u.type,isMusic:a,tag:p.toLowerCase(),isLooping:0!==c,vol:this.yd(f),pos:0,off:t,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:k,y:g,angle:d.Aa(l),innerAngle:d.Aa(n),outerAngle:d.Aa(q),outerGain:this.yd(r)}})}finally{w&&(w.placeholder=this.j.Mm)}}}},async kqa(a,e,c,f,k,g,l,n,q){if(!this.ug&&!this.ug&&k&&(k=k.Lg())&&k.m()){var r=
k.m(),p=r.ea().ja(),[u,t]=this.AM(r.L(),r.M(),-p,this.io,this.jo);a=1===a;var w=this.j.sb.Ng(e)||this.Gm.get(e.toLowerCase());if(w){var x=this.xh;this.xh=0;var z=this.Ds(q.toLowerCase(),a,0!==c,this.yd(f));try{await this.wk("play",{originalUrl:e,url:w.url,type:w.type,isMusic:a,tag:q.toLowerCase(),isLooping:0!==c,vol:this.yd(f),pos:0,off:x,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:u,y:t,angle:r.ja()-p,innerAngle:d.Aa(g),outerAngle:d.Aa(l),outerGain:this.yd(n),uid:k.zb}})}finally{z&&
(z.placeholder=this.j.Mm)}}}},pta(a,e){this.Pa("set-looping",{tag:a.toLowerCase(),isLooping:0===e})},vta(a,e){this.Pa("set-muted",{tag:a.toLowerCase(),isMuted:0===e})},Ita(a,e){this.Pa("set-volume",{tag:a.toLowerCase(),vol:this.yd(e)})},sma(a,e,c,f){this.Pa("fade-volume",{tag:a.toLowerCase(),vol:this.yd(e),duration:c,stopOnEnd:0===f})},async s5(a){const e=a[1],c=this.j.sb.Ng(a[0]);c&&(this.PK++,await this.wk("preload",{originalUrl:a[0],url:c.url,type:c.type,isMusic:e}),this.OK++)},async vqa(a,e){a=
1===a;const c=this.j.sb.Ng(e)||this.Gm.get(e.toLowerCase());c&&(this.PK++,await this.wk("preload",{originalUrl:e,url:c.url,type:c.type,isMusic:a}),this.OK++)},ov(a,e){this.Pa("set-playback-rate",{tag:a.toLowerCase(),rate:Math.max(e,0)})},mg(a){this.Pa("stop",{tag:a.toLowerCase()})},Zta(){this.Pa("stop-all")},xta(a,e){this.Pa("set-paused",{tag:a.toLowerCase(),paused:0===e})},esa(a,e){this.Pa("seek",{tag:a.toLowerCase(),pos:e})},Dta(a){2===a&&(a=this.ug?1:0);a=0===a;this.ug!==a&&(this.ug=a,this.Pa("set-silent",
{isSilent:a}))},rta(a){a=this.yd(a);this.xt!==a&&(this.xt=a,this.Pa("set-master-volume",{vol:a}))},oja(a,e,c,f,k,g,l){a=a.toLowerCase();e=b[e];this.di(a);this.Pa("add-effect",{type:"filter",tag:a,params:[e,c,f,k,g,d.da(l/100,0,1)]})},lja(a,e,c,f){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"delay",tag:a,params:[e,this.yd(c),d.da(f/100,0,1)]})},pja(a,e,c,f,k,g){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"flanger",tag:a,params:[e/1E3,c/1E3,f,k/100,d.da(g/100,0,1)]})},uja(a,
e,c,f,k,g,l){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"phaser",tag:a,params:[e,c,f,k,g,d.da(l/100,0,1)]})},kja(a,e,c,f){a=a.toLowerCase();const k=this.j.sb.Ng(e[0]);k&&(this.di(a),this.Pa("add-effect",{type:"convolution",tag:a,bufferOriginalUrl:e[0],bufferUrl:k.url,bufferType:k.type,params:[0===c,d.da(f/100,0,1)]}))},qja(a,e){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"gain",tag:a,params:[this.yd(e)]})},tja(a){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"gain",
tag:a,params:[0]})},yja(a,e,c){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"tremolo",tag:a,params:[e,d.da(c/100,0,1)]})},xja(a,e,c){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"ringmod",tag:a,params:[e,d.da(c/100,0,1)]})},mja(a,e,c,f,k,g){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"distortion",tag:a,params:[this.Ly(e),this.Ly(c),f,this.Ly(k),d.da(g/100,0,1)]})},jja(a,e,c,f,k,g){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"compressor",tag:a,params:[e,
c,f,k/1E3,g/1E3]})},ija(a,e,c){a=a.toLowerCase();this.di(a);this.Pa("add-effect",{type:"analyser",tag:a,params:[e,c]})},Kqa(a){a=a.toLowerCase();this.AB.set(a,0);this.Pa("remove-effects",{tag:a});this.ht={}},Esa(a,e,c,f,k,g){this.Pa("set-effect-param",{tag:a.toLowerCase(),index:Math.floor(e),param:c,value:f,ramp:k,time:g})},nta(a){a&&(a=a.Lg())&&a.m()&&(this.ri=a)},ota(a){this.Iq=a},Vra(a){this.xh=Math.max(a,0)},Eua(a){const e=a[1];(a=this.j.sb.Ng(a[0]))&&this.Pa("unload",{url:a.url,type:a.type,isMusic:e})},
Fua(a,e){a=1===a;(e=this.j.sb.Ng(e)||this.Gm.get(e.toLowerCase()))&&this.Pa("unload",{url:e.url,type:e.type,isMusic:a})},Dua(){this.Pa("unload-all")},wja(a,e,c){this.Gm.set(c.toLowerCase(),{url:a,type:e})}}}"use strict";
self.B.D.Audio.Ud={fma(d){return(d=this.AA(d))?d.duration:0},pqa(d){return(d=this.AA(d))?d.playbackTime:0},oqa(d){return(d=this.AA(d))?d.playbackRate:0},Tua(d){return(d=this.AA(d))?this.VO(d.volume):0},Poa(){return this.VO(this.xt)},gma(d){return this.AB.get(d.toLowerCase())||0},Eja(d,b){return(d=this.Wy(d,Math.floor(b)))?d.binCount:0},Dja(d,b,a){d=this.Wy(d,Math.floor(b));if(!d)return 0;a=Math.floor(a);return 0>a||a>=d.binCount?0:d.freqBins[a]},Fja(d,b){return(d=this.Wy(d,Math.floor(b)))?d.peak:
0},Gja(d,b){return(d=this.Wy(d,Math.floor(b)))?d.rms:0},Ura(){return this.sW},Vla(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1E3}};{"use strict";const d=self.B;d.D.qd=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.B;d.D.qd.gh=class extends d.Ep{constructor(b){super(b)}A(){super.A()}Cc(){}}}
{"use strict";const d=self.B;d.D.qd.Instance=class extends d.Dp{constructor(b){super(b,"browser");this.Xk="";this.Iw=!1;this.zU=this.lW="";this.lV=!1;this.JL=this.uW=this.vW=0;this.Kw=!1;this.jE([["online-state",a=>this.nca(a)],["backbutton",()=>this.Xba()],["sw-message",a=>this.sca(a)],["hashchange",a=>this.fca(a)]]);b=this.K().Hb();this.ie=new d.Br(d.Ub.Bc(b,"afterfirstlayoutstart",()=>this.Wba()),d.Ub.Bc(b,"window-resize",()=>this.OH()),d.Ub.Bc(b,"suspend",()=>this.KH()),d.Ub.Bc(b,"resume",()=>
this.JH()));this.j.lE(this.wk("get-initial-state",{exportType:this.j.Fj}).then(a=>{this.Xk=a.location;this.Iw=a.isOnline;this.lW=a.referrer;this.zU=a.title;this.lV=a.isCookieEnabled;this.vW=a.screenWidth;this.uW=a.screenHeight;this.JL=a.windowOuterWidth;this.Kw=a.isScirraArcade}))}A(){super.A()}Wba(){this.Pa("ready-for-sw-messages")}async nca(b){b=!!b.isOnline;this.Iw!==b&&((this.Iw=b)?await this.lb(d.D.qd.G.O4):await this.lb(d.D.qd.G.M4))}async OH(){await this.lb(d.D.qd.G.W4)}KH(){this.na(d.D.qd.G.P4)}JH(){this.na(d.D.qd.G.Q4)}async Xba(){await this.lb(d.D.qd.G.o4)}sca(b){b=
b.type;"downloading-update"===b?this.na(d.D.qd.G.g5):"update-ready"===b||"update-pending"===b?this.na(d.D.qd.G.h5):"offline-ready"===b&&this.na(d.D.qd.G.N4)}fca(b){this.Xk=b.location;this.na(d.D.qd.G.C4)}}}"use strict";
self.B.D.qd.G={Una(){return this.Iw},O4(){return!0},M4(){return!0},W4(){return!0},Nla(){return this.lV},Ina(){return this.j.X.yq},o4(){return!0},Zna(d){return(this.j.X.pl<=this.j.X.ol?0:1)===d},g5(){return!0},h5(){return!0},N4(){return!0},C4(){return!0},Kpa(){return!this.j.sn()},P4(){return!0},Q4(){return!0},Wma(){return!1},Ena(){return!1},xpa(){return!1},ypa(){return!1},Nna(){return!1},xna(){return!0},nua(){return!0}};
{"use strict";const d=self.B,b="portrait landscape portrait-primary portrait-secondary landscape-primary landscape-secondary".split(" ");d.D.qd.fb={Bja(a){this.Pa("alert",{message:a.toString()})},Zka(){this.Kw||(this.j.wb?self.bg.$ka():this.Pa("close"))},xma(){this.Pa("set-focus",{isFocus:!0})},Jka(){this.Pa("set-focus",{isFocus:!1})},Qma(){this.Kw||this.Pa("navigate",{type:"back"})},Rma(){this.Kw||this.Pa("navigate",{type:"forward"})},Sma(){},Jqa(){this.Kw||(this.j.wb?this.j.r5():this.Pa("navigate",
{type:"reload"}))},Uma(a,e){this.Jk("navigate",{type:"url",url:a,target:e,exportType:this.j.Fj})},G1(a,e){this.Jk("navigate",{type:"new-window",url:a,tag:e,exportType:this.j.Fj})},Rqa(a,e){2<=a&&(a+=1);6===a&&(a=2);1===a&&(a=0);a=d.uE.UR(a);this.j.X.C6(a);this.Jk("request-fullscreen",{navUI:e})},Oka(){this.Jk("exit-fullscreen")},Sua(a){a=a.split(",");for(let e=0,c=a.length;e<c;++e)a[e]=parseInt(a[e],10);this.Jk("vibrate",{pattern:a})},async CF(a,e){a&&e&&(a=await this.j.sb.oz(a),this.j.CF(a,e))},
qna(a,e,c){c&&(a=`data:${e},${encodeURIComponent(a)}`,this.j.CF(a,c))},Jla(a,e){e=e.toString();0===a?console.log(e):1===a?console.warn(e):2===a&&console.error(e)},Hla(a){console.group(a)},Ila(){console.groupEnd()},pma(a){try{eval(a)}catch(e){console.error("Error executing JavaScript: ",e)}},Joa(a){a=Math.floor(a);0>a||a>=b.length||this.Jk("lock-orientation",{orientation:b[a]})},Iua(){this.Jk("unlock-orientation")},ZO(a){this.j.sb.ZO(a)},Qsa(a){this.Pa("set-hash",{hash:a})}}}"use strict";
self.B.D.qd.Ud={URL(){return this.j.Je?this.Xk:location.toString()},Aqa(){return this.j.Je?(new URL(this.Xk)).protocol:location.protocol},dma(){return this.j.Je?(new URL(this.Xk)).hostname:location.hostname},uqa(){return this.j.Je?(new URL(this.Xk)).port:location.port},Mpa(){return this.j.Je?(new URL(this.Xk)).pathname:location.pathname},Zma(){return this.j.Je?(new URL(this.Xk)).hash:location.hash},eG(){return this.j.Je?(new URL(this.Xk)).search:location.search},Cqa(d){const b=this.j.Je?(new URL(this.Xk)).search:
location.search;return(d=RegExp("[?&]"+d+"=([^&]*)").exec(b))?decodeURIComponent(d[1].replace(/\+/g," ")):""},Gqa(){return this.lW},qua(){return this.zU},noa(){return navigator.language},bd(){return navigator.platform},Mua(){return navigator.userAgent},oma(d){let b=0;try{b=eval(d)}catch(a){console.error("Error executing JavaScript: ",a)}return"number"===typeof b||"string"===typeof b?b:"boolean"===typeof b?b?1:0:0},kpa(){return navigator.appName},Rua(){return navigator.appVersion},zqa(){return navigator.product},
Qua(){return navigator.vendor},Cka(){return 1},Dka(){return Infinity},Bka(){const d=navigator.connection;return d?d.downlink||d.downlinkMax||d.bandwidth||Infinity:Infinity},ConnectionType(){const d=navigator.connection;return d?d.type||"unknown":"unknown"},ama(){return self.devicePixelRatio},$ra(){return this.vW},Zra(){return this.uW},hva(){return this.j.X.pl},gva(){return this.j.X.ol},jva(){return this.JL},iva(){return this.JL}};{"use strict";const d=self.B;d.D.Ad=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.B;d.D.Ad.gh=class extends d.Ep{constructor(b){super(b)}A(){super.A()}Cc(){}Pg(){return self.f2}};self.f2=class extends self.Ez{constructor(b){super(b);b.K().fw.kM=this}}}
{"use strict";const d=self.B;d.D.Ad.Instance=class extends d.Dp{constructor(b){super(b,"mouse");this.cq=[!1,!1,!1];this.QW=this.uD=this.er=this.qo=this.po=0;this.TB=!1;this.vK=this.uK=0;this.jE([["pointer-lock-change",a=>this.pca(a)],["pointer-lock-error",a=>this.qca(a)]]);b=this.K().Hb();this.ie=new d.Br(d.Ub.Bc(b,"pointermove",a=>this.IH(a.data)),d.Ub.Bc(b,"pointerdown",a=>this.HH(a.data)),d.Ub.Bc(b,"pointerup",a=>this.KA(a.data)),d.Ub.Bc(b,"dblclick",a=>this.aca(a.data)),d.Ub.Bc(b,"wheel",a=>this.mca(a.data)),
d.Ub.Bc(b,"window-blur",()=>this.NH()))}A(){super.A()}HH(b){"mouse"===b.pointerType&&(this.po=b.pageX-this.j.fp(),this.qo=b.pageY-this.j.gp(),this.ZG(b.lastButtons,b.buttons))}IH(b){this.uK=b.movementX;this.vK=b.movementY;this.na(d.D.Ad.G.J4);this.vK=this.uK=0;"mouse"===b.pointerType&&(this.po=b.pageX-this.j.fp(),this.qo=b.pageY-this.j.gp(),this.ZG(b.lastButtons,b.buttons))}KA(b){"mouse"===b.pointerType&&this.ZG(b.lastButtons,b.buttons)}ZG(b,a){this.YG(b,a,1,0);this.YG(b,a,4,1);this.YG(b,a,2,2)}YG(b,
a,e,c){!(b&e)&&a&e?this.kca(c):b&e&&!(a&e)&&this.lca(c)}kca(b){this.cq[b]=!0;this.na(d.D.Ad.G.m4);this.er=b;this.uD=0;this.na(d.D.Ad.G.lP);this.na(d.D.Ad.G.wP)}lca(b){this.cq[b]&&(this.cq[b]=!1,this.er=b,this.na(d.D.Ad.G.xP))}aca(b){this.er=b.button;this.uD=1;this.na(d.D.Ad.G.lP);this.na(d.D.Ad.G.wP)}mca(b){this.QW=0>b.deltaY?1:0;this.na(d.D.Ad.G.j5)}NH(){for(let b=0,a=this.cq.length;b<a&&this.cq[b];++b)this.cq[b]=!1,this.er=b,this.na(d.D.Ad.G.xP)}cO(b){const a=this.j.Pb(),e=this.po,c=this.qo;return"undefined"===
typeof b?a.Mu(0).eN(e,c):(b=a.ea(b))?b.Fg(e,c):[0,0]}HS(){return 0<=this.po&&0<=this.qo&&this.po<this.j.LN()&&this.qo<this.j.KN()}pca(b){this.aU(b["has-pointer-lock"])}qca(b){this.aU(b["has-pointer-lock"]);this.na(d.D.Ad.G.T4)}aU(b){this.TB!==b&&((this.TB=b)?this.na(d.D.Ad.G.U4):this.na(d.D.Ad.G.V4))}}}
{"use strict";const d=self.B;d.D.Ad.G={lP(b,a){return this.er===b&&this.uD===a},m4(){return!0},b3(b){return this.cq[b]},xP(b){return this.er===b},Wna(b){if(!this.HS())return!1;const a=this.j.Bf().oi;return d.xor(this.j.hf.us(b,this.po,this.qo,a),a)},wP(b,a,e){return b===this.er&&a===this.uD&&this.HS()?this.j.hf.us(e,this.po,this.qo,!1):!1},j5(b){return this.QW===b},U4(){return!0},V4(){return!0},T4(){return!0},Yma(){return this.TB},J4(){return!0}}}
{"use strict";const d=self.B;let b=null;const a="auto pointer text crosshair move help wait none".split(" ");d.D.Ad.fb={ysa(e){e=a[e];b!==e&&(b=e,this.Pa("cursor",e))},y6(e){if(!d.bd.Lz&&e&&(e=e.Lg())){var c=e.m(),f=e.Qh();c&&f&&b!==f&&(b=f,f.c0().then(k=>d.uu(k)).then(k=>{k=`url(${URL.createObjectURL(k)}) ${Math.round(c.jk()*f.S())} ${Math.round(c.kk()*f.V())}, auto`;this.Pa("cursor","");this.Pa("cursor",k)}))}},Uqa(){this.Jk("request-pointer-lock")},Iqa(){this.Pa("release-pointer-lock")}}}"use strict";
self.B.D.Ad.Ud={fR(d){return this.cO(d)[0]},gR(d){return this.cO(d)[1]},fY(){return this.po},gY(){return this.qo},ipa(){return this.uK},jpa(){return this.vK}};{"use strict";const d=self.B;d.D.Touch=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.B,b=self.Eg;d.D.Touch.gh=class extends d.Ep{constructor(e){super(e)}A(){super.A()}Cc(){}Pg(){return self.n2}};let a=null;self.n2=class extends self.Ez{constructor(e){super(e);a=e;e.K().fw.NM=this}requestPermission(e){b.Ae(e);const c=a.qk().ma;if("orientation"===e)return c.PH(0);if("motion"===e)return c.PH(1);throw Error("invalid type");}}}
{"use strict";const d=self.B;d.D.Touch.Instance=class extends d.Dp{constructor(b,a){super(b,"touch");this.ud=new Map;this.jC=this.SW=!1;this.QB=this.ki=this.ji=this.sL=this.tD=this.Tt=this.mI=this.lI=this.kI=this.pI=this.oI=this.nI=this.EK=this.DK=this.CK=this.MC=0;this.OC=[];a&&(this.SW=a[0]);this.iE("permission-result",e=>this.oca(e));b=this.K().Hb();this.ie=new d.Br(d.Ub.Bc(b,"pointerdown",e=>this.HH(e.data)),d.Ub.Bc(b,"pointermove",e=>this.IH(e.data)),d.Ub.Bc(b,"pointerup",e=>this.KA(e.data,!1)),
d.Ub.Bc(b,"pointercancel",e=>this.KA(e.data,!0)),d.Ub.Bc(b,"deviceorientation",e=>this.Zba(e.data)),d.Ub.Bc(b,"deviceorientationabsolute",e=>this.$ba(e.data)),d.Ub.Bc(b,"devicemotion",e=>this.Yba(e.data)),d.Ub.Bc(b,"tick2",()=>this.LH()))}A(){this.ud.clear();super.A()}HH(b){if("mouse"===b.pointerType)if(this.SW)this.jC=!0;else return;const a=b.pointerId;if(!this.ud.has(a)){var e=b.pageX-this.j.fp();b=b.pageY-this.j.gp();var c=performance.now(),f=this.ud.size;this.Tt=f;this.tD=a;var k=d.C(d.D.Touch.c8);
k.Rg(c,e,b,a,f);this.ud.set(a,k);this.na(d.D.Touch.G.L4);this.na(d.D.Touch.G.e5);this.ji=e;this.ki=b;this.na(d.D.Touch.G.zP)}}IH(b){if("mouse"!==b.pointerType||this.jC){var a=this.ud.get(b.pointerId);if(a){var e=performance.now();2>e-a.Ha()||a.Yl(e,b.pageX-this.j.fp(),b.pageY-this.j.gp(),b.width,b.height,b.pressure)}}}KA(b,a){if("mouse"===b.pointerType)if(this.jC)this.jC=!1;else return;const e=performance.now();b=b.pointerId;const c=this.ud.get(b);c&&(this.Tt=c.Ch,this.tD=c.hk(),this.na(d.D.Touch.G.K4),
this.na(d.D.Touch.G.d5),a||(a=c.J7(e),"single-tap"===a?(this.na(d.D.Touch.G.b5),this.ji=c.L(),this.ki=c.M(),this.na(d.D.Touch.G.c5)):"double-tap"===a&&(this.na(d.D.Touch.G.v4),this.ji=c.L(),this.ki=c.M(),this.na(d.D.Touch.G.w4))),c.A(),this.ud.delete(b))}PH(b){this.Jk("request-permission",{type:b});return new Promise((a,e)=>{this.OC.push({type:b,resolve:a,reject:e})})}oca(b){const a=b.result,e=b.type;this.sL=e;b=this.OC.filter(c=>c.type===e);for(const c of b)c.resolve(a?"granted":"denied");this.OC=
this.OC.filter(c=>c.type!==e);a?(this.na(d.D.Touch.G.S4),0===e?this.j.es():this.j.xn()):this.na(d.D.Touch.G.R4)}Zba(b){"number"===typeof b.webkitCompassHeading?this.MC=b.webkitCompassHeading:b.absolute&&(this.MC=b.alpha);this.CK=b.alpha;this.DK=b.beta;this.EK=b.gamma}$ba(b){this.MC=b.alpha}Yba(b){const a=b.acceleration;a&&(this.nI=a.x,this.oI=a.y,this.pI=a.z);if(b=b.accelerationIncludingGravity)this.kI=b.x,this.lI=b.y,this.mI=b.z}LH(){const b=performance.now();let a=0;for(const e of this.ud.values())e.Ha()<=
b-50&&e.nea(b),e.I7(b)&&(this.Tt=e.Ch,this.tD=e.hk(),this.QB=a,this.na(d.D.Touch.G.D4),this.ji=e.L(),this.ki=e.M(),this.na(d.D.Touch.G.E4),this.QB=0),++a}lj(b){b=Math.floor(b);for(const a of this.ud.values()){if(0===b)return a;--b}return null}Iv(b,a){return 0<=b&&0<=a&&b<this.j.LN()&&a<this.j.KN()}}}
{"use strict";const d=self.B,b=[];d.D.Touch.G={e5(){return!0},d5(){return!0},Jna(){return 0<this.ud.size},zP(a){return a&&this.Iv(this.ji,this.ki)?this.j.hf.us(a,this.ji,this.ki,!1):!1},goa(a){if(!a)return!1;const e=a.ca();var c=e.pa();for(const f of c){c=f.m();const k=c.ea();for(const g of this.ud.values()){if(!this.Iv(g.L(),g.M()))continue;const [l,n]=k.Fg(g.L(),g.M(),c.hg());if(c.vu(l,n)){b.push(f);break}}}return b.length?(e.gv(b),a.hc(),d.F(b),!0):!1},wla(a,e,c){return(a=this.lj(a))?d.compare(a.Kl(),
e,c):!1},Ipa(){return!0},cpa(){return!0},rla(a,e,c){this.j.es();return d.compare(0===a?this.CK:1===a?this.DK:this.EK,e,c)},dla(a,e,c){this.j.xn();return d.compare(0===a?this.kI:1===a?this.lI:2===a?this.mI:3===a?this.nI:4===a?this.oI:this.pI,e,c)},L4(a){a=Math.floor(a);return a===this.Tt},K4(a){a=Math.floor(a);return a===this.Tt},Xma(a){a=Math.floor(a);return this.ud.size>=a+1},D4(){return!0},b5(){return!0},v4(){return!0},E4(a){return a&&this.Iv(this.ji,this.ki)?this.j.hf.us(a,this.ji,this.ki,!1):
!1},c5(a){return a&&this.Iv(this.ji,this.ki)?this.j.hf.us(a,this.ji,this.ki,!1):!1},w4(a){return a&&this.Iv(this.ji,this.ki)?this.j.hf.us(a,this.ji,this.ki,!1):!1},S4(a){return this.sL===a},R4(a){return this.sL===a}}}"use strict";self.B.D.Touch.fb={Tqa(d){this.PH(d)}};
{"use strict";const d=self.B;d.D.Touch.Ud={uua(){return this.ud.size},fR(b){const a=this.lj(this.QB);return a?a.Lr(this.j.Na(),b,!0):0},gR(b){const a=this.lj(this.QB);return a?a.Lr(this.j.Na(),b,!1):0},kva(b,a){return(b=this.lj(b))?b.Lr(this.j.Na(),a,!0):0},mva(b,a){return(b=this.lj(b))?b.Lr(this.j.Na(),a,!1):0},lva(b,a){return(b=this.ud.get(b))?b.Lr(this.j.Na(),a,!0):0},nva(b,a){return(b=this.ud.get(b))?b.Lr(this.j.Na(),a,!1):0},fY(){const b=this.lj(0);return b?b.L():0},gY(){const b=this.lj(0);return b?
b.M():0},Yia(b){return(b=this.lj(b))?b.L():0},$ia(b){return(b=this.lj(b))?b.M():0},Zia(b){return(b=this.ud.get(b))?b.L():0},aja(b){return(b=this.ud.get(b))?b.M():0},Uta(b){return(b=this.lj(b))?b.Kl():0},Vta(b){return(b=this.ud.get(b))?b.Kl():0},Ija(b){return(b=this.lj(b))?d.Kd(b.ja()):0},Jja(b){return(b=this.ud.get(b))?d.Kd(b.ja()):0},Gla(){this.j.es();return this.MC},Cja(){this.j.es();return this.CK},Gka(){this.j.es();return this.DK},Fma(){this.j.es();return this.EK},dja(){this.j.xn();return this.kI},
fja(){this.j.xn();return this.lI},hja(){this.j.xn();return this.mI},cja(){this.j.xn();return this.nI},eja(){this.j.xn();return this.oI},gja(){this.j.xn();return this.pI},wua(){return this.Tt},vua(){return this.tD},fva(b){return(b=this.ud.get(b))?b.S():0},$ma(b){return(b=this.ud.get(b))?b.V():0},xqa(b){return(b=this.ud.get(b))?b.fW:0}}}
{"use strict";const d=self.B;let b=-1E3,a=-1E3,e=-1E4;d.D.Touch.c8=class extends d.la{constructor(){super();this.fW=this.P=this.U=this.bl=this.al=this.T=this.Z=this.kD=this.jD=this.BC=this.Yc=this.Ao=this.Ch=this.cW=0;this.rC=this.vJ=!1}A(){}Rg(c,f,k,g,l){this.cW=g;this.Ch=l;this.Ao=this.BC=this.Yc=c;this.jD=f;this.kD=k;this.Z=f;this.T=k;this.al=f;this.bl=k}Yl(c,f,k,g,l,n){this.BC=this.Yc;this.Yc=c;this.al=this.Z;this.bl=this.T;this.Z=f;this.T=k;this.U=g;this.P=l;this.fW=n;!this.rC&&15<=d.Bg(this.jD,
this.kD,this.Z,this.T)&&(this.rC=!0)}hk(){return this.cW}Ha(){return this.Yc}nea(c){this.BC=c}L(){return this.Z}M(){return this.T}Kl(){const c=d.Bg(this.Z,this.T,this.al,this.bl),f=(this.Yc-this.BC)/1E3;return 0<f?c/f:0}ja(){return d.Ih(this.al,this.bl,this.Z,this.T)}S(){return this.U}V(){return this.P}I7(c){return this.vJ?!1:500<=c-this.Ao&&!this.rC&&15>d.Bg(this.jD,this.kD,this.Z,this.T)?this.vJ=!0:!1}J7(c){if(this.vJ)return"";if(333>=c-this.Ao&&!this.rC&&15>d.Bg(this.jD,this.kD,this.Z,this.T)){if(666>=
c-e&&25>d.Bg(b,a,this.Z,this.T))return a=b=-1E3,e=-1E4,"double-tap";b=this.Z;a=this.T;e=c;return"single-tap"}return""}Lr(c,f,k){return"undefined"===typeof f?c.Mu(0).eN(this.Z,this.T)[k?0:1]:(c=c.ea(f))?c.Fg(this.Z,this.T)[k?0:1]:0}}}{"use strict";const d=self.B;d.D.Qb=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.B;d.D.Qb.gh=class extends d.Ep{constructor(b){super(b)}A(){super.A()}Cc(){}}}
{"use strict";const d=self.B;d.D.Qb.Instance=class extends d.Dp{constructor(b){super(b);this.jb=this.qg="";this.Rw=[];this.DU="";this.Lq=this.Kq=0;this.Ag=this.j.nS()}A(){super.A()}async Ln(b){this.DU=this.raa(b);await this.lb(d.D.Qb.G.y4)}raa(b){return b?"string"===typeof b?b:"string"===typeof b.message?b.message:"string"===typeof b.name?b.name:"string"===typeof b.data?b.data:"unknown error":"unknown error"}}}
{"use strict";const d=self.B;d.D.Qb.G={qP(b){return this.qg===b},kP(){return!0},pP(b){return this.qg===b},jP(){return!0},H4(b){return this.qg===b},n4(){return!0},q4(){return!0},j4(){return!0},y4(){return!0},oP(b){return this.qg===b},G4(b){return this.qg===b},mla(b,a){return d.compare(this.qg,b,a)},yla(b,a){return d.compare(this.jb,b,a)},aoa(){return 0<this.Lq},$na(){return 0<this.Kq},iP(){return!0},hP(){return!0}}}
{"use strict";const d=self.B;function b(a){return"string"===typeof a||"number"===typeof a}d.D.Qb.fb={async X6(a,e){this.Lq++;try{const c=await this.Ag.setItem(a,e);await this.zk(async()=>{this.qg=a;this.jb=c;await this.lb(d.D.Qb.G.kP);await this.lb(d.D.Qb.G.qP)})}catch(c){await this.Ln(c)}finally{this.Lq--,0===this.Lq&&await this.lb(d.D.Qb.G.iP)}},async nsa(a,e){if(e&&(e=e.Lg(this.H))&&(e=e.ma)){e=e.Ima();this.Lq++;try{await this.Ag.setItem(a,e),await this.zk(async()=>{this.qg=a;this.jb="";await this.lb(d.D.Qb.G.kP);
await this.lb(d.D.Qb.G.qP)})}catch(c){await this.Ln(c)}finally{this.Lq--,0===this.Lq&&await this.lb(d.D.Qb.G.iP)}}},async Oma(a){this.Kq++;try{const e=await this.Ag.getItem(a);await this.zk(async()=>{this.qg=a;this.jb=b(e)?e:"";await this.lb(d.D.Qb.G.jP);await this.lb(d.D.Qb.G.pP)})}catch(e){await this.Ln(e)}finally{this.Kq--,0===this.Kq&&await this.lb(d.D.Qb.G.hP)}},async Kma(a,e){if(e&&(e=e.Lg(this.H))){var c=e.ma;this.Kq++;try{let f=await this.Ag.getItem(a);f=f instanceof ArrayBuffer?f:new ArrayBuffer(0);
await this.zk(async()=>{this.jb="";this.qg=a;c.msa(f);await this.lb(d.D.Qb.G.jP);await this.lb(d.D.Qb.G.pP)})}catch(f){await this.Ln(f)}finally{this.Kq--,0===this.Kq&&await this.lb(d.D.Qb.G.hP)}}},async bZ(a){try{const e=await this.Ag.getItem(a);await this.zk(async()=>{this.qg=a;"undefined"===typeof e||null===e?(this.jb="",await this.lb(d.D.Qb.G.G4)):(this.jb=b(e)?e:"",await this.lb(d.D.Qb.G.oP))})}catch(e){await this.Ln(e)}},async Nqa(a){try{await this.Ag.removeItem(a),await this.zk(async()=>{this.qg=
a;this.jb="";await this.lb(d.D.Qb.G.n4);await this.lb(d.D.Qb.G.H4)})}catch(e){await this.Ln(e)}},async Xka(){try{await this.Ag.clear(),await this.zk(async()=>{this.jb=this.qg="";d.F(this.Rw);await this.lb(d.D.Qb.G.q4)})}catch(a){await this.Ln(a)}},async Hma(){try{const a=await this.Ag.keys();await this.zk(async()=>{this.Rw=a;await this.lb(d.D.Qb.G.j4)})}catch(a){await this.Ln(a)}}}}"use strict";
self.B.D.Qb.Ud={y3(){return this.jb},joa(){return this.qg},loa(){return this.Rw.length},koa(d){d=Math.floor(d);return 0>d||d>=this.Rw.length?"":this.Rw[d]},kma(){return this.DU}};{"use strict";const d=self.B;d.D.dd=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.B;d.D.dd.gh=class extends d.Ep{constructor(b){super(b);this.Yd=b.Yd}A(){d.F(this.Yd);super.A()}Cc(){for(const b of this.Yd)b.F3(this.j)}Wr(b){const a={Oi:this.j.td};return Promise.all(this.Yd.map(e=>e.G3(b,a)))}Bp(){for(const b of this.Yd)b.I5()}Uz(){this.WT()}WT(){for(const b of this.N.Lha())b.ma.hI()}Cu(b){d.D.dd.h0(this,b)}}}
{"use strict";const d=self.B,b=d.C(d.Rect),a=d.C(d.Bd),e=d.C(d.wv);d.D.dd.Instance=class extends d.qG{constructor(f,k){super(f);let g=!0,l="",n=0,q=!0;k&&(g=!!k[0],l=k[1],n=k[2],q=k[3]);this.Wb=this.N.HN(l)||this.N.Yd[0];this.Db=d.da(n,0,this.Wb.$d.length-1);this.kf=this.Wb.hn(this.Db);k=this.kf.Vd();this.Qs=k.we();this.UI=k.Th();this.jw=k.uz();this.J1();f.kv(2,!0);f.kv(1,0<=this.Wb.Kl());this.Sk=Math.abs(this.Wb.Kl());this.Ps=this.Wb.oW;this.cB=d.C(d.Ur);this.Ok=this.Ij=0;this.hU="";this.ew=-1;this.Ks=
"";this.oU=0;f=this.m();this.yfa=f.gk();f.$h(g);f.jv(q);f.ms(this.kf.jk());f.ns(this.kf.kk());f.EG(this.kf.fq);f.ua();1===this.N.Yd.length&&1===this.N.Yd[0].$d.length||0===this.Sk||this.De()}A(){this.cB=this.Qs=this.kf=this.Wb=null;super.A()}Qh(){return this.kf.Vd()}wp(){return!0}Zr(){this.Qs=null}CP(){this.hI()}yf(f){var k=this.Qs;null!==k&&(f.$g(k),k=this.m(),k.Qg()?this.L$(k,f):this.P$(k,f))}P$(f,k){let g=this.yfa;this.j.ao&&(g=f.aG(g));k.D5(g,this.jw)}L$(f,k){const g=f.B1();if(f.k3()){f.By(b,
a,!1);let l=a;this.j.ao&&(l=f.aG(l));g.UY(f.Jl(),l,this.jw);f.wQ(!1)}g.yf(k)}Fu(){return this.cB.ba()}Iz(){return this.H.YE(2)}hs(f){this.H.kv(2,f)}Mz(){return this.H.YE(1)}qv(f){this.H.kv(1,f)}LF(){return this.H.YE(4)}rQ(f){this.H.kv(4,f)}Ed(){this.Ks&&this.ER();0<=this.ew&&this.pH();const f=this.Sk;if(this.Iz()&&0!==f){this.cB.sc(this.j.Wi(this.H));var k=this.Fu(),g=this.kf,l=g.BU/f;if(!(k<this.Ij+l)){var n=this.Wb,q=this.Ps,r=n.$d.length,p=n.kn(),u=n.iC,t=n.cga;this.Mz()?this.Db++:this.Db--;this.Ij+=
l;this.Db>=r&&(t?(this.qv(!1),this.Db=r-2):u?this.Db=q:(this.Ok++,this.Ok>=p?this.sH(!1):this.Db=q));0>this.Db&&(t?(this.Db=1,this.qv(!0),u||(this.Ok++,this.Ok>=p&&this.sH(!0))):u?this.Db=q:(this.Ok++,this.Ok>=p?this.sH(!0):this.Db=q));this.Db=d.da(this.Db,0,r-1);l=n.hn(this.Db);k>this.Ij+l.BU/f&&(this.Ij=k);this.JA(g,l)}}else this.em()}sH(f){this.Db=f?0:this.Wb.$d.length-1;this.hs(!1);this.hU=this.Wb.Ea();this.rQ(!0);this.na(d.D.dd.G.l4);this.na(d.D.dd.G.k4);this.rQ(!1);this.Ok=0}JA(f,k){if(f!==
k){var g=this.m(),l=f.Vd();f=k.Vd();var n=l.S();l=l.V();var q=f.S(),r=f.V();n!==q&&g.cf(g.S()*(q/n));l!==r&&g.Ze(g.V()*(r/l));g.ms(k.jk());g.ns(k.kk());g.EG(k.fq);g.ua();this.kf=k;this.Qs=f.we();this.UI=f.Th();this.jw=f.uz();k=this.Ga().fd;for(let p=0,u=k.length;p<u;++p);this.na(d.D.dd.G.B4);this.j.ga()}}Lea(f){this.hs(!0);this.Ij=this.Fu();1===f&&0!==this.Db&&(this.ew=0,this.LF()||this.pH());this.De()}Oda(f,k){this.Ks=f;this.oU=k;this.De();this.LF()||this.ER()}cS(){return this.Ks?this.Ks:this.Wb.Ea()}Pda(f){isFinite(f)&&
(this.ew=f,this.LF()||this.pH())}Rda(f){this.Sk=Math.abs(f);this.qv(0<=f);0<this.Sk&&this.De()}YR(){return this.Mz()?this.Sk:-this.Sk}Qda(f){this.Ps=f=d.da(Math.floor(f),0,this.Wb.$d.length-1)}ER(){const f=this.kf;var k=this.N.HN(this.Ks);this.Ks="";!k||k===this.Wb&&this.Iz()||(this.Wb=k,this.qv(0<=k.Kl()),this.Sk=Math.abs(k.Kl()),this.Ps=k.oW,this.Db=d.da(this.Db,0,this.Wb.$d.length-1),1===this.oU&&(this.Db=0),this.hs(!0),this.Ij=this.Fu(),k=this.Wb.hn(this.Db),this.JA(f,k))}pH(){const f=this.kf;
var k=this.Db;this.Db=d.da(Math.floor(this.ew),0,this.Wb.$d.length-1);this.ew=-1;k!==this.Db&&(k=this.Wb.hn(this.Db),this.JA(f,k),this.Ij=this.Fu())}hI(){const f=this.kf.Vd();this.Qs=f.we();this.UI=f.Th();this.jw=f.uz();this.m().wQ(!0)}we(){return this.Qs}Th(){return this.UI}uz(){return this.jw}aF(){return this.kf.aF()}Gl(f){const k=this.kf,g=this.m();if("string"===typeof f)f=k.W0(f);else if("number"===typeof f)f=k.V0(f-1);else throw new TypeError("expected string or number");if(!f)return[g.L(),g.M()];
e.xa(f.pp());if(g.Qg()){const [l,n]=g.Jl().UQ(e.Z,e.T);e.set(l,n)}e.offset(-k.jk(),-k.kk());e.scale(g.S(),g.V());e.rotate(g.ja());e.offset(g.L(),g.M());return[e.Z,e.T]}v0(){return this.m().Ll().uM()}MN(f){f=Math.floor(f);const k=this.m();var g=k.Ll();const l=g.uM();f===l&&(f=0);if(0>f||f>=l)return[0,0];g=g.Hd;return[g[2*f]+k.L(),g[2*f+1]+k.M()]}cd(){const f={a:this.Wb.Xa};0!==this.Ij&&(f.fs=this.Ij);var k=this.Fu();0!==k&&(f.at=k);0!==this.Db&&(f.f=this.Db);0!==this.Sk&&(f.cas=this.Sk);1!==this.Ok&&
(f.ar=this.Ok);0!==this.Ps&&(f.rt=this.Ps);this.Iz()||(f.ap=this.Iz());this.Mz()||(f.af=this.Mz());k=this.m();k.Ug()&&(f.ce=k.Ug());return f}Nc(f){var k=this.J().p0(f.a);k&&(this.Wb=k);this.Ij=f.hasOwnProperty("fs")?f.fs:0;this.cB.Set(f.hasOwnProperty("at")?f.at:0);k=f.hasOwnProperty("f")?f.f:0;this.Db=d.da(k,0,this.Wb.$d.length-1);this.Sk=f.hasOwnProperty("cas")?f.cas:0;this.Ok=f.hasOwnProperty("ar")?f.ar:1;k=f.hasOwnProperty("rt")?f.rt:0;this.Ps=d.da(k,0,this.Wb.$d.length-1);this.hs(f.hasOwnProperty("ap")?
!!f.ap:!0);this.qv(f.hasOwnProperty("af")?!!f.af:!0);this.kf=k=this.Wb.hn(this.Db);this.hI();const g=this.m();g.ms(k.jk());g.ns(k.kk());g.EG(k.fq);g.jv(!!f.ce)}ic(f){const k=this.m();switch(f){case 3:return k.Ug();case 2:return d.da(this.Db,0,this.Wb.$d.length-1)}}If(f,k){var g=this.m();switch(f){case 3:g.jv(!!k);break;case 2:this.hs(!1);f=this.Wb.$d.length-1;g=k=d.da(k,0,f);k=this.Wb.hn(this.Db);const l=this.Wb.hn(g);this.JA(k,l);this.Db=d.da(g,0,f)}}Pg(){return self.l2}};const c=new WeakMap;self.l2=
class extends self.Fz{constructor(){super();c.set(this,self.Wu.In().ma)}get animationName(){return c.get(this).cS()}get imageWidth(){return c.get(this).Qh().S()}get imageHeight(){return c.get(this).Qh().V()}}}
{"use strict";const d=self.B;d.D.dd.G={rna(b){return d.Kh(this.cS(),b)},jla(b,a){return d.compare(this.Db,b,a)},fla(b,a){return d.compare(this.YR(),b,a)},k4(b){return d.Kh(this.hU,b)},l4(){return!0},B4(){return!0},Ona(){return 0>this.m().S()},Gna(){return 0>this.m().V()},BP(){return!0},f5(){return!0},Ug(){return this.m().Ug()}}}
{"use strict";const d=self.B;d.D.dd.fb={O7(b,a,e,c){if(b&&a){var [f,k]=this.Gl(e);if(e=this.j.AE(b,a,f,k,c)){c&&a.LG(e);b.Jb().Tr()&&(a=e.m(),a.jc(this.m().ja()),a.ua());a=this.j.oa();a.Qe(!0);e.VA();a.Qe(!1);c=this.j.Hu().Ff();a=!1;if(!c.has("Spawn_LastExec")||c.get("Spawn_LastExec")<this.j.Ys)a=!0,c.set("Spawn_LastExec",this.j.Ys);if(b!==this.J()&&(b=b.ca(),b.Be(!1),b=b.I,a&&d.F(b),b.push(e),e.cc()))for(const g of e.Qd)e=g.J().ca(),a?e.Ck(g):(e.Be(!1),e.Sp(g))}}},$ta(){this.hs(!1)},Wta(b){this.Lea(b)},
q6(b,a){this.Oda(b,a)},jsa(b){this.Pda(b)},lsa(b){this.Rda(b)},ksa(b){this.Qda(b)},tta(b){const a=this.m(),e=a.S();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.cf(b),a.ua())},Ksa(b){const a=this.m(),e=a.V();b=Math.abs(e)*(0===b?-1:1);e!==b&&(a.Ze(b),a.ua())},Jp(b){const a=this.kf.Vd(),e=this.m();var c=0>e.S()?-1:1;const f=0>e.V()?-1:1;c*=a.S()*b;b=a.V()*b*f;if(e.S()!==c||e.V()!==b)e.Dc(c,b),e.ua()},async Doa(b,a){const e=this.kf.Vd(),c=this.m(),f=this.j;if(e.kl===b)0===a&&(c.Dc(e.S(),e.V()),c.ua()),this.na(d.D.dd.G.BP);
else{var k=d.C(d.Gz);try{await k.I3(f,b);if(!k.OF())throw Error("image failed to load");await k.Vr(f.Cb(),{Oi:this.j.td})}catch(g){console.error("Load image from URL failed: ",g);this.na(d.D.dd.G.f5);return}e.V5(k);this.eb.WT();this.pA()||0!==a||(c.Dc(e.S(),e.V()),c.ua());f.ga();this.pA()||await this.lb(d.D.dd.G.BP)}},xsa(b){this.m().jv(b)},DG(b,a){this.m().DG(0===b,a)},D6(b){this.m().kg(b);this.j.ga()}}}"use strict";
self.B.D.dd.Ud={Nja(){return this.Db},Oja(){return this.Wb.$d.length},Pja(){return this.Wb.Ea()},Qja(){return this.YR()},Jpa(){return this.Wb.Kl()},jna(d){return this.Gl(d)[0]},kna(d){return this.Gl(d)[1]},ina(){return this.aF()},lna(){return this.Qh().S()},hna(){return this.Qh().V()},rqa(d){return this.MN(d)[0]},sqa(d){return this.MN(d)[1]},qqa(){return this.v0()}};{"use strict";const d=self.B;d.D.Dk=class extends d.Vl{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.B;d.D.Dk.gh=class extends d.Ep{constructor(b){super(b);this.xb=d.C(self.P7)}A(){super.A()}Cc(){this.Vd().UF(this.j)}Wr(b){return this.Vd().Vr(b,{Oi:this.j.td})}Bp(){this.Vd().Wh()}o8(b,a,e,c){const f=this.Vd(),k=this.xb;k.cf(f.S());k.Ze(f.V());k.eA(b);k.uG(a);k.vG(e);k.FG(c);k.YQ()}}}
{"use strict";const d=self.B,b=self.Eg,a=["left","center","right"],e=["top","center","bottom"];d.D.Dk.Instance=class extends d.qG{constructor(k,g){super(k);this.fc="";this.Vn=!0;this.og=this.gf=16;this.Tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,;:?!-_~#\"'&()[]|`\\/@\u00b0+=*$\u00a3\u20ac<>";k="";this.wj=1;this.de=this.ke=this.Ac=this.xj=0;this.Um=!0;this.pe=null;this.jl=this.Ut=-1;this.Lx=0;g&&(this.fc=g[0],this.Vn=g[1],this.gf=g[2],this.og=g[3],this.Tn=g[4],k=g[5],this.wj=
g[6],this.xj=g[7],this.Ac=g[8],this.ke=g[9],this.de=g[10],this.Um=0===g[11],this.m().$h(g[12]));this.eb.o8(this.gf,this.og,this.Tn,k);this.pe=d.C(self.R7,this.eb.xb);g=this.m();this.pe.Dc(g.S(),g.V());this.jh();this.H.b7()}A(){this.Hn();this.pe.A();this.pe=null;super.A()}jh(){const k=this.pe;k&&(k.fQ(this.Vn),k.qs(this.fc),k.LQ(this.Um?"word":"character"),k.Q6(a[this.ke]),k.D7(e[this.de]),k.FQ(this.xj),k.jA(this.Ac))}yf(k){const g=this.N.Vd();var l=g.we();if(l){k.$g(l);l=this.m();var n=l.gk(),q=this.pe;
q.Jp(this.wj);q.j7(l.iO());this.j.ao&&(n=l.aG(n));q.Dc(l.S(),l.V());q.xb.n7(g.Th());q.Ak(l.ub);q.yf(k,n.Nb,n.Ob,l.ja())}}cd(){const k={t:this.fc,ebbc:this.Vn,csc:this.wj,csp:this.xj,lh:this.Ac,ha:this.ke,va:this.de,w:this.Um,cw:this.eb.xb.gf,ch:this.eb.xb.og,cs:this.eb.xb.Tn,sd:this.eb.xb.Lt};-1!==this.jl&&(k.tw={st:this.Ut,en:this.jl,l:this.Lx});return k}Nc(k){this.Hn();this.fc=k.t;this.Vn=k.ebbc;this.wj=k.csc;this.xj=k.csp;this.Ac=k.lh;this.ke=k.ha;this.de=k.va;this.Um=k.w;if(k.hasOwnProperty("tw")){var g=
k.tw;this.Ut=g.st;this.jl=g.en;this.Lx=k.l}g=this.eb.xb;g.eA(k.cw);g.uG(k.ch);g.vG(k.cs);g.FG(k.sd);this.jh();-1!==this.jl&&this.De()}ic(k){switch(k){case 0:return this.fc;case 1:return this.Vn;case 2:return this.eb.xb.gf;case 3:return this.eb.xb.og;case 4:return this.eb.xb.Tn;case 5:return this.eb.xb.Lt;case 6:return this.wj;case 7:return this.xj;case 8:return this.Ac;case 9:return this.ke;case 10:return this.de;case 11:return this.Um?1:0}}If(k,g){switch(k){case 0:if(this.fc===g)break;this.fc=g;
this.jh();break;case 1:if(this.Vn===!!g)break;this.Vn=!!g;this.jh();break;case 2:this.eb.xb.eA(g);break;case 3:this.eb.xb.uG(g);break;case 4:this.eb.xb.vG(g);break;case 5:this.eb.xb.FG(g);break;case 6:if(this.wj===g)break;this.wj=g;this.jh();break;case 7:if(this.xj===g)break;this.xj=g;this.jh();break;case 8:if(this.Ac===g)break;this.Ac=g;this.jh();break;case 9:if(this.ke===g)break;this.ke=g;this.jh();break;case 10:if(this.de===g)break;this.de=g;this.jh();break;case 11:this.Um!==(0===g)&&(this.Um=
0===g,this.jh())}}SA(k){this.fc!==k&&(this.fc=k,this.pe.qs(k),this.j.ga())}Mea(k,g){this.SA(k);this.Ut=this.j.sF();this.jl=this.Ut+g/this.Ga().n0();this.Lx=d.yl.PQ(k).length;this.pe.gA(0);this.De()}Hn(){this.jl=this.Ut=-1;this.Lx=0;this.pe.gA(-1);this.em()}X$(){-1!==this.jl&&(this.Hn(),this.na(d.D.Dk.G.AP),this.j.ga())}wea(k){this.wj!==k&&(this.wj=k,this.pe.Jp(this.wj),this.j.ga())}Vda(k){this.xj!==k&&(this.xj=k,this.pe.FQ(this.xj),this.j.ga())}DT(k){this.Ac!==k&&(this.Ac=k,this.pe.jA(this.Ac),this.j.ga())}fea(k){this.ke!==
k&&(this.ke=k,this.jh(),this.j.ga())}KT(k){this.de!==k&&(this.de=k,this.jh(),this.j.ga())}Fea(k){k=!!k;this.Um!==k&&(this.Um=k,this.jh(),this.j.ga())}Ed(){var k=this.j.sF();k>=this.jl?(this.Hn(),this.na(d.D.Dk.G.AP),this.j.ga()):(k=d.via(this.Ut,this.jl,k,this.Lx),k=Math.floor(k),k!==this.pe.qh&&(this.pe.gA(k),this.j.ga()))}Pg(){return self.k2}};const c=new WeakMap,f=new Map([["top",0],["center",1],["bottom",2]]);self.k2=class extends self.Fz{constructor(){super();c.set(this,self.Wu.In().ma)}get text(){return c.get(this).fc}set text(k){b.Ae(k);
const g=c.get(this);g.Hn();g.SA(k)}set lineHeight(k){b.Xg(k);c.get(this).DT(k)}get lineHeight(){return c.get(this).Ac}set verticalAlign(k){b.Ae(k);k=f.get(k);if("undefined"===typeof k)throw Error("invalid mode");c.get(this).KT(k)}get verticalAlign(){return e[c.get(this).de]}}}{"use strict";const d=self.B;d.D.Dk.G={ula(b,a){return a?this.fc===b:d.Kh(this.fc,b)},boa(){return-1!==this.jl},AP(){return!0}}}"use strict";
self.B.D.Dk.fb={qs(d){this.Hn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.SA(d.toString())},Rja(d){this.Hn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);(d=d.toString())&&this.SA(this.fc+d)},Aua(d,b){this.Hn();"number"===typeof d&&1E9>d&&(d=Math.round(1E10*d)/1E10);this.Mea(d.toString(),b)},zua(){this.X$()},Jp(d){this.wea(d)},wsa(d){this.Vda(d)},jA(d){this.DT(d)},eA(d,b){let a=!1;const e=this.eb.xb;for(const c of d)if(" "===c)e.k7(b),a=!0;else if(d=e.$y(c))d.mQ(b),a=
!0;a&&e.v6();this.j.ga()},D6(d){this.m().kg(d);this.j.ga()},Osa(d){this.fea(d)},Gta(d){this.KT(d)},Mta(d){this.Fea(0===d)}};{"use strict";const d=self.B;d.D.Dk.Ud={Vka(b){return(b=this.eb.xb.$y(b))?b.SE():this.eb.xb.gf},Ska(){return this.og},Tka(){return this.wj},Uka(){return this.xj},woa(){return this.Ac},Text(){return this.fc},iqa(){return this.Vn?d.yl.PQ(this.fc):this.fc},pua(){const b=this.m();this.pe.Dc(b.S(),b.V());return this.pe.uO()},oua(){const b=this.m();this.pe.Dc(b.S(),b.V());return this.pe.tO()}}}
{"use strict";const d=self.B;self.Q7=class{constructor(b,a,e,c){a=b.gf;let f=b.og;this.xb=b;this.iW=new d.Rect(e,c,e+a,c+f);this.hl=new d.Rect;this.YI=-1;this.cU()}A(){this.hl=this.iW=this.xb=null}cU(){let b=this.xb.S(),a=this.xb.V();this.hl.xa(this.iW);this.hl.sl(b,a);this.hl.Zha(this.xb.Th())}Th(){return this.hl}mQ(b){this.YI=b}SE(){return 0>this.YI?this.xb.gf:this.YI}}}
{"use strict";const d=self.B,b=new d.Rect,a=new d.Bd,e=new d.ib,c=new Set(["left","center","right"]),f=new Set(["top","center","bottom"]),k=new Set(["word","character"]);self.R7=class{constructor(g){this.xb=g;this.lm=this.jf=0;this.fc="";this.He=!1;this.rj=null;this.wf=d.C(d.yv);this.kr="word";this.LL=!1;this.ke="left";this.de="top";this.tx=this.Zb=1;this.Ac=this.Xq=0;this.ub=d.C(d.ib);this.qh=-1;this.ph=0;this.ax=(l,n)=>this.Nv(l,n);this.xb.U8(this)}A(){this.xb.cda(this);this.ax=this.ub=null;this.wf.Lc();
this.rj=this.xb=this.wf=null}Nv(g,l){var n=this.Sc(l,"scale"),q=(n?parseFloat(n.od):this.Zb)*this.tx;n=this.Sc(l,"scalex");n=(n?parseFloat(n.od):1)*q;l=this.Sc(l,"scaley");l=this.xb.og*(l?parseFloat(l.od):1)*q+this.Ac;const r=this.xb;q=r.gf*n;const p=this.Xq;if(r.dt){let t=0,w=0;for(var u of g){g=q;const x=r.$y(u);x?g=x.SE()*n:" "===u&&(g=r.qO()*n);w+=g;++t}return{width:w+t*p,height:l}}u=[...g].length;return{width:q*u+Math.max(u,0)*p,height:l}}Mk(){this.LL=!0;this.wf.Lc()}Dc(g,l){0>=g||0>=l||this.jf===
g&&this.lm===l||(this.jf!==g&&this.Mk(),this.jf=g,this.lm=l)}gA(g){this.qh=Math.floor(g)}Sc(g,l){for(let n=g.length-1;0<=n;--n){const q=g[n];if(q.tag===l)return q}return null}Jn(g,l){return!!this.Sc(g,l)}Qp(){if(this.LL){!this.He||this.rj&&this.rj.toString()===this.fc||(this.rj=new d.yl(this.fc,{DX:!0}));var g=-this.Xq;this.wf.yv(this.He?this.rj.UX():this.fc,this.ax,this.jf,this.kr,g);this.LL=!1}}yf(g,l,n,q){this.Qp();let r=this.ph=0;const p=this.Ac,u=d.ED(this.wf.dl),t=Math.sin(q);q=Math.cos(q);
var w=u.reduce((x,z)=>x+z.height,0)-p;"center"===this.de?r=Math.max(Math.floor(this.lm/2-w/2),0):"bottom"===this.de&&(r=Math.floor(this.lm-w));for(let x=0,z=u.length;x<z;++x){w=u[x];const E=w.height;if(0<x&&r>this.lm-(E-p))break;0<=r&&this.K$(g,w,l,n,r,t,q);r+=E}}K$(g,l,n,q,r,p,u){const t=l.height;let w=0;"center"===this.ke?w=Math.max(Math.floor((this.jf-l.width)/2),0):"right"===this.ke&&(w=Math.max(Math.floor(this.jf-l.width),0));for(const x of l.XL)this.C$(g,x,n,q,w,r,p,u,t),w+=x.width}C$(g,l,n,
q,r,p,u,t,w){var x=l.text,z=l.width,E=l.pd;if(-1!==this.qh){if(this.ph>=this.qh)return;this.ph+x.length>this.qh&&(x=x.substr(0,this.qh-this.ph),z=this.Nv(x,E).width);this.ph+=x.length}var G=this.Sc(E,"background");if(!(d.Nz(x)&&!G||this.Jn(E,"hide"))){l=this.Sc(E,"scale");var N=(l?parseFloat(l.od):this.Zb)*this.tx;l=this.Sc(E,"scalex");l=(l?parseFloat(l.od):1)*N;var C=this.Sc(E,"scaley");N*=this.xb.og*(C?parseFloat(C.od):1);p+=w-this.Ac-N;w=this.Sc(E,"offsetx");r+=w?parseFloat(w.od):0;w=this.Sc(E,
"offsety");p+=w?parseFloat(w.od):0;G&&(g.wG(),e.IX(G.od),e.Lh(1),g.Ak(e),b.set(r,p,r+z,p+N),b.Y>this.jf&&b.Eia(this.jf),a.WD(b,u,t),a.offset(n,q),g.Bd(a),g.Zh());(z=this.Sc(E,"color"))?(e.IX(z.od),e.Lh(this.ub.Wa)):e.xa(this.ub);(z=this.Sc(E,"opacity"))&&e.Lh(e.Wa*parseFloat(z.od)/100);e.TD();g.Ak(e);z=this.xb.gf*l;E=Math.abs(this.Xq);for(const H of x)if(x=this.xb.$y(H)){G=x.SE()*l;if(r+G>this.jf+E+1E-5)break;b.set(r,p,r+z,p+N);a.WD(b,u,t);a.offset(n,q);g.bs(a,x.Th());r+=G+this.Xq}else r+=this.xb.qO()*
l+this.Xq}}fQ(g){g=!!g;this.He!==g&&(this.He=g,this.Mk())}qs(g){this.fc!==g&&(this.fc=g,this.Mk())}LQ(g){if(!k.has(g))throw Error("invalid word wrap mode");this.kr!==g&&(this.kr=g,this.Mk())}Q6(g){if(!c.has(g))throw Error("invalid alignment");this.ke=g}D7(g){if(!f.has(g))throw Error("invalid alignment");this.de=g}Jp(g){this.Zb!==g&&(this.Zb=g,this.Mk())}j7(g){this.tx!==g&&(this.tx=g,this.Mk())}iO(){return this.tx}FQ(g){this.Xq!==g&&(this.Xq=g,this.Mk())}jA(g){this.Ac=g;this.Mk()}$e(g){g=d.da(g,0,
1);this.ub.Mo=g}Ak(g){this.ub.Zc(g)||this.ub.xa(g)}uO(){this.Qp();return this.wf.$N()}tO(){this.Qp();const g=this.Ac;return this.wf.dl.length*(this.xb.og*this.Zb+g)-g}}}
{"use strict";const d=self.B,b={width:256,height:256,hX:16,gX:16,characterSet:""};self.P7=class{constructor(a){a=Object.assign({},b,a);if(0>=a.width||0>=a.height||0>=a.hX||0>=a.gX)throw Error("invalid size");this.U=a.width;this.P=a.height;this.gf=a.hX;this.og=a.gX;this.Tn=a.characterSet;this.Lt="";this.zx=null;this.dt=!1;this.Wq=-1;this.hl=new d.Rect(0,0,1,1);this.eq=new Map;this.no=!0;this.Zp=new Set}A(){this.hl=null;this.cT();this.eq=null;this.Zp&&this.Zp.clear();this.Zp=null}cT(){for(let a of this.eq.values())a.A();
this.eq.clear()}U8(a){this.Zp.add(a)}cda(a){this.Zp.delete(a)}YQ(){if(this.no){this.cT();var a=[...this.Tn],e=Math.floor(this.U/this.gf),c=e*Math.floor(this.P/this.og);for(let f=0,k=a.length;f<k&&!(f>=c);++f){let g=a[f];this.eq.set(g,d.C(self.Q7,this,g,f%e*this.gf,Math.floor(f/e)*this.og))}this.dt=!1;this.Wq=-1;if(Array.isArray(this.zx))for(let f of this.zx)if(Array.isArray(f)&&2===f.length&&(a=f[0],e=f[1],"number"===typeof a&&isFinite(a)&&"string"===typeof e&&a!==this.gf))for(let k of e)(e=this.eq.get(k))?
(e.mQ(a),this.dt=!0):" "===k&&(this.Wq=a,this.dt=!0);this.no=!1;for(let f of this.Zp)f.Mk()}}v6(){this.dt=!0;for(const a of this.Zp)a.Mk()}$y(a){this.YQ();return this.eq.get(a)||null}cf(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.U!==a&&(this.U=a,this.no=!0)}S(){return this.U}Ze(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.P!==a&&(this.P=a,this.no=!0)}V(){return this.P}n7(a){if(!this.hl.Zc(a)){this.hl.xa(a);for(const e of this.eq.values())e.cU()}}Th(){return this.hl}eA(a){a=
Math.floor(a);if(0>=a)throw Error("invalid size");this.gf!==a&&(this.gf=a,this.no=!0)}uG(a){a=Math.floor(a);if(0>=a)throw Error("invalid size");this.og!==a&&(this.og=a,this.no=!0)}vG(a){this.Tn!==a&&(this.Tn=a,this.no=!0)}FG(a){if(this.Lt!==a&&(this.Lt=a,this.no=!0,this.zx=null,this.Lt.length))try{this.zx=JSON.parse(this.Lt)}catch(e){this.zx=null}}k7(a){0>a&&(a=-1);this.Wq!==a&&(this.Wq=a,0<=this.Wq&&(this.dt=!0))}qO(){return 0>this.Wq?this.gf:this.Wq}}}{"use strict";const d=self.B;d.ka.ck=class extends d.$z{constructor(b){super(b)}A(){super.A()}}}
{"use strict";const d=self.B;d.ka.ck.gh=class extends d.bA{constructor(b){super(b)}A(){super.A()}Cc(){}}}
{"use strict";const d=self.B,b=self.Eg,a=self.Dz;d.ka.ck.Instance=class extends d.aA{constructor(c,f){super(c);c=this.m();this.Ia=this.kh=this.Ax=0;this.co=this.fl=this.uj=!1;this.aa=!0;this.Kb=this.Yb=0;this.al=c.L();this.bl=c.M();this.Qj=c.ja();this.dr=0;this.mD=Math.min(Math.abs(c.S()),Math.abs(c.V())/2);this.mL=!1;f&&(this.Ax=f[0],this.kh=f[1],this.Ia=f[2],this.uj=!!f[3],this.fl=!!f[4],this.co=!!f[5],this.aa=!!f[6]);f=c.ja();this.Yb=Math.cos(f)*this.Ax;this.Kb=Math.sin(f)*this.Ax;this.aa&&(this.De(),
this.uj&&this.dI())}A(){super.A()}cd(){const c={dx:this.Yb,dy:this.Kb,lx:this.al,ly:this.bl,lka:this.Qj,t:this.dr};0!==this.kh&&(c.acc=this.kh);0!==this.Ia&&(c.g=this.Ia);this.co&&(c.st=this.co);this.aa||(c.e=this.aa);this.uj&&(c.bos=this.uj);this.fl&&(c.sa=this.fl);return c}Nc(c){this.Yb=c.dx;this.Kb=c.dy;this.al=c.lx;this.bl=c.ly;this.Qj=c.lka;this.dr=c.t;this.kh=c.hasOwnProperty("acc")?c.acc:0;this.Ia=c.hasOwnProperty("g")?c.g:0;this.co=c.hasOwnProperty("st")?c.st:!1;this.uj=c.hasOwnProperty("bos")?
c.bos:!1;this.fl=c.hasOwnProperty("sa")?c.sa:!1;this.ih(c.hasOwnProperty("e")?c.e:!0)}Ed(){if(this.aa){var c=this.j.Wi(this.H),f=this.H.m();if(f.ja()!==this.Qj){var k=f.ja();if(this.fl){var g=d.Bg(0,0,this.Yb,this.Kb);this.Yb=Math.cos(k)*g;this.Kb=Math.sin(k)*g}this.Qj=k}k=g=0;if(0!==this.kh){let l=d.Bg(0,0,this.Yb,this.Kb),n;n=0===this.Yb&&0===this.Kb?f.ja():d.Ih(0,0,this.Yb,this.Kb);l+=this.kh*c;g=Math.cos(n)*this.kh;k=Math.sin(n)*this.kh;0>l&&(k=g=l=0);this.Yb=Math.cos(n)*l;this.Kb=Math.sin(n)*
l}0!==this.Ia&&(this.Kb+=this.Ia*c,k+=this.Ia);this.al=f.L();this.bl=f.M();if(0!==this.Yb||0!==this.Kb)g=this.Yb*c+.5*g*c*c,c=this.Kb*c+.5*k*c*c,k=d.Bg(0,0,g,c),this.Rba(g,c,k),this.dr+=k,!this.fl||0===g&&0===c||(f.jc(d.Ih(0,0,g,c)),this.Qj=f.ja()),f.ua()}}Rba(c,f,k){const g=this.m();if(!this.co||k<=this.mD)g.Rl(c,f),g.ua(),this.co&&this.na(d.ka.ck.G.$F);else{this.mL=!1;var l=g.L(),n=g.M(),q=l+c,r=n+f;f=d.Ih(0,0,c,f);c=Math.cos(f)*this.mD;f=Math.sin(f)*this.mD;k=Math.floor(k/this.mD);for(let p=1;p<=
k;++p)if(g.Dd(l+c*p,n+f*p),g.ua(),this.na(d.ka.ck.G.$F),this.H.GF()||this.mL)return;g.Dd(q,r);g.ua();this.na(d.ka.ck.G.$F)}}bG(){if(this.aa&&this.uj&&(0!==this.Yb||0!==this.Kb)){var c=this.j.Wi(this.H),f=this.H.m(),k=this.j.hf,g=k.Fn(this.H);if(g){k.LP(this.H,g);g=d.Bg(0,0,this.Yb,this.Kb);const l=k.aN(this.H,this.al,this.bl);this.Yb=Math.cos(l)*g;this.Kb=Math.sin(l)*g;f.Rl(this.Yb*c,this.Kb*c);f.ua();this.fl&&(f.jc(l),this.Qj=f.ja(),f.ua());k.HP(this.H,this.Yb/g,this.Kb/g,Math.max(2.5*g*c,30))||
k.IP(this.H)}}}ic(c){switch(c){case 0:return this.xH();case 1:return this.kh;case 2:return this.Ia;case 4:return this.fl;case 5:return this.co;case 6:return this.aa}}If(c,f){switch(c){case 0:this.$H(f);break;case 1:this.kh=f;break;case 2:this.Ia=f;break;case 4:this.fl=!!f;break;case 5:this.co=!!f;break;case 6:this.ih(!!f)}}$H(c){const f=d.Ih(0,0,this.Yb,this.Kb);this.Yb=Math.cos(f)*c;this.Kb=Math.sin(f)*c}xH(){return d.EM(d.Bg(0,0,this.Yb,this.Kb))}tT(c){this.kh=c}eea(c){this.Ia=c}Mda(c){const f=
d.Bg(0,0,this.Yb,this.Kb);this.Yb=Math.cos(c)*f;this.Kb=Math.sin(c)*f}kaa(){return d.Ih(0,0,this.Yb,this.Kb)}Tda(c){c=!!c;this.uj!==c&&(this.uj=c,this.aa&&(this.uj?this.dI():this.eI()))}$da(c){this.dr=c}ih(c){(this.aa=!!c)?(this.De(),this.uj&&this.dI()):(this.em(),this.eI())}Pg(){return self.c2}};const e=new WeakMap;self.c2=class extends a{constructor(){super();e.set(this,a.In().ma)}get speed(){return e.get(this).xH()}set speed(c){b.Xg(c);e.get(this).$H(c)}get acceleration(){return e.get(this).kh}set acceleration(c){b.Xg(c);
e.get(this).tT(c)}get isEnabled(){return e.get(this).aa}set isEnabled(c){e.get(this).ih(c)}}}{"use strict";const d=self.B;d.ka.ck.G={tla(b,a){return d.compare(Math.sqrt(this.Yb*this.Yb+this.Kb*this.Kb),b,a)},xla(b,a){return d.compare(this.dr,b,a)},$F(){return!0},uk(){return this.aa}}}
{"use strict";const d=self.B;d.ka.ck.fb={Eta(b){this.$H(b)},fsa(b){this.tT(b)},pQ(b){this.eea(b)},gsa(b){this.Mda(d.Aa(b))},Kka(b){if(b&&(b=b.Lg(this.H))){var a=this.H.m(),e=this.j.hf,c=this.j.Wi(this.H),f=d.Bg(0,0,this.Yb,this.Kb),k=e.aN(this.H,this.al,this.bl,b);this.Yb=Math.cos(k)*f;this.Kb=Math.sin(k)*f;a.Rl(this.Yb*c,this.Kb*c);a.ua();this.fl&&(a.jc(k),this.Qj=a.ja(),a.ua());0!==f&&(this.uj?e.HP(this.H,this.Yb/f,this.Kb/f,Math.max(2.5*f*c,30))||e.IP(this.H):e.B5(this.H,this.Yb/f,this.Kb/f,Math.max(2.5*
f*c,30),b))}},ssa(b){this.Tda(b)},Bsa(b){this.$da(b)},xG(b){this.ih(b)},bua(){this.mL=!0}}}{"use strict";const d=self.B;d.ka.ck.Ud={Tta(){return this.xH()},bja(){return this.kh},Kja(){return d.Kd(this.kaa())},cma(){return this.dr},Vma(){return this.Ia}}}{"use strict";const d=self.B;d.ka.Oh=class extends d.$z{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.B;d.ka.Oh.gh=class extends d.bA{constructor(b){super(b)}A(){super.A()}Cc(){}}}
{"use strict";const d=self.B;d.ka.Oh.Instance=class extends d.aA{constructor(b,a){super(b);this.pm=this.ml=this.Uk=0;this.YA=this.Ss=!0;this.xW=!1;this.Sf=0;this.gl=d.C(d.Ur);this.oo=this.H.m().Ld()||1;a&&(this.Uk=a[0],this.ml=a[1],this.pm=a[2],this.Ss=!!a[3],this.Sf=(this.YA=!!a[4])?0:3);this.YA&&(0===this.Uk?(this.Sf=1,0===this.ml&&(this.Sf=2)):(this.H.m().$e(0),this.j.ga()));this.De()}A(){super.A()}cd(){return{fit:this.Uk,wt:this.ml,fot:this.pm,d:this.Ss,s:this.Sf,st:this.gl.ba(),mo:this.oo}}Nc(b){this.Uk=
b.fit;this.ml=b.wt;this.pm=b.fot;this.Ss=b.d;this.Sf=b.s;this.gl.Set(b.st);this.oo=b.mo}Ed(){this.gl.sc(this.j.Wi(this.H));const b=this.H.m();0===this.Sf&&(b.$e(this.gl.ba()/this.Uk*this.oo),this.j.ga(),b.Ld()>=this.oo&&(b.$e(this.oo),this.Sf=1,this.gl.Pc(),this.na(d.ka.Oh.G.A4)));1===this.Sf&&this.gl.ba()>=this.ml&&(this.Sf=2,this.gl.Pc(),this.na(d.ka.Oh.G.i5));2===this.Sf&&0!==this.pm&&(b.$e(this.oo-this.gl.ba()/this.pm*this.oo),this.j.ga(),0>=b.Ld()&&(this.Sf=3,this.gl.Pc(),this.na(d.ka.Oh.G.nP),
this.Ss&&this.j.dn(this.H)))}En(){this.Sf=0;this.gl.Pc();0===this.Uk?(this.Sf=1,0===this.ml&&(this.Sf=2)):(this.H.m().$e(0),this.j.ga())}ic(b){switch(b){case 0:return this.Uk;case 1:return this.ml;case 2:return this.pm;case 3:return this.Ss}}If(b,a){switch(b){case 0:this.Uk=a;break;case 1:this.ml=a;break;case 2:this.pm=a;break;case 3:this.Ss=!!a}}}}"use strict";self.B.ka.Oh.G={nP(){return!0},A4(){return!0},i5(){return!0}};"use strict";
self.B.ka.Oh.fb={S7(){this.YA||this.xW||(this.oo=this.H.m().Ld()||1,this.xW=!0);3===this.Sf&&this.En()},Ira(){this.En()},Isa(d){0>d&&(d=0);this.Uk=d},Jta(d){0>d&&(d=0);this.ml=d},Jsa(d){0>d&&(d=0);this.pm=d}};"use strict";self.B.ka.Oh.Ud={qma(){return this.Uk},Wua(){return this.ml},rma(){return this.pm}};{"use strict";const d=self.B;d.ka.ss=class extends d.$z{constructor(b){super(b)}A(){super.A()}}}{"use strict";const d=self.B;d.ka.ss.gh=class extends d.bA{constructor(b){super(b)}A(){super.A()}Cc(){}}}
{"use strict";const d=self.B,b=self.Dz,a=2*Math.PI,e=Math.PI/2,c=3*Math.PI/2,f=[0,1,8,3,4,2,5,6,9,7];d.ka.ss.Instance=class extends d.aA{constructor(g,l){super(g);this.Hc=this.Me=this.Lo=this.vg=this.Gc=0;this.aa=!0;this.XC=this.it=this.Nf=this.uq=this.mb=this.nK=this.JK=this.KK=this.hB=this.jU=this.iB=0;l&&(this.vg=f[l[0]],this.Lo=l[1],this.KK=this.j.Ul()*l[3],this.iB=l[2],this.Me=l[2],this.Me+=this.KK,this.jU=l[4],0!==this.Me&&(this.JK=this.j.Ul()*l[5],this.Gc=l[4]/this.Me*a,this.Gc+=this.JK/this.Me*
a),this.nK=this.j.Ul()*l[7],this.hB=l[6],this.Hc=l[6],this.Hc+=this.nK,this.aa=!!l[8]);5===this.vg&&(this.Hc=d.Aa(this.Hc));this.Rg();this.aa&&this.De()}A(){super.A()}cd(){return{i:this.Gc,e:this.aa,mv:this.vg,w:this.Lo,p:this.Me,mag:this.Hc,iv:this.mb,iv2:this.uq,r:this.XC,lkv:this.Nf,lkv2:this.it}}Nc(g){this.Gc=g.i;this.ih(g.e);this.vg=g.mv;this.Lo=g.w;this.Me=g.p;this.Hc=g.mag;this.mb=g.iv;this.uq=g.iv2;this.XC=g.r;this.Nf=g.lkv;this.it=g.lkv2}Rg(){const g=this.H.m();switch(this.vg){case 0:this.mb=
g.L();break;case 1:this.mb=g.M();break;case 2:this.mb=g.S();this.XC=g.V()/g.S();break;case 3:this.mb=g.S();break;case 4:this.mb=g.V();break;case 5:this.mb=g.ja();break;case 6:this.mb=g.Ld();break;case 7:this.mb=0;break;case 8:this.mb=g.L();this.uq=g.M();break;case 9:this.mb=g.Za()}this.Nf=this.mb;this.it=this.uq}ai(g){g%=a;switch(this.Lo){case 0:return Math.sin(g);case 1:return g<=e?g/e:g<=c?1-2*(g-e)/Math.PI:(g-c)/e-1;case 2:return 2*g/a-1;case 3:return-2*g/a+1;case 4:return g<Math.PI?-1:1}return 0}Ed(){const g=
this.j.Wi(this.H);this.aa&&0!==g&&(this.Gc=0===this.Me?0:(this.Gc+g/this.Me*a)%a,this.$T())}$T(){const g=this.H.m();switch(this.vg){case 0:g.L()!==this.Nf&&(this.mb+=g.L()-this.Nf);g.bh(this.mb+this.ai(this.Gc)*this.Hc);this.Nf=g.L();break;case 1:g.M()!==this.Nf&&(this.mb+=g.M()-this.Nf);g.dh(this.mb+this.ai(this.Gc)*this.Hc);this.Nf=g.M();break;case 2:g.cf(this.mb+this.ai(this.Gc)*this.Hc);g.Ze(g.S()*this.XC);break;case 3:g.cf(this.mb+this.ai(this.Gc)*this.Hc);break;case 4:g.Ze(this.mb+this.ai(this.Gc)*
this.Hc);break;case 5:g.ja()!==this.Nf&&(this.mb=d.md(this.mb+(g.ja()-this.Nf)));g.jc(this.mb+this.ai(this.Gc)*this.Hc);this.Nf=g.ja();break;case 6:g.$e(this.mb+this.ai(this.Gc)*this.Hc/100);break;case 8:g.L()!==this.Nf&&(this.mb+=g.L()-this.Nf);g.M()!==this.it&&(this.uq+=g.M()-this.it);g.bh(this.mb+Math.cos(g.ja())*this.ai(this.Gc)*this.Hc);g.dh(this.uq+Math.sin(g.ja())*this.ai(this.Gc)*this.Hc);this.Nf=g.L();this.it=g.M();break;case 9:g.df(this.mb+this.ai(this.Gc)*this.Hc)}g.ua()}tea(g){this.Me=
g}oea(g){this.Hc=g}pea(g){5===this.vg&&(g=d.Aa(g));this.oea(g)}vH(){let g=this.Hc;5===this.vg&&(g=d.Kd(g));return g}sea(g){5===this.vg&&5!==g&&(this.Hc=d.Kd(this.Hc));this.vg=g;this.Rg()}uea(g){this.Gc=d.da(g,0,2*Math.PI);this.$T()}ih(g){(this.aa=!!g)?this.De():this.em()}ic(g){switch(g){case 0:return this.vg;case 1:return this.Lo;case 2:return this.iB;case 6:return this.hB;case 8:return this.aa}}If(g,l){switch(g){case 0:this.vg=f[l];this.Rg();break;case 1:this.Lo=l;break;case 2:this.iB=l;this.Me=
this.iB+this.KK;this.aa||(0!==this.Me?(this.Gc=this.jU/this.Me*a,this.Gc+=this.JK/this.Me*a):this.Gc=0);break;case 6:this.hB=l;this.Hc=this.hB+this.nK;5===this.vg&&(this.Hc=d.Aa(this.Hc));break;case 8:this.aa=!!l}}Pg(){return self.j2}};const k=new WeakMap;self.j2=class extends b{constructor(){super();k.set(this,b.In().ma)}get value(){const g=k.get(this);return g.ai(g.Gc)*g.Hc}set isEnabled(g){k.get(this).ih(!!g)}get isEnabled(){return k.get(this).aa}}}
{"use strict";const d=self.B;d.ka.ss.G={uk(){return this.aa},pla(b){return this.vg===b},sla(b,a){return d.compare(this.Me,b,a)},nla(b,a){return d.compare(this.vH(),b,a)},Bla(b){return this.Lo===b}}}"use strict";self.B.ka.ss.fb={xG(d){this.ih(0!==d)},yta(d){this.tea(d)},qta(d){this.pea(d)},uta(d){this.sea(d)},Kta(d){this.Lo=d},zta(d){const b=2*Math.PI;this.uea(d*b%b)},Kua(){this.Rg()}};"use strict";
self.B.ka.ss.Ud={Yla(){return this.Gc/(2*Math.PI)},Qpa(){return this.Me},Koa(){return this.vH()},Nua(){return this.ai(this.Gc)*this.vH()}};
{"use strict";const d=self.B;let b=null,a=null,e=[],c=null;function f(k,g,l){var n=k.Ff();const q=g.Ff();l?((n=n.get("Physics_DisabledCollisions"))&&n.delete(g.Xa),(g=q.get("Physics_DisabledCollisions"))&&g.delete(k.Xa)):(l=n.get("Physics_DisabledCollisions"),l||(l=new Set,n.set("Physics_DisabledCollisions",l)),n=q.get("Physics_DisabledCollisions"),n||(n=new Set,q.set("Physics_DisabledCollisions",n)),l.add(g.Xa),n.add(k.Xa))}d.ka.kb=class extends d.$z{constructor(k){k.Bia=self.g2;super(k);this.Pe=
null;this.KL=10;this.rc=.02;this.ZW=null;this.AV=-1;this.IW=1;this.WW=8;this.dW=3;this.eU=!0;this.j.lE(this.kba())}async kba(){const k=await this.j.sb.oz("box2d.wasm");await new Promise(g=>{self.Box2DWasmModule({wasmBinaryFile:k}).then(l=>{c=l;this.Naa();g()})})}Naa(){const k=this.j.hf;b=d.ka.kb.pp(0,0);a=d.ka.kb.pp(0,0);this.Pe=new c.b2World(d.ka.kb.pF(0,this.KL),!0);var g=new c.JSContactListener;g.BeginContact=l=>{var n=c.wrapPointer(l,c.b2Contact);l=d.ka.kb.Instance.Tz(n.GetFixtureA().GetBody());
n=d.ka.kb.Instance.Tz(n.GetFixtureB().GetBody());k.LP(l.H,n.H)};g.EndContact=()=>{};g.PreSolve=()=>{};g.PostSolve=()=>{};this.Pe.SetContactListener(g);g=new c.JSContactFilter;g.ShouldCollide=(l,n)=>{if(this.eU)return!0;l=c.wrapPointer(l,c.b2Fixture);n=c.wrapPointer(n,c.b2Fixture);l=d.ka.kb.Instance.Tz(l.GetBody());n=d.ka.kb.Instance.Tz(n.GetBody());l=l.H.J();const q=n.H.J();n=l.Xa;const r=q.Xa;return(l=l.Ff().get("Physics_DisabledCollisions"))&&l.has(r)?!1:(l=q.Ff().get("Physics_DisabledCollisions"))&&
l.has(n)?!1:!0};this.Pe.SetContactFilter(g);this.ZW=new c.b2WorldManifold}A(){super.A()}u0(){return c}GQ(k){this.IW=k}Y6(k){this.AV=k}C7(k){this.WW=Math.max(k,1)}g7(k){this.dW=Math.max(k,1)}uQ(k,g){this.C7(k);this.g7(g)}pQ(k){k!==this.KL&&(this.Pe.SetGravity(d.ka.kb.pF(0,k)),this.KL=k,this.hfa())}hfa(){for(const g of this.pa()){var k=d.ka.kb.Instance.Ql(g);k&&(k=k.Ba)&&k.SetAwake(!0)}}PZ(){this.eU=!1}w6(k,g,l){l=!!l;if(k&&g){if(g.Ya)for(const n of g.Wn)f(k,n,l);else f(k,g,l);this.PZ()}}static pp(k,
g){if(e.length){const l=e.pop();l.set_x(k);l.set_y(g);return l}return new c.b2Vec2(k,g)}static Vy(k){e.push(k)}static pF(k,g){b.set_x(k);b.set_y(g);return b}static x1(k,g){a.set_x(k);a.set_y(g);return a}static CE(k){const g=new c.b2PolygonShape,l=c._malloc(8*k.length);var n=0;for(let q=0;q<k.length;++q)c.HEAPF32[l+n>>2]=k[q].get_x(),c.HEAPF32[l+(n+4)>>2]=k[q].get_y(),n+=8;n=c.wrapPointer(l,c.b2Vec2);g.Set(n,k.length);c._free(l);return g}};self.g2=class extends self.BO{constructor(k){super(k)}}}
{"use strict";const d=self.B;d.ka.kb.gh=class extends d.bA{constructor(b){super(b)}A(){super.A()}Cc(){}}}
{"use strict";const d=self.B,b=self.Eg,a=self.Dz,e=new WeakMap,c=new WeakMap,f=new WeakMap,k=d.ka.kb.pF,g=d.ka.kb.x1,l=d.C(d.Rect),n=d.C(d.Bd);d.ka.kb.Instance=class extends d.aA{constructor(r,p){super(r);r=this.zf();const u=this.m();this.gi=r.u0();this.Pe=r.Pe;this.rc=r.rc;this.Hw=!1;this.qU=0;this.vo=!1;this.jq=1;this.qq=.5;this.Tq=.2;this.Hq=0;this.$p=.01;this.$n=!1;this.aa=!0;this.Ba=null;this.$s=[];this.wh=[];this.pf=[];this.fo=new Set;this.jt=u.L();this.kt=u.M();this.Qj=u.ja();this.YJ=this.dK=
0;this.Uw=!1;p&&(this.Hw=!!p[0],this.qU=p[1],this.vo=!!p[2],this.jq=p[3],this.qq=p[4],this.Tq=p[5],this.Hq=p[6],this.$p=p[7],this.$n=!!p[8],this.aa=!!p[9]);p=this.j.Hb();this.ie=new d.Br(d.Ub.Bc(p,"instancedestroy",t=>this.GH(t.instance)),d.Ub.Bc(p,"beforeload",()=>this.Es()),d.Ub.Bc(p,"afterload",()=>this.Rp()));c.set(this.H,this);this.aa&&this.De()}Wz(){this.sA()}A(){this.wA();d.F(this.pf);this.fo.clear();this.Ba&&(this.lH(),this.Pe.DestroyBody(this.Ba),this.Ba=null);super.A()}Av(r){this.Ba&&(r=
this.Ba.CreateFixture(r),this.$s.push(r))}lH(){if(this.Ba){for(const r of this.$s)this.Ba.DestroyFixture(r);d.F(this.$s)}}zs(){const r=this.m();return r.Qg()?(r.By(l,n,!1),n):r.gk()}kj(r){this.gi.destroy(r)}sA(){if(this.aa){var r=this.gi.b2FixtureDef,p=this.gi.b2BodyDef,u=this.m();if(!this.Ba){p=new p;p.set_type(this.Hw?0:2);var t=this.zs();p.set_position(g(t.Mi()*this.rc,t.Ni()*this.rc));p.set_angle(u.ja());p.set_fixedRotation(this.vo);p.set_linearDamping(this.Hq);p.set_angularDamping(this.$p);p.set_bullet(this.$n);
this.Ba=this.Pe.CreateBody(p);this.kj(p);e.set(this.Ba,this)}this.lH();r=new r;r.set_density(this.jq);r.set_friction(this.qq);r.set_restitution(this.Tq);p=this.qU;u.Uu()||this.H.bj()||0!==p||(p=1);t=Math.max(Math.abs(u.S()),1);var w=Math.max(Math.abs(u.V()),1);0===p?this.H.bj()?this.R9(r):this.K9(r,t,w):1===p?this.wR(r,t,w):this.x9(r,t,w);this.dK=u.S();this.YJ=u.V();u.DQ(!1);this.kj(r)}}wR(r,p,u){const t=new this.gi.b2PolygonShape;t.SetAsBox(p*this.rc*.5,u*this.rc*.5);r.set_shape(t);this.Av(r);this.kj(t)}x9(r,
p,u){const t=new this.gi.b2CircleShape;t.set_m_radius(Math.min(p,u)*this.rc*.5);r.set_shape(t);this.Av(r);this.kj(t)}K9(r,p,u){var t=this.m(),w=0>t.S();const x=0>t.V(),z=this.rc;var E=t.ja();0!==E&&(t.jc(0),t.ua());var G=this.zs();const N=G.Mi()-t.L();G=G.Ni()-t.M();0!==E&&(t.jc(E),t.ua());E=t.y0(w?-p:p,x?-u:u).Hd;const C=E.length/2;t=[];for(let H=0;H<C;++H)t.push(d.ka.kb.pp(E[2*H]-N,E[2*H+1]-G));w!==x&&t.reverse();w=d.ka.kb.dQ.cQ(t,p*u);for(const H of t)d.ka.kb.Vy(H);if(w.length)for(const H of w){for(const I of H)I.set_x(I.get_x()*
z),I.set_y(I.get_y()*z);p=d.ka.kb.CE(H);r.set_shape(p);this.Av(r);this.kj(p);for(const I of H)d.ka.kb.Vy(I)}else this.wR(r,p,u)}R9(r){var p=this.m(),u=this.zs();const t=u.Mi()-p.L();p=u.Ni()-p.M();u=this.rc;const w=d.ka.kb.pp,x=d.ka.kb.Vy,z=[];this.H.ma.Gma(z);const E=[];for(let I=0,K=z.length;I<K;++I){var G=z[I],N=G.t1(),C=G.eO();if(C){var H=f.get(C);if(!H){H=C.Hd;const Q=C.uM();for(let R=0;R<Q;++R)E.push(w(H[2*R],H[2*R+1]));G=G.Pma()&3758096384;(-2147483648===G||1073741824===G||536870912===G||G&
-2147483648&&G&1073741824&&G&536870912)&&E.reverse();H=d.ka.kb.dQ.cQ(E,N.width()*N.height());f.set(C,H);for(const R of E)x(R);d.F(E)}for(let Q=0,R=H.length;Q<R;++Q){C=H[Q];for(let U=0,Z=C.length;U<Z;++U)E.push(w((N.R+C[U].get_x()-t)*u,(N.O+C[U].get_y()-p)*u));C=d.ka.kb.CE(E);r.set_shape(C);this.Av(r);this.kj(C);for(const U of E)x(U);d.F(E)}}else E.push(w((N.R-t)*u,(N.O-p)*u)),E.push(w((N.Y-t)*u,(N.O-p)*u)),E.push(w((N.Y-t)*u,(N.W-p)*u)),E.push(w((N.R-t)*u,(N.W-p)*u)),N=d.ka.kb.CE(E),r.set_shape(N),
this.Av(r),this.kj(N);for(const Q of E)x(Q);d.F(E)}}DR(){this.Ba&&(this.wA(),e.delete(this.Ba),this.lH(),this.Pe.DestroyBody(this.Ba),this.Ba=null)}wA(){for(const r of this.wh)this.Pe.DestroyJoint(r);d.F(this.wh)}Lca(){for(const r of this.pf)switch(r.type){case 0:this.GR(...r.Uo);break;case 1:this.JR(...r.Uo);break;case 2:this.HR(...r.Uo);break;case 3:this.IR(...r.Uo)}}Ik(r){var p=this.m();return-1===r?[p.L(),p.M()]:0===r&&this.Ba?(r=this.Ba.GetPosition(),p=this.Ba.GetLocalCenter(),[(r.get_x()+p.get_x())/
this.rc,(r.get_y()+p.get_y())/this.rc]):this.H.Gl(r)}y9(r,p,u,t,w){this.aa&&p&&p!==this.H&&d.ka.kb.Instance.Ql(p)&&(this.pf.push({type:0,Uo:[r,p.zb,u,t,w]}),this.GR(r,p.zb,u,t,w))}GR(r,p,u,t,w){if(this.aa){var x=this.j.Ue(p);if(x&&x!==this.H&&c.has(x)){p=d.ka.kb.Instance.Ql(x);p.fo.add(this.H);this.fm(!1);p.fm(!1);var [z,E]=this.Ik(r),[G,N]=x.Gl(u);r=z-G;u=E-N;x=this.rc;var C=new this.gi.b2DistanceJointDef;C.Initialize(this.Ba,p.Ba,k(z*x,E*x),g(G*x,N*x));C.set_length(Math.hypot(r,u)*x);C.set_dampingRatio(t);
C.set_frequencyHz(w);this.wh.push(this.Pe.CreateJoint(C));this.kj(C)}}}N9(r,p){this.aa&&p&&p!==this.H&&d.ka.kb.Instance.Ql(p)&&(this.pf.push({type:1,Uo:[r,p.zb]}),this.JR(r,p.zb))}JR(r,p){if(this.aa&&(p=this.j.Ue(p))&&p!==this.H&&c.has(p)){p=d.ka.kb.Instance.Ql(p);p.fo.add(this.H);this.fm(!1);p.fm(!1);var [u,t]=this.Ik(r);r=this.rc;var w=new this.gi.b2RevoluteJointDef;w.Initialize(this.Ba,p.Ba,k(u*r,t*r));this.wh.push(this.Pe.CreateJoint(w));this.kj(w)}}I9(r,p,u,t){this.aa&&p&&p!==this.H&&d.ka.kb.Instance.Ql(p)&&
(u=d.Kd(u),t=d.Kd(t),this.pf.push({type:2,Uo:[r,p.zb,u,t]}),this.HR(r,p.zb,u,t))}HR(r,p,u,t){if(this.aa&&(p=this.j.Ue(p))&&p!==this.H&&c.has(p)){p=d.ka.kb.Instance.Ql(p);p.fo.add(this.H);this.fm(!1);p.fm(!1);var [w,x]=this.Ik(r);r=this.rc;var z=new this.gi.b2RevoluteJointDef;z.Initialize(this.Ba,p.Ba,k(w*r,x*r));z.set_enableLimit(!0);z.set_lowerAngle(d.Aa(u));z.set_upperAngle(d.Aa(t));this.wh.push(this.Pe.CreateJoint(z));this.kj(z)}}L9(r,p,u,t,w,x,z,E,G){this.aa&&p&&p!==this.H&&d.ka.kb.Instance.Ql(p)&&
(u=d.Kd(u),E=d.Kd(E),this.pf.push({type:3,Uo:[r,p.zb,u,t,w,x,z,E,G]}),this.IR(r,p.zb,u,t,w,x,z,E,G))}IR(r,p,u,t,w,x,z,E,G){if(this.aa&&(p=this.j.Ue(p))&&p!==this.H&&c.has(p)){p=d.ka.kb.Instance.Ql(p);p.fo.add(this.H);this.fm(!1);p.fm(!1);var [N,C]=this.Ik(r);u=d.Aa(u);r=Math.cos(u);u=Math.sin(u);var H=this.rc,I=new this.gi.b2PrismaticJointDef;I.Initialize(this.Ba,p.Ba,k(N*H,C*H),g(r,u));I.set_enableLimit(!!t);I.set_lowerTranslation(w*H);I.set_upperTranslation(x*H);I.set_enableMotor(!!z);I.set_motorSpeed(d.Aa(E));
I.set_maxMotorForce(G);this.wh.push(this.Pe.CreateJoint(I));this.kj(I)}}Zca(){this.aa&&(this.wA(),d.F(this.pf),this.fo.clear())}GH(r){const p=r.zb;let u=0;for(let t=0,w=this.pf.length;t<w;++t)this.pf[u]=this.pf[t],u<this.wh.length&&(this.wh[u]=this.wh[t]),this.pf[t].Uo[1]===p?t<this.wh.length&&this.Pe.DestroyJoint(this.wh[t]):++u;d.ve(this.pf,u);u<this.wh.length&&d.ve(this.wh,u);this.fo.delete(r)}static Tz(r){return e.get(r)||null}static Ql(r){return c.get(r)||null}cd(){const r={e:this.aa,pr:this.vo,
d:this.jq,fr:this.qq,re:this.Tq,ld:this.Hq,ad:this.$p,b:this.$n,mcj:this.pf};if(this.aa){const p=this.Ba.GetLinearVelocity();r.vx=p.get_x();r.vy=p.get_y();r.om=this.Ba.GetAngularVelocity()}return r}Es(){this.wA();d.F(this.pf);this.fo.clear()}Nc(r){this.DR();this.aa=r.e;this.vo=r.pr;this.jq=r.d;this.qq=r.fr;this.Tq=r.re;this.Hq=r.ld;this.$p=r.ad;this.$n=r.b;this.pf=r.mcj;const p=this.m();this.jt=p.L();this.kt=p.M();this.Qj=p.ja();this.dK=p.S();this.YJ=p.V();this.aa&&(this.sA(),this.Ba.SetLinearVelocity(k(r.vx,
r.vy)),this.Ba.SetAngularVelocity(r.om),0===r.vx&&0===r.vy&&0===r.om||this.Ba.SetAwake(!0),this.pf=r.mcj);this.aa?this.De():this.em()}Rp(){this.aa&&this.Lca()}Ed(){if(this.aa){var r=this.j,p=this.zf();if(0===p.IW)var u=r.Id/60;else u=r.Wi(this.H),u>1/30&&(u=1/30);var t=r.Mm;if(t>p.AV&&0<r.Id){r=this.j.wb;let w=0;r&&(w=performance.now());0!==u&&this.Pe.Step(u,p.WW,p.dW);this.Pe.ClearForces();r&&self.bg.vja(performance.now()-w);p.Y6(t)}this.fm(!0)}}fm(r){const p=this.H.m();var u=this.rc;(p.S()!==this.dK||
p.V()!==this.YJ||p.o3())&&this.sA();var t=this.Ba,w=p.L()!==this.jt||p.M()!==this.kt,x=p.ja()!==this.Qj;if(w){var z=this.zs();const E=z.Mi();z=z.Ni();const G=E-this.jt,N=z-this.kt;x?t.SetTransform(k(E*u,z*u),p.ja()):t.SetTransform(k(E*u,z*u),t.GetAngle());r&&(t.SetLinearVelocity(k(G,N)),this.Uw=!0);t.SetAwake(!0)}else r&&this.Uw&&(r=this.zs(),this.Uw=!1,t.SetLinearVelocity(k(0,0)),t.SetTransform(k(r.Mi()*u,r.Ni()*u),t.GetAngle()));!w&&x&&(t.SetTransform(t.GetPosition(),p.ja()),t.SetAwake(!0));x=t.GetPosition();
w=x.get_x()/u;u=x.get_y()/u;t=t.GetAngle();if(w!==p.L()||u!==p.M()||t!==p.ja())if(p.Dd(w,u),p.jc(t),p.ua(),u=this.zs(),t=u.Mi()-p.L(),u=u.Ni()-p.M(),0!==t||0!==u)p.Rl(-t,-u),p.ua();this.jt=p.L();this.kt=p.M();this.Qj=p.ja()}ic(r){switch(r){case 2:return this.vo;case 3:return this.eS();case 4:return this.iS();case 5:return this.fS();case 6:return this.kS();case 7:return this.WR();case 8:return this.$n;case 9:return this.aa}}If(r,p){switch(r){case 2:this.HT(p);break;case 3:this.yT(p);break;case 4:this.BT(p);
break;case 5:this.AT(p);break;case 6:this.ET(p);break;case 7:this.uT(p);break;case 8:this.xT(p);break;case 9:this.ih(p)}}ih(r){r=!!r;this.aa&&!r?(this.DR(),this.aa=!1,this.em()):!this.aa&&r&&(this.aa=!0,this.sA(),this.De())}X8(r,p,u){const [t,w]=this.Ik(u);this.nH(r,p,t,w)}Z8(r,p,u,t){const [w,x]=this.Ik(t);p=d.Ih(w,x,p,u);this.nH(Math.cos(p)*r,Math.sin(p)*r,w,x)}Y8(r,p,u){const [t,w]=this.Ik(u);this.nH(Math.cos(p)*r,Math.sin(p)*r,t,w)}nH(r,p,u,t){if(this.aa){var w=this.rc;this.Ba.ApplyForce(k(r,
p),g(u*w,t*w),!0)}}a9(r,p,u){const [t,w]=this.Ik(u);this.oH(r,p,t,w)}c9(r,p,u,t){const [w,x]=this.Ik(t);p=d.Ih(w,x,p,u);this.oH(Math.cos(p)*r,Math.sin(p)*r,w,x)}b9(r,p,u){const [t,w]=this.Ik(u);this.oH(Math.cos(p)*r,Math.sin(p)*r,t,w)}oH(r,p,u,t){if(this.aa){var w=this.rc;this.Ba.ApplyLinearImpulse(k(r,p),g(u*w,t*w),!0);r=this.m();this.jt=r.L();this.kt=r.M();this.Uw=!1}}XG(r){this.aa&&this.Ba.ApplyTorque(r,!0)}d9(r,p){p=d.te(this.m().ja(),p)?-1:1;this.XG(r*p)}e9(r,p,u){var t=this.m();p=d.Ih(t.L(),
t.M(),p,u);t=d.te(t.ja(),p)?-1:1;this.XG(r*t)}Nda(r){this.aa&&(this.Ba.SetAngularVelocity(r),this.Ba.SetAwake(!0))}XR(){return this.aa?this.Ba.GetAngularVelocity():0}LT(r,p){if(this.aa){var u=this.rc;this.Ba.SetLinearVelocity(k(r*u,p*u));this.Ba.SetAwake(!0);r=this.m();this.jt=r.L();this.kt=r.M();this.Uw=!1}}Faa(){if(!this.aa)return[0,0];const r=this.rc,p=this.Ba.GetLinearVelocity();return[p.get_x()/r,p.get_y()/r]}vS(){return this.aa?this.Ba.GetLinearVelocity().get_x()/this.rc:0}wS(){return this.aa?
this.Ba.GetLinearVelocity().get_y()/this.rc:0}yT(r){if(this.aa&&this.jq!==r){this.jq=r;for(const p of this.$s)p.SetDensity(r);this.Ba.ResetMassData()}}eS(){return this.aa?this.jq:0}BT(r){if(this.aa&&this.qq!==r){this.qq=r;for(var p of this.$s)p.SetFriction(r);for(r=this.Ba.GetContactList();this.gi.getPointer(r);r=r.get_next())(p=r.get_contact())&&p.ResetFriction()}}iS(){return this.aa?this.qq:0}AT(r){if(this.aa&&this.Tq!==r){this.Tq=r;for(const p of this.$s)p.SetRestitution(r)}}fS(){return this.aa?
this.Tq:0}ET(r){this.aa&&this.Hq!==r&&(this.Hq=r,this.Ba.SetLinearDamping(r))}kS(){return this.aa?this.Hq:0}uT(r){this.aa&&this.$p!==r&&(this.$p=r,this.Ba.SetAngularDamping(r))}WR(){return this.aa?this.$p:0}jea(r){this.aa&&(r=!!r,this.Hw!==r&&(this.Hw=r,this.Ba.SetType(this.Hw?0:2),this.Ba.SetAwake(!0)))}HT(r){this.aa&&(r=!!r,this.vo!==r&&(this.vo=r,this.Ba.SetFixedRotation(this.vo),this.Ba.SetAngularVelocity(0),this.Ba.SetAwake(!0)))}xT(r){this.aa&&(r=!!r,this.$n!==r&&(this.$n=r,this.Ba.SetBullet(this.$n),
this.Ba.SetAwake(!0)))}mS(){return this.aa?this.Ba.GetMass()/this.rc:0}naa(){return this.aa?(this.Ba.GetPosition().get_x()+this.Ba.GetLocalCenter().get_x())/this.rc:0}oaa(){return this.aa?(this.Ba.GetPosition().get_y()+this.Ba.GetLocalCenter().get_y())/this.rc:0}dba(){return this.aa?!this.Ba.IsAwake():!1}paa(){if(!this.aa)return 0;let r=0;for(let u=this.Ba.GetContactList();this.gi.getPointer(u);u=u.get_next()){var p=u.get_contact();p&&(p=p.GetManifold().get_pointCount(),r+=p)}return r}bS(r){r=Math.floor(r);
if(!this.aa)return[0,0];var p=0;for(let t=this.Ba.GetContactList();this.gi.getPointer(t);t=t.get_next()){var u=t.get_contact();if(!u)continue;const w=u.GetManifold().get_pointCount();if(r>=p&&r<p+w)return r-=p,p=this.zf().ZW,u.GetWorldManifold(p),u=p.get_points(r),[u.get_x()/this.rc,u.get_y()/this.rc];p+=w}return[0,0]}Pg(){return self.h2}};const q=new WeakMap;self.h2=class extends a{constructor(){super();q.set(this,a.In().ma)}get isEnabled(){return q.get(this).aa}set isEnabled(r){q.get(this).ih(r)}setVelocity(r,
p){b.Xg(r);b.Xg(p);q.get(this).LT(r,p)}}}{"use strict";const d=self.B;d.ka.kb.G={doa(){return this.dba()},zla(b,a,e){if(!this.aa)return!1;if(0===b)b=this.vS();else if(1===b)b=this.wS();else{const [c,f]=this.Faa();b=Math.hypot(c,f)}return d.compare(b,a,e)},ela(b,a){if(!this.aa)return!1;const e=d.Kd(this.XR());return d.compare(e,b,a)},ola(b,a){if(!this.aa)return!1;const e=this.mS();return d.compare(e,b,a)},uk(){return this.aa}}}
{"use strict";const d=self.B;d.ka.kb.fb={Sja(b,a,e){this.X8(b,a,e)},Uja(b,a,e,c){this.Z8(b,a,e,c)},Tja(b,a,e){this.Y8(b,d.Aa(a),e)},Vja(b,a,e){this.a9(b,a,e)},Xja(b,a,e,c){this.c9(b,a,e,c)},Wja(b,a,e){this.b9(b,d.Aa(a),e)},Yja(b){this.XG(d.Aa(b))},Zja(b,a){this.d9(d.Aa(b),d.Aa(a))},$ja(b,a,e){this.e9(d.Aa(b),a,e)},isa(b){this.Nda(d.Aa(b))},Pla(b,a,e,c,f){a&&(a=a.Lg(this.H),this.y9(b,a,e,c,f))},Ula(b,a){a&&(a=a.Lg(this.H),this.N9(b,a))},Rla(b,a,e,c){a&&(a=a.Lg(this.H),this.I9(b,a,d.Aa(e),d.Aa(c)))},
Tla(b,a,e,c,f,k,g,l,n){a&&(a=a.Lg(this.H),this.L9(b,a,d.Aa(e),c,f,k,g,d.Aa(l),n))},Oqa(){this.Zca()},Lta(b){this.zf().pQ(b)},GQ(b){this.zf().GQ(b)},uQ(b,a){this.zf().uQ(b,a)},Hta(b,a){this.LT(b,a)},Asa(b){this.yT(b)},Msa(b){this.BT(b)},Fsa(b){this.AT(b)},mta(b){this.ET(b)},hsa(b){this.uT(b)},Rsa(b){this.jea(b)},jma(b,a){this.zf().w6(this.J(),b,0!==a)},Cta(b){this.HT(0!==b)},tsa(b){this.xT(0!==b)},xG(b){this.ih(0!==b)}}}
{"use strict";const d=self.B;d.ka.kb.Ud={Oua(){return this.vS()},Pua(){return this.wS()},Mja(){return d.Kd(this.XR())},Ooa(){return this.mS()},Qka(){return this.naa()},Rka(){return this.oaa()},$la(){return this.eS()},Dma(){return this.iS()},ima(){return this.fS()},xoa(){return this.kS()},Lja(){return this.WR()},Kla(){return this.paa()},Lla(b){return this.bS(b)[0]},Mla(b){return this.bS(b)[1]}}}
{"use strict";const d=self.B,b={};d.ka.kb.dQ=b;const a=d.ka.kb.pp,e=d.ka.kb.Vy;function c(k){return a(k.get_x(),k.get_y())}b.pha=function(k,g,l,n,q,r){return k*n+l*r+q*g-g*l-n*q-r*k};b.Hha=function(k,g,l,n,q,r,p,u){var t=l-k,w=n-g,x=p-q;const z=u-r;x=(x*(r-g)-z*(q-k))/(w*x-t*z);t=k+x*t;w=g+x*w;q=b.OD(t,w,q,r,p,u);return b.OD(l,n,k,g,t,w)&&q?a(t,w):null};b.OD=function(k,g,l,n,q,r){return(l+.1>=k&&k>=q-.1||l-.1<=k&&k<=q+.1)&&(n+.1>=g&&g>=r-.1||n-.1<=g&&g<=r+.1)&&b.Rha(k,g,l,n,q,r)};b.Rha=function(k,
g,l,n,q,r){return.1<Math.abs(q-l)?.1>Math.abs((r-n)/(q-l)*(k-l)+n-g):.1>Math.abs(k-l)};b.JX=function(k,g,l,n){return.1>Math.abs(l-k)&&.1>Math.abs(n-g)};b.cQ=function(k,g){k=b.aha(k);let l=[];for(let n=0,q=k.length;n<q;++n){const r=k[n],p=[];let u=0;for(let t=0,w=r.length;t<w;++t){const x=r[t],z=r[(t+1)%w];u+=x.get_x()*z.get_y()-x.get_y()*z.get_x();p.push(a(x.get_x(),x.get_y()))}u=Math.abs(u/2);if(u>=.001*g)l.push(p);else for(let t=0,w=p.length;t<w;t++)e(p[t])}g=l;k=[];for(const n of g)8>=n.length?
k.push(n):k.push.apply(k,f(n));return l=k};b.aha=function(k){var g;let l;var n;let q;let r,p,u,t;let w;var x=0;let z=0,E,G=[],N=[];for(N.push(k);N.length;){k=N[0];l=k.length;E=!0;for(g=0;g<l;g++){r=g;p=g<l-1?g+1:g+1-l;var C=g<l-2?g+2:g+2-l;u=k[r];t=k[p];C=k[C];C=b.pha(u.get_x(),u.get_y(),t.get_x(),t.get_y(),C.get_x(),C.get_y());if(0>C){E=!1;var H=1E9;for(n=0;n<l;n++)if(n!==r&&n!==p){g=n;C=n<l-1?n+1:0;var I=k[g];var K=k[C];if(I=b.Hha(u.get_x(),u.get_y(),t.get_x(),t.get_y(),I.get_x(),I.get_y(),K.get_x(),
K.get_y()))K=t.get_x()-I.get_x(),q=t.get_y()-I.get_y(),K=K*K+q*q,K<H?(z=g,x=C,w=I,H=K):e(I)}if(1E9===H)return[];n=[];H=[];g=z;C=x;I=k[g];K=k[C];x=!1;b.JX(w.get_x(),w.get_y(),K.get_x(),K.get_y())||(n.push(w),x=!0);b.JX(w.get_x(),w.get_y(),I.get_x(),I.get_y())||(H.push(w),x=!0);x||e(w);z=-1;for(x=r;;){if(x!==C)n.push(k[x]);else{if(0>z||z>=l)return[];b.OD(K.get_x(),K.get_y(),k[z].get_x(),k[z].get_y(),u.get_x(),u.get_y())||n.push(k[x]);break}z=x;0>x-1?x=l-1:x--}n.reverse();z=-1;for(x=p;;){if(x!==g)H.push(k[x]);
else{if(0>z||z>=l)return[];x!==g||b.OD(I.get_x(),I.get_y(),k[z].get_x(),k[z].get_y(),t.get_x(),t.get_y())||H.push(k[x]);break}z=x;x+1>l-1?x=0:x++}N.push(n,H);N.shift();break}}E&&G.push(N.shift())}return G};function f(k){const g=[];g.push(k.splice(0,8));const l=g[0][0];let n=g[0][7];for(;k.length;){const q=k.splice(0,Math.min(k.length,6));let r=q.ue(-1);q.push(c(l));q.push(c(n));g.push(q);n=r}return g}}
{const d=self.B;self.$M=function(){return[d.D.Audio,d.D.qd,d.D.Ad,d.D.Touch,d.D.Qb,d.D.dd,d.ka.ck,d.ka.Oh,d.D.Dk,d.ka.ss,d.ka.kb,d.D.$a.G.sP,d.D.$a.fb.B7,d.D.dd.fb.EQ,d.D.Dk.fb.EQ,d.D.dd.fb.$h,d.D.Qb.fb.bZ,d.D.$a.Ud.pia,d.D.Qb.G.oP,d.D.Qb.Ud.y3,d.D.Dk.fb.qs,d.D.$a.G.Pr,d.D.$a.G.a0,d.D.$a.fb.qN,d.D.$a.Ud.random,d.D.Touch.G.zP,d.D.dd.fb.O7,d.D.dd.fb.jc,d.D.dd.fb.OZ,d.D.$a.fb.yY,d.ka.Oh.fb.S7,d.D.$a.fb.X7,d.D.dd.fb.Ze,d.D.dd.Ud.Z1,d.D.$a.G.b0,d.D.dd.fb.cf,d.D.$a.G.lZ,d.D.$a.fb.Ip,d.D.Qb.fb.X6,d.ka.Oh.G.nP,
d.D.$a.fb.F1,d.D.qd.fb.G1,d.D.$a.fb.p7,d.D.$a.fb.c6,d.D.Audio.fb.Play,d.D.dd.G.r4,d.D.dd.fb.q6,d.D.$a.G.yN,d.D.Audio.fb.mg,d.D.Ad.G.b3,d.D.Ad.fb.y6,d.D.$a.Ud.bia,d.D.$a.G.vP,d.D.Audio.fb.s5]};self.QY=[{Audio:0},{qd:0},{Ad:0},{Touch:0},{Qb:0},{ck:0},{ika:0},{Oh:0},{jka:0},{mka:0},{nka:0},{oka:0},{pka:0},{rka:0},{ska:0},{uka:0},{vka:0},{xka:0},{yka:0},{kka:0},{qka:0},{tka:0},{wka:0},{zka:0},{Fka:0},{bna:0},{poa:0},{Hoa:0},{Xra:0},{gka:0},{Eoa:0},{Foa:0},{Goa:0},{Qoa:0},{bpa:0},{Npa:0},{Opa:0},{Ota:0},
{Play:0},{Hra:0},{Sta:0},{Wla:0},{Xla:0},{cna:0},{qoa:0},{Eka:0},{Voa:0},{Toa:0},{Uoa:0},{Woa:0},{Xoa:0},{Yoa:0},{Zoa:0},{$oa:0},{apa:0},{mua:0},{bva:0},{Yra:0},{kb:0},{ala:0},{Aka:0},{Wra:0},{Rta:0},{hka:0},{ooa:0},{ana:0}]}
{function d(b,a){return"string"===typeof b||"string"===typeof a?("number"===typeof b?(Math.round(1E10*b)/1E10).toString():b)+("number"===typeof a?(Math.round(1E10*a)/1E10).toString():a):b&&a?1:0}self.PY=[()=>0,()=>3,()=>640,()=>-460,()=>718,()=>32,()=>1200,()=>580,()=>1370,()=>700,b=>{const a=b.ci().fk();return()=>a()+"High Score"},b=>{const a=b.ci().fk();return()=>a()+"Last Score"},b=>{const a=b.ci().fk();return()=>a()},b=>{const a=b.ci().Xs;return()=>a.xe()},()=>"Create Balloons",()=>2.5,()=>1,
b=>{const a=b.ci().fk();return()=>a(100,1180)},b=>{const a=b.ci().fk();return()=>a(1E3,1620)},()=>4,()=>5,()=>3.5,()=>4.5,()=>"Touch Balloons",b=>{const a=b.ci().fk();return()=>a(360)},()=>"Death Balloons",()=>.01,b=>{const a=b.ci();return()=>a.BN()+1},b=>{const a=b.ci().Xs;return()=>d("= ",a.xe())},b=>{const a=b.ci();return()=>a.BN()},()=>2,()=>635,()=>360,()=>390,()=>585,()=>460,()=>690,()=>"Touch buttons",()=>"http://codecanyon.net/user/Muscle-SS/portfolio",()=>"NewWindow",()=>"Sound",()=>"Sound ON/OFF",
()=>"SoundON",()=>"SoundOFF",()=>-10,()=>"Mouse",b=>{const a=b.ci().fk();return()=>d(Math.round(100*a()),"%")},b=>{const a=b.ci().fk();return()=>Math.round(640*a())}]};
